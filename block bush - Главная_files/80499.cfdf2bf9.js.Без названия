try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[80499],{330180:(e,t,i)=>{i.d(t,{NH:()=>u,OT:()=>n,VT:()=>r,w7:()=>s});var a=i(161933);const n=[..."aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),..."бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),..."qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map((e=>"xn--"+e))],o=a.cv.source,u=new RegExp(`^([a-zA-Z0-9\\.\\_\\-]+\\.)?(${o}|vk\\.cc)$`),r=new RegExp(`^(?:https?:\\/\\/)?(?:${a.qf})?\\/([a-zA-Z0-9\\._]+)\\??$`),s="((?:[a-z0-9_]*[a-z0-9])?(?:(?:\\.[a-z](?:[a-z0-9_]+[a-z0-9])?)*\\.[a-z][a-z0-9_]{2,40}[a-z0-9])?)"},209553:(e,t,i)=>{i.d(t,{mD:()=>o});var a=i(161933),n=i(386064);const o=()=>!!(0,n.C)()&&((0,a.HS)(),(0,n.C)())},802404:(e,t,i)=>{i.d(t,{g:()=>u,p:()=>o});var a=i(707668),n=i(85212);function o(e,t){return e.replace(a.km,(e=>{const i=a.rA.exec(e);if(i){let[e,a,o]=i;const u=n.QF.exec(a);return u&&(a=u[4]||"/"),t(a,o)}return e}))}function u(e){return(t,i,a)=>e({key:t,href:i,text:a})}},899195:(e,t,i)=>{i.d(t,{q:()=>n});var a=i(932216);const n=e=>{const t=window.getSelection();t?(t.selectAllChildren(e),t.collapseToEnd()):(0,a.vV)(new Error("setEndOfContentEditable: 'selection' must not be null or undefined"))}},707668:(e,t,i)=>{i.d(t,{kP:()=>n,km:()=>o,rA:()=>u});var a=i(161933);const n="1080p",o=/\[([^\$\[\]]+?)\|([^\]]+?)\]/g,u=new RegExp(`\\[((?:https?:\\/\\/)?(?:(?:m\\.|dev\\.)?(?:${a.cv.source}|vk\\.me))(?!\\/\\/)(?!\\/doc[\\d\\-])(?!\\/page[\\d\\-])(?!\\/away[\\.\\?])(?:\\/[-\\._~:\\/?#\\[\\]@!\\$&'\\(\\)\\*\\+,;=%.\\w]*)*)\\|([^\\]\\n\\t]*)\\]`)},724567:(e,t,i)=>{i.d(t,{w:()=>o});var a=i(328911),n=i(938653);const o=(e,t)=>{if(e)return e.reduce(((e,i)=>{const{type:o}=i;let u;switch(o){case"photo":u=(e=>{const t=e.photo;if(!t)return;const i=(0,a.o)({ownerId:t.owner_id,itemId:t.id}),n=`/photo${i}?list=${t.web_view_token??(0,a.o)({ownerId:t.owner_id,itemId:t.album_id})}&from=comments`;if(!t.sizes)return;let o;if(t.restrictions){const e="delete_outline"===t.restrictions.icon_name?"deleted":t.restrictions.blur||t.restrictions.can_preview?"restricted":"blocked";o={type:e,text:"blocked"===e?t.restrictions.text:t.restrictions.title,actionText:t.restrictions.button?.title}}return{type:"photo",photo:{...t,photo_id:i,photo_url:n,restriction:o}}})(i);break;case"video":u=((e,t)=>{const i=e.video;if(!i)return;if(!i.owner_id)return;if(!i.id)return;const o=(0,a.o)({ownerId:i.owner_id,itemId:i.id}),u=i.access_key||(0,a.o)({ownerId:i.owner_id,itemId:i.album_id}),r=`/${"short_video"===i.type?"clip":"video"}${o}?list=${u}&from=access_hash`;let s;"interactive"===i.type&&(s=t.getLang("video_interactive_label"));const c=(0,n.ky)(i.restriction);let l;return c&&(l={...c,title:c.title??""}),{type:"video",video:{...i,video_id:o,video_url:r,label:s,restriction:l}}})(i,t);break;case"doc":u=(e=>{const t=e.doc;if(t)return{type:"doc",doc:{...t,doc_id:(0,a.o)({ownerId:t.owner_id,itemId:t.id})}}})(i);break;case"sticker":u=(e=>{const t=e.sticker;if(t)return{type:"sticker",sticker:t}})(i);break;default:u={type:"custom",original_type:o,custom:i[o]}}return u&&e.push(u),e}),[])}},683592:(e,t,i)=>{i.d(t,{n:()=>a});const a=16/9},926321:(e,t,i)=>{i.d(t,{A:()=>n,U:()=>o});var a=i(683592);const n=(e=[])=>e.find((e=>!e.with_padding&&e.is_base))??e.find((e=>e.is_base)),o=(e,t,i=Math.floor(t/a.n))=>`${e}&cs=${Math.floor(t)}x${Math.floor(i)}`},556067:(e,t,i)=>{i.d(t,{k:()=>u});var a=i(815287),n=i(899195),o=i(326107);const u=({inputValue:e,inputRef:t,onChangeInput:i,emojiOpts:u,delayInit:r})=>{(0,a.useLayoutEffect)((()=>{t.current&&window.Emoji&&e!==window.Emoji.val(t.current)&&(window.Emoji.val(t.current,window.Emoji.emojiToHTML((0,o.uH)(e))),(0,n.q)(t.current))}),[e]),(0,a.useEffect)((()=>{let e=null;return window.stManager.add([window.jsc("web/emoji.js")],(function(){t?.current?r?setTimeout((()=>{t?.current&&(e=window.Emoji.init(t.current,u))})):e=window.Emoji.init(t.current,u):console.error("Не удалось инициализировать эмодзи из-за отсутствия ref")})),()=>{e&&window.Emoji&&window.Emoji.destroy(e)}}),[]);return{handleInput:e=>{e.preventDefault();const t=e.target;t instanceof HTMLElement&&window.Emoji&&i(window.Emoji.val(t))}}}},144942:(e,t,i)=>{i.d(t,{C:()=>c});var a=i(327813),n=i(144819),o=i(393244),u=i(887816),r=i(848549);class s{get isTriggeredSubscriptionByLikeEnabled(){return Boolean(this.userEnv?.isToggleEnabled("video_trigired_sub_by_like")||this.userEnv?.partConfigEnabled("frontend.video_trigired_sub_by_like_rollout"))}get isLiked(){return Boolean(this.data.likes?.user_likes??0)}toggleLike(e,t=""){const i={type:"video",itemId:this.videoId,ownerId:e,trackCode:this.video.data.track_code,ref:t};if(this.controller?.abort(),this.controller=new AbortController,this.isLiked){if(this.isTriggeredSubscriptionByLikeEnabled)return this.removeLike(i);this.removeLike(i)}else{if(this.isTriggeredSubscriptionByLikeEnabled)return this.addLike(i);this.addLike(i)}}optimisticAddLike(e){const t=this.data?.likes;t&&(t.count=e??(t.count??0)+1,t.user_likes=1)}optimisticRemoveLike(e){const t=this.data?.likes;t&&(t.count=e??Math.max((t.count??0)-1,0),t.user_likes=0)}async addLike(e){try{this.optimisticAddLike();const t=await this.likesService.add(e,{signal:this.controller?.signal});if((0,a.h5)((()=>{this.controller=null,this.optimisticAddLike(t.likes)})),this.isTriggeredSubscriptionByLikeEnabled)return t}catch(e){if((0,r.z)(e)||this.optimisticRemoveLike(),this.isTriggeredSubscriptionByLikeEnabled)return null}}async removeLike(e){try{this.optimisticRemoveLike();const t=await this.likesService.remove(e,{signal:this.controller?.signal});if((0,a.h5)((()=>{this.controller=null,this.optimisticRemoveLike(t.likes)})),this.isTriggeredSubscriptionByLikeEnabled)return t}catch(e){if((0,r.z)(e)||this.optimisticAddLike(),this.isTriggeredSubscriptionByLikeEnabled)return null}}get videoId(){return this.video.data.id}get data(){return this.video.data}constructor(e,t,i){this.video=e,this.likesService=t,this.userEnv=i,this.controller=null,(0,a.l_)(this)}}class c{static createRawId(e){return(0,n.WO)(e)}get rawId(){const{id:e,owner_id:t}=this.data;return c.createRawId({id:e,ownerId:t})}get data(){return this._data}get owner(){const e=this._data.main_artists?.[0]?.video_owner_id??this._data.owner_id;return this.ownerStore instanceof o.G?this.ownerStore.getById(e):this.ownerStore?.getOwner(e)}get mainArtists(){if(this._data.main_artists)return this.transformArtistToOwners(this._data.main_artists)}get featuredArtists(){if(this._data.featured_artists)return this.transformArtistToOwners(this._data.featured_artists)}get secondaryOwner(){if(!this._data?.user_id)return;const e=this.ownerStore instanceof o.G?this.ownerStore.getById(this._data.user_id):this.ownerStore?.getOwner(this._data.user_id);return e instanceof u.P?e:void 0}get isFavorite(){return this.favoriteService?.getIsFavorite(this._data.id)??this._data.is_favorite}get isRestricted(){return Boolean(this._data.restriction?.title)}get canDownload(){return Boolean(2===this._data?.can_download||3===this._data?.can_download&&"interactive"!==this._data.type)}get isDeleted(){return Boolean(this.videoDeletingService?.isDeleted(this.rawId))}get isExternal(){return!!this._data.player&&Boolean(this._data.files?.external||this._data.platform)}toApi(){return{...(0,a.HO)(this._data),is_favorite:this.isFavorite}}hasOwner(){return void 0!==this.owner}get isUpcomingLive(){return"upcoming"===this._data.live_status}publish(){this._data.is_draft=0}edit(e){this._data.title=e.title,this._data.description=e.description}transformArtistToOwners(e){return e.map((e=>{if(e.video_owner_id)return this.ownerStore instanceof o.G?this.ownerStore.getById(e.video_owner_id):this.ownerStore?.getOwner(e.video_owner_id)}))}constructor(e,t,i,n,o,u){this._data=e,this.favoriteService=t,this.likesService=i,this.ownerStore=n,this.videoDeletingService=o,this.userEnv=u,this.likes=new s(this,this.likesService,this.userEnv),this.favoriteService.setIsFavorite(this._data.id,this._data.is_favorite),(0,a.l_)(this)}}},289375:(e,t,i)=>{i.d(t,{X:()=>u});var a=i(331635),n=i(42107),o=i(190466);class u extends o.G{getLastEvent(){return this.lastEvent}send(e,t){const i={...e,id:this.getIntId(),prev_id:this.getLastEvent()?.id,prev_nav_id:this.getIntId()??0,prev_event_id:this.getLastEvent()?.prev_nav_id??0,timestamp:this.getCurrentTime(),url:window.location.href};this.analytics.sendProductionStats(i,t),this.lastEvent=i}}u=(0,a.Cg)([n.z8.global()],u)},487510:(e,t,i)=>{i.d(t,{X:()=>o});var a=i(815287),n=i(454718);function o(e,t){const[i,o]=(0,a.useState)(t);(0,n.b)(i,t)||(o(t),e())}},386064:(e,t,i)=>{i.d(t,{C:()=>n});var a=i(804084);function n(){return a.m}},328911:(e,t,i)=>{i.d(t,{J:()=>a,o:()=>n});const a=(e,t)=>`${e}_${t}`,n=({ownerId:e,itemId:t,externalId:i})=>[e,t,i].filter(Boolean).join("_")},317341:(e,t,i)=>{i.d(t,{c:()=>a});const a=(e,t)=>{t&&("function"==typeof t?t(e):t.hasOwnProperty("current")&&(t.current=e))}},650433:(e,t,i)=>{i.d(t,{C:()=>a});const a=({value:e,maxLength:t,diffForRemainder:i=100,getExceededLengthLabel:a,getRemainingLengthLabel:n})=>{const o=e.trim().length||0,u=o>t-i,r=o>t,s=Math.abs(o-t),c=t-o;return r?a(s):u?n(c):null}},151884:(e,t,i)=>{i.d(t,{d:()=>d});const a="&#(\\d{3,5});",n="(?:&#\\d{3,5};)",o="a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’",u=`(?:[${o}_\\d]|${n})`,r=`(^|[s.,:'";>)(]?)(${`(#${u}{0,100}${`(?:[${o}]|${n})`}${u}{0,100})`})(@((?:[a-z0-9_]*[a-z0-9])?(?:(?:\\.[a-z](?:[a-z0-9_]+[a-z0-9])?)*\\.[a-z][a-z0-9_]{2,40}[a-z0-9])?))?(?=$|[s.,:'"&;?<)(]?)`;let s;const c=[[192,1399],[12352,12543],[19968,40959],[44032,55215]];function l(e){const t=e.match(a)?.[1];if(!t)return!1;const i=parseInt(t);for(const e of c)if(i>=e[0]&&i<=e[1])return!0;return!1}function d(e,t){return e.replace((s||(s=new RegExp(r,"ig")),s),((e,i,a,o,u)=>{let r="";const s=a.matchAll(new RegExp(n,"ig"));for(const e of s){const[t]=e;if(!l(t)){r=a.slice(e.index),a=a.slice(0,e.index);break}}return"#"===a?(i||"")+a+(u||"")+r:(i||"")+t(a+(u||""),a)+r}))}},998079:(e,t,i)=>{i.d(t,{U:()=>a});const a=()=>/\u{1F3F4}(?:\u{E0067}\u{E0062}(?:\u{E0065}\u{E006E}\u{E0067}|\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074})\u{E007F}|\u{200D}\u{2620}\u{FE0F}?)|\u{1F469}\u{200D}\u{1F469}\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F468}(?:\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D})?\u{1F468}|[\u{1F468}\u{1F469}]\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D}[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}\u{1F466}\u{200D}\u{1F466}|(?:\u{1F441}\u{FE0F}?\u{200D}\u{1F5E8}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{1F468}(?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{200D}[\u{2695}\u{2696}\u{2708}])|(?:[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}]\u{FE0F}?|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u{200D}[\u{2640}\u{2642}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}](?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|\u{200D}[\u{2640}\u{2642}])|\u{1F469}\u{200D}[\u{2695}\u{2696}\u{2708}])\u{FE0F}?|\u{1F469}\u{200D}\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|\u{1F469}\u{200D}\u{1F469}\u{200D}[\u{1F466}\u{1F467}]|\u{1F468}(?:\u{200D}(?:[\u{1F468}\u{1F469}]\u{200D}[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|[\u{1F3FB}-\u{1F3FF}])|\u{1F3F3}\u{FE0F}?\u{200D}\u{1F308}|\u{1F469}\u{200D}\u{1F467}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}]|\u{1F469}\u{200D}\u{1F466}|\u{1F1F6}\u{1F1E6}|\u{1F1FD}\u{1F1F0}|\u{1F1F4}\u{1F1F2}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|[#\*0-9]\u{FE0F}?\u{20E3}|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]|[\u{261D}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F470}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F4AA}\u{1F574}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91D}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F936}\u{1F9B5}\u{1F9B6}\u{1F9D1}-\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u{231A}\u{231B}\u{23E9}-\u{23EC}\u{23F0}\u{23F3}\u{25FD}\u{25FE}\u{2614}\u{2615}\u{2648}-\u{2653}\u{267F}\u{2693}\u{26A1}\u{26AA}\u{26AB}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26CE}\u{26D4}\u{26EA}\u{26F2}\u{26F3}\u{26F5}\u{26FA}\u{26FD}\u{2705}\u{270A}\u{270B}\u{2728}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2795}-\u{2797}\u{27B0}\u{27BF}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F393}\u{1F3A0}-\u{1F3CA}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F4}\u{1F3F8}-\u{1F43E}\u{1F440}\u{1F442}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F57A}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5FB}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CC}\u{1F6D0}-\u{1F6D2}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]|[\xA9\xAE\u{203C}\u{2049}\u{2122}\u{2139}\u{2194}-\u{2199}\u{21A9}\u{21AA}\u{231A}\u{231B}\u{2328}\u{23CF}\u{23E9}-\u{23F3}\u{23F8}-\u{23FA}\u{24C2}\u{25AA}\u{25AB}\u{25B6}\u{25C0}\u{25FB}-\u{25FE}\u{2600}-\u{2604}\u{260E}\u{2611}\u{2614}\u{2615}\u{2618}\u{261D}\u{2620}\u{2622}\u{2623}\u{2626}\u{262A}\u{262E}\u{262F}\u{2638}-\u{263A}\u{2648}-\u{2653}\u{265F}\u{2660}\u{2663}\u{2665}\u{2666}\u{2668}\u{267B}\u{267E}\u{267F}\u{2692}-\u{2697}\u{2699}\u{269B}\u{269C}\u{26A0}\u{26A1}\u{26AA}\u{26AB}\u{26B0}\u{26B1}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26C8}\u{26CE}\u{26CF}\u{26D1}\u{26D3}\u{26D4}\u{26E9}\u{26EA}\u{26F0}-\u{26F5}\u{26F7}-\u{26FA}\u{26FD}\u{2702}\u{2705}\u{2708}-\u{270D}\u{270F}\u{2712}\u{2714}\u{2716}\u{271D}\u{2721}\u{2728}\u{2733}\u{2734}\u{2744}\u{2747}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2763}\u{2764}\u{2795}-\u{2797}\u{27A1}\u{27B0}\u{27BF}\u{2934}\u{2935}\u{2B05}-\u{2B07}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{3030}\u{303D}\u{3297}\u{3299}\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]\u{FE0F}?|[\u{261D}\u{26F9}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}-\u{1F3C4}\u{1F3C7}\u{1F3CA}-\u{1F3CC}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}-\u{1F469}\u{1F46E}\u{1F470}-\u{1F478}\u{1F47C}\u{1F481}-\u{1F483}\u{1F485}-\u{1F487}\u{1F4AA}\u{1F574}\u{1F575}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F645}-\u{1F647}\u{1F64B}-\u{1F64F}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F926}\u{1F930}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B5}\u{1F9B6}\u{1F9B8}\u{1F9B9}\u{1F9D1}-\u{1F9DD}]/gu},649515:(e,t,i)=>{function a(e){return encodeURIComponent(e.replace(/\uFE0F/giu,"")).replace(/%/gi,"").toLowerCase()}function n(e){const t=e.length%2==1,i=t?e.slice(0,1):"",a=t?e.slice(1):e;let n="";try{n=decodeURIComponent("%"+(o=a,o.split("").reduce(((e,t,i)=>e+t+((i+1)%2==0?" ":"")),"").trim().split(/\s+/)).join("%"))}catch(e){}var o;return i+n}i.d(t,{R:()=>n,V:()=>a})},959757:(e,t,i)=>{i.d(t,{k:()=>o});var a=i(221020),n=i(516427);const o=({appearance:e,...t})=>(0,a.Y)(n.kej,{...t,appearance:"orange"===e?"var(--vkui--color_accent_orange_peach)":e})},265231:(e,t,i)=>{i.d(t,{g:()=>J});var a=i(221020),n=i(634164),o=i(187233),u=i(516427),r=i(505174);var s=i(815287),c=i(56471),l=i(782536),d=i(962644);const F="vkitCommentInputContentEditable__fieldContainer--CMxF8",m="vkitCommentInputContentEditable__root--jKcQr",h="vkitCommentInputContentEditable__input--4rrwv",p="vkitCommentInputContentEditable__inputWithPaddingForAfter--dT5ck",g="vkitCommentInputContentEditable__placeholder--QeeSF",b="vkitCommentInputContentEditable__inputWithMaxLines--hnOws",v="vkitCommentInputContentEditable__inlineAfter--hEk32",f="vkitCommentInputContentEditable__afterButtons--T8JuO",k={default:void 0,overlay:"vkitCommentInputContentEditable__rootOverlay--u30Jd",accent:void 0},_={top:"top-right",bottom:"bottom-right",middle:"right"},w=({getRef:e,mode:t="default",value:i,status:r,disabled:w,placeholder:E,inlineAfter:C,asideNodesAlign:y="top",maxLines:B,tooltipText:x,...A})=>{const D=(0,s.useRef)(null),[I,z]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=D.current;if(!e)return;const t=requestAnimationFrame((()=>{z(e.clientWidth)}));return()=>{cancelAnimationFrame(t)}}),[C]);const N={"--inline-after-width":`${I}px`,...B?{"--comment-input-max-lines":`${B}`}:{}};return(0,a.FD)("div",{className:F,children:[(0,a.Y)(c.f,{appearance:"neutral",description:x,placement:"top-start",shown:Boolean(x),disableTriggerOnFocus:!0,children:(0,a.FD)(u.zBI,{className:(0,n.$)(m,k[t]),status:r,disabled:w,Component:"label",children:[(0,a.Y)("div",{"data-testid":"content-editable-input",tabIndex:0,className:(0,n.$)(h,C&&p,B&&b),ref:e,role:"textbox","aria-multiline":"true",contentEditable:!w,style:N,...A,children:i}),!i&&(0,a.Y)(d.h,{Component:o.i,placement:"top-left",offset:[1,2],className:g,paddingTop:8,paddingBottom:8,"data-testid":"placeholder",children:E})]})}),!!C&&(0,a.Y)(d.h,{centered:!0,getRootRef:D,placement:_[y],className:v,children:(0,a.Y)(l.e,{gap:"s",className:f,children:C})})]})};var E=i(799649);const C="vkitCommentInputIconButton__root--zJAzb";var y=i(25917);const B="vkitCommentInputSendButton__send--WgbUQ",x="vkitCommentInputSendButton__sendActive--OYqAU",A={default:"vkitCommentInputSendButton__sendDefault--KSoSE",overlay:"vkitCommentInputSendButton__sendOverlay--Xv73m",accent:"vkitCommentInputSendButton__sendAccent--ve5ax"},D=({sendTooltip:e,mode:t,disabled:i,className:o,...u})=>(0,a.Y)(c.f,{enableInteractive:!0,appearance:"neutral",...e,children:(0,a.Y)(E.K,{noPadding:!0,hasHover:"accent"!==t,disabled:i,"data-testid":"send-comment",className:(0,n.$)(o,B,A[t],!i&&x),...u,children:(0,a.Y)(y.W,{})})});var I=i(224173),z=i(772812),N=i(959757),j=i(982444),S=i(978325);const L="vkitCommentInputUploadingAttachmentProgress__in--hnwfZ",Y="vkitCommentInput__root--vGtda",T="vkitCommentInput__container--FSZ8T",$="vkitCommentInput__containerWithMargin--sKojR",R="vkitCommentInput__withBefore--xYTBC",q="vkitCommentInput__before--3oBBJ",O="vkitCommentInput__inputContainer--fv1W0",M="vkitCommentInput__sendOutside--Zomqg",W="vkitCommentInput__top--MmI4d",P="vkitCommentInput__bottom--9Z33b",H="vkitCommentInput__attachments--ORLhJ",K="vkitCommentInput__uploadingAttachments--Ym9f0",U={top:"vkitCommentInput__beforeTop--u4y4x",bottom:"vkitCommentInput__beforeBottom--QBokQ",middle:"vkitCommentInput__beforeMiddle--EYp0J"},J=Object.assign((({getRootRef:e,mode:t="default",before:i,top:u,bottom:r,hideField:s,attachments:c,inlineAfter:l,asideNodesAlign:d="top",sendDisabled:F,hideSendButton:m,sendActionLabel:h,uploadingAttachments:p,onSendClick:g,className:b,sendTooltip:v,sendButtonInsideInput:f,maxLines:k,beforeAvatarSize:_=36,marginRight:E=48,tooltipText:C,paddingMode:y="default",paddingTop:B,paddingBottom:x,...A})=>{const I=!s||void 0===i,z={...f?void 0:{"--vkit_internal--comment_input_margin_right":`${E}px`},...i?{"--vkit_internal--comment_input_before_avatar_size":`${_}px`}:void 0};return(0,a.FD)(o.i,{mode:y,paddingTop:B,paddingBottom:x,className:(0,n.$)(Y,b),getRootRef:e,children:[!!u&&(0,a.Y)("div",{className:(0,n.$)(W,i&&R,"vkitInternalCommentReplyTargetTop"),children:u}),(0,a.FD)("div",{className:(0,n.$)(T,!f&&$,i&&R),style:z,children:[(0,a.FD)("div",{className:O,children:[!!i&&(0,a.Y)("div",{className:(0,n.$)(q,U[d]),children:i}),I&&(0,a.Y)(w,{...A,mode:t,asideNodesAlign:d,maxLines:k,tooltipText:C,inlineAfter:(0,a.FD)(a.FK,{children:[l,!m&&f&&(0,a.Y)(D,{mode:t,sendTooltip:v,label:h,disabled:F,onClick:g})]})}),I&&!m&&!f&&(0,a.Y)(D,{mode:t,className:(0,n.$)(M,U[d]),sendTooltip:v,label:h,disabled:F,onClick:g})]}),!!r&&(0,a.Y)("div",{className:P,children:r}),c&&(0,a.Y)("div",{"data-testid":"comment-input-attachments",className:H,children:c}),p&&(0,a.Y)("div",{className:K,children:p})]})]})}),{Avatar:({src:e,fallbackIcon:t,hoverMode:i="opacity",activeMode:n="opacity",focusVisibleMode:o="outside",size:s=36,children:c,...l})=>(0,a.Y)(u.SB4,{hoverMode:i,activeMode:n,focusVisibleMode:o,...l,children:(0,a.Y)(r.e,{size:s,src:e,fallbackIcon:t,alt:"",children:c})}),IconButton:({className:e,label:t,...i})=>(0,a.Y)(E.K,{className:(0,n.$)(C,e),label:t,noPadding:!0,...i}),ContentEditable:w,UploadingAttachmentProgress:({index:e,name:t,progress:i,onCancel:n,cancelLabel:o})=>{const u=String(e);return(0,a.FD)(S.e,{id:u,noPadding:!0,top:(0,a.FD)(S.e.Top,{children:[(0,a.Y)(S.e.TopLabel,{children:t}),!!n&&(0,a.Y)(S.e.TopAside,{children:(0,a.Y)(E.K,{label:o,onClick:n,size:18,hasHover:!1,hasActive:!1,children:(0,a.Y)(I.X,{className:(0,z.I)("color_icon_secondary")})})})]}),children:[(0,a.Y)("div",{className:L,children:(0,a.Y)(N.k,{"aria-labelledby":u,value:i,height:2})}),(0,a.Y)(j.K,{})]})}})},771263:(e,t,i)=>{i.d(t,{M:()=>R});var a=i(221020),n=i(213220),o=i(634164),u=i(815287),r=i(423654),s=i(638945),c=i(243989),l=i(355812),d=i(165051),F=i(788350),m=i(153125),h=i(454236),p=i(615691),g=i(449623),b=i(897466),v=i(961625),f=i(516427);const k="vkitCommentLike__like--FUmAu",_="vkitCommentLike__likeActive--2JjBt",w="vkitCommentLike__count--Atlas",E=({comment:e,onClick:t,likeAriaLabel:i,dislikeAriaLabel:n})=>{const{likes:{user_likes:u,count:r,can_like:c}={}}=e;return t?(0,a.FD)(f.SB4,{"data-testid":u?"comment-liked":"comment-unliked",className:(0,o.$)(k,Boolean(u)&&_),hoverMode:"opacity",activeMode:"opacity","aria-label":u?n:i,disabled:!c&&!u,onClick:t,children:[u?(0,a.Y)(b.S,{}):(0,a.Y)(v.y,{}),Boolean(r)&&(0,a.Y)(s.tW,{"data-testid":"comment-count",className:w,weight:"2",children:r})]}):null};var C=i(772812),y=i(56471),B=i(505174);const x="vkitCommentLikedByOwner__container--CQmSa",A="vkitCommentLikedByOwner__like--gutGC",D="vkitCommentLikedByOwner__likeActive--Be3JO",I=({src:e,onClick:t,liked:i,tooltipProps:n})=>(0,a.Y)(f.SB4,{"data-testid":"comment-like",hoverMode:"opacity",activeMode:"opacity",onClick:t,children:(0,a.Y)(y.f,{...n,children:(0,a.FD)("div",{className:x,"data-testid":"comment-like-container",children:[(0,a.Y)(b.S,{className:(0,o.$)(A,(0,C.I)(i?"color_accent_red":"color_icon_contrast_themed"),i&&D)}),(0,a.Y)(B.e,{size:16,src:e})]})})});var z=i(856778);const N="vkitComment__comment--nW26a",j="vkitComment__selected--NQHWR",S="vkitComment__contentWrapper--O7D4j",L="vkitComment__contentText--FUPvk",Y="vkitComment__formattedText--dIeRB",T="vkitComment__attachments--ORW9j",$="vkitComment__info--n9S1Q",R=Object.assign((({comment:e,owner:t,renderAttachments:i,parentOwner:m,onParentOwnerClick:p,onReplyClick:g,afterOwnerName:b,replyActionLabel:v,onOwnerClick:f,onMoreClick:k,moreActionLabel:_,onLikeClick:w,selected:C,verified:y,verificationTooltipProps:B,highlightOwnerName:x,authorizedByUser:A,expandActionLabel:D,formatText:R,formatDateTime:q,actions:O,avatarBadge:M,children:W,likeAriaLabel:P,dislikeAriaLabel:H,verificationAriaLabel:K,badge:U,ownerNameWeight:J,openInNewTab:Z,mode:G,...Q})=>{const{text:V,date:X,attachments:ee}=e,[te,ie]=(0,u.useState)(),ae=W?u.Children.toArray(W).find((e=>(0,u.isValidElement)(e)&&e.type===I)):void 0,ne=R?.(V)??V;return(0,a.Y)(h.x,{"data-testid":"comment",className:(0,o.$)(N,C&&j),owner:t,actions:O,hasHighlightedOwnerName:x,verified:y,verificationAriaLabel:K,verificationTooltipProps:B,onOwnerClick:f,badge:U,ownerNameWeight:J,openInNewTab:Z,mode:G,afterOwnerName:b||(0,a.FD)(d.r,{separator:(0,a.Y)(l.O,{}),children:[q?.(X)??X,m&&(0,a.Y)(r.N,{"data-testid":"comment-reply-parent",mode:"secondary",onClick:()=>{p?.(e)},children:(0,z.H)(m,"dat")})]}),avatarBadge:M,...Q,children:(0,a.Y)("div",{className:S,children:(0,a.FD)("div",{className:L,children:[(0,a.Y)(F.u,{"data-testid":"comment-text",lines:6,mode:"block",expanded:te,expandElement:(0,a.Y)(r.N,{"data-testid":"comment-expand",mode:"secondary",onClick:()=>{ie(!0)},noUnderline:!0,children:(0,a.Y)(s.HL,{children:D})}),children:ne&&(0,a.Y)(s.tW,{Component:c.E,className:Y,children:ne})}),Number(ee?.length)>0&&(0,a.Y)("div",{"data-testid":"comment-attachments",className:T,children:i(ee)}),(0,a.FD)("div",{className:$,children:[w&&(0,a.Y)(E,{likeAriaLabel:P,dislikeAriaLabel:H,comment:e,onClick:w}),ae,g&&v&&(0,a.Y)(r.N,{"data-testid":"comment-reply",mode:"secondary",onClick:i=>{g?.(i,e,t)},noUnderline:!0,children:(0,a.Y)(s.tW,{weight:"2",children:v})}),k&&_&&(e.can_delete||!A)&&(0,a.Y)(r.N,{"data-testid":"comment-more",mode:"secondary",onClick:t=>{k?.(t,e)},children:(0,a.FD)(s.tW,{weight:"2",children:[_," ",(0,a.Y)(n.k,{})]})})]})]})})})}),{Action:m.r,Edit:p.k,EditAttachmentAction:g.h,LikedByOwner:I})},153125:(e,t,i)=>{i.d(t,{r:()=>m});var a=i(221020),n=i(435485),o=i(224173),u=i(85822),r=i(264593),s=i(634164),c=i(799649),l=i(56471);const d="vkitAction__action--hReZD",F={edit:n.E,delete:o.X,report:u.l,more:r.I},m=({ariaLabel:e,icon:t,className:i,disableTooltip:n,appearance:o,...u})=>{const r=F[t],m=(0,a.Y)(c.K,{label:e,className:(0,s.$)(d,i),hoverMode:"opacity",activeMode:"opacity",noPadding:!0,...u,children:(0,a.Y)(r,{})});return n?m:(0,a.Y)(l.f,{placement:"top",offsetByMainAxis:4,text:e,appearance:o,children:m})}},454236:(e,t,i)=>{i.d(t,{x:()=>x});var a=i(221020),n=i(284646),o=i(555086),u=i(634164),r=i(772812),s=i(143764),c=i(187233),l=i(180329),d=i(638945),F=i(999051),m=i(876126),h=i(423654),p=i(880414),g=i(727391),b=i(856778);const v="vkitCommentBaseOwnerName__rootHighlighted--hdmjM",f=({owner:e,highlighted:t,verified:i,verificationTooltipProps:n,verificationAriaLabel:o,onClick:r,badge:s,ownerNameWeight:c="2",openInNewTab:F,mode:m="primary"})=>{const{href:f}=e,k=(0,b.H)(e),_=Boolean(s),w=(0,a.Y)(g.p,{mode:m,iconLabel:o,tooltip:n,noIcon:!i||_,children:k});return(0,a.Y)(p.b,{"data-testid":"comment-owner",Component:h.N,TypographyComponent:d.tW,className:(0,u.$)(t&&v),lines:1,weight:c,mode:"primary",href:f,noUnderline:!0,onClick:r,target:F?"_blank":void 0,children:_?(0,a.FD)(l.s,{align:"center",gap:["xs",0],children:[w,(0,a.Y)(g.p,{mode:m,iconLabel:o,tooltip:n,noIcon:!i,children:s})]}):w})},k="vkitCommentBase__root--g2L8b",_="vkitCommentBase__in--ixlGE",w="vkitCommentBase__title--yIkBS",E="vkitCommentBase__titleAfter--HAJNf",C="vkitCommentBase__actions--5jmeF",y="vkitCommentBase__actionsVisible--FJsGS",B="vkitCommentBase__actionSpinner--m9ayi",x=({owner:e,actions:t,avatarBadge:i,afterOwnerName:h,hasHighlightedOwnerName:p,verified:g,verificationTooltipProps:b,hasActionsLoading:v,onOwnerClick:x,children:A,className:D,verificationAriaLabel:I,avatarSize:z=36,badge:N,ownerNameWeight:j,openInNewTab:S,mode:L,...Y})=>{const T=(0,s.R)(e);return(0,a.FD)(c.i,{className:(0,u.$)(k,D),spacing:8,...Y,children:[(0,a.FD)(m.g,{"data-testid":"comment-avatar",src:T,size:z,nft:e?.is_nft,href:e?.href,"aria-hidden":!0,tabIndex:-1,onClick:x,children:[!T&&(z>=28?(0,a.Y)(n.P,{className:(0,r.I)("color_icon_tertiary")}):(0,a.Y)(o.O,{className:(0,r.I)("color_icon_tertiary")})),i&&(0,a.Y)(m.g.Badge,{children:i})]}),(0,a.FD)("div",{className:_,children:[e&&(0,a.FD)("div",{className:w,children:[(0,a.FD)(l.s,{align:"center",gap:["xs",0],children:[(0,a.Y)(f,{owner:e,highlighted:p,verified:g,verificationTooltipProps:b,verificationAriaLabel:I,onClick:x,badge:N,ownerNameWeight:j,openInNewTab:S,mode:L}),(0,a.Y)(d.tW,{className:E,children:h})]}),(t||v)&&(0,a.Y)("div",{className:(0,u.$)(C,v&&y),children:v?(0,a.Y)(F.y,{className:B,size:"small"}):t})]}),A]})]})}},615691:(e,t,i)=>{i.d(t,{k:()=>p});var a=i(221020),n=i(772812),o=i(982444),u=i(782536),r=i(409698),s=i(153125),c=i(454236);const l="vkitCommentEdit__attachments--X2v9c",d="vkitCommentEdit__uploadingAttachments--75Siy",F="vkitCommentEdit__afterField--ch7xi",m="vkitCommentEdit__bottom--0C5nc",h="vkitCommentEdit__buttons--qtB8P",p=({owner:e,field:t,bottom:i,saving:p,deleting:g,avatarBadge:b,attachments:v,sendDisabled:f,afterOwnerName:k,sendActionLabel:_,cancelActionLabel:w,deleteActionLabel:E,attachmentActions:C,uploadingAttachments:y,onSendClick:B,onCancelClick:x,onDeleteClick:A,avatarSize:D})=>(0,a.FD)(c.x,{owner:e,avatarBadge:b,afterOwnerName:k,hasActionsLoading:g,avatarSize:D,actions:(0,a.Y)(s.r,{"data-testid":"edit-comment-delete",ariaLabel:E,icon:"delete",onClick:A}),children:[(0,a.Y)(o.K,{size:12}),t,!!i&&(0,a.Y)("div",{className:F,children:i}),v&&(0,a.Y)("div",{className:l,children:v}),y&&(0,a.Y)("div",{className:d,children:y}),(0,a.FD)("div",{className:m,children:[!!C&&(0,a.Y)(u.e,{className:(0,n.I)("color_icon_tertiary"),children:C}),(0,a.FD)(u.e,{className:h,children:[(0,a.Y)(r.$,{onClick:x,size:"m",mode:"link",label:w,"data-testid":"edit-comment-cancel",children:w}),(0,a.Y)(r.$,{loading:p,onClick:B,disabled:f,label:_,size:"m","data-testid":"edit-comment-save",children:_})]})]})]})},449623:(e,t,i)=>{i.d(t,{h:()=>d});var a=i(221020),n=i(908709),o=i(749820),u=i(563063),r=i(352039),s=i(56471),c=i(799649);const l={photo:n.$,video:o.J,audio:u.F,doc:r.R},d=({ariaLabel:e,type:t,...i})=>{const n=l[t];return(0,a.Y)(s.f,{placement:"top",text:e,children:(0,a.Y)(c.K,{noPadding:!0,label:e,...i,children:(0,a.Y)(n,{})})})}},856778:(e,t,i)=>{i.d(t,{H:()=>n});var a=i(721126);const n=(e,t)=>{switch(e.kind){case"group":return e.name;case"user":return t?e[`first_name_${t}`]||e.first_name:`${e.first_name} ${e.last_name}`}return(0,a.S)(e)}},367509:(e,t,i)=>{i.d(t,{z:()=>g});var a=i(221020),n=i(634164),o=i(772812),u=i(638945),r=i(409698),s=i(180329),c=i(454236);const l="vkitCommentDeleted__wrapper--vzEVS",d="vkitCommentDeleted__centered--mdC4L",F="vkitCommentDeleted__in--phsYb",m="vkitCommentDeleted__restore--0RSo2",h="vkitCommentDeleted__selected--kySAE",p="vkitCommentDeleted__actions--ANZ5P",g=({children:e,restoreActionLabel:t,onRestoreClick:i,isRestoreDisabled:g,actions:b,selected:v,after:f,...k})=>(0,a.FD)(c.x,{...k,className:(0,n.$)(l,!f&&d,v&&h),"data-testid":"commentdeleted",children:[(0,a.FD)("div",{className:F,"data-testid":"commentdeleted_in",children:[(0,a.Y)(u.tW,{className:(0,o.I)("color_text_secondary"),children:e}),i&&(0,a.Y)(r.$,{className:m,mode:"link",size:"s",onClick:i,disabled:g,"data-testid":"commentdeleted-restore",children:t}),!!b&&(0,a.Y)("div",{className:p,children:b})]}),!!f&&(0,a.Y)(s.s,{direction:"column",align:"start",children:f})]})},788350:(e,t,i)=>{i.d(t,{u:()=>E});var a=i(221020),n=i(754694),o=i(486526),u=i(634164),r=i(962514),s=i(364517),c=i(487510),l=i(815287),d=i(880414);const F="vkitShowMoreText__root--J8ND5",m="vkitShowMoreText__rootExpanded--8ufI3",h="vkitShowMoreText__after--ebI24",p="vkitShowMoreText__in--47GbE",g="vkitShowMoreText__rootSingleLine--8Hb12",b="vkitShowMoreText__rootHasAfter--04f5p",v="vkitShowMoreText__rootAfterLeft--HK80T",f="vkitShowMoreText__rootDynamic--WWwKL",k="vkitShowMoreText__rootInteractive--aMF0e",_="vkitShowMoreText__text--s2iWp",w={block:void 0,inline:"vkitShowMoreText__rootInline--4Dsux"},E=({getRef:e,mode:t,lines:i=0,dynamic:E,expanded:C,expandElement:y,collapseElement:B,children:x,className:A,onExpandChange:D,expandOnTextClick:I,onHasOverflowChange:z,"data-testid":N="showmoretext",TypographyComponent:j,noExpandOnFocusWithin:S,...L})=>{const Y=(0,r.Z)(e),T=(0,l.useRef)(null),$=(0,l.useRef)(null),R=(0,l.useRef)(null),q=(0,l.useRef)(!1),[O,M]=(0,l.useState)(C),[W,P]=(0,l.useState)(),[H,K]=(0,l.useState)(0),[U,J]=(0,l.useState)(0),[Z,G]=(0,l.useState)(!1),[Q,V]=(0,l.useState)("unset"),X=(0,s.K)(D??n.l),ee=(0,s.K)(z??n.l),te=()=>{q.current=!0},ie=()=>{S||O||(q.current?q.current=!1:M(!0))};(0,c.X)((()=>{M(C)}),[C]),(0,l.useEffect)((()=>{X(!!O)}),[X,O]),(0,l.useEffect)((()=>{if(E&&Z&&!O){const{height:e=0}=R.current?.getBoundingClientRect()||{},{height:t=0}=T.current?.getBoundingClientRect()||{};V(t-e)}else V("unset")}),[Z,E,O]),(0,l.useLayoutEffect)((()=>{const e=()=>{const e=T.current,t=$.current,a=Y.current,n=R.current;if(!t||!a)return;if(E&&e?.parentElement){const{height:t}=a.getBoundingClientRect(),{height:i}=e.getBoundingClientRect(),o=t>i;G(o),ee(o);const{width:u=0,height:r=0}=n?.getBoundingClientRect()||{};return K(u),void J(r)}const o=function(e){const t=document.createRange();t.selectNodeContents(e);return[...t.getClientRects()]}(a),u=function(e){if(!e.length)return[];const t={},i=new Set;for(const u of e){var a,n;let e=String(Math.floor(u.top));i.has(e)||[1,2,-1,-2].forEach((t=>{i.has(String(+e+t))&&(e=String(+e+t))})),i.add(e);const r=(a=t)[n=e]??(a[n]=u);var o;if(u.left>=r.left&&u.width>=r.width)(o=u).position||(o.position=0),u.position++,t[e]=u}return Object.values(t)}(o),r=function(e){if(!e.length)return 0;return Math.floor(e[e.length-1].y-e[0].y)}(u),s=(i>1?u.length:function(e){const t=new Set;return e.filter((e=>{const i=`${e.top}-${e.left}-${e.right}-${e.bottom}`;return!t.has(i)&&(t.add(i),!0)}))}(o).length)>i||r>a.getBoundingClientRect().height;if(G(s),ee(s),O)return;const{width:c=0,height:l=0}=n?.getBoundingClientRect()||{};if(K(c),J(l),!i||i>=u.length)return;if(i>1&&!u[i-2].width&&!u[i-1].width)return void P(0);if(!c||u[i-1].width+c>t.offsetWidth)return void P(void 0);const d=u[i-1];1===d.position&&d.width<50?P(0):P(u[i-1].width)},t=(0,o.s)(e,50);return e(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[Y,E,ee,i,y,O,x,Z]);const ae={"--vkit_internal--show_more_text_blur_size":"50px","--show-more-text-blur-dynamic-size":"20px","--show-more-text-after-left":`${W??0}px`,"--show-more-text-after-width":`${H}px`,"--show-more-text-after-height":`${U}px`},ne=O?B:Z&&y,oe=I&&Z&&!O;return(0,a.FD)("div",{"data-testid":N,onClick:oe?()=>M(!0):void 0,ref:T,className:(0,u.$)(F,w[t],O&&m,E&&f,Z&&b,oe&&k,1===i&&g,void 0!==W&&v,A),style:ae,...L,children:[(0,a.Y)(d.b,{"data-testid":"showmoretext-in"+(O?"-expanded":""),getRootRef:$,className:p,lines:O||E?0:i,style:{maxHeight:Q},TypographyComponent:j,children:(0,a.Y)("div",{ref:Y,className:_,onMouseDownCapture:te,onTouchStartCapture:te,onKeyUpCapture:ie,onKeyDownCapture:ie,children:x})}),Boolean(ne)&&(0,a.Y)("div",{"data-testid":"showmoretext-after",ref:R,onClick:()=>{void 0===C&&M((e=>!e))},style:{left:W},className:h,children:ne})]})}}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/80499.cfdf2bf9.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/80499.cfdf2bf9.js",e),e}