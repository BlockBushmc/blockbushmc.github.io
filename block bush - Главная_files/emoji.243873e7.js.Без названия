(()=>{"use strict";var e,t,s,i,n,r,a,o,c={145697:(e,t,s)=>{s.d(t,{classNames:()=>i.classNames});var i=s(351118)},565703:(e,t,s)=>{s.d(t,{STICKERS_CONFDATA_KEY:()=>i,isNewStickerPicker:()=>n,isUGCStickersEnabled:()=>r});var i=function(e){return e.UGC="stickers.ugc",e.PROMO_VMOJI_COUNTER="vmoji.promo.avatar_suggestion.promo_counter",e.NEW_STICKER_PICKER="new_sticker_picker",e}({});function n(){return!0}function r(){return!0}},968351:(e,t,s)=>{s.d(t,{InitOptionsProvider:()=>r,useInitOptions:()=>a});var i=s(296540);const n=(0,i.createContext)({}),r=n.Provider;function a(){const{payload:e,...t}=(0,i.useContext)(n);return{...e,...t}}},636843:(e,t,s)=>{s.d(t,{stickers:()=>i});const i=(0,s(32489).createDomain)()},553560:(e,t,s)=>{s.d(t,{hideSnackbar:()=>r,showSnackbar:()=>n});var i=s(32489);const n=(0,i.createEvent)(),r=(0,i.createEvent)()},141324:(e,t,s)=>{s.d(t,{openProductModal:()=>i});const i=s(636843).stickers.createEvent()},346568:(e,t,s)=>{s.d(t,{Skeleton:()=>o});var i=s(474848),n=(s(296540),s(145697));const r={default:"SkeletonIso--borderRadiusDefault",paper:"SkeletonIso--borderRadiusPaper",promo:"SkeletonIso--borderRadiusPromo"};function a(e){return"string"==typeof e&&Object.keys(r).includes(e)}const o=({className:e,width:t,height:s,children:o,borderRadius:c,circle:d,colorFrom:h,colorTo:l,noAnimation:u=!1,duration:b,fontSize:_,noShrink:f})=>{const p={},w=o;t&&(p.width=t),s&&(p.height=s),_&&(p.fontSize=_),void 0===c||a(c)||(p.borderRadius=c),d&&(p.borderRadius="50%",p.width&&!p.height&&(p.height=p.width),p.height&&!p.width&&(p.width=p.height)),h&&(p["--skeleton-from"]=h),l&&(p["--skeleton-to"]=l),b&&(p["--animation-duration"]=`${b}s`);const k=!!o||!p.height||!p.width;return(0,i.jsx)("span",{className:(0,n.classNames)("SkeletonIso",u&&"SkeletonIso--noAnimation",f&&"SkeletonIso--noShrink",a(c)&&r[c],e),"data-testid":"loading-skeleton","aria-live":"polite","aria-busy":!u,style:p,children:k&&(0,i.jsx)("span",{className:"SkeletonIso__in",children:w})})}},364225:(e,t,s)=>{s.r(t),s.d(t,{init:()=>o});var i=s(489245),n=s(25261),r=s(338329),a=s(246429);function o(){s._dG("Emoji",i.Emoji),(0,n.isNewStickersGiftModalEnabled)()&&(0,r.tq)().setInteractiveHandler("Gifts/send_sticker_gift",(({payload:e})=>{e.event?.stopPropagation();const{dataAttrs:t}=e;if(void 0===t?.giftId)return;const s=(0,n.convertStickerIdToGiftId)(Number(t.giftId)),i=t?.recipientsIds,r=t?.ref,o=t?.stickerReferrer??"stickers_store",c=i?String(i).split(",").map((e=>Number(e))):[];(0,n.showStickersGiftModal)({giftIds:[s],recipientIds:c,referrer:r,stickerReferrer:o,onSuccess:()=>{(0,a.getBoxQueue)()?.hideAll()}})}))}},491447:(e,t,s)=>{try{var i=s(636576),n=s(364225);window.vk?.stDomain&&(s.p=window.vk.stDomain+"/dist/"),window.Emoji||(0,n.init)(),(r=window.requestIdleCallback)||(r=e=>setTimeout((()=>e()),1)),r((()=>{try{(0,i.statlogsValueEvent)("entries_requests",1,"emoji","web")}catch{}}),{timeout:5e3}),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/emoji.243873e7.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/web/emoji.243873e7.js",e),e}var r},694876:(e,t,s)=>{s.d(t,{showGiftsCatalogModalLazy:()=>n});var i=s(351118);function n(e,t=!0){(0,i.asyncImportLoader)((()=>Promise.all([s.e(91498),s.e(89631),s.e(50560),s.e(62791),s.e(89887),s.e(76573),s.e(82365),s.e("langs/web/gifts-open-gifts-catalog")]).then(s.bind(s,719298))),3).then((({showGiftsCatalogModal:s})=>{s(e,t)})).catch((e=>{console.error("Module load failed",e)}))}},862566:(e,t,s)=>{async function i(e){const{showMenuSettingsBox:t}=await Promise.all([s.e(91498),s.e(89631),s.e(89887),s.e(6694),s.e("langs/web/menu_settings")]).then(s.bind(s,641921));t(e)}s.d(t,{loadMenuSettingsBox:()=>i})},325094:(e,t,s)=>{s.d(t,{createLeftMenuInitiator:()=>A,initLeftMenu:()=>P});var i=s(474848),n=s(440961),r=s(33371),a=s(384483),o=s(865708),c=s(401447),d=s(296540),h=s(458840),l=s(547603),u=s(363046),b=s(523417),_=s(707491),f=s(664441),p=s(636576),w=s(554912),k=s(127609),g=s(866467),y=s(101272),m=s(862566),v=s(540462),j=s(205338),S=s(245426);const E=Date.now(),I=(0,r.default)((()=>(0,v.partConfigEnabled)("web_mourning")));function M(e,t){window.vk.statsMeta.st&&(0,y.saveStatlogEvents)({name:"left_menu_interactions",value:1,keys:[e,window.vk.id,E,...t??[]]})}function P(e){(0,l.setLeftMenu)(e),requestAnimationFrame((()=>{A(document).render()}))}function A(e){const t=e.querySelector("#"+(0,a.getReactRootElId)("LeftMenuRoot"));let s;return{render(){t&&((0,v.partConfigEnabled)("enable_create_root")?(s||(s=(0,j.createRoot)(t)),s.render((0,i.jsx)(H,{}))):n.render((0,i.jsx)(H,{}),t))},unmount(){(0,v.partConfigEnabled)("enable_create_root")?s?.unmount():t&&n.unmountComponentAtNode(t)}}}const O=()=>document.body.classList.contains("body_narrow_sidebar"),C=(e,t,{icon:s,...i})=>{M("nav_go",[e.currentTarget.tagName,JSON.stringify(i),JSON.stringify(t)]),window.vk.statsMeta.st&&(t.debugLog=(e,...t)=>M(e,t));const n=(0,k.navGo)(e.currentTarget,e.nativeEvent,t);!1===n&&(0,u.cancelEvent)(e),M("nav_go_result",[void 0===n?"undefined":JSON.stringify(n)])},L=(e,t)=>{e.counter_href&&(t.stopPropagation(),C(t,{},e))},T=(e,t)=>{M("item_click",[e?.id,e?.href,e?.action?.type]),(e=>{e.id&&(0,_.unPrefixId)(e.id)===f.PAGE_ID_CLIPS&&(0,p.statlogsValueEvent)("clips_sections_open",1,"clips")})(e);const s=t.nativeEvent,{action:i}=e;if(i){const n=i.type;switch(n){case"nav_go":return void C(t,JSON.parse(i.options_serialized),e);case"open_app":return M("show_app",[i.app_id,i.ref]),void(0,h.showApp)(s,i.app_id,i.need_install,i.ref);case"custom":M("custom_action",[i.handler]);try{Function("event",i.handler)(s)}catch(e){console.error(e),M("custom_failure",e?.message?[e.message]:[])}return;case"external_link":return}M("unknown_action"),(0,b.expectNever)(n)}e.href&&C(t,{},e)},R=e=>(0,l.closeTooltip)(e);function H(){M("render");const{sections:e,footerSections:t}=(0,l.useLeftMenuStore)(),[s,n]=(0,d.useState)(O);return(0,d.useEffect)((()=>{const e=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n(O())}))}));return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>{e.disconnect()}}),[]),(0,d.useEffect)((()=>{e.forEach((e=>{e.items.forEach((e=>{e.add_static&&window.stManager.add(e.add_static)}))}))}),[e.length]),e.length?(0,i.jsx)(o.AppRootProvider,{children:(0,i.jsx)(c.LeftMenuOld,{sections:e,narrow:s,settingsAriaLabel:(0,g.getLang)("settings_menu_box"),bottom:(0,i.jsx)(c.LeftMenuOld.Footer,{sections:t,onSelect:T}),onSelect:T,onCounterClick:L,onSettingsClick:e=>{(0,m.loadMenuSettingsBox)(e.settings_type)},className:I()?S.default.mourning:void 0,onTooltipClose:R})}):(0,i.jsx)(w.LeftMenuLegacySkeleton,{})}},966369:(e,t,s)=>{s.d(t,{leftMenu:()=>r});var i=s(547603),n=s(707491);const r={showItem(e){(0,i.setItemHidden)({id:e,isHidden:!1});const t=(0,n.getLegacyLeftMenuItemEl)(e);t&&(t.style.display="")},setBadge(e,t){(0,i.setBadge)({id:e,badge:t});const s=(0,n.getLegacyLeftMenuItemEl)(e);s&&(s.classList.toggle("LeftMenu__item--withRedDot","prominent"===t),s.classList.toggle("LeftMenu__item--withBlueDot","accent"===t))},removeBadge(e){this.setBadge(e,void 0)}}},554912:(e,t,s)=>{s.d(t,{LeftMenuLegacySkeleton:()=>r});var i=s(474848),n=(s(296540),s(346568));const r=()=>(0,i.jsx)("div",{className:"LeftMenuLegacySkeleton",children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18].map((e=>(0,i.jsxs)("div",{className:"LeftMenuLegacySkeleton__item",children:[(0,i.jsx)(n.Skeleton,{className:"LeftMenuLegacySkeleton__icon",width:20,height:20,colorFrom:"var(--vkui--color_skeleton_to)",noAnimation:!0,circle:!0}),(0,i.jsx)(n.Skeleton,{className:"LeftMenuLegacySkeleton__label",height:12,colorFrom:"var(--vkui--color_skeleton_to)",noAnimation:!0})]},e)))})},274222:(e,t,s)=>{s.d(t,{createLeftMenuInitiator:()=>r.createLeftMenuInitiator,initLeftMenu:()=>r.initLeftMenu,leftMenu:()=>i.leftMenu,setLeftMenu:()=>n.setLeftMenu,updateItemCount:()=>n.updateItemCount});var i=s(966369),n=s(547603),r=s(325094)},547603:(e,t,s)=>{s.d(t,{closeTooltip:()=>j,setBadge:()=>m,setItemHidden:()=>v,setLeftMenu:()=>g,updateItemCount:()=>y,useLeftMenuStore:()=>S});var i=s(558137),n=s(32489),r=s(679005),a=s(707491),o=s(293721),c=s(70921),d=s(351118),h=s(766770),l=s(319756);function u(e){return t=>t.id===e||t.id===(0,a.prefixId)(e)}function b(e,t,s){return(0,r.produce)(e,(e=>{e.some((({items:e})=>e.some((e=>{if(t(e))return s(e),!0}))))}))}const _=e=>"footer"===e.id||"legal"===e.id,f=e=>"internal.getWebLeftMenu"===e.method&&void 0!==e.response?.sections;const p=(0,i.makeSharedState)("left-menu-store",(()=>function(){const e=(0,n.createStore)([]),t=(0,n.createStore)([]),s=(0,n.combine)({sections:e,footerSections:t}),i=(0,n.createEvent)("setLeftMenu"),r=(0,n.createEvent)("setLeftMenuFooter"),o=(0,n.createEvent)("updateItemCount"),h=(0,n.createEvent)("setBadge"),l=(0,n.createEvent)("setHidden"),p=(0,n.createEvent)("closeTooltip");e.on(i,((e,t)=>f(t)?(0,d.decodeHTMLEntitiesDeep)(t.response.sections).filter((e=>!_(e))):[])).on(o,((e,{id:t,count:s,href:i})=>b(e,u(t),(e=>{e.count=Math.max(s,0),e.is_hidden=s<0,i&&(e.href=i),t===c.PAGE_ID_MARKET_ORDERS&&(e.is_hidden=!1)})))).on(h,((e,{id:t,badge:s})=>b(e,u(t),(e=>{e.badge=s})))).on(l,((e,{id:t,isHidden:s})=>b(e,u(t),(e=>{e.is_hidden=s})))).on(p,((e,{hint_id:t})=>{return b(e,(s=t,e=>e.tooltip?.hint_id===s),(e=>{delete e.tooltip}));var s})),t.on(r,((e,t)=>t));const w=(0,n.createEffect)((({hint_id:e,hint_hash:t})=>{(0,a.turnOffTooltip)(e,t)}));return(0,n.sample)({source:p,target:w}),(0,n.sample)({clock:i,source:e,filter:(e,t)=>f(t),fn:(e,t)=>(0,d.decodeHTMLEntitiesDeep)(t.response.sections).filter(_),target:r}),{$leftMenu:s,setLeftMenu:i,updateItemCount:o,setBadge:h,setItemHidden:l,closeTooltip:p}}()),{version:0}),w=p(),k=(0,l.ensureDIRootWebContainer)().resolve(h.LeftMenuService),g=e=>{w.setLeftMenu(e),k.setSections(e.response)},y=e=>{w.updateItemCount(e),k.updateItem(e.id,{count:e.count,href:e.href})},m=e=>{w.setBadge(e),k.updateItem(e.id,{badge:e.badge})},v=e=>{w.setItemHidden(e),k.updateItem(e.id,{is_hidden:e.isHidden})},j=e=>{w.closeTooltip(e),k.closeTooltip(e.hint_id)},S=()=>(0,o.useStore)(w.$leftMenu)},444091:(e,t,s)=>{s.d(t,{ViewId:()=>n,views:()=>h});var i=s(296540),n=(s(517101),function(e){return e.LAYER="layer",e.LAYER_PURCHASE_DETAILS="layer_purchase_details",e.RANDOM_SELECTOR="random_selector",e.RANDOM_SELECTOR_PACKS="RANDOM_SELECTOR_packs",e.RANDOM_SELECTOR_RESULT="RANDOM_SELECTOR_result",e}({}));const r=(0,i.lazy)((()=>Promise.all([s.e(91498),s.e(89631),s.e(762),s.e(21529),s.e(22081),s.e(51915),s.e(18624),s.e(81652),s.e(21904),s.e(52731),s.e("langs/web/stickers-layer-view")]).then(s.bind(s,568327)).then((({Layer:e})=>({default:e}))))),a=(0,i.lazy)((()=>Promise.all([s.e(91498),s.e(89631),s.e(16846),s.e("langs/web/stickers-layer-purchase-details-view")]).then(s.bind(s,491893)).then((({PurchaseDetails:e})=>({default:e}))))),o=(0,i.lazy)((()=>Promise.all([s.e(91498),s.e(89631),s.e(762),s.e(81652),s.e(64273),s.e("langs/web/stickers-random-selector-view")]).then(s.bind(s,786622)).then((({Main:e})=>({default:e}))))),c=(0,i.lazy)((()=>Promise.all([s.e(91498),s.e(89631),s.e(762),s.e(12318),s.e("langs/web/stickers-random-selector-packs-view")]).then(s.bind(s,935102)).then((({Packs:e})=>({default:e}))))),d=(0,i.lazy)((()=>Promise.all([s.e(91498),s.e(89631),s.e(762),s.e(71409),s.e("langs/web/stickers-random-selector-result-view")]).then(s.bind(s,10466)).then((({Result:e})=>({default:e}))))),h=new Map([["layer",{Component:r,width:640}],["layer_purchase_details",{Component:a}],["random_selector",{Component:o}],["RANDOM_SELECTOR_packs",{Component:c}],["RANDOM_SELECTOR_result",{Component:d}]])},517101:(e,t,s)=>{s(239866)},239866:(e,t,s)=>{var i=s(32489),n=s(432465),r=s(553560);const a=(0,i.createEffect)((({title:e,subtitle:t,action:s,timeout:i,onClose:r})=>{(0,n.showSnackbar)({text:e,subtitle:t,timeout:i,action:s,onClose:r})}));(0,i.sample)({clock:r.showSnackbar,target:a});const o=(0,i.createEffect)((e=>{(0,n.hideSnackbar)(e)}));(0,i.sample)({clock:r.hideSnackbar,target:o})},574061:(e,t,s)=>{s.d(t,{openView:()=>o});var i=s(474848),n=s(444091),r=s(968351),a=s(211413);async function o(e){const{view:t,modalBoxOptions:s}=e,{width:o,Component:c}=n.views.get(t)||{};if(c)return(0,a.showMessageBoxModalSuspense)((({onClose:t,refreshCoordinates:s})=>(0,i.jsx)(r.InitOptionsProvider,{value:{payload:{},...e,init:s,destroy:t},children:(0,i.jsx)(c,{})})),{width:o,...s})}},878769:(e,t,s)=>{s.d(t,{openLayerPurchaseDetails:()=>r});var i=s(444091),n=s(574061);function r(e){return(0,n.openView)({payload:e,view:i.ViewId.LAYER_PURCHASE_DETAILS})}},1497:(e,t,s)=>{s.d(t,{openStickersLayerView:()=>d});var i=s(32489),n=s(444091),r=s(574061),a=s(878769),o=s(636843),c=s(141324);async function d(e){const{modalBoxOptions:t}=e;return(0,r.openView)({payload:{...e,onPurchaseDetailsOpen:e=>(0,a.openLayerPurchaseDetails)({details:e})},modalBoxOptions:t,view:n.ViewId.LAYER})}const h=o.stickers.createEffect(d);(0,i.sample)({clock:c.openProductModal,target:h})},187903:(e,t,s)=>{s.d(t,{isVmojiShareEnabled:()=>i});const i=()=>!0},990787:(e,t,s)=>{s.d(t,{createVmojiAvatar:()=>l,isValidVmojiAvatarUrlPath:()=>d,parseVmojiAvatarUrlPath:()=>c,showVmojiAvatar:()=>u,showVmojiConstructor:()=>b});var i=s(246429),n=s(458840),r=s(187903);const a=7929683,o=RegExp("^vmoji(?<ownerId>[0-9]+)_(?<characterId>[A-Za-z0-9_-]+?)(_(?<packId>[0-9]+))?$");function c(e){const t=e.replace(/^\//,"").match(o);return t?.groups?{ownerId:Number(t.groups.ownerId),characterId:String(t.groups.characterId),packId:void 0===t.groups.packId?void 0:Number(t.groups.packId)}:null}function d(e){return null!==c(e)}function h(){const e=(0,i.showBoxLoader)();return window.stManager.add([window.jsc("web/vmoji.js")]).then((()=>{if((0,i.isBoxLoadingCancelled)(e))throw new Error("loading cancelled");(0,i.hideBoxLoader)()}))}function l(e,t,s){h().then((()=>{window.Vmoji.createAvatar(e,s,t)})).catch((()=>{}))}function u(e,t,s){h().then((()=>{window.Vmoji.showAvatar(e,t,s)})).catch((()=>{}))}function b(e,t,s,i){const o={layer:!0,onHide:()=>{s?.()},...i};t={...t};(0,r.isVmojiShareEnabled)()||(t.disableshare=""),o.urlHash=new URLSearchParams(Object.entries(t)).toString().replace(/=(?=&|$)/gm,""),(0,n.showApp)(e,a,!1,null,null,o)}},766770:(e,t,s)=>{s.d(t,{LeftMenuService:()=>b});var i=s(331635),n=s(327813),r=s(132028),a=s(551494),o=s(351118),c=s(90933),d=s(558137),h=s(70921);const l=e=>"footer"===e.id||"legal"===e.id;class u{constructor(){this.sections=[],(0,n.makeAutoObservable)(this)}}class b{get sections(){return b.ensureSectionsState().sections}set sections(e){b.ensureSectionsState().sections=e}setSections(e){const t=e?.sections;if(t){this.sections=[],this.footerSections=[];for(const e of(0,o.decodeHTMLEntitiesDeep)(t))l(e)?this.footerSections.push(e):(this.sections.push(e),e.items.forEach((e=>{e.add_static&&window.stManager.add(e.add_static)})))}}async loadSections(){const e=await this.internalApi.getWebLeftMenu({});this.setSections(e)}constructor(e,t){this.internalApi=e,this.helpHints=t,this.footerSections=[],this.isNarrow=!1,this.setIsNarrow=e=>{this.isNarrow=e},this.findItem=e=>{for(const{items:t}of this.sections){const s=t.find(e);if(s)return s}},this.updateItem=(e,t)=>{const s=this.findItem((e=>t=>t.id===e||t.id===(e=>`l_${e}`)(e))(e));if(!s)return;const i={...t};i.href||delete i.href,"number"==typeof i.count&&(i.is_hidden=i.count<0,i.count=Math.max(i.count,0),e!==h.PAGE_ID_MARKET_ORDERS&&(i.is_hidden=!1)),Object.assign(s,i)},this.closeTooltip=e=>{const t=this.findItem((e=>t=>t.tooltip?.hint_id===e)(e));t&&(delete t.tooltip,this.helpHints.hide(e))},(0,n.makeAutoObservable)(this)}}b.ensureSectionsState=(0,d.makeSharedState)("spa/vk/web/infrastructure/layout/services/LeftMenuService/SectionsState",(()=>new u),{version:1}),b=(0,i.__decorate)([r.scope.global(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[void 0===a.InternalApi?Object:a.InternalApi,void 0===c.HelpHints?Object:c.HelpHints])],b)},332384:(e,t,s)=>{s.d(t,{GIFT_MODAL_WIDTH:()=>i});const i=456},190929:(e,t,s)=>{s.d(t,{isNewGiftModalEnabled:()=>i.isNewGiftModalEnabled,isSendGiftUrl:()=>n.isSendGiftUrl,parseSendGiftUrl:()=>n.parseSendGiftUrl,showGiftModal:()=>i.showGiftModal});var i=s(168091),n=s(672734)},672734:(e,t,s)=>{function i(e){const t=e.match(RegExp("^send_gift(?<giftId>\\d+)(?:_(?<recipientIds>\\d+(?:\\,\\d+)*))?(?:_(?<referrer>[a-zA-Z\\d_-]+))?$","i"));if(!t)return;const s=Number(t.groups?.giftId),i=t.groups?.recipientIds?t.groups?.recipientIds.split(",").map((e=>Number(e))):[],n=t.groups?.referrer;return{giftId:s,recipientIds:i,referrer:n}}function n(e){return Boolean(i(e))}function r({giftId:e,recipientIds:t,referrer:s}){let i=`send_gift${e}`;return t&&t.length&&(i+=`_${t.join(",")}`),s&&(i+=`_${s}`),i}s.d(t,{createLegacyUrlWParam:()=>r,isSendGiftUrl:()=>n,parseSendGiftUrl:()=>i})},168091:(e,t,s)=>{s.d(t,{isNewGiftModalEnabled:()=>u,showGiftModal:()=>l});var i=s(474848),n=s(725669),r=s(540462),a=s(211413),o=s(694876),c=s(672734),d=s(332384);const h=(0,n.asyncComponent)((()=>Promise.all([s.e(91498),s.e(89631),s.e(21529),s.e(96851),s.e(89887),s.e(22081),s.e(51915),s.e(18624),s.e(64007),s.e(19822),s.e(52007),s.e("langs/web/gift-modal-legacy")]).then(s.bind(s,150447))),(({GiftModalLegacy:e})=>e));function l(e,t=!1,s=!0){if((0,r.isToggleEnabled)("vas_web_new_gifts_send"))return void(0,o.showGiftsCatalogModalLazy)({layerParams:{giftId:String(e.giftId)},layerQuery:{...e.recipientIds?{recipient_ids:e.recipientIds.join(",")}:{},...e.referrer?{ref:e.referrer}:{}}});const n=t?void 0:window.nav?.objLoc?.w;t||s&&window.nav.setLoc({...window.nav.objLoc,w:(0,c.createLegacyUrlWParam)(e)});(0,a.showMessageBoxModalSuspense)((t=>(0,i.jsx)(h,{...e,...t,onClose:()=>{t?.onClose(),s&&window.nav.setLoc({...window.nav.objLoc,w:n})}})),{width:d.GIFT_MODAL_WIDTH})}function u(){return!0}},689116:(e,t,s)=>{s.d(t,{STICKERS_GIFT_MODAL_WIDTH:()=>i});const i=456},25261:(e,t,s)=>{s.d(t,{convertStickerIdToGiftId:()=>n.convertStickerIdToGiftId,isNewStickersGiftModalEnabled:()=>i.isNewStickersGiftModalEnabled,isSendStickersGiftUrl:()=>r.isSendStickersGiftUrl,parseSendStickersGiftUrl:()=>r.parseSendStickersGiftUrl,showStickersGiftModal:()=>i.showStickersGiftModal});var i=s(308983),n=s(744656),r=s(229474)},229474:(e,t,s)=>{function i(e){const t=e.match(RegExp("^send_sticker_gift(?<giftIds>-\\d+(?:,-?\\d+)*)(?:_(?<recipientIds>\\d+(?:\\,\\d+)*))?(?:_(?<referrer>[a-zA-Z\\d_]+))?$","i"));if(!t)return;const s=t.groups?.giftIds?.split(",").map((e=>Number(e)))??[],i=t.groups?.recipientIds?.split(",").map((e=>Number(e)))??[],n=t.groups?.referrer;return{giftIds:s,recipientIds:i,referrer:n}}function n(e){return Boolean(i(e))}s.d(t,{isSendStickersGiftUrl:()=>n,parseSendStickersGiftUrl:()=>i})},308983:(e,t,s)=>{s.d(t,{isNewStickersGiftModalEnabled:()=>l,showStickersGiftModal:()=>h});var i=s(474848),n=s(725669),r=s(211413),a=s(540462),o=s(689116),c=s(694876);const d=(0,n.asyncComponent)((()=>Promise.all([s.e(91498),s.e(89631),s.e(21529),s.e(96851),s.e(89887),s.e(22081),s.e(51915),s.e(18624),s.e(64007),s.e(10190),s.e(68425),s.e("langs/web/sticker-gift-modal-legacy")]).then(s.bind(s,84871))),(({StickersGiftModalLegacy:e})=>e));function h(e){(0,a.isToggleEnabled)("vas_web_new_gifts_send")?(0,c.showGiftsCatalogModalLazy)({layerQuery:{gift_ids:e.giftIds.join(","),...e.recipientIds?{recipient_ids:e.recipientIds.join(",")}:{},...e.referrer?{ref:e.referrer}:{}}}):(0,r.showMessageBoxModalSuspense)((t=>(0,i.jsx)(d,{...e,...t})),{width:o.STICKERS_GIFT_MODAL_WIDTH})}function l(){return!0}},744656:(e,t,s)=>{function i(e){return-e}function n(e){return-e}s.d(t,{convertGiftIdToStickerId:()=>n,convertStickerIdToGiftId:()=>i})},838221:(e,t,s)=>{s.d(t,{AsyncAtom:()=>r});var i=s(77783),n=s(879168);class r extends n.Atom{async get(){const e=this.getKey();try{return await(0,i.get)(e,this.base.store)||this.cache||null}catch(t){return console.log(`${e}: Ошибка чтения данных из хранилища`),console.log(t),this.cache||null}}async set(e,t){const s=this.getKey();try{await(0,i.set)(s,e,this.base.store)}catch(t){console.log(`${s}: Не удалось записать данные в хранилище`),console.log(t),this.cache=e}super.set(e,t)}async delete(){const e=this.getKey();delete this.cache;try{await(0,i.del)(e,this.base.store),this.base.notify(this.key)}catch(t){console.log(`${e}: Ошибка удаления ключа из хранилища`),console.log(t)}}constructor(e){super(e);const{base:t}=e;this.base=t}}},955326:(e,t,s)=>{s.d(t,{createAsyncStore:()=>o});var i=s(77783),n=s(98184),r=s(838221);class a extends n.Store{createAtom(e){return new r.AsyncAtom({key:e,base:this})}async clear(){await(0,i.clear)(this.store),this.notify()}constructor(e){super(e);const{dbName:t,version:s}=e;try{this.store=(0,i.createStore)(`${t}-v${s}`,t)}catch{}}}function o(e){return new a(e)}},879168:(e,t,s)=>{s.d(t,{Atom:()=>i});class i{set(e,{notify:t=!0}={}){t&&this.base.notify(this.key)}getKey(){return`${this.base.options.storeName}-${this.key}`}constructor({key:e,base:t}){this.key=e,this.base=t}}},98184:(e,t,s)=>{s.d(t,{Store:()=>i});class i{subscribe(e,t){const s=this.getListeners(t);return s.add(e),()=>{s.delete(e)}}notify(e,t){this.getListeners(t).forEach((t=>{t(e)}))}refresh(){try{localStorage.setItem(this.key,""),localStorage.removeItem(this.key)}catch{}}destroy(){this.listeners.clear(),this.syncListeners.clear(),i.instances.delete(this.key)}get key(){const{dbName:e,storeName:t,version:s}=this.options;return`${e}-v${s}-${t}`}getListeners(e){return e?this.syncListeners:this.listeners}constructor(e){this.listeners=new Set,this.syncListeners=new Set,this.options=e,i.instances.set(this.key,this)}}i.instances=new Map,window.addEventListener("storage",(({key:e,newValue:t})=>{if(!e||null===t)return;const s=i.instances.get(e);s?.notify()}))},100596:(e,t,s)=>{s.d(t,{SyncAtom:()=>r,SyncAtomType:()=>n});var i=s(879168),n=function(e){return e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number",e}({});class r extends i.Atom{get(){const e=this.getKey();try{let t=localStorage.getItem(e);if(!t)return null;switch(this.type){case"object":try{t=JSON.parse(t)}catch{return null}break;case"number":t=Number(t)||0;break;case"string_number":t=Number(t)||t;break;case"boolean":t=Boolean(Number(t))}return t}catch(t){return console.log(`${e}: Ошибка чтения данных из хранилища`),console.log(t),this.cache||null}}set(e,t){const s=this.getKey();let i;switch(this.type){case"object":i=JSON.stringify(e);break;case"boolean":i=String(Number(e));break;default:i=String(e)}try{localStorage.setItem(s,i)}catch(t){console.log(`${s}: Не удалось записать данные в хранилище`),console.log(t),this.cache=e}super.set(e,t)}delete(){const e=this.getKey();try{delete this.cache,localStorage.removeItem(e)}catch(t){console.log(`${e}: Ошибка удаления ключа из хранилища`),console.log(t)}}getKey(){return`${this.base.key}-${this.key}`}constructor(e){super(e);const{base:t,type:s}=e;this.base=t,this.type=s}}},724361:(e,t,s)=>{s.d(t,{createSyncStore:()=>a});var i=s(98184),n=s(100596);class r extends i.Store{createAtom(e,t){return new n.SyncAtom({key:e,type:t,base:this})}constructor(e){super(e)}}function a(e){return new r(e)}},896412:(e,t,s)=>{function i(e){e.preventDefault(),e.stopPropagation()}s.d(t,{cancelEvent:()=>i})},90933:(e,t,s)=>{s.d(t,{HelpHints:()=>c});var i=s(331635),n=s(132028),r=s(21632),a=s(24516),o=s(327813);class c{async fetchHints(){try{const e=this.accountApi.getHelpHintsWithPrefetch({}),t=await e;(0,o.runInAction)((()=>{t.items.forEach((e=>this.helpHints.set(e.id,e)))}))}catch(e){throw new Error("Fetching hints fetching failed",{cause:e})}finally{this.fetchPromise=null}}async hide(e,t){t&&this.helpHints.delete(e);try{const s=await this.accountApi.hideHelpHint({hint_id:e});!t&&s&&this.helpHints.delete(e)}catch(e){throw new Error("Hiding hint failed",{cause:e})}}get(e){return this.helpHints.get(e)}async ensureAll(){if(0===this.helpHints.size)return this.fetchPromise=this.fetchPromise??this.fetchHints(),this.fetchPromise}async ensure(e){return await this.ensureAll(),this.helpHints.get(e)}clearHints(){this.helpHints.clear()}constructor(e,t){this.accountApi=e,this.userEnv=t,this.fetchPromise=null,this.helpHints=new Map,(0,o.makeAutoObservable)(this)}}c=(0,i.__decorate)([n.scope.global(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[void 0===r.AccountApi?Object:r.AccountApi,void 0===a.UserEnv?Object:a.UserEnv])],c)},551494:(e,t,s)=>{s.d(t,{InternalApi:()=>a});var i=s(331635),n=s(132028),r=s(641569);class a extends r.ApiNamespace{get namespace(){return"internal"}constructor(...e){super(...e),this.getYaGeocoderString=this.makeMethod("getYaGeocoderString"),this.getWebLeftMenu=this.makeMethod("getWebLeftMenu"),this.getMvkLeftMenu=this.makeMethod("getMvkLeftMenu"),this.getClientUpdateInfo=this.makeMethod("getClientUpdateInfo"),this.getVideoModerationActions=this.makeMethod("getVideoModerationActions"),this.getVideoRights=this.makeMethod("getVideoRights")}}a=(0,i.__decorate)([n.scope.global()],a)},50790:(e,t,s)=>{s.d(t,{useIsMounted:()=>n});var i=s(296540);const n=()=>{const e=(0,i.useRef)(!1);return(0,i.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),(0,i.useCallback)((()=>e.current),[])}},251964:(e,t,s)=>{s.d(t,{LottieDataCache:()=>d});var i=s(434518),n=s(763812),r=(0,n._)("_OUTDATED_CACHE_LIFETIME"),a=(0,n._)("_cache"),o=(0,n._)("_outdated"),c=(0,n._)("_checkOutdated");class d{static set(e,t){(0,i._)(this,a)[a].set(e,t)}static get(e){return(0,i._)(this,o)[o].delete(e),(0,i._)(this,c)[c](),(0,i._)(this,a)[a].get(e)}static delete(e){(0,i._)(this,a)[a].delete(e)}static outdate(e){(0,i._)(this,a)[a].has(e)&&(0,i._)(this,o)[o].set(e,Date.now())}}Object.defineProperty(d,c,{value:function(){for(const[e,t]of(0,i._)(this,o)[o])Date.now()-t<=(0,i._)(this,r)[r]||((0,i._)(this,a)[a].delete(e),(0,i._)(this,o)[o].delete(e))}}),Object.defineProperty(d,r,{writable:!0,value:3e5}),Object.defineProperty(d,a,{writable:!0,value:new Map}),Object.defineProperty(d,o,{writable:!0,value:new Map})},838086:(e,t,s)=>{s.d(t,{AnimationDataLoadError:()=>i});class i extends Error{constructor(){super("Не удалось загрузить данные об анимации")}}},641771:(e,t,s)=>{s.d(t,{EmptyAnimationDataError:()=>i});class i extends Error{constructor(){super("Не переданы данные для загрузки анимации")}}},264508:(e,t,s)=>{s.d(t,{InvalidAnimationSizeError:()=>i});class i extends Error{constructor(){super("Передайте размер анимации, размеры контейнера имеют неявные значения")}}},300712:(e,t,s)=>{s.d(t,{OffscreenCanvasNotSupportedError:()=>i});class i extends Error{constructor(){super("OffscreenCanvas не поддерживается клиентом, проигрывание анимации невозможно")}}},830235:(e,t,s)=>{s.d(t,{AnimationObserver:()=>k});var i=s(434518),n=s(763812),r=s(108193),a=s(342042),o=s(184330),c=s(505471),d=(0,n._)("_observer"),h=(0,n._)("_paused"),l=(0,n._)("_visible"),u=(0,n._)("_primaryGroup"),b=(0,n._)("_groups"),_=(0,n._)("_ignoredGroups"),f=(0,n._)("_checkPlayers"),p=(0,n._)("_checkPlayer"),w=(0,n._)("_removePlayer");class k{static addPlayer(e){var t,s;const{canvas:n,options:{group:r}}=e;(t=(0,i._)(this,b)[b])[s=r]??(t[s]=new Set);(0,i._)(this,b)[b][r].add(e),(0,i._)(this,d)[d]?.observe(n)}static removePlayer(e){const{canvas:t,options:{group:s}}=e,n=(0,i._)(this,b)[b][s];n?.size&&(n.delete(e),n.size||delete(0,i._)(this,b)[b][s]),(0,i._)(this,d)[d]?.unobserve(t),(0,i._)(this,h)[h].delete(e),(0,i._)(this,l)[l].delete(e)}static setPrimaryGroup({group:e,...t}){(0,i._)(this,u)[u]=e,(0,i._)(this,f)[f](t)}static resetPrimaryGroup(){(0,i._)(this,u)[u]=void 0,(0,i._)(this,f)[f]()}static ignoreGroup(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{(0,i._)(this,_)[_].add(e)})),(0,i._)(this,f)[f]()}static removeIgnoredGroup(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{(0,i._)(this,_)[_].add(e)})),(0,i._)(this,f)[f]()}}Object.defineProperty(k,f,{value:function(e={}){const{group:t}=e,s=void 0!==t;if(s&&!(0,i._)(this,b)[b][t])return;const n=s?[t]:Object.keys((0,i._)(this,b)[b]);for(const t of n){const s=(0,i._)(this,b)[b][t];s?.forEach((t=>{(0,i._)(this,p)[p]({player:t,...e})}))}}}),Object.defineProperty(k,p,{value:async function({player:e,idle:t,pause:s,destroy:n,destroyCache:r}){const{canvas:a,options:{group:c}}=e,d=(0,i._)(this,h)[h].has(e),b=(0,i._)(this,l)[l].has(e),f=(0,i._)(this,_)[_].has(c),p=(0,i._)(this,u)[u]&&(0,i._)(this,u)[u]!==c,k=await e.paused();if(n||!f&&!a.isConnected)return void(0,i._)(this,w)[w](e);!1===t&&k&&o.isSafari&&e.redraw();if(f)return;if((s||t||p)&&!k)return e.pause().then((()=>{p&&r&&e.destroyCache()})),void(0,i._)(this,h)[h].add(e);d&&k&&b&&!p&&(e.play(),(0,i._)(this,h)[h].delete(e))}}),Object.defineProperty(k,w,{value:function(e){const{canvas:t,options:{group:s}}=e;e.destroy();const n=(0,i._)(this,b)[b][s];n?.size&&(n.delete(e),n.size||delete(0,i._)(this,b)[b][s]);(0,i._)(this,d)[d]?.unobserve(t),(0,i._)(this,l)[l].delete(e)}}),Object.defineProperty(k,d,{writable:!0,value:void 0}),Object.defineProperty(k,h,{writable:!0,value:new Set}),Object.defineProperty(k,l,{writable:!0,value:new Set}),Object.defineProperty(k,u,{writable:!0,value:void 0}),Object.defineProperty(k,b,{writable:!0,value:{}}),Object.defineProperty(k,_,{writable:!0,value:new Set}),c.isIntersectionObserverSupported&&((0,i._)(k,d)[d]=new IntersectionObserver((e=>{for(const{target:t,isIntersecting:s}of e)for(const e in(0,i._)(k,b)[b]){if(!(0,i._)(k,b)[b].hasOwnProperty(e))continue;const n=[...(0,i._)(k,b)[b][e]]?.find((e=>e.canvas===t));if(!n)continue;const a=(0,i._)(k,_)[_].has(e),{initialized:o,initializing:c,options:{lazyLoading:d}}=n;if(s){if(!d||o||c||r.AnimationObserverLazyLoad.addToQueue(n),a)continue;(0,i._)(k,l)[l].add(n),(0,i._)(k,p)[p]({player:n})}else{if(r.AnimationObserverLazyLoad.removeFromQueue(n),n.canvas.isConnected||n.destroy(),a)continue;(0,i._)(k,l)[l].delete(n),(0,i._)(k,p)[p]({player:n,pause:!0}),n.destroyCache()}break}}))),a.idleManager.addEventListener("change",(e=>{(0,i._)(k,f)[f]({idle:e})}))},108193:(e,t,s)=>{s.d(t,{AnimationObserverLazyLoad:()=>u});var i=s(434518),n=s(763812),r=s(351118),a=(0,n._)("_PROCESSING_LIMIT"),o=(0,n._)("_queue"),c=(0,n._)("_processing"),d=(0,n._)("_processQueue"),h=(0,n._)("_processQueueHandler"),l=(0,n._)("_processPlayer");class u{static addToQueue(e){(0,i._)(this,o)[o].add(e),(0,i._)(this,d)[d]()}static removeFromQueue(e){(0,i._)(this,o)[o].delete(e)}}Object.defineProperty(u,h,{value:function(){if(!(0,i._)(this,o)[o].size||(0,i._)(this,c)[c].size)return;for(;(0,i._)(this,c)[c].size<(0,i._)(this,a)[a]&&(0,i._)(this,o)[o].size;){const e=[...(0,i._)(this,o)[o]].shift();e&&((0,i._)(this,o)[o].delete(e),(0,i._)(this,l)[l](e))}}}),Object.defineProperty(u,l,{value:async function(e){(0,i._)(this,c)[c].add(e);try{await e.init()}catch(e){console.error(e)}(0,i._)(this,c)[c].delete(e),(0,i._)(this,d)[d]()}}),Object.defineProperty(u,a,{writable:!0,value:8}),Object.defineProperty(u,o,{writable:!0,value:new Set}),Object.defineProperty(u,c,{writable:!0,value:new Set}),Object.defineProperty(u,d,{writable:!0,value:(0,r.throttle)((0,i._)(u,h)[h].bind(u),20)})},173086:(e,t,s)=>{s.d(t,{EventDispatcher:()=>i});class i{hasEventListener(e,t){return this.listeners.some((s=>s.type===e&&s.listener===t))}addEventListener(e,t,s={}){return this.hasEventListener(e,t)||this.listeners.push({type:e,listener:t,options:s}),this}removeEventListener(e,t){const s=this.listeners.findIndex((s=>s.type===e&&s.listener===t));return-1!==s&&this.listeners.splice(s,1),this}removeEventListeners(){return this.listeners=[],this}dispatchEvent(e,...t){return this.listeners.filter((t=>t.type===e)).forEach((e=>{const{type:s,listener:i,options:n}=e;i(...t),n?.once&&this.removeEventListener(s,i)})),this}constructor(){this.listeners=[]}}},342042:(e,t,s)=>{s.d(t,{idleManager:()=>_});var i=s(434518),n=s(763812),r=s(173086),a=s(488577),o=(0,n._)("_focusEventName"),c=(0,n._)("_isIdle"),d=(0,n._)("_focusPromise"),h=(0,n._)("_focusResolve"),l=(0,n._)("_setIsIdle");class u extends r.EventDispatcher{get focusPromise(){return(0,i._)(this,d)[d]}get isIdle(){return(0,i._)(this,c)[c]}constructor(){super(),Object.defineProperty(this,l,{value:b}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),(0,i._)(this,c)[c]=!0,(0,i._)(this,d)[d]=Promise.resolve(),(0,i._)(this,h)[h]=()=>{},"undefined"!=typeof window&&(window.addEventListener("blur",(()=>{(0,i._)(this,l)[l](!0),window.addEventListener("focus",(()=>{(0,i._)(this,l)[l](!1)}),{once:!0})})),window.addEventListener((0,i._)(u,o)[o],(()=>{(0,i._)(this,l)[l](!1)}),{once:!0,passive:!0}),this.addEventListener("change",(e=>{e?(0,i._)(this,d)[d]=new Promise((e=>{(0,i._)(this,h)[h]=e})):(0,i._)(this,h)[h]()})))}}function b(e){(0,i._)(this,c)[c]!==e&&((0,i._)(this,c)[c]=e,this.dispatchEvent("change",e))}Object.defineProperty(u,o,{writable:!0,value:a.isTouchSupported?"touchstart":"mousemove"});const _=new u},812153:(e,t,s)=>{s.d(t,{useLottie:()=>a});var i=s(50790),n=s(296540),r=s(535130);function a(e,{play:t,show:s}={}){const{animationUrl:a,animationData:o}=e,c=(0,n.useRef)(!1),d=(0,n.useRef)(null),h=(0,n.useRef)(null),[l,u]=(0,n.useState)(!1),[b,_]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),g=(0,i.useIsMounted)();(0,n.useEffect)((()=>{const e=h.current;e&&!f&&(void 0!==t&&(t?e.play():e.pause()),void 0!==s&&(s?e.show():e.hide()))}),[f,t,s]),(0,n.useLayoutEffect)((()=>((async()=>{const t=h.current;t?c.current=!1:(p(!0),k(!1));const s=d.current;if((a||o)&&s&&!c.current){c.current=!0,u(!1),_(null);try{const t=await r.LottieManager.loadAnimation({containers:[s],...e});t.addEventListener("enterFrame",(()=>{requestAnimationFrame((()=>{k(!0)}))}),{once:!0}),t.addEventListener("destroy",(()=>{k(!1)}),{once:!0}),p(!1),h.current=t}catch(e){u(!0),_(e)}g()&&t?.destroy()}})(),()=>{h.current?.destroy()})),[a,o]);return{lottieError:l,lottieLoading:f,lottieLoaded:!f&&!l,lottieRendered:w,lottiePlayerRef:h,lottieContainerRef:d,lottieErrorMessage:b}}},535130:(e,t,s)=>{s.d(t,{LottieManager:()=>m});var i=s(434518),n=s(763812),r=s(351118),a=s(558137),o=s(542102),c=s(300712),d=s(830235),h=s(415855),l=s(351901),u=(0,n._)("_WORKERS_COUNT"),b=(0,n._)("_observer"),_=(0,n._)("_prevUsedWorkerIndex"),f=(0,n._)("_workers"),p=(0,n._)("_players"),w=(0,n._)("_initialized"),k=(0,n._)("_initializePromise"),g=(0,n._)("_getWorker");class y{static get observer(){return(0,i._)(this,b)[b]}static init(){return h.isOffscreenCanvasSupported?((0,i._)(this,k)[k]||((0,i._)(this,k)[k]=(async()=>{try{const{EsThread:e}=await(0,l.loadThreads)();(0,i._)(this,f)[f]=await Promise.all((0,r.createArray)((0,i._)(this,u)[u]).map((()=>e.Spawn(new Worker(new URL(self.location.origin+"/dist/"+s.u(75477),s.b),{type:void 0})))))}catch(e){throw e}(0,i._)(this,w)[w]=!0})()),(0,i._)(this,k)[k]):Promise.reject(new c.OffscreenCanvasNotSupportedError)}static async loadAnimation(e){(0,i._)(this,w)[w]||await this.init();const t=new o.LottiePlayer((0,i._)(this,g)[g](e),e);return t.options.lazyLoading||await t.init(),(0,i._)(this,p)[p].add(t),(0,i._)(this,b)[b].addPlayer(t),t.addEventListener("destroy",(()=>{(0,i._)(this,p)[p].delete(t),(0,i._)(this,b)[b].removePlayer(t)}),{once:!0}),t}}Object.defineProperty(y,g,{value:function(e){const t=e?.animationUrl,s=e?.animationData;for(const e of(0,i._)(this,p)[p])if(e.options.animationUrl===t||e.options.animationData===s)return e.worker;let n=(0,i._)(this,_)[_]++;n>=(0,i._)(this,f)[f].length&&(n=0,(0,i._)(this,_)[_]=0);return(0,i._)(this,f)[f][n]}}),Object.defineProperty(y,u,{writable:!0,value:4}),Object.defineProperty(y,b,{writable:!0,value:d.AnimationObserver}),Object.defineProperty(y,_,{writable:!0,value:0}),Object.defineProperty(y,f,{writable:!0,value:[]}),Object.defineProperty(y,p,{writable:!0,value:new Set}),Object.defineProperty(y,w,{writable:!0,value:!1}),Object.defineProperty(y,k,{writable:!0,value:void 0});const m=(0,a.makeSharedState)("rlottie",(()=>y),{version:3})()},42459:(e,t,s)=>{s.d(t,{LottiePlayerEventTask:()=>i});class i{constructor(e,t){this.taskUID=e,this.resolve=t}}},542102:(e,t,s)=>{s.d(t,{LottiePlayer:()=>x});var i=s(434518),n=s(763812),r=s(351118),a=s(251964),o=s(42459),c=s(173086),d=s(641771),h=s(264508),l=s(838086),u=s(157951),b=s(150195),_=s(273808),f=s(908575),p=s(351901),w=(0,n._)("_events"),k=(0,n._)("_worker"),g=(0,n._)("_options"),y=(0,n._)("_canvas"),m=(0,n._)("_destroyed"),v=(0,n._)("_initialized"),j=(0,n._)("_startInitialization"),S=(0,n._)("_initializePromise"),E=(0,n._)("_destroy"),I=(0,n._)("_render"),M=(0,n._)("_setOptions"),P=(0,n._)("_createPlayerMethodProxy"),A=(0,n._)("_loadAnimationUrl"),O=(0,n._)("_transferableOptions"),C=(0,n._)("_setName"),L=(0,n._)("_setSize"),T=(0,n._)("_setScale"),R=(0,n._)("_setCanvas"),H=(0,n._)("_attachEventTask"),N=(0,n._)("_destroyHandler");class x extends c.EventDispatcher{init(){if((0,i._)(this,v)[v]||!(0,i._)(this,j)[j])return(0,i._)(this,S)[S];const e=(async()=>{const[{Transfer:e}]=await Promise.all([(0,p.loadThreads)(),(0,i._)(this,A)[A]()]);if(!(0,i._)(this,g)[g].animationData)throw new d.EmptyAnimationDataError;const t=(0,i._)(this,O)[O],s=(0,i._)(this,y)[y].transferControlToOffscreen();await(0,i._)(this,k)[k].methods.createPlayer(e({canvas:s,options:t,id:this.id},[s]))})();return e.then((()=>{(0,i._)(this,v)[v]=!0,(0,i._)(this,g)[g].autoplay&&this.play()})),(0,i._)(this,j)[j](e),(0,i._)(this,j)[j]=void 0,(0,i._)(this,S)[S]}get worker(){return(0,i._)(this,k)[k]}get canvas(){return(0,i._)(this,y)[y]}get options(){return(0,i._)(this,g)[g]}get initialized(){return(0,i._)(this,v)[v]}get initializing(){return!(0,i._)(this,j)[j]&&!(0,i._)(this,v)[v]}show(){(0,i._)(this,y)[y].style.visibility="unset"}hide(){(0,i._)(this,y)[y].style.visibility="hidden"}setOptions(e){Object.assign((0,i._)(this,g)[g],e)}setSpeed(e=1){(0,i._)(this,g)[g].speed!==e&&((0,i._)(this,g)[g].speed=e)}setDirection(e=u.LottiePlayerDirection.FORWARD){(0,i._)(this,g)[g].direction!==e&&((0,i._)(this,g)[g].direction=e)}setCache(e=!0){(0,i._)(this,g)[g].cache=e}setStrictCache(e=!0){(0,i._)(this,g)[g].strictCache=e}setLazyLoading(e=!0){(0,i._)(this,g)[g].lazyLoading=e}setAutoplay(e=!0){(0,i._)(this,g)[g].autoplay=e}setLoop(e=!0){(0,i._)(this,g)[g].loop=e}setColor(e=null){if(Array.isArray(e)){const[t,s,i,n=1]=e;e=`rgba(${t},${s},${i},${n})`}else"currentColor"===e&&(e=getComputedStyle((0,i._)(this,y)[y]).color);(0,i._)(this,g)[g].color=e}setStartFrameIndex(e){void 0!==e&&((0,i._)(this,g)[g].startFrameIndex=e)}async render(...e){const t=await(0,i._)(this,I)[I](...e);if(!t)return;const s=new OffscreenCanvas((0,i._)(this,y)[y].width,(0,i._)(this,y)[y].height),n=s.getContext("2d");return n?(n.drawImage(t,0,0),s):void 0}destroy(){if(this.initialized)return(0,i._)(this,E)[E]();this.dispatchEvent("destroy")}constructor(e,t){super(),Object.defineProperty(this,P,{value:G}),Object.defineProperty(this,A,{value:U}),Object.defineProperty(this,O,{get:D,set:void 0}),Object.defineProperty(this,C,{value:q}),Object.defineProperty(this,L,{value:B}),Object.defineProperty(this,T,{value:V}),Object.defineProperty(this,R,{value:z}),Object.defineProperty(this,H,{value:F}),Object.defineProperty(this,N,{value:$}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,j,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),this.id=(0,r.getRandomString)(6),(0,i._)(this,y)[y]=document.createElement("canvas"),(0,i._)(this,m)[m]=!1,(0,i._)(this,v)[v]=!1,(0,i._)(this,S)[S]=new Promise((e=>{(0,i._)(this,j)[j]=e})),this.play=(0,i._)(this,P)[P]("play"),this.playPart=(0,i._)(this,P)[P]("playPart"),this.playTo=(0,i._)(this,P)[P]("playTo"),this.pause=(0,i._)(this,P)[P]("pause"),this.reset=(0,i._)(this,P)[P]("reset"),this.stop=(0,i._)(this,P)[P]("stop"),this.destroyCache=(0,i._)(this,P)[P]("destroyCache"),(0,i._)(this,E)[E]=(0,i._)(this,P)[P]("destroy"),this.paused=(0,i._)(this,P)[P]("paused"),this.state=(0,i._)(this,P)[P]("state"),this.redraw=(0,i._)(this,P)[P]("redraw"),(0,i._)(this,I)[I]=(0,i._)(this,P)[P]("render"),(0,i._)(this,M)[M]=(0,i._)(this,P)[P]("setOptions");const{name:s,loop:n,color:a,width:o,height:c,speed:d,cache:l,autoplay:u,direction:_,strictCache:f,lazyLoading:p,startFrameIndex:K,containers:[W]}=t;if(!o||!c){const{width:e,height:s}=(0,b.getElementSize)(W);t.width=e,t.height=s}if(Number(t.width)<=0||Number(t.height)<=0)throw new h.InvalidAnimationSizeError;(0,i._)(this,k)[k]=e,(0,i._)(this,g)[g]={...t},(0,i._)(this,g)[g].containers.forEach((e=>{e.appendChild((0,i._)(this,y)[y])})),(0,i._)(this,C)[C](s),this.setLoop(n),this.setCache(l),this.setColor(a),this.setSpeed(d),(0,i._)(this,L)[L](t),(0,i._)(this,T)[T](t),(0,i._)(this,R)[R](t),this.setAutoplay(u),this.setDirection(_),this.setStrictCache(f),this.setLazyLoading(p),this.setStartFrameIndex(K),(0,i._)(this,g)[g]=new Proxy((0,i._)(this,g)[g],{set:(e,t,s)=>(e[t]=s,(0,i._)(this,M)[M]((0,i._)(this,O)[O]),!0)}),(0,i._)(x,w)[w].forEach((e=>{(0,i._)(this,H)[H](e)})),this.addEventListener("destroy",(0,i._)(this,N)[N].bind(this),{once:!0})}}function G(e){return async(...t)=>{if(!(0,i._)(this,m)[m])return await(0,i._)(this,S)[S],(0,i._)(this,k)[k].methods[e](this.id,...t)}}async function U(){const{animationData:e,animationUrl:t}=(0,i._)(this,g)[g];if(t&&!e){const e=a.LottieDataCache.get(t),s=e||await fetch(t).then((e=>e.blob())).catch((()=>null));if(!s)throw new l.AnimationDataLoadError;e||a.LottieDataCache.set(t,s),(0,i._)(this,g)[g].animationData=s}}function D(){const e={...(0,i._)(this,g)[g]};return delete e.containers,e}function q(e=(0,i._)(this,g)[g].animationUrl||this.id){(0,i._)(this,g)[g].name=e}function B({width:e,height:t}){e&&((0,i._)(this,g)[g].width=Math.trunc(Math.abs(e))),t&&((0,i._)(this,g)[g].height=Math.trunc(Math.abs(t)))}function V({scale:e=1,upscale:t=!0}){(0,i._)(this,g)[g].scale=e,(0,i._)(this,g)[g].upscale=t,t&&window.devicePixelRatio>1&&((0,i._)(this,g)[g].scale+=window.devicePixelRatio-1),(0,i._)(this,y)[y].width=(0,i._)(this,g)[g].width*(0,i._)(this,g)[g].scale,(0,i._)(this,y)[y].height=(0,i._)(this,g)[g].height*(0,i._)(this,g)[g].scale,(0,i._)(this,y)[y].style.width=`${(0,i._)(this,g)[g].width}px`,(0,i._)(this,y)[y].style.height=`${(0,i._)(this,g)[g].height}px`}function z({width:e,height:t,containers:s,className:n}){e&&t&&((0,i._)(this,y)[y].dataset.testid="lottie",(0,i._)(this,g)[g].containers=s,n&&n.split(" ").forEach((e=>{e&&(0,i._)(this,y)[y].classList.add(e)})))}function F(e){const t=(0,_.getPlayerEventId)({event:e,player:this});(0,i._)(this,k)[k].tasks.set(t,new o.LottiePlayerEventTask(t,(t=>{(0,i._)(this,H)[H](e),this.dispatchEvent(e,t)})))}function $(){(0,i._)(this,m)[m]||((0,i._)(this,m)[m]=!0,(0,i._)(this,y)[y].remove(),this.removeEventListeners(),(0,i._)(this,k)[k].tasks.forEach((e=>{(0,f.isPlayerEvent)({event:e,player:this})&&(0,i._)(this,k)[k].tasks.delete(e.taskUID)})),(0,i._)(this,g)[g].strictCache||a.LottieDataCache.outdate((0,i._)(this,g)[g].animationUrl))}Object.defineProperty(x,w,{writable:!0,value:["ready","destroy","firstFrame","loopComplete","enterFrame"]})},157951:(e,t,s)=>{s.d(t,{LottiePlayerDirection:()=>i});var i=function(e){return e[e.FORWARD=1]="FORWARD",e[e.BACKWARD=-1]="BACKWARD",e}({})},273808:(e,t,s)=>{function i({event:e,player:{id:t}}){return`${e}${t}`}s.d(t,{getPlayerEventId:()=>i})},908575:(e,t,s)=>{function i({event:e,player:t}){return e.taskUID.endsWith(t.id)}s.d(t,{isPlayerEvent:()=>i})},150195:(e,t,s)=>{function i(e){const{paddingTop:t,paddingBottom:s,paddingLeft:i,paddingRight:n,borderTopWidth:r,borderBottomWidth:a,borderLeftWidth:o,borderRightWidth:c}=getComputedStyle(e),d=parseInt(i)+parseInt(n),h=parseInt(t)+parseInt(s),l=parseInt(o)+parseInt(c),u=parseInt(r)+parseInt(a);return{width:Math.trunc(parseInt(e.style.width)||e.clientWidth-d-l||e.offsetWidth)||0,height:Math.trunc(parseInt(e.style.height)||e.clientHeight-h-u||e.offsetHeight)||0}}s.d(t,{getElementSize:()=>i})},505471:(e,t,s)=>{s.d(t,{isIntersectionObserverSupported:()=>i});const i="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},184330:(e,t,s)=>{s.d(t,{isSafari:()=>n});var i=s(958396);const n="safari"in globalThis||i.userAgent&&(/\b(iPad|iPhone|iPod)\b/.test(i.userAgent)||i.userAgent.match("Safari")&&!i.userAgent.match("Chrome"))},488577:(e,t,s)=>{s.d(t,{isTouchSupported:()=>i});const i="undefined"!=typeof window&&("ontouchstart"in window||"DocumentTouch"in window)},351901:(e,t,s)=>{s.d(t,{loadThreads:()=>n});var i=s(351118);function n(){return(0,i.asyncImportLoader)((async()=>{const{EsThread:e,Transfer:t}=await Promise.all([s.e(81399),s.e("langs/web/threads-es")]).then(s.bind(s,808849));return{EsThread:e,Transfer:t}}))}},958396:(e,t,s)=>{s.d(t,{userAgent:()=>i});const i="undefined"!=typeof navigator?navigator.userAgent:null},363046:(e,t,s)=>{function i(e){e.preventDefault(),e.stopPropagation()}s.d(t,{cancelEvent:()=>i})},348385:(e,t,s)=>{s.d(t,{$api:()=>c,APIGate:()=>d,changeAPIOptions:()=>o});var i=s(32489),n=s(293721),r=s(175325),a=s(990490);const o=r.stickersEmojiKeyboard.createEvent(),c=r.stickersEmojiKeyboard.createStore(new a.API({})).on(o,((e,{api:t})=>t)),d=(0,n.createGate)();(0,i.forward)({from:d.state,to:o})},270634:(e,t,s)=>{s.d(t,{$context:()=>c,CONTEXT:()=>a,ContextGate:()=>d});var i=s(32489),n=s(293721),r=s(175325),a=function(e){return e.PHOTO_EDITOR="photoEditor",e}({});const o=r.stickersEmojiKeyboard.createEvent(),c=r.stickersEmojiKeyboard.createStore(null).on(o,((e,{context:t})=>t??null)),d=(0,n.createGate)();(0,i.forward)({from:d.state,to:o})},895380:(e,t,s)=>{s.d(t,{AtomNameByHelpHintId:()=>o,AtomNameByPromoId:()=>d,AvatarSuggestionAtomName:()=>r,HelpHintAtomNames:()=>a,HelpHintIdTypes:()=>i,HelpHintPromoTypes:()=>n});var i=function(e){return e.VMOJI_AVATAR_SUGGESTION="keyboard:stickers_vmoji_avatar_suggestion",e}({}),n=function(e){return e.VMOJI_AVATAR_SUGGESTION="vmoji_avatar_suggestion_stickers_keyboard_hint",e}({});const r="avatarSuggestion",a=[r],o={"keyboard:stickers_vmoji_avatar_suggestion":r},c="newAvatarSuggestionCounter",d={vmoji_avatar_suggestion_stickers_keyboard_hint:c}},175325:(e,t,s)=>{s.d(t,{stickersEmojiKeyboard:()=>i});const i=(0,s(32489).createDomain)()},528079:(e,t,s)=>{s.d(t,{$userEnv:()=>r,setUserEnv:()=>n});var i=s(175325);const n=i.stickersEmojiKeyboard.createEvent(),r=i.stickersEmojiKeyboard.createStore({}).on(n,((e,t)=>t))},990490:(e,t,s)=>{s.d(t,{API:()=>c});var i=s(767396),n=s(719628),r=s(764891),a=s(285627),o=s(869343);class c extends i.API{constructor({onAPIRequest:e,language:t,context:s,logError:c,...d}){super({requestMethod:e,language:t,logError:c},(0,o.isStaticUpdatesManagerEnabled)()?void 0:{userId:d?.userId,source:"stickers"}),this.cache=new n.Cache({api:this,context:s,...d}),(0,o.isStaticUpdatesManagerEnabled)()||(this.updates.addEventListener(i.StickersQueueEventType.UGC_OWNER_UPDATE,r.stickersUGCOwnerUpdateHandler.bind(this)),this.updates.addEventListener(i.StickersQueueEventType.UGC_STICKER_UPDATE,a.stickersUGCStickerUpdateHandler.bind(this)))}}},764891:(e,t,s)=>{function i({detail:{owner_global_id:e}}){this.cache.reloadUGC(e)}s.d(t,{stickersUGCOwnerUpdateHandler:()=>i})},285627:(e,t,s)=>{s.d(t,{stickersUGCStickerUpdateHandler:()=>r});const i=new Map,n=new Set;async function r({detail:{stickers:e}}){const{peerId:t}=this.cache.options;e.forEach((e=>{if(e.owner_id!==t)return;let s=i.get(t);s||(s=[],i.set(t,s));const n=s.findIndex((t=>t.id===e.id&&t.pack_id===e.pack_id&&t.owner_id===e.owner_id));-1!==n?s[n]=e:s.push(e)})),a.call(this)}async function a(){const{peerId:e}=this.cache.options;if(!e||n.has(e))return;const t=i.get(e);if(!t?.length)return;n.add(e),i.delete(e);const s=await this.cache.ugcPacks.get();if(!s?.length)return;const r=new Map(s.map((e=>[e.id,e])));t.forEach((e=>{const{id:t,pack_id:s}=e;if(void 0===s)return;const i=r.get(s);if(!i)return;const n=i.stickers.findIndex((e=>e.id===t));-1!==n&&(i.stickers[n]=e)}));try{await this.cache.ugcPacks.set(s)}catch{}n.delete(e),a.call(this)}},140143:(e,t,s)=>{async function i(){let e=null;try{e=(await this.options.api.store.getFavoriteStickers()).items}catch{}return!!e&&(await this.favoriteStickers.set(e),!0)}s.d(t,{reloadFavoriteStickers:()=>i})},310622:(e,t,s)=>{s.d(t,{reloadGlobal:()=>n});var i=s(270634);async function n(e){var t;if(this.reloading)return!0;this.setReloading(!0);const s=await this.global.get();let[n,r,a]=await Promise.all([this.options.api.store.hasNewItems({type:"stickers",version_hash:String(s?.stickers_version_hash)}).catch((()=>null)),this.stockItems.get(),this.imageConfigs.get()]);if(!n)return this.setReloading(!1),!1;(t=n).sticker_packs_version_hashes||(t.sticker_packs_version_hashes=s?.sticker_packs_version_hashes);const{stickers_version_hash:o,sticker_packs_version_hashes:c,favorite_stickers_version_hash:d,image_configs_version_hash:h,sticker_packs_chunk_size_limit:l,vmoji_promotion:u}=n;(o!==s?.stickers_version_hash||e)&&(r=null,await this.stickers.set(new Map));const b=[this.reloadStockItems({cachedStockItems:e?null:r,actualPacksHashes:e?void 0:c,chunkSize:l}),this.reloadUGC(),this.reloadVmoji(),this.reloadRecentStickers()];this.options.context===i.CONTEXT.PHOTO_EDITOR&&b.push(this.reloadPhotoEditorStickers()),(d!==s?.favorite_stickers_version_hash||e)&&b.push(this.reloadFavoriteStickers()),a&&h===s?.image_configs_version_hash&&!e||b.push(this.reloadImageConfigs());const _=!u?.avatar_suggestion?.character_id;!_&&u?.avatar_suggestion?.character_id!==s?.vmoji_promotion?.avatar_suggestion?.character_id?b.push(this.reloadHelpHint()):_&&this.clearAllHelpHint();const f=await Promise.all(b);this.setReloading(!1);const p=-1===f.findIndex((e=>!e));return p&&n&&(this.global.set(n),this.stickersSync.notify(void 0,!0)),p}},187791:(e,t,s)=>{s.d(t,{clearAllHelpHint:()=>r,clearHelpHintById:()=>n});var i=s(895380);function n(e){this[i.AtomNameByHelpHintId[e]]?.delete()}function r(){i.HelpHintAtomNames.forEach((e=>this[e].delete()))}},599024:(e,t,s)=>{async function i(e){this.clearHelpHintById(e);try{const t=await this.options.api.account.hideHelpHint({hint_id:e});return Boolean(t)}catch(e){return!1}}s.d(t,{hideHelpHint:()=>i})},520729:(e,t,s)=>{s.d(t,{reloadHelpHint:()=>n});var i=s(895380);async function n(){let e=i.HelpHintAtomNames.slice(),t=null;try{t=await this.options.api.account.getHelpHints({categories:"vmoji_promo"})}catch{}return t?.items?(t.items.forEach((t=>{const s=t.id,n=i.AtomNameByHelpHintId[s];n in this&&(this[n]?.set(t,{notify:!0}),e=e.filter((e=>e!==n)))})),e.forEach((e=>{this[e].delete()})),!0):(this.clearAllHelpHint(),!0)}},540468:(e,t,s)=>{s.d(t,{markHelpHintAsViewed:()=>r});var i=s(895380);const n=(0,s(351118).throttle)((function(e,t,s){e.options.api.stickers.markPromoAsViewed({promo_id:t,count:s}).then((s=>{if(s){e[i.AtomNameByPromoId[t]].set(0)}}))}),3e4);function r(e){const t=this[i.AtomNameByPromoId[e]],s=(t?.get()||0)+1;t.set(s),n(this,e,s)}},741707:(e,t,s)=>{async function i(){let e=null;try{e=await this.options.api.store.getStickersImageConfigs()}catch{}return!!e&&(this.imageConfigs.set(e),!0)}s.d(t,{reloadImageConfigs:()=>i})},318680:(e,t,s)=>{async function i(){try{const e=await this.options.api.photos.getEditorStickers();this.photoEditorStickers.set(e.items)}catch{}return!0}s.d(t,{reloadPhotoEditorStickers:()=>i})},456690:(e,t,s)=>{async function i(){let e=null;try{e=(await this.options.api.messages.getRecentStickers()).items}catch{}return e&&this.recentStickers.set(e),!0}s.d(t,{reloadRecentStickers:()=>i})},598284:(e,t,s)=>{async function i(e){if(!e.length)return[];const t=await this.stickers.get()??new Map,s=[];let i=[];for(const n of e){const e=t.get(n);e?i.push(e):s.push(n)}if(!s.length)return i;const n=await this.options.api.store.getStickers({sticker_ids:String(s.join(","))});for(const e of n)e.sticker_id&&t.set(e.sticker_id,e);this.stickers.set(t),i=[];for(const s of e){const e=t.get(s);e&&i.push(e)}return i}s.d(t,{getStickers:()=>i})},514658:(e,t,s)=>{async function i({active:e}){let t=await this.stockItems.get();return t&&(t=t.sort((({product:{vmoji_avatar:e}},{product:{vmoji_avatar:t}})=>Number(Boolean(t))-Number(Boolean(e)))),e&&(t=t.filter((({product:e})=>e.active)))),t}s.d(t,{getStockItems:()=>i})},432924:(e,t,s)=>{async function i({productId:e,stickerId:t}){const s=await this.stockItems.get();let i;if(s&&(e&&(i=s.find((({product:{id:t}})=>t===e))),t&&!i&&(i=s.find((({product:{stickers:e}})=>e&&-1!==e.findIndex((({sticker_id:e})=>e===t)))))),i)return i;if(e)try{i=await this.options.api.store.getStockItemByProductId({type:"stickers",product_id:String(e)})}catch(e){i=void 0}if(i)return this.updateStockItems([i]),i;if(t)try{i=await this.options.api.store.getStockItemByStickerId({sticker_id:t})}catch(e){i=void 0}return i&&this.updateStockItems([i]),i}s.d(t,{loadStockItems:()=>i})},74737:(e,t,s)=>{s.d(t,{reloadStockItems:()=>r});var i=s(351118);const n=new Map;async function r({chunkSize:e=25,cachedStockItems:t,actualPacksHashes:s}){let r=n.get(this.stickersSync.key);r||(r=new Map,n.set(this.stickersSync.key,r));let a=t?.reduce(((e,{product:{id:t},version_hash:i})=>{const n=s?.find((({pack_id:e})=>e===t));if(!n)return e;return n.hash!==i&&e.push(t),e}),[]);const o=!a;if(o)try{const{items:e}=await this.options.api.store.getProducts({type:"stickers",filters:"purchased"});a=e.map((({id:e})=>e))}catch(e){a=void 0}if(!a?.length)return!0;await this.stickers.set(new Map);let c=await Promise.all((0,i.chunkArray)(a,e).map((e=>{const t=String(e);return r?.get(t)||this.options.api.store.getStockItems({type:"stickers",product_ids:t}).then((e=>(r?.set(t,e),e)))}))).then((e=>e.reduce(((e,{items:t})=>(e.push(...t),e)),[]).filter((e=>!Array.isArray(e))))).catch((()=>null));if(!c)return!1;if(t?.length){const e=new Map(c.map((e=>[e.product.id,e])));c=t=t.map((t=>e.get(t.product.id)||t))}return c&&a&&o&&(c=c.sort((({product:{id:e}},{product:{id:t}})=>Number(a?.indexOf(e))-Number(a?.indexOf(t))))),await this.stockItems.set(c),n.delete(this.stickersSync.key),!0}},261657:(e,t,s)=>{async function i(e,t){let s=await this.stockItems.get();if(s){const t=new Map(s.map((e=>{const{product:{id:t}}=e;return[t,e]})));e.forEach((e=>{const{product:{id:s}}=e;t.set(s,e)})),s=[...t.values()]}return this.stockItems.set(s||e,t)}s.d(t,{updateStockItems:()=>i})},892816:(e,t,s)=>{function i(){this.ugcInfo.delete(),this.ugcPacks.delete()}s.d(t,{clearUGC:()=>i})},843356:(e,t,s)=>{async function i(){const e=await this.ugcInfo.get();if(!e?.show_keyboard_onboarding)return!1;const{owner_id:t}=e;e.show_keyboard_onboarding=!1,this.ugcInfo.set(e);try{const e=await this.options.api.stickers.hideUGCKeyboardOnboarding({owner_id:t});return Boolean(e)}catch(e){return!1}}s.d(t,{hideUGCOnboarding:()=>i})},593920:(e,t,s)=>{s.d(t,{reloadUGC:()=>r});var i=s(468073),n=s(869343);async function r(e){if(!(0,n.isUgcStickersEnabled)())return this.clearUGC(),!0;const{peerId:t}=this.options;if(!t||!i.Ranges.isChatOrChannelPeer(t))return!0;const s=await this.ugcPacks.get();let r;try{r=(await this.options.api.stickers.getUGCPackLists({owner_ids:String(t),owner_global_ids:e})).lists[0]}catch{}if(!r)return this.ugcInfo.delete(),this.ugcPacks.delete(),!0;this.ugcInfo.set(r);const{items:a}=r;if(!a.length)return this.ugcPacks.delete(),!0;const o=s?new Map(s.map((({id:e,hash:t})=>[e,t]))):void 0,c=a.reduce(((e,{pack_id:t,hash:s})=>{const i=o?.get(t);return i!==s&&e.push(t),e}),[]);if(!c.length)return!0;let d;try{d=(await this.options.api.stickers.getUGCPacks({owner_id:t,pack_ids:String(c)})).packs}catch{}return!d||(this.ugcPacks.set(d),!0)}},938690:(e,t,s)=>{async function i(){const e=await this.global.get();e?.vmoji_promotion&&(e.vmoji_promotion.dot_color=void 0,this.global.set(e,{notify:!1}))}s.d(t,{clearVmojiPromotionDot:()=>i})},163034:(e,t,s)=>{async function i(){if(this.hasAvatar.get())return!0;try{const e=await this.options.api.vmoji.getAvatar();this.hasAvatar.set(Boolean(e.characters?.length))}catch{}return!0}s.d(t,{reloadVmoji:()=>i})},719628:(e,t,s)=>{s.d(t,{Cache:()=>E});var i=s(724361),n=s(955326),r=s(100596),a=s(892816),o=s(593920),c=s(163034),d=s(598284),h=s(599024),l=s(310622),u=s(514658),b=s(520729),_=s(432924),f=s(74737),p=s(261657),w=s(540468),k=s(843356),g=s(741707),y=s(456690),m=s(318680),v=s(938690),j=s(140143),S=s(187791);class E{subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}get reloading(){return this.isReloading}setReloading(e){this.isReloading=e}destroy(){this.stickersSync.destroy(),this.stickersAsync.destroy()}constructor(e){this.isReloading=!1,this.listeners=new Set,this.reload=l.reloadGlobal.bind(this),this.reloadVmoji=c.reloadVmoji.bind(this),this.clearVmojiPromotionDot=v.clearVmojiPromotionDot.bind(this),this.getStockItem=_.loadStockItems.bind(this),this.getStockItems=u.getStockItems.bind(this),this.updateStockItems=p.updateStockItems.bind(this),this.reloadStockItems=f.reloadStockItems.bind(this),this.reloadUGC=o.reloadUGC.bind(this),this.clearUGC=a.clearUGC.bind(this),this.hideUGCOnboarding=k.hideUGCOnboarding.bind(this),this.reloadRecentStickers=y.reloadRecentStickers.bind(this),this.reloadPhotoEditorStickers=m.reloadPhotoEditorStickers.bind(this),this.reloadFavoriteStickers=j.reloadFavoriteStickers.bind(this),this.reloadImageConfigs=g.reloadImageConfigs.bind(this),this.getStickers=d.getStickers.bind(this),this.reloadHelpHint=b.reloadHelpHint.bind(this),this.clearHelpHintById=S.clearHelpHintById.bind(this),this.clearAllHelpHint=S.clearAllHelpHint.bind(this),this.hideHelpHint=h.hideHelpHint.bind(this),this.markHelpHintAsViewed=w.markHelpHintAsViewed.bind(this);const{userId:t,peerId:s}=e;this.options=e;const E=(0,i.createSyncStore)({dbName:"stickers",storeName:String(t),version:1}),I=(0,n.createAsyncStore)({dbName:"stickers",storeName:String(t),version:1});this.stickersSync=E,this.stickersAsync=I,this.global=I.createAtom("global"),this.stockItems=I.createAtom("stockItems"),this.imageConfigs=I.createAtom("imageConfigs"),this.recentStickers=I.createAtom("recentStickers"),this.photoEditorStickers=I.createAtom("photoEditorStickers"),this.favoriteStickers=I.createAtom("favoriteStickers"),this.avatarSuggestion=I.createAtom("avatarSuggestion"),this.stickers=I.createAtom("stickers"),this.hasAvatar=E.createAtom("hasAvatar",r.SyncAtomType.BOOLEAN),this.recentEmoji=E.createAtom("recentEmoji",r.SyncAtomType.OBJECT),this.tabbarActiveTab=E.createAtom("tabbarActiveTab",r.SyncAtomType.STRING),this.stickersActiveTab=E.createAtom("stickersActiveTab",r.SyncAtomType.NUMBER),this.newAvatarSuggestionCounter=E.createAtom("newAvatarSuggestionCounter",r.SyncAtomType.NUMBER);const M=(0,n.createAsyncStore)({dbName:"stickers-ugc",storeName:`${t}-${s}`,version:1});this.ugcAsync=M,this.ugcInfo=M.createAtom("ugcInfo"),this.ugcPacks=M.createAtom("ugcPacks"),this.getStickersImageConfigs=this.imageConfigs.get.bind(this.imageConfigs)}}},869343:(e,t,s)=>{s.d(t,{isPopUpStickersEnabled:()=>o,isPromoVmojiCounterEnabled:()=>a,isStaticUpdatesManagerEnabled:()=>c,isStickersPickerFastSelectPackEnabled:()=>d,isUgcStickersEnabled:()=>r});var i=s(528079);function n(e){return Boolean(i.$userEnv.getState()[e])}const r=()=>n("stickers.ugc"),a=()=>n("vmoji.promo.avatar_suggestion.promo_counter"),o=()=>n("stickers.popup"),c=()=>n("static_updates_manager_in_sticker_picker"),d=()=>n("sticker_picker_fast_select_pack")},523417:(e,t,s)=>{s.d(t,{expectNever:()=>i});const i=e=>{throw new TypeError(`Unexpected value: ${e}`)}},245426:(e,t,s)=>{s.d(t,{default:()=>i});const i={mourning:"LeftMenu__mourning--YPIM1"}},319204:(e,t,s)=>{s.d(t,{Icon2418CircleOutline:()=>r});var i=s(474848),n=(s(296540),s(506447));const r=e=>(0,i.jsxs)(n.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"18_circle_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:[(0,i.jsx)("path",{fillRule:"evenodd",d:"M12 2.1c5.467 0 9.9 4.433 9.9 9.9s-4.433 9.9-9.9 9.9-9.9-4.433-9.9-9.9S6.533 2.1 12 2.1m0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9",clipRule:"evenodd"}),(0,i.jsx)("path",{d:"M9.137 15.998c.585 0 .977-.382.977-.973V9.101C10.114 8.424 9.701 8 8.992 8c-.387 0-.72.043-1.134.322l-1.466 1c-.28.193-.392.413-.392.698 0 .397.285.682.666.682.188 0 .306-.043.483-.167l.967-.671h.038v5.161c0 .591.397.973.983.973m5.11.002c1.921 0 3.253-.908 3.253-2.25 0-1.03-.774-1.753-1.842-1.938v-.036c.92-.206 1.563-.866 1.563-1.695 0-1.21-1.21-2.081-2.974-2.081-1.758 0-2.973.871-2.973 2.075 0 .845.647 1.495 1.573 1.7v.037c-1.068.185-1.847.904-1.847 1.933C11 15.092 12.321 16 14.247 16m0-4.774c-.62 0-1.063-.39-1.063-.95 0-.565.448-.95 1.063-.95.621 0 1.074.385 1.074.95 0 .56-.447.95-1.074.95m0 3.443c-.72 0-1.22-.449-1.22-1.066 0-.608.5-1.046 1.22-1.046.727 0 1.227.438 1.227 1.046 0 .617-.5 1.066-1.227 1.066"})]})},77783:(e,t,s)=>{function i(e){return new Promise(((t,s)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>s(e.error)}))}function n(e,t){const s=indexedDB.open(e);s.onupgradeneeded=()=>s.result.createObjectStore(t);const n=i(s);return(e,s)=>n.then((i=>s(i.transaction(t,e).objectStore(t))))}let r;function a(){return r||(r=n("keyval-store","keyval")),r}function o(e,t=a()){return t("readonly",(t=>i(t.get(e))))}function c(e,t,s=a()){return s("readwrite",(s=>(s.put(t,e),i(s.transaction))))}function d(e,t,s=a()){return s("readwrite",(s=>new Promise(((n,r)=>{s.get(e).onsuccess=function(){try{s.put(t(this.result),e),n(i(s.transaction))}catch(e){r(e)}}}))))}function h(e,t=a()){return t("readwrite",(t=>(t.delete(e),i(t.transaction))))}function l(e=a()){return e("readwrite",(e=>(e.clear(),i(e.transaction))))}s.d(t,{clear:()=>l,createStore:()=>n,del:()=>h,get:()=>o,set:()=>c,update:()=>d})},657697:(e,t,s)=>{s.d(t,{default:()=>n});var i=s(818593);const n=function(e,t){var s;if("function"!=typeof t)throw new TypeError("Expected a function");return e=(0,i.default)(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=void 0),s}}},33371:(e,t,s)=>{s.d(t,{default:()=>n});var i=s(657697);const n=function(e){return(0,i.default)(2,e)}}},d={};function __webpack_require__(e){var t=d[e];if(void 0!==t)return t.exports;var s=d[e]={id:e,loaded:!1,exports:{}};return c[e].call(s.exports,s,s.exports,__webpack_require__),s.loaded=!0,s.exports}__webpack_require__.m=c,e=[],__webpack_require__.O=(t,s,i,n)=>{if(!s){var r=1/0;for(d=0;d<e.length;d++){for(var[s,i,n]=e[d],a=!0,o=0;o<s.length;o++)(!1&n||r>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](s[o])))?s.splice(o--,1):(a=!1,n<r&&(r=n));if(a){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,i,n]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};t=t||[null,s({}),s([]),s(s)];for(var a=2&i&&e;"object"==typeof a&&!~t.indexOf(a);a=s(a))Object.getOwnPropertyNames(a).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,s)=>(__webpack_require__.f[s](e,t),t)),[])),__webpack_require__.u=e=>22081===e?"web/chunks/24b1ff74.async.ce45415c.js":51915===e?"web/chunks/0237bd22.async.018ce4c1.js":18624===e?"web/chunks/3285fd7d.async.635597ef.js":64007===e?"web/chunks/acb14247.async.95ee4cdd.js":36943===e?"web/chunks/b8ca2caf.async.e8c7c264.js":76573===e?"web/chunks/2f5bcbf8.async.b5bb275d.js":98897===e?"web/chunks/34566482.async.a228f4bf.js":57859===e?"web/chunks/15877459.async.7e9160d5.js":70715===e?"web/chunks/f70c08bb.async.d3181062.js":20089===e?"web/chunks/31025993.async.188a660a.js":6827===e?"web/chunks/podcasts_web.7b353ecc.js":96851===e?"web/chunks/bee66b22.async.f83a167a.js":95698===e?"web/chunks/2cb3ca65.async.fe6b01ed.js":88651===e?"web/chunks/bookmarkClipPost.29e87f32.js":61037===e?"web/chunks/grip-lib.e290cff5.js":24639===e?"web/chunks/plugins_maps_mmrgl_script_chunk.e5fd914b.js":30685===e?"web/chunks/plugins_maps_mmrgl_style_chunk.961eadc7.js":8870===e?"web/chunks/hls_lib.c0100db1.js":60712===e?"web/chunks/dae511d8.async.49386649.js":96050===e?"web/chunks/e4dd12c8.async.c5745238.js":69285===e?"web/chunks/305139c6.async.967971c0.js":27392===e?"web/chunks/9b1ce1a1.async.1f388dce.js":54462===e?"web/chunks/950fb940.async.da4ef98a.js":89433===e?"web/chunks/c87a1172.async.46f9ef07.js":42885===e?"web/chunks/f940ca6a.async.e4ccb1c0.js":34190===e?"web/chunks/audio_config_legacy.9cd2419b.js":82438===e?"web/chunks/audio_config_audioAdvertisingBannerViewModelProvider.8cb967b6.js":18586===e?"web/chunks/audio_config_overrides.eb155c4d.js":28365===e?"web/chunks/749b661c.async.80d91e90.js":98271===e?"web/chunks/audio_web_globalPlayerImpl.f94e09df.js":75466===e?"web/chunks/642a4b04.async.e8d1ebf7.js":37310===e?"web/chunks/8a0e825b.async.5a82c050.js":34770===e?"web/chunks/6236df4b.async.37527616.js":21589===e?"web/chunks/321e636f.async.25760e30.js":84835===e?"web/chunks/unauth_action_box.b2d9a4a0.js":30072===e?"web/chunks/showCaptchaPopup.4a5f24ea.js":51490===e?"web/chunks/showCaptchaSDK.a83f17a0.js":35285===e?"web/chunks/eb8ac05b.async.1bf4bbf7.js":77312===e?"web/chunks/3824b17d.async.a378a5c5.js":22801===e?"web/chunks/db3c5e15.async.4f1fdf4b.js":13542===e?"web/chunks/nav.93b3ab91.js":19072===e?"web/chunks/left_menu_store.9f099394.js":6694===e?"web/chunks/menu_settings.c5e1ef91.js":81399===e?"web/chunks/threads-es.ce40a11c.js":82365===e?"web/chunks/gifts-open-gifts-catalog.b4ed4469.js":10190===e?"web/chunks/0eb063da.async.de14f96f.js":68425===e?"web/chunks/sticker-gift-modal-legacy.3c78bc02.js":19822===e?"web/chunks/4ead78dd.async.bdb6ec85.js":52007===e?"web/chunks/gift-modal-legacy.994f64a6.js":5375===e?"web/chunks/93d4eaf6.async.2f14edfa.js":14262===e?"web/chunks/3a0fa345.async.d001c53f.js":7743===e?"web/chunks/a73cb6dd.async.8f58638e.js":94160===e?"web/chunks/75f64ad0.async.06f64f4b.js":36502===e?"web/chunks/NewStickerPicker.f4fb39e2.js":23666===e?"web/chunks/rlottie.487c959e.js":81652===e?"web/chunks/b962db66.async.1ba8f7cd.js":21904===e?"web/chunks/8dd4eacf.async.9ae66f77.js":52731===e?"web/chunks/stickers-layer-view.56dc0175.js":16846===e?"web/chunks/stickers-layer-purchase-details-view.b984e679.js":64273===e?"web/chunks/stickers-random-selector-view.5ae4a1ca.js":12318===e?"web/chunks/stickers-random-selector-packs-view.313e785a.js":71409===e?"web/chunks/stickers-random-selector-result-view.4cd602e7.js":14545===e?"web/chunks/e605e28e.async.e2c9f10f.js":7919===e?"web/chunks/adcd3fe8.async.c61a2fbb.js":16729===e?"web/chunks/68797ba6.async.a541069d.js":48296===e?"web/chunks/aa9a4412.async.aad8157b.js":88293===e?"web/chunks/0234490b.async.ad81b610.js":36===e?"web/chunks/fbd8fb30.async.c4a9ccc1.js":75908===e?"web/chunks/6016368a.async.65d8c846.js":16131===e?"web/chunks/aaf29586.async.393e97a4.js":33641===e?"web/chunks/audio_modals_MusicTrackList.08e2a1ca.js":1715===e?"web/chunks/AudioLongtapModal.ed3a9f5f.js":4871===e?"web/chunks/web_audio_AnyAudioLegacyService.7ff821ce.js":26731===e?"web/chunks/im_chat_preview.fb1c72cd.js":62229===e?"web/chunks/z_nav.a3696b2c.js":20781===e?"web/chunks/tutorial.b826ca3e.js":97126===e?"web/chunks/WebDI.f301a714.js":14801===e?"web/chunks/WebLayers.135b788f.js":38302===e?"web/chunks/71806bb9.async.d12c656b.js":58020===e?"web/chunks/f7f88f40.async.16f43294.js":17102===e?"web/chunks/3b42c1ea.async.5f4d6d48.js":79934===e?"web/chunks/e4ca2309.async.9b62ada8.js":51943===e?"web/chunks/VideoUpload.a163b3a9.js":9397===e?"web/chunks/7ac15393.async.4f8568b4.js":96025===e?"web/chunks/e03e4ed2.async.d9c8fe47.js":87108===e?"web/chunks/98b8e735.async.6177099d.js":1071===e?"web/chunks/d3d91b63.async.f8a2bc87.js":31325===e?"web/chunks/1e8b9645.async.c44dc075.js":80178===e?"web/chunks/2245988e.async.3d53c07d.js":1093===e?"web/chunks/10c1fbfa.async.9f6277a4.js":94781===e?"web/chunks/3c5e0eda.async.01b3cb30.js":57220===e?"web/chunks/0152aa47.async.21d8a853.js":15642===e?"web/chunks/6d651364.async.8e717800.js":83521===e?"web/chunks/7f6c5089.async.650a28c1.js":10275===e?"web/chunks/bec0e41d.async.72955160.js":63836===e?"web/chunks/MessengerClipsModal.93dadb52.js":50453===e?"web/chunks/web_nav_AudioPlayer.5127a502.js":42255===e?"web/chunks/wikiModalExampleInitiator.0d6394c9.js":45055===e?"web/chunks/8a71e637.async.b3e7bbcb.js":56965===e?"web/chunks/stories_web_lib.ab663077.js":53927===e?"web/chunks/questions_boxes_web.ed4d239d.js":74336===e?"web/chunks/show_audio_playlist.12a42d75.js":22095===e?"web/chunks/6bbb4482.async.b165e220.js":88871===e?"web/chunks/7031c93b.async.80a5e56d.js":90417===e?"web/chunks/f80a1484.async.2d4d6374.js":39692===e?"web/chunks/2b6d6bdc.async.2533a993.js":10774===e?"web/chunks/show_attachment_audio_list.1c422830.js":17895===e?"web/chunks/money_transfer_box.2625a47e.js":50905===e?"web/chunks/money_transfer.af174bfd.js":2166===e?"web/chunks/showDonutSubscriptionModal.3c915577.js":4752===e?"web/chunks/c4851f31.async.0d56331f.js":29311===e?"web/chunks/feed-client-nav-skeleton.e75a1812.js":56091===e?"web/chunks/feed-client-nav-async-right-block.d99401bf.js":44484===e?"web/chunks/5db42b40.async.15d03fbf.js":29e3===e?"web/chunks/cdac2895.async.5deaf866.js":87352===e?"web/chunks/c3bbb773.async.7218126f.js":91193===e?"web/chunks/ee2b7e73.async.bf90e623.js":88386===e?"web/chunks/gifts-catalog-modal-legacy.721e7795.js":94220===e?"web/chunks/03a98e38.async.85e3cff9.js":59933===e?"web/chunks/ReportMiniApp.7e02563c.js":66434===e?"web/chunks/ReportsProfileModal.c69f4e97.js":99595===e?"web/chunks/ReportForm.05c3a797.js":73214===e?"web/chunks/SilentModeForms.03437c14.js":7894===e?"web/chunks/StickersKit-AgeRestrictionModal.b21151e0.js":40966===e?"web/chunks/audio_modals_AudioForbiddance.ade3fe06.js":47135===e?"web/chunks/audio_onMediaAttachmentPlayer.a51b33a8.js":69240===e?"web/chunks/audio_postingPlayer.31dc02eb.js":99370===e?"web/chunks/VideoEditorModal.ff45b8d8.js":85596===e?"web/chunks/34335d63.async.8fefb69b.js":75090===e?"web/chunks/video_upload_modal.c9a1da9e.js":95805===e?"web/chunks/PublishClipToVideoModal.91f42aba.js":73509===e?"web/chunks/sharedVideoUploadState.3e6090c3.js":91906===e?"web/chunks/VideoUploadModal.8ad02bc6.js":74205===e?"web/chunks/VideoExternalUploadModal.112c720c.js":14608===e?"web/chunks/bf0af950.async.e62a161c.js":36637===e?"web/chunks/ClipUploadModal.c1a46779.js":18493===e?"web/chunks/AddClipToVideoBlock.55c4bf1a.js":56099===e?"web/chunks/OpenNewVideoEditorButton.28514d92.js":12477===e?"web/chunks/OnboardingTooltipMarker-1.8b4efdb3.js":25126===e?"web/chunks/OnboardingTooltipMarker-2.82800be7.js":89519===e?"web/chunks/OnboardingTooltipMarker-3.2f93e038.js":80496===e?"web/chunks/OnboardingTooltipMarker-4.ea0bbc95.js":93305===e?"web/chunks/OnboardingTooltipMarker-5.f7e7d7db.js":6114===e?"web/chunks/OnboardingTooltipMarker-6.48d9f311.js":25153===e?"web/chunks/"+e+".35b53cd8.js":18562===e?"web/chunks/"+e+".1e04ee91.js":65852===e?"web/chunks/7a162ebe.async.4c3022d4.js":90874===e?"web/chunks/"+e+".2ac3b8fc.js":25817===e?"web/chunks/"+e+".90f724a2.js":92105===e?"web/chunks/"+e+".a81879ec.js":50756===e?"web/chunks/sticker.de3a87c6.js":84714===e?"web/chunks/91e20a01.async.04441211.js":43162===e?"web/chunks/framer-motion-entrypoint.e7eaa013.js":2076===e?"web/chunks/1c4b5a5b.async.03b4a56b.js":71992===e?"web/chunks/95dd234f.async.bd143eb0.js":43403===e?"web/chunks/bb6fffaa.async.94a0475d.js":73238===e?"web/chunks/40de4f00.async.e536ee45.js":99056===e?"web/chunks/VideoShareModal.b795352f.js":12334===e?"web/chunks/stories-perf-metrics.0c2b96ce.js":54833===e?"web/chunks/performance-stats.051b6238.js":9635===e?"web/chunks/9635.8d8ecbdf.js":55475===e?"web/chunks/407d3781.async.10400d85.js":14407===e?"web/chunks/ddac83eb.async.4255c7e8.js":35656===e?"web/chunks/aae5a8aa.async.0d8c8226.js":71011===e?"web/chunks/4f2708c4.async.4b2c13a1.js":32643===e?"web/chunks/story_blocks.b7a6bcc8.js":43451===e?"web/chunks/MiniAppService_MiniApp.613f9887.js":36182===e?"web/chunks/66a232f7.async.38f278f5.js":96374===e?"web/chunks/storyPublisher.696922ba.js":5333===e?"web/chunks/stories-editor-fonts.5cff632e.js":56560===e?"web/chunks/CreateVideoChannelModal.2cc0c85b.js":8559===e?"web/chunks/ExitConfirmationModal.697af2aa.js":40953===e?"web/chunks/AddClipToVideoModal.f92debb1.js":60274===e?"web/chunks/ClipPlayerModule.320862e1.js":22698===e?"web/chunks/web_index.17e54bf4.js":76376===e?"web/chunks/renderPlayerOverlay.d4a70be4.js":64713===e?"web/chunks/"+e+".27a42353.js":23922===e?"web/chunks/"+e+".b3b19622.js":16067===e?"web/chunks/HintModal.77684fb3.js":76849===e?"web/chunks/6270a006.async.638ce0ba.js":96912===e?"web/chunks/3caf44bd.async.72aa3b24.js":13520===e?"web/chunks/b6bddc97.async.6f6d4d4d.js":82321===e?"web/chunks/LiveStatsModal.954261ee.js":84616===e?"web/chunks/StopLiveModal.391a730f.js":75846===e?"web/chunks/14e762e7.async.7f99f547.js":7651===e?"web/chunks/a93f3a47.async.a41135a7.js":32759===e?"web/chunks/AddToChannelModal.0412ee40.js":79894===e?"web/chunks/53684908.async.458717a1.js":93617===e?"web/chunks/LiveSettingsModal.b55cfacc.js":94515===e?"web/chunks/c908b95b.async.965bbede.js":55631===e?"web/chunks/SubscriptionModal.9c57de23.js":2408===e?"web/chunks/MusicShareModal.25f328df.js":84630===e?"web/chunks/MusicUnauthModal.744774d8.js":38308===e?"web/chunks/mvk-logout-modal.7d335980.js":37933===e?"web/chunks/33d96328.async.188e2488.js":82375===e?"web/chunks/3472d578.async.c8697663.js":85829===e?"web/chunks/7ed679fd.async.f71785ce.js":50915===e?"web/chunks/stories-creator-legacy-modal.9f3d41b7.js":9994===e?"web/chunks/HTMLToImage.b391ad22.js":59039===e?"web/chunks/audio_mobile_globalPlayerImpl.9a83c43c.js":71393===e?"web/chunks/stories-creator-ord-app.fbe498ae.js":75477===e?"chunks/"+e+".2ff50533.js":30420===e?"chunks/"+e+".8b6ae694.js":{17356:"web/chunks/videoplayer-interactive",63616:"web/chunks/draggable",79210:"web/chunks/audioplayer-lib"}[e]+"."+{17356:"64323fe3",63616:"7f6fddff",79210:"87eeff85"}[e]+".js",__webpack_require__.miniCssF=e=>79210===e?"web/chunks/audioplayer-lib.f7dedc76.css":{6827:1,18586:1,98271:1}[e]?"web/chunks/9f1d8ffd.css":30685===e?"web/chunks/d5a750da.css":{84835:1,22698:1,84630:1}[e]?"web/chunks/879b64d4.css":30072===e?"web/chunks/6dfda48d.css":6694===e?"web/chunks/e866bb9e.css":68425===e?"web/chunks/0c8c447f.css":52007===e?"web/chunks/2175c5a6.css":36502===e?"web/chunks/3230b445.css":23666===e?"web/chunks/e600429c.css":52731===e?"web/chunks/df40e85d.css":16846===e?"web/chunks/72f110db.css":64273===e?"web/chunks/aaf8817d.css":12318===e?"web/chunks/b16e8aec.css":71409===e?"web/chunks/6c796306.css":33641===e?"web/chunks/1bdac0bd.css":1715===e?"web/chunks/bc991442.css":51943===e?"web/chunks/afb5d2d5.css":63836===e?"web/chunks/b9ef27b2.css":{29311:1,56091:1}[e]?"web/chunks/bab20ffc.css":88386===e?"web/chunks/18a0d245.css":{59933:1,55631:1}[e]?"web/chunks/0268316e.css":66434===e?"web/chunks/f11dbb2f.css":99595===e?"web/chunks/9791d4ce.css":73214===e?"web/chunks/06964372.css":7894===e?"web/chunks/9e9b513b.css":40966===e?"web/chunks/bfb37ed0.css":99370===e?"web/chunks/de279249.css":75090===e?"web/chunks/e5a245a8.css":95805===e?"web/chunks/78e1dd9d.css":73509===e?"web/chunks/d4b0dd83.css":{91906:1,74205:1}[e]?"web/chunks/1b17a7df.css":36637===e?"web/chunks/8b29a3ee.css":18493===e?"web/chunks/f84a06b6.css":50756===e?"web/chunks/a37ed021.css":99056===e?"web/chunks/7630872b.css":32643===e?"web/chunks/3a629fad.css":5333===e?"web/chunks/d05ec3bc.css":40953===e?"web/chunks/3f1528d1.css":60274===e?"web/chunks/48d69d56.css":76376===e?"web/chunks/92d01dc8.css":82321===e?"web/chunks/ae24e4bc.css":32759===e?"web/chunks/5f480b04.css":93617===e?"web/chunks/884ded26.css":38308===e?"web/chunks/706e8e64.css":50915===e?"web/chunks/473b0504.css":71393===e?"web/chunks/871d8d85.css":void 0,__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},__webpack_require__.l=(e,t,s,n)=>{if(i[e])i[e].push(t);else{var r,a;if(void 0!==s)for(var o=document.getElementsByTagName("script"),c=0;c<o.length;c++){var d=o[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+s){r=d;break}}r||(a=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack","vk:"+s),r.src=e),i[e]=[t];var h=(t,s)=>{r.onerror=r.onload=null,clearTimeout(l);var n=i[e];if(delete i[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(s))),t)return t(s)},l=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),a&&document.head.appendChild(r)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",n=__webpack_require__.u,r=__webpack_require__.e,a={},o={},__webpack_require__.u=function(e){return n(e)+(a.hasOwnProperty(e)?"?"+a[e]:"")},__webpack_require__.e=function(e){return r(e).catch((function(t){var s=o.hasOwnProperty(e)?o[e]:3;if(s<1){var i=n(e);throw t.message="Loading chunk "+e+" failed after 3 retries.\n("+i+")",t.request=i,t}return new Promise((function(t){var i,n=3-s+1;setTimeout((function(){var i="cache-bust=true&retry-attempt="+n;a[e]=i,o[e]=s-1,t(__webpack_require__.e(e))}),(i=n,1e3*Math.pow(3,i)))}))}))},(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,s)=>{var i=__webpack_require__.miniCssF(e),n=__webpack_require__.p+i;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var n=(a=s[i]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===e||n===t))return a}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){var a;if((n=(a=r[i]).getAttribute("data-href"))===e||n===t)return a}})(i,n))return t();((e,t,s,i,n)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",__webpack_require__.nc&&(r.nonce=__webpack_require__.nc),r.onerror=r.onload=s=>{if(r.onerror=r.onload=null,"load"===s.type)i();else{var a=s&&s.type,o=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+o+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=o,r.parentNode&&r.parentNode.removeChild(r),n(c)}},r.href=t,s?s.parentNode.insertBefore(r,s.nextSibling):document.head.appendChild(r)})(e,n,null,t,s)})),t={88492:0};__webpack_require__.f.miniCss=(s,i)=>{t[s]?i.push(t[s]):0!==t[s]&&{1715:1,5333:1,6694:1,6827:1,7894:1,12318:1,16846:1,18493:1,18586:1,22698:1,23666:1,29311:1,30072:1,30685:1,32643:1,32759:1,33641:1,36502:1,36637:1,38308:1,40953:1,40966:1,50756:1,50915:1,51943:1,52007:1,52731:1,55631:1,56091:1,59933:1,60274:1,63836:1,64273:1,66434:1,68425:1,71393:1,71409:1,73214:1,73509:1,74205:1,75090:1,76376:1,79210:1,82321:1,84630:1,84835:1,88386:1,91906:1,93617:1,95805:1,98271:1,99056:1,99370:1,99595:1}[s]&&i.push(t[s]=e(s).then((()=>{t[s]=0}),(e=>{throw delete t[s],e})))}}})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={88492:0};__webpack_require__.f.j=(t,s)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else if(/^(1(0(190|275|71|774|93)|2(318|334|477)|35(20|42)|4(262|407|545|608|801|925)|6(067|131|729|846)|7(102|15|356|895)|8(493|562|586|624)|(564|907|982)2)|2(0(089|76|781)|1(529|589|66|904)|2(081|095|698|801)|3(592|666|922)|5(126|153|817)|408|4639|6731|7392|8365|9000|9311)|3(6(|182|502|637|943)|830[28]|(068|132|528)5|(419|477|731)0|0072|2643|2759|3641|5656|7933|9692)|4(09(53|66)|3(162|403|451)|(225|288|505|713)5|4484|752|8296|871)|5(0(453|560|756|905|915)|1(490|915|943)|3(33|75|927)|6(09[19]|560|965)|(27|56)31|(48|99)33|(72|80)20|2007|4462|5475|7859|9039)|6(0(077|274|712)|4(007|273|713)|92(40|85)|(11|643|69)4|1037|2229|2791|3616|3836|5852|827|8425)|7(1(011|393|409|992)|3(214|238|509)|5(090|466|846|908)|6(2|376|51|573|849)|9(19|210|894|934)|0715|4205|4336|7312|743|894)|8(1(248|399|652)|2(3(21|65|75)|438)|4(616|630|714|835)|5(59(|6)|829)|8(293|386|492|651|70|871)|9(433|519|631|887)|0178|0496|3521|7108|7352)|9(1(193|498|906)|3(305|617|97)|4(160|220|515|781)|6(025|050|35|374|851|912)|9(056|370|595|94)|(21|58)05|0417|0874|5698|7126|8271|8897))$/.test(t)){var n=new Promise(((s,n)=>i=e[t]=[s,n]));s.push(i[2]=n);var r=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(r,(s=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var n=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;a.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",a.name="ChunkLoadError",a.type=n,a.request=r,i[1](a)}}),"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=t=>0===e[t];var t=(t,s)=>{var i,n,[r,a,o]=s,c=0;if(r.some((t=>0!==e[t]))){for(i in a)__webpack_require__.o(a,i)&&(__webpack_require__.m[i]=a[i]);if(o)var d=o(__webpack_require__)}for(t&&t(s);c<r.length;c++)n=r[c],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(d)},s=self.webpackChunkvkweb=self.webpackChunkvkweb||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{var e={},t={podcasts_web:"2aff0688e476525d",bookmarkClipPost:"f980fda40f715b2d",WebDI:"71122bffaa4f74c1",audio_config_legacy:"d45e6db72f23b09d",audio_config_overrides:"973d2e8046cab47e",audio_web_globalPlayerImpl:"f60581a0b0df2bf4",unauth_action_box:"537f133472cf5648",showCaptchaPopup:"efc84820ed8bb89c",showCaptchaSDK:"722622a930e4653e",nav:"15cd3e3c3fed1207",left_menu_store:"c9eed939813f6cda",menu_settings:"a8f4f383337e5768",ReportMiniApp:"2188a4bfd06d1e7c",ReportsProfileModal:"23579a018d596229",ReportForm:"f3854745714580bd",SilentModeForms:"c62172e8ae356a01",VideoUpload:"5e66e4acd3142b13",MessengerClipsModal:"6d747a1bcbb1e7de",storyPublisher:"ed9421807a6b4284","gifts-open-gifts-catalog":"0e81b7cdae451ee5",wikiModalExampleInitiator:"be30e82edc1853fe",stories_web_lib:"b1d2f13174001e86",show_audio_playlist:"d43416e3e424607e",show_attachment_audio_list:"124f8ba830be7230",money_transfer_box:"ef69c4589df71bb0",money_transfer:"899fd68cc954af25","sticker-gift-modal-legacy":"a980835792b72277","gift-modal-legacy":"5746246ae20fed8b","feed-client-nav-skeleton":"56ba9b41383f23ed","feed-client-nav-async-right-block":"56ba9b41383f23ed",audio_modals_MusicTrackList:"4ffbfd3b95ddc69b",AudioLongtapModal:"d2ade8d6189a9651",z_nav:"15cd3e3c3fed1207",im_chat_preview:"a4e7f074e711c095",NewStickerPicker:"6379dddc9a85b4fa",web_index:"658b6f4d2e45dbb4",VideoShareModal:"788cf1ab9f665abe","stickers-layer-view":"0acaf520f1ad1f0c","stickers-layer-purchase-details-view":"3993231cc38c4b95","stickers-random-selector-view":"d5d14885ce1b5b8c","stickers-random-selector-packs-view":"8f317c4b34e8ed45","stickers-random-selector-result-view":"63bdc729bf5d740e",VideoEditorModal:"fa1386d0a1195ea5","framer-motion-entrypoint":"be30e82edc1853fe",story_blocks:"05f1ed233ca3245b","StickersKit-UGCManagementRestrictedModal":"be30e82edc1853fe","StickersKit-AgeRestrictionModal":"be30e82edc1853fe","StickersKit-ChatRestrictionModal":"be30e82edc1853fe","stories-creator-legacy-modal":"f47856889b1c3728",CreateVideoChannelModal:"ccf65520b8d2b8b3",ExitConfirmationModal:"be30e82edc1853fe",video_upload_modal:"2c37ca52143115d2",AddClipToVideoModal:"c5f760b8814e4759",ClipPlayerModule:"be30e82edc1853fe",renderPlayerOverlay:"bfd8803536115302",HintModal:"be30e82edc1853fe",LiveStatsModal:"e181d12e8bf38add",StopLiveModal:"6bd20df7e549805c",AddToChannelModal:"39a343279a4eba54",LiveSettingsModal:"2939fdfd5b375eff",SubscriptionModal:"b1a354807f12f5a2",MusicShareModal:"67b9487c6f6e5db8",MusicUnauthModal:"9efe13d72420f8d5",PublishClipToVideoModal:"fd7f38b760e09d53",sharedVideoUploadState:"bb0cff523c6789a6",VideoUploadModal:"69a14c26c14ff18f",VideoExternalUploadModal:"69a14c26c14ff18f",ClipUploadModal:"9257b2a36342c75c",AddClipToVideoBlock:"3db135e76479446f",OpenNewVideoEditorButton:"be085d5a9ba950ca","mvk-logout-modal":"ad34b5b5ba7dfd41","gifts-catalog-modal-legacy":"d0edb8521b9fb7d4"};__webpack_require__.f.vkLangs=(s,i)=>{if("string"==typeof s&&s.startsWith("langs/web/")){var n=t[s.replace("langs/web/","")];if(n){var r=__webpack_require__.o(e,s)?e[s]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise(((t,i)=>r=e[s]=[t,i]));i.push(r[2]=a);var o="?v="+(window.vk&&window.vk.cfg?window.vk.cfg.langs_force_version:0)+"&p=web&l="+window.vk.lang||"",c=self.location.origin+/js/+s+"."+n+".js"+o,d=new Error;__webpack_require__.l(c,(t=>{if(__webpack_require__.o(e,s)&&(0!==(r=e[s])&&(e[s]=void 0),r)){r[0]();var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading lang "+s+" failed.\n("+i+": "+n+")",d.name="LangLoadError",d.type=i,d.request=n,setTimeout((()=>{throw d}),0)}}),"lang-"+s)}}}};var s=self.langChunkLoadingGlobal||(e=>self.addLangKeys(e[1]));self.langChunkLoadingGlobal=((t,s)=>{var[i]=s;t&&t(s),__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0}).bind(null,s)})(),self.__declaredGlobals||(self.__declaredGlobals=new Set),self.__usedGlobals||(self.__usedGlobals={buffered:new Set,bufferedErrors:new Set,add(e){this.buffered.add(e)},addError(e){this.bufferedErrors.add(e)},listen(e){(this.buffered.size||this.bufferedErrors.size)&&e(Array.from(this.bufferedErrors),Array.from(this.buffered));const t=this.add.bind(this),s=this.addError.bind(this);this.add=s=>{e([],[s]),t(s)},this.addError=t=>{e([t],[]),s(t)}}}),__webpack_require__._dG=function(e,t){if(self.partConfigEnabled&&self.partConfigEnabled("global_variable_wrapper")&&!self.__declaredGlobals.has(e)){self.__declaredGlobals.add(e);try{let s=t;Object.defineProperty(self,e,{enumerable:!0,configurable:!0,get:()=>(self.__usedGlobals.add(e),s),set(e){s=e}})}catch(s){self.__usedGlobals.addError(e),window[e]=t}}else window[e]=t;return t};var h=__webpack_require__.O(void 0,[91498,89631,50560,62791,762,21529,23592,89887,81248,14925,60077],(()=>__webpack_require__(491447)));h=__webpack_require__.O(h)})();