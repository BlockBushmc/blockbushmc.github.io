try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[46344],{144046:(t,e,i)=>{i.d(e,{d:()=>p});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=(0,s._)("_onExecute"),d=(0,s._)("_onExecuted");class p{get hint(){return null}get isDisabled(){return this.isPending}get isPending(){return this.isExecuting}execute(){}constructor({onExecute:t,onExecuted:e}={}){Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),(0,n._)(this,o)[o]=null,(0,n._)(this,d)[d]=null,this.isExecuting=!1,this.onExecute=()=>{if(this.isExecuting||this.isPending||this.isDisabled)return;null==(0,n._)(this,o)[o]||(0,n._)(this,o)[o].call(this,this);const t=this.execute();t instanceof Promise?(this.isExecuting=!0,t.finally((()=>{(0,a.h5)((()=>{this.isExecuting=!1})),null==(0,n._)(this,d)[d]||(0,n._)(this,d)[d].call(this,this)}))):null==(0,n._)(this,d)[d]||(0,n._)(this,d)[d].call(this,this)},(0,n._)(this,o)[o]=t??null,(0,n._)(this,d)[d]=e??null,(0,a.Gn)(this)}}(0,r.Cg)([a.sH],p.prototype,"isExecuting",void 0),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],p.prototype,"hint",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],p.prototype,"isDisabled",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],p.prototype,"isPending",null),(0,r.Cg)([a.XI.bound],p.prototype,"onExecute",void 0),(0,r.Cg)([a.XI,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",Object)],p.prototype,"execute",null)},160515:(t,e,i)=>{function n(t){return!!t.dmca_blocked||Number.isInteger(t.content_restricted)&&0!==t.content_restricted}i.d(e,{z:()=>n})},474476:(t,e,i)=>{i.d(e,{s:()=>c});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(144046),d=(0,s._)("_ensureList"),p=(0,s._)("_langs"),l=(0,s._)("_checkIsCurrent"),u=(0,s._)("_checkIsPlaying"),g=(0,s._)("_checkIsPaused");class c extends o.d{get type(){return"AudioPlayback_TogglePlaying"}get key(){return`${this.type}/${this.entity.identity.fullId}`}get title(){return this.isActive?(0,n._)(this,p)[p].getLang("audio_row_aria_label_pause"):(0,n._)(this,p)[p].getLang("audio_row_aria_label_play")}get isActive(){return(0,n._)(this,u)[u]()}get isPending(){return!!super.isPending||this.channel.isPending&&(0,n._)(this,l)[l]()}async execute(){(0,n._)(this,u)[u]()?this.channel.pause():(0,n._)(this,g)[g]()?this.channel.resume():await this.playAudio()}async playAudio(){const t=await(0,n._)(this,d)[d]();await this.channel.playAudio(this.entity,t)}constructor(t){super(t),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),this.channel=t.channel,this.entity=t.entity,(0,n._)(this,d)[d]=t.ensureList,(0,n._)(this,p)[p]=t.langs,(0,n._)(this,l)[l]=t.checkIsCurrent,(0,n._)(this,u)[u]=t.checkIsPlaying,(0,n._)(this,g)[g]=t.checkIsPaused}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"type",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"key",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"title",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isActive",null),(0,r.Cg)([a.$Z,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isPending",null),(0,r.Cg)([a.$Z,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",Promise)],c.prototype,"execute",null)},15589:(t,e,i)=>{i.d(e,{H:()=>_});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(810634),d=i(999647),p=i(474476),l=(0,s._)("_channel"),u=(0,s._)("_entity"),g=(0,s._)("_ensureList"),c=(0,s._)("_langs"),y=(0,s._)("_onTogglePlaying"),h=(0,s._)("_overrideTogglePlayingAction");class _{get isCurrent(){return(0,n._)(this,l)[l].isCurrentInQueue((0,n._)(this,u)[u].identity)}get isPlaying(){return this.isCurrent&&(0,n._)(this,l)[l].playing}get isPaused(){return this.isCurrent&&(0,n._)(this,l)[l].paused}get progress(){return this.isCurrent?(0,n._)(this,l)[l].progress.amount:null}get bufferingProgress(){return this.isCurrent?(0,n._)(this,l)[l].bufferingProgress:null}get frequency(){return this.isCurrent?(0,n._)(this,l)[l].frequency:null}get progressInput(){return this.isCurrent&&(0,n._)(this,l)[l].permissions.progressUpdate?new o.N({channel:(0,n._)(this,l)[l]}):null}get volumeInput(){return this.isCurrent?new d.e({channel:(0,n._)(this,l)[l]}):null}get togglePlayingAction(){const t={langs:(0,n._)(this,c)[c],channel:(0,n._)(this,l)[l],entity:(0,n._)(this,u)[u],ensureList:(0,n._)(this,g)[g],checkIsCurrent:()=>this.isCurrent,checkIsPlaying:()=>this.isPlaying,checkIsPaused:()=>this.isPaused,onExecuted:(0,n._)(this,y)[y]??void 0};return(0,n._)(this,h)[h]?(0,n._)(this,h)[h](t):new p.s(t)}constructor(t){Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),(0,n._)(this,l)[l]=t.channel,(0,n._)(this,u)[u]=t.entity,(0,n._)(this,g)[g]=t.ensureList,(0,n._)(this,c)[c]=t.langs,(0,n._)(this,y)[y]=t.onTogglePlaying??null,(0,n._)(this,h)[h]=t.overrideTogglePlayingAction??null}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],_.prototype,"isCurrent",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],_.prototype,"isPlaying",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],_.prototype,"isPaused",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],_.prototype,"progress",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],_.prototype,"bufferingProgress",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],_.prototype,"progressInput",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],_.prototype,"volumeInput",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type","undefined"==typeof IAudioPlaybackTogglePlayingAction?Object:IAudioPlaybackTogglePlayingAction),(0,r.Sn)("design:paramtypes",[])],_.prototype,"togglePlayingAction",null)},185375:(t,e,i)=>{function n(t){return t.length?t.map(s):[]}function s(t){return{width:t.width,height:t.height,src:t.url}}function r(t){const{photo:e}=t;return{id:t.id,domain:t.domain,title:t.name,avatar:e&&(i=e,{sizes:n(i),mainColor:s})};var i,s}i.d(e,{h:()=>r})},187156:(t,e,i)=>{i.d(e,{J:()=>n});class n{get key(){return this.data}get title(){return this.data}constructor(t){this.type="text",this.data=t.data}}},53013:(t,e,i)=>{i.d(e,{Z:()=>s});var n=i(426086);function s(t){return t?.sizes.length?new n.w(t):null}},276230:(t,e,i)=>{i.d(e,{V:()=>s});const n=[["photo_34",34],["photo_68",68],["photo_135",135],["photo_270",270],["photo_300",300],["photo_600",600],["photo_1200",1200]];function s(t,e){return{sizes:r(t),mainColor:e}}function r(t){const e=[];let i;if(!t)return e;for(const[s,r]of n)i=t[s],i&&e.push({src:i,height:r,width:r});return e}},426086:(t,e,i)=>{i.d(e,{w:()=>d});var n=i(434518),s=i(763812),r=(0,s._)("_key"),a=(0,s._)("_pickHtmlAttrsBy"),o=(0,s._)("_pickBy");class d{get key(){return(0,n._)(this,r)[r]??this.sizes[0].src}pickByWidth(t){return(0,n._)(this,o)[o]("width",t)}pickByHeight(t){return(0,n._)(this,o)[o]("height",t)}pickHtmlAttrsByWidth(t){return(0,n._)(this,a)[a]("width",t)}pickHtmlAttrsByHeight(t){return(0,n._)(this,a)[a]("height",t)}constructor(t){Object.defineProperty(this,a,{value:p}),Object.defineProperty(this,o,{value:l}),Object.defineProperty(this,r,{writable:!0,value:void 0});const{sizes:e}=t;if(!e.length)throw new Error("AudioImage required at least one size");(0,n._)(this,r)[r]=t.key??null,this.sizes=e,this.mainColor=t.mainColor??null}}function p(t,e){const i=(0,n._)(this,o)[o](t,e).src,s=[2,3].reduce(((i,s)=>{const r=i.at(-1),a=(0,n._)(this,o)[o](t,e*s);return r?.src!==a.src&&i.push({src:a.src,ratio:s}),i}),[{src:i,ratio:1}]);if(1===s.length)return{src:i,srcset:void 0};const r=s.map((({src:t,ratio:e})=>`${t} ${Number.isInteger(e)?e:e.toFixed(1)}x`)).join(", ");return{src:i,srcset:r}}function l(t,e){let i=this.sizes[0];for(const n of this.sizes){if(n[t]===e)return n;if(!i){i=n;continue}const s=n[t]>e,r=n[t]<i[t]||i[t]<e,a=!s,o=n[t]>i[t];(s&&r||a&&o)&&(i=n)}return i}},743472:(t,e,i)=>{i.d(e,{V:()=>d});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=(0,s._)("_onChange");class d{get hint(){return null}get isDisabled(){return this.isPending}get isPending(){return this.isExecuting}constructor({onChange:t}={}){Object.defineProperty(this,o,{writable:!0,value:void 0}),(0,n._)(this,o)[o]=null,this.isExecuting=!1,this.emitChange=t=>{this.isPending||this.isDisabled||(this.change(t),null==(0,n._)(this,o)[o]||(0,n._)(this,o)[o].call(this,this))},t&&((0,n._)(this,o)[o]=t),(0,a.Gn)(this)}}(0,r.Cg)([a.sH],d.prototype,"isExecuting",void 0),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],d.prototype,"hint",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],d.prototype,"isDisabled",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],d.prototype,"isPending",null),(0,r.Cg)([a.XI.bound],d.prototype,"emitChange",void 0)},874960:(t,e,i)=>{function n(t){return{isExplicit:!!(2&t),isForeignAgent:!!(4&t)}}i.d(e,{I:()=>n})},798727:(t,e,i)=>{i.d(e,{N:()=>s});const n="18+";function s(t,e){const i=[],{isExplicit:s,isForeignAgent:r}=e;return r?i.push(`${t.getLang("audio_legal_notice_line_foreign_agent")} ${n}`):s&&i.push(n),i.length?i:null}},317562:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(321171),s=i(188566),r=i(457518),a=i(819674);class o extends s.B{get length(){return this.items.length}get isEmpty(){return!this.items.length}get head(){return this.items}audioAt(t){return this.items.at(t)}async fetchAt(t){return this.audioAtStrict(t)}async fetchNext(){return[]}audioAtStrict(t){const e=this.audioAt(t);if(!e)throw new Error("Audio not found");return e}constructor(t){super(),this.type=n.b.SimpleAudioList,this.infinite=!1,this.context={ref:null},this.identity=t.identity??new r.h({id:`SimpleAudioList#${(0,a.A)()}`}),this.items=[...t.items]}}},734295:(t,e,i)=>{i.d(e,{w:()=>n});class n{get isKidsContent(){return this.has(2)}get isKidsSection(){return this.has(1)}get isKidsLimited(){return this.has(4)}get isKidsEditorial(){return this.has(8)}has(t){return(this.bitMask&t)===t}constructor(t){this.bitMask=t}}},866258:(t,e,i)=>{i.d(e,{P:()=>s});var n=i(734295);function s(t){return new n.w(t)}},97752:(t,e,i)=>{i.d(e,{V:()=>c});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(144046),d=i(112249),p=(0,s._)("_entity"),l=(0,s._)("_ensureList"),u=(0,s._)("_langs"),g=(0,s._)("_channel");class c extends o.d{get key(){return`${this.type}/${(0,n._)(this,p)[p].identity.fullId}`}get title(){return this.isActive?(0,n._)(this,u)[u].getLang("audio_action_pause"):(0,n._)(this,u)[u].getLang("audio_action_play")}get isActive(){return this.isPlaying}get isPending(){return!!super.isPending||(0,n._)(this,g)[g].isPending&&this.isCurrentInQueue}async execute(){if(this.isPlaying)return void(0,n._)(this,g)[g].pause();if(this.isPaused)return void(0,n._)(this,g)[g].resume();const t=await(0,n._)(this,l)[l]();await(0,n._)(this,g)[g].playAudio((0,n._)(this,p)[p],t,d.YR.AudioButton)}get isPlaying(){return(0,n._)(this,g)[g].playing&&this.isCurrentInQueue}get isPaused(){return(0,n._)(this,g)[g].paused&&this.isCurrentInQueue}get isCurrentInQueue(){return(0,n._)(this,g)[g].isCurrentInQueue((0,n._)(this,p)[p].identity)}constructor({entity:t,ensureList:e,langs:i,channel:s,...r}){super(r),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),(0,n._)(this,p)[p]=t,(0,n._)(this,l)[l]=e,(0,n._)(this,u)[u]=i,(0,n._)(this,g)[g]=s,(0,a.Gn)(this)}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"key",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"title",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isActive",null),(0,r.Cg)([a.$Z,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isPending",null),(0,r.Cg)([a.$Z,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",Promise)],c.prototype,"execute",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isPlaying",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isPaused",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Boolean),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isCurrentInQueue",null)},305257:(t,e,i)=>{i.d(e,{w:()=>n});var n=function(t){return t.Volume="Volume",t.Progress="Progress",t.Speed="Speed",t.Repeat="Repeat",t}({})},810634:(t,e,i)=>{i.d(e,{N:()=>c});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(112249),d=i(743472),p=i(305257),l=(0,s._)("_channel"),u=(0,s._)("_getChangeReason"),g=(0,s._)("_calculateDeltaFromPreviousValue");class c extends d.V{get type(){return p.w.Progress}get key(){return`${this.type}/${(0,n._)(this,l)[l].id}`}get value(){return(0,n._)(this,l)[l].progress.amount}change(t){const e=(0,n._)(this,u)[u](t);(0,n._)(this,l)[l].seek(t,e)}constructor({channel:t,...e}){super(e),Object.defineProperty(this,u,{value:y}),Object.defineProperty(this,g,{value:h}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,n._)(this,l)[l]=t,(0,a.Gn)(this)}}function y(t){return(0,n._)(this,g)[g](t)<0?o.aK.SliderBack:o.aK.SliderForward}function h(t){return t-this.value}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"key",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"value",null)},999647:(t,e,i)=>{i.d(e,{e:()=>l});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(743472),d=i(305257),p=(0,s._)("_channel");class l extends o.V{get type(){return d.w.Volume}get key(){return`${this.type}/${(0,n._)(this,p)[p].id}`}get value(){return(0,n._)(this,p)[p].volume.level}change(t){(0,n._)(this,p)[p].volume.setLevel(t)}constructor({channel:t,...e}){super(e),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,n._)(this,p)[p]=t,(0,a.Gn)(this)}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],l.prototype,"key",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],l.prototype,"value",null)},101364:(t,e,i)=>{i.d(e,{d:()=>p});var n=i(331635),s=i(327813),r=i(676291),a=i(228909),o=i(144046);class d extends o.d{get key(){return`${this.type}/${this.identity.fullId}`}get identity(){return new a._(this.data.identity)}constructor(t){super(t),this.type=t.type,this.data=t.data,this.langs=t.langs,(0,s.Gn)(this)}}(0,n.Cg)([s.EW,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],d.prototype,"key",null),(0,n.Cg)([s.EW,(0,n.Sn)("design:type","undefined"==typeof IOwnedIdentity?Object:IOwnedIdentity),(0,n.Sn)("design:paramtypes",[])],d.prototype,"identity",null);class p extends d{get title(){return this.langs.getLang("audio_open_album")}constructor(t){super({...t,type:r.Z.Open}),(0,s.Gn)(this)}}(0,n.Cg)([s.EW,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],p.prototype,"title",null)},595432:(t,e,i)=>{i.d(e,{K:()=>w});var n=i(434518),s=i(763812),r=i(331635),a=i(273193),o=i(42107),d=i(861700),p=i(676291),l=i(101364),u=(0,s._)("_langs"),g=(0,s._)("_overrides");class c{provideOpen({data:t,...e}){const i=(0,n._)(this,g)[g]?.[p.Z.Open];return i?i(t,e.onExecuted):new l.d({data:t,langs:(0,n._)(this,u)[u],...e})}constructor(t){Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),(0,n._)(this,u)[u]=t.langs,(0,n._)(this,g)[g]=t.overrides??null}}var y=i(327813),h=i(228909),_=i(129308);class v{get open(){const t=this.callbacks?.onOpen;return this.provider.provideOpen({data:this.data,onExecuted:t})}constructor(t){this.data=t.data,this.provider=t.provider,this.callbacks=t.callbacks??null,(0,y.Gn)(this)}}(0,r.Cg)([y.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],v.prototype,"open",null);var S=(0,s._)("_langs");class m{get identity(){return new h._(this.data.identity)}get title(){return this.data.title}get typeLabel(){const t=(0,n._)(this,S)[S],e=this.data.type;switch(e){case"album":return t.getLang("audio_music_album_playlist_type_album");case"ep":return t.getLang("audio_music_album_playlist_type_ep");case"collection":return t.getLang("audio_music_album_playlist_type_collection");case"single":return t.getLang("audio_music_album_playlist_type_single");default:throw new TypeError(`Unsupported music album type ${e}`)}}get genreLabels(){const t=this.data.genres;return t?t.map((t=>t.name)):null}get releaseYear(){return this.data.releaseYear}get authors(){const t=this.data.authors;return t?new _.W({data:t}):null}constructor(t){Object.defineProperty(this,S,{writable:!0,value:void 0}),this.params=t,this.data=t.data,(0,n._)(this,S)[S]=t.langs,this.actions=new v({data:this.data,provider:t.actionsProvider,callbacks:t.actionsCallbacks})}}(0,r.Cg)([y.EW,(0,r.Sn)("design:type",String),(0,r.Sn)("design:paramtypes",[])],m.prototype,"title",null),(0,r.Cg)([y.EW,(0,r.Sn)("design:type",String),(0,r.Sn)("design:paramtypes",[])],m.prototype,"typeLabel",null),(0,r.Cg)([y.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],m.prototype,"genreLabels",null),(0,r.Cg)([y.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],m.prototype,"releaseYear",null),(0,r.Cg)([y.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],m.prototype,"authors",null);var b=(0,s._)("_actionsProvider");class w{create(t){return new m({data:t.data,langs:this.langs,actionsProvider:(0,n._)(this,b)[b],actionsCallbacks:t.actionsCallbacks})}constructor(t,e){Object.defineProperty(this,b,{writable:!0,value:void 0}),this.langs=t,(0,n._)(this,b)[b]=new c({langs:this.langs,overrides:e.musicAlbumActionOverrides})}}w=(0,r.Cg)([o.z8.container(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[void 0===a.Y?Object:a.Y,void 0===d.w?Object:d.w])],w)},276966:(t,e,i)=>{i.d(e,{O:()=>o});var n=i(331635),s=i(327813),r=i(287443),a=i(336144);class o extends a.u{get title(){return this.langs.getLang("audio_show_lyrics")}constructor(t){super({...t,type:r.y.OpenLyrics}),(0,s.Gn)(this)}}(0,n.Cg)([s.EW,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],o.prototype,"title",null)},674845:(t,e,i)=>{i.d(e,{p:()=>o});var n=i(331635),s=i(327813),r=i(336144),a=i(287443);class o extends r.u{get title(){return this.langs.getLang("audio_music_track_row_snippet_action_hint")}constructor(t){super({...t,type:a.y.OpenSnippet}),(0,s.Gn)(this)}}(0,n.Cg)([s.EW,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],o.prototype,"title",null)},614969:(t,e,i)=>{i.d(e,{v:()=>o});var n=i(331635),s=i(327813),r=i(287443),a=i(336144);class o extends a.u{get title(){return"UMA"}constructor(t){super({...t,type:r.y.OpenUma}),(0,s.Gn)(this)}}(0,n.Cg)([s.EW,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],o.prototype,"title",null)},749067:(t,e,i)=>{i.d(e,{V:()=>o});var n=i(331635),s=i(327813),r=i(287443),a=i(336144);class o extends a.u{get title(){return this.langs.getLang("audio_share_audio")}get hint(){return this.langs.getLang("audio_action_share_hint")}constructor(t){super({...t,type:r.y.Share}),(0,s.Gn)(this)}}(0,n.Cg)([s.EW,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],o.prototype,"title",null),(0,n.Cg)([s.$Z,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],o.prototype,"hint",null)},655732:(t,e,i)=>{i.d(e,{$:()=>d});var n=i(331635),s=i(42107),r=i(289375),a=i(849645),o=function(t){return t.DISLIKES_ADD_DISLIKE="add_dislike",t.DISLIKES_REMOVE_DISLIKE="remove_dislike",t}({});class d{sendAddDislike(t){this.productionStats.send({type:"type_action",type_action:{type:"type_audio_dislike_item",type_audio_dislike_item:{event_type:o.DISLIKES_ADD_DISLIKE,...p(t)}},screen:this.metaData.get().screen})}sendRemoveDislike(t){this.productionStats.send({type:"type_action",type_action:{type:"type_audio_dislike_item",type_audio_dislike_item:{event_type:o.DISLIKES_REMOVE_DISLIKE,...p(t)}},screen:this.metaData.get().screen})}constructor(t,e){this.productionStats=t,this.metaData=e}}function p({data:t,playerProgress:e,playlistIdentity:i,trackCode:n}){const s=t.apiAudio.duration,r=e?Math.floor(e*s*1e3):0;return i?{audio_id:t.identity.id,audio_owner_id:t.identity.ownerId,track_code:n??"",timeline_position:r,playlist_id:i.id,playlist_owner_id:i.ownerId}:{audio_id:t.identity.id,audio_owner_id:t.identity.ownerId,track_code:n??"",timeline_position:r}}d=(0,n.Cg)([s.z8.global(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[void 0===r.X?Object:r.X,void 0===a.e?Object:a.e])],d)},336144:(t,e,i)=>{i.d(e,{u:()=>a});var n=i(331635),s=i(327813),r=i(144046);class a extends r.d{get key(){return`${this.type}/${this.identity.fullId}`}get identity(){return this.data.identity}get releaseIdentity(){return this.data.releaseIdentity}constructor(t){super(t),this.type=t.type,this.data=t.data,this.langs=t.langs,(0,s.Gn)(this)}}(0,n.Cg)([s.EW,(0,n.Sn)("design:type",void 0),(0,n.Sn)("design:paramtypes",[])],a.prototype,"key",null),(0,n.Cg)([s.EW,(0,n.Sn)("design:type","undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity),(0,n.Sn)("design:paramtypes",[])],a.prototype,"identity",null),(0,n.Cg)([s.EW,(0,n.Sn)("design:type",Object),(0,n.Sn)("design:paramtypes",[])],a.prototype,"releaseIdentity",null)},12527:(t,e,i)=>{i.d(e,{P:()=>y});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=(0,s._)("_getSource"),d=(0,s._)("_data"),p=(0,s._)("_entity"),l=(0,s._)("_ensureList"),u=(0,s._)("_context"),g=(0,s._)("_provider"),c=(0,s._)("_callbacks");class y{get open(){const t=(0,n._)(this,c)[c]?.onOpen;return(0,n._)(this,g)[g].provideOpen({data:(0,n._)(this,d)[d],target:"_blank",onExecuted:t})}get openSimilar(){const t=(0,n._)(this,c)[c]?.onOpenSimilar;return(0,n._)(this,g)[g].provideOpenSimilar({data:(0,n._)(this,d)[d],target:"_blank",onExecuted:t})}get openUma(){const t=(0,n._)(this,c)[c]?.onOpenUma;return(0,n._)(this,g)[g].provideOpenUma({data:(0,n._)(this,d)[d],onExecuted:t})}get openSnippet(){const t=(0,n._)(this,c)[c]?.onOpenSnippet;return(0,n._)(this,g)[g].provideOpenSnippet({data:(0,n._)(this,d)[d],onExecuted:t})}get toggleOwning(){const t=(0,n._)(this,c)[c]?.onToggleOwning;return(0,n._)(this,g)[g].provideToggleOwning({getSource:(0,n._)(this,o)[o],data:(0,n._)(this,d)[d],targetOwnerId:(0,n._)(this,u)[u].targetOwnerId,onExecuted:t})}get toggleDislike(){const t=(0,n._)(this,c)[c]?.onToggleDislike;return(0,n._)(this,g)[g].provideToggleDislike({data:(0,n._)(this,d)[d],onExecuted:t})}get togglePlaying(){const t=(0,n._)(this,c)[c]?.onTogglePlaying;return(0,n._)(this,g)[g].provideTogglePlaying({entity:(0,n._)(this,p)[p],ensureList:(0,n._)(this,l)[l],data:(0,n._)(this,d)[d],onExecuted:t})}get share(){const t=(0,n._)(this,c)[c]?.onShare;return(0,n._)(this,g)[g].provideShare({data:(0,n._)(this,d)[d],onExecuted:t})}get broadcast(){const t=(0,n._)(this,c)[c]?.onBroadcast;return(0,n._)(this,g)[g].provideBroadcast({data:(0,n._)(this,d)[d],onExecuted:t})}get openLyrics(){if(!(0,n._)(this,d)[d].hasLyrics)return null;const t=(0,n._)(this,c)[c]?.onOpenLyrics;return(0,n._)(this,g)[g].provideOpenLyrics({data:(0,n._)(this,d)[d],onExecuted:t})}get copyPageURL(){const t=(0,n._)(this,c)[c]?.onCopyPageURL;return(0,n._)(this,g)[g].provideCopyPageURL({data:(0,n._)(this,d)[d],onExecuted:t})}constructor(t){Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,n._)(this,o)[o]=t.getSource,(0,n._)(this,d)[d]=t.data,(0,n._)(this,p)[p]=t.entity,(0,n._)(this,l)[l]=t.ensureList,(0,n._)(this,u)[u]=t.context,(0,n._)(this,g)[g]=t.provider,(0,n._)(this,c)[c]=t.callbacks??null,(0,a.Gn)(this)}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"open",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"openSimilar",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"openUma",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"openSnippet",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"toggleOwning",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"toggleDislike",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"togglePlaying",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"share",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"broadcast",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"openLyrics",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],y.prototype,"copyPageURL",null)},156589:(t,e,i)=>{i.d(e,{A:()=>R});var n=i(434518),s=i(763812),r=i(228909),a=i(287443),o=i(331635),d=i(327813),p=i(336144);class l extends p.u{get title(){return this.langs.getLang("global_open")}constructor(t){super({...t,type:a.y.Open}),this.href=t.href,this.target=t.target,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],l.prototype,"title",null);class u extends p.u{get title(){return this.langs.getLang("audio_show_recommendations")}constructor(t){super({...t,type:a.y.OpenSimilar}),this.href=t.href,this.target=t.target,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],u.prototype,"title",null);var g=i(614969),c=i(674845),y=i(791115),h=i(725308),_=(0,s._)("_getSource"),v=(0,s._)("_myMusicService"),S=(0,s._)("_groupMusicServices");class m extends p.u{get title(){return this.explanation}get isActive(){return this.owning.hasOwned}get isPending(){return super.isPending||this.owning.isPending}execute(){if(!this.isPending&&!this.isDisabled)return this.isActive&&this.owning.isDeleted&&this.owning.isOwned?this.owning.restore():this.isActive?this.owning.delete():this.owning.add()}get explanation(){const{owning:t,targetOwnerType:e,langs:i}=this,{hasOwned:n}=t;switch(e){case"group":return n?i.getLang("audio_music_track_row_remove_from_group_music_action_hint"):i.getLang("audio_music_track_row_add_to_group_music_action_hint");case"myMusic":return n?i.getLang("audio_music_track_row_remove_from_my_music_action_hint"):i.getLang("audio_music_track_row_add_to_my_music_action_hint")}}get owning(){const{targetOwnerType:t,targetOwnerId:e}=this;switch(t){case"group":return new y.w({identity:this.identity,trackCode:this.data.trackCode,service:(0,n._)(this,S)[S].get(h.z.convertOwnerIdToGroupId(e))});case"myMusic":return new y.w({identity:this.identity,trackCode:this.data.trackCode,service:(0,n._)(this,v)[v],getHasOwnedStateFallback:()=>(0,n._)(this,_)[_]().audio.like})}}get targetOwnerType(){return h.z.isGroupId(this.targetOwnerId)?"group":"myMusic"}constructor(t){super({...t,type:a.y.ToggleOwning}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),(0,n._)(this,_)[_]=t.getSource,(0,n._)(this,v)[v]=t.myMusicService,(0,n._)(this,S)[S]=t.groupMusicServices,this.targetOwnerId=t.targetOwnerId,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],m.prototype,"title",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],m.prototype,"isActive",null),(0,o.Cg)([d.$Z,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],m.prototype,"isPending",null),(0,o.Cg)([d.$Z,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],m.prototype,"execute",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],m.prototype,"explanation",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],m.prototype,"owning",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",String),(0,o.Sn)("design:paramtypes",[])],m.prototype,"targetOwnerType",null);var b=(0,s._)("_service"),w=(0,s._)("_channel"),f=(0,s._)("_audioDislikesAnalytics");class C extends p.u{get title(){return this.langs.getLang("audio_action_dislike")}get isActive(){return!!(0,n._)(this,b)[b].state.get(this.identity)}async execute(){if(this.isPending||this.isDisabled)return;const{trackCode:t}=this.data;let e,i,s=0;if((0,n._)(this,w)[w].currentAudio?.identity.fullId===this.identity.fullId){s=(0,n._)(this,w)[w].progress.amount;const{currentListIdentity:t}=(0,n._)(this,w)[w];t&&"id"in t&&"ownerId"in t&&(e=t)}this.isActive?(i=(0,n._)(this,b)[b].deactivate(this.identity,{}),(0,n._)(this,f)[f].sendRemoveDislike({data:this.data,playerProgress:s,trackCode:t,playlistIdentity:e})):(i=(0,n._)(this,b)[b].activate(this.identity,{}),(0,n._)(this,f)[f].sendAddDislike({data:this.data,playerProgress:s,trackCode:t,playlistIdentity:e})),await i}constructor(t){super({...t,type:a.y.ToggleDislike}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),(0,n._)(this,b)[b]=t.dislikesService,(0,n._)(this,w)[w]=t.channel,(0,n._)(this,f)[f]=t.audioDislikesAnalytics,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],C.prototype,"title",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],C.prototype,"isActive",null),(0,o.Cg)([d.$Z,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",Promise)],C.prototype,"execute",null);var E=i(97752);class P extends E.V{get type(){return a.y.TogglePlaying}constructor(t){super(t),(0,d.Gn)(this)}}var O=i(749067);class k extends p.u{get title(){return this.langs.getLang("audio_player_block_broadcast_tooltip_title")}execute(){throw new Error("Not implemented")}constructor(t){super({...t,type:a.y.Broadcast}),(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],k.prototype,"title",null),(0,o.Cg)([d.$Z,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],k.prototype,"execute",null);var W=i(276966),I=(0,s._)("_href"),j=(0,s._)("_clipboard"),A=(0,s._)("_notifications");class L extends p.u{get title(){return this.langs.getLang("audio_copy_audio_link")}async execute(){await(0,n._)(this,j)[j].copy((0,n._)(this,I)[I]),(0,n._)(this,A)[A].notify((()=>({message:{text:this.langs.getLang("audio_copy_audio_link_notification")}})))}constructor({href:t,clipboard:e,notifications:i,...s}){super({...s,type:a.y.CopyPageURL}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,j,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),(0,n._)(this,I)[I]=t,(0,n._)(this,j)[j]=e,(0,n._)(this,A)[A]=i,(0,d.Gn)(this)}}var x=(0,s._)("_channel"),D=(0,s._)("_langs"),M=(0,s._)("_authService"),$=(0,s._)("_musicService"),G=(0,s._)("_overrides"),T=(0,s._)("_platformConfig"),B=(0,s._)("_notifications"),z=(0,s._)("_audioDislikesAnalytics"),F=(0,s._)("_getPageHref");class R{provideOpen({data:t,target:e,...i}){if(t.isBlocked)return null;const s=(0,n._)(this,F)[F](t);return new l({data:t,target:e,href:s,langs:(0,n._)(this,D)[D],...i})}provideOpenSimilar({data:t,target:e,...i}){const{releaseIdentity:s}=t,a=s?new r._(s).rawId:new r._(t.identity).accessRawId;return new u({data:t,target:e,langs:(0,n._)(this,D)[D],href:`/audio?section=recoms_audio&audio_id=${a}`,...i})}provideOpenUma({data:t,...e}){if(!(0,n._)(this,$)[$].userPermissions.permissions?.viewAudioMetaInfo)return null;const i=(0,n._)(this,G)[G]?.[a.y.OpenUma];return i?i(t,e.onExecuted):new g.v({data:t,langs:(0,n._)(this,D)[D],...e})}provideOpenSnippet({data:t,...e}){const i=(0,n._)(this,G)[G]?.[a.y.OpenSnippet];return i?i(t,e.onExecuted):new c.p({data:t,langs:(0,n._)(this,D)[D],...e})}provideToggleMyMusic({data:t,...e}){const i=(0,n._)(this,M)[M].userId;return i?new m({data:t,targetOwnerId:i,langs:(0,n._)(this,D)[D],myMusicService:(0,n._)(this,$)[$].myMusic,groupMusicServices:(0,n._)(this,$)[$].groupMusicServices,...e}):null}provideToggleOwning({data:t,targetOwnerId:e,...i}){return new m({data:t,targetOwnerId:e,langs:(0,n._)(this,D)[D],myMusicService:(0,n._)(this,$)[$].myMusic,groupMusicServices:(0,n._)(this,$)[$].groupMusicServices,...i})}provideToggleDislike({data:t,...e}){return new C({data:t,langs:(0,n._)(this,D)[D],dislikesService:(0,n._)(this,$)[$].dislikes,channel:(0,n._)(this,x)[x],audioDislikesAnalytics:(0,n._)(this,z)[z],...e})}provideTogglePlaying({entity:t,ensureList:e,...i}){return new P({entity:t,ensureList:e,langs:(0,n._)(this,D)[D],channel:(0,n._)(this,x)[x],...i})}provideShare({data:t,...e}){const i=(0,n._)(this,G)[G]?.[a.y.Share];return i?i(t,e.onExecuted):new O.V({data:t,langs:(0,n._)(this,D)[D],...e})}provideBroadcast({data:t,...e}){return new k({data:t,langs:(0,n._)(this,D)[D],...e})}provideOpenLyrics({data:t,...e}){if(!t.hasLyrics)return null;const i=(0,n._)(this,G)[G]?.[a.y.OpenLyrics];return i?i(t,e.onExecuted):new W.O({data:t,langs:(0,n._)(this,D)[D],...e})}provideCopyPageURL({data:t,...e}){const i=`${(0,n._)(this,T)[T].locationOrigin}${(0,n._)(this,F)[F](t)}`;return new L({data:t,href:i,clipboard:(0,n._)(this,T)[T].clipboard,notifications:(0,n._)(this,B)[B],langs:(0,n._)(this,D)[D],...e})}constructor(t){Object.defineProperty(this,F,{value:K}),Object.defineProperty(this,x,{writable:!0,value:void 0}),Object.defineProperty(this,D,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,$,{writable:!0,value:void 0}),Object.defineProperty(this,G,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),(0,n._)(this,x)[x]=t.channel,(0,n._)(this,D)[D]=t.langs,(0,n._)(this,M)[M]=t.authService,(0,n._)(this,$)[$]=t.musicService,(0,n._)(this,T)[T]=t.platformConfig,(0,n._)(this,B)[B]=t.notifications,(0,n._)(this,z)[z]=t.audioDislikesAnalytics,(0,n._)(this,G)[G]=t.overrides??null}}function K(t){const{releaseIdentity:e}=t;return`/audio${e?new r._(e).rawId:new r._(t.identity).accessRawId}`}},908677:(t,e,i)=>{i.d(e,{j:()=>u});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(151654),d=(0,s._)("_musicService"),p=(0,s._)("_getSource"),l=(0,s._)("_service");class u{get identity(){return(0,o.z)(this.source.audio)}get isActive(){return(0,n._)(this,l)[l].state.get(this.identity)??!1}get isPending(){return(0,n._)(this,l)[l].pending.has(this.identity)}async toggle(t){let e=!this.isActive;"boolean"==typeof t&&(e=t),this.isActive!==e&&(e?await(0,n._)(this,l)[l].activate(this.identity,{}):await(0,n._)(this,l)[l].deactivate(this.identity,{}))}get source(){return(0,n._)(this,p)[p]()}constructor(t){Object.defineProperty(this,l,{get:g,set:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,n._)(this,d)[d]=t.musicService,(0,n._)(this,p)[p]=t.getSource,(0,a.Gn)(this)}}function g(){return(0,n._)(this,d)[d].dislikes}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"identity",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"isActive",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"isPending",null),(0,r.Cg)([a.XI,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Boolean]),(0,r.Sn)("design:returntype",Promise)],u.prototype,"toggle",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"source",null)},393951:(t,e,i)=>{i.d(e,{z:()=>c});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(642972),d=i(151654),p=(0,s._)("_musicService"),l=(0,s._)("_getSource"),u=(0,s._)("_service"),g=(0,s._)("_getAddReason");class c{get identity(){return(0,d.z)(this.source.audio)}get trackCode(){return this.source.trackCode}get isActive(){return(0,n._)(this,u)[u].get(this.identity)??this.source.audio.like??!1}get isPending(){return(0,n._)(this,u)[u].checkPending(this.identity)}async toggle(t){let e=!this.isActive;"boolean"==typeof t&&(e=t),this.isActive!==e&&(e?await(0,n._)(this,u)[u].add(this.identity,{trackCode:this.trackCode??"",reason:(0,n._)(this,g)[g]()}):await(0,n._)(this,u)[u].delete(this.identity,{}))}get source(){return(0,n._)(this,l)[l]()}constructor(t){Object.defineProperty(this,u,{get:y,set:void 0}),Object.defineProperty(this,g,{value:h}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,n._)(this,p)[p]=t.musicService,(0,n._)(this,l)[l]=t.getSource,this.entityType=t.entityType,(0,a.Gn)(this)}}function y(){return(0,n._)(this,p)[p].myMusic}function h(){if("snippet"===this.entityType)return o.E.MusicSnippet}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"identity",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"trackCode",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isActive",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"isPending",null),(0,r.Cg)([a.XI,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Boolean]),(0,r.Sn)("design:returntype",Promise)],c.prototype,"toggle",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],c.prototype,"source",null)},477999:(t,e,i)=>{i.d(e,{H:()=>w});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(663810);var d=i(452200),p=i(160515),l=i(874960),u=i(185375);var g=i(866258),c=i(734295),y=i(151654),h=i(276230);function _(t){const e=t.audio_chart_info?.state;switch(e){case 0:return"new_release";case 1:return"no_changes";case 2:return"moved_up";case 3:return"moved_down";case 4:return"state_crown";default:return null}}var v=i(53758),S=(0,s._)("_source");class m{get identity(){const t=(0,n._)(this,S)[S];return{id:t.id,ownerId:t.owner_id,accessKey:t.access_key}}get type(){return"album"}get title(){return(0,n._)(this,S)[S].title}get genres(){return null}get releaseYear(){return null}get authors(){return null}constructor(t){Object.defineProperty(this,S,{writable:!0,value:void 0}),(0,n._)(this,S)[S]=t.source}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type","undefined"==typeof OwnedIdentityData?Object:OwnedIdentityData),(0,r.Sn)("design:paramtypes",[])],m.prototype,"identity",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],m.prototype,"genres",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],m.prototype,"releaseYear",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],m.prototype,"authors",null);var b=(0,s._)("_getSource");class w{get trackCode(){return this.source.trackCode??this.sourceAudio.track_code??null}get identity(){return(0,y.z)(this.sourceAudio)}get releaseIdentity(){const t=this.sourceAudio.release_audio_id;return t&&(e=t,o.sQ.test(e))?new v.G((0,d.v)(t)):null;var e}get title(){return this.sourceAudio.title}get subtitle(){return this.sourceAudio.subtitle??null}get duration(){return this.sourceAudio.duration}get authors(){return t=this.sourceAudio,{main:t?.main_artists?.map(u.h)??[],feat:t?.featured_artists?.map(u.h)??[],raw:t.artist};var t}get album(){const t=this.sourceAudio.album;return t?new m({source:t}):null}get cover(){return function(t){const e=t.album?.thumb??t?.thumb;if(!e)return null;const i=(0,y.z)(t),n=t.album?.main_color||t.main_color;return{...(0,h.V)(e,n),key:`${i.fullId}_cover`}}(this.sourceAudio)}get chartInfo(){return this.sourceAudio.audio_chart_info?{state:_(this.sourceAudio),position:this.sourceAudio.audio_chart_info?.position??null}:null}get isBlocked(){return(0,p.z)(this.sourceAudio)}get legal(){return(0,l.I)(this.sourceAudio.legal_notices_type??0)}get hasLyrics(){return this.sourceAudio.has_lyrics??!1}get isFocusTrack(){return this.sourceAudio.is_focus_track??!1}get rightholderMarks(){const t=this.sourceAudio.rightholder_marks;return!t||t.length<1?null:t}get specialProjectId(){return this.sourceAudio.special_project_id??null}get listIndex(){return this.source.listIndex??null}get apiAudio(){return(0,a.HO)(this.sourceAudio)}get source(){return(0,n._)(this,b)[b]()}get sourceAudio(){return this.source.audio}get flagsContext(){return(0,g.P)(this.source.audio.flags_context??0)}constructor(t){Object.defineProperty(this,b,{writable:!0,value:void 0}),(0,n._)(this,b)[b]=t.getSource,(0,a.Gn)(this)}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"trackCode",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"identity",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"releaseIdentity",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"title",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"subtitle",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"duration",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"album",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"cover",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"chartInfo",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"isBlocked",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"legal",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"hasLyrics",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"isFocusTrack",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"rightholderMarks",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"specialProjectId",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"listIndex",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"apiAudio",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"source",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],w.prototype,"sourceAudio",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0===c.w?Object:c.w),(0,r.Sn)("design:paramtypes",[])],w.prototype,"flagsContext",null)},151654:(t,e,i)=>{i.d(e,{z:()=>s});var n=i(53758);function s(t){return new n.G({id:t.id,ownerId:t.owner_id,accessKey:t.access_key})}},541859:(t,e,i)=>{i.d(e,{z:()=>h});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(53013),d=i(798727),p=i(129308),l=(0,s._)("_getPlayback"),u=(0,s._)("_createAlbum"),g=(0,s._)("_authorsOverride"),c=(0,s._)("_createMusicAudioReference"),y=(0,s._)("_getTrackPageHref");class h{get key(){return this.identity.fullId}get identity(){return this.data.identity}get trackCode(){return this.data.trackCode}get release(){const{releaseIdentity:t}=this.data;return t?(0,n._)(this,c)[c](t):null}get original(){const{release:t}=this;if(t)return t;if(!this.isMine)return null;const e=this.musicService.myMusic.getSource(this.identity);return e?(0,n._)(this,c)[c](e):null}get pageHref(){return(0,n._)(this,y)[y](this.release?.identity??this.identity)}get authors(){return new p.W({data:(0,n._)(this,g)[g]??this.data.authors})}get cover(){return(0,o.Z)(this.data.cover)}get album(){const t=this.data.album;return t?(0,n._)(this,u)[u](t):null}get isMine(){return this.musicService.myMusic.isOwned(this.identity)}get isLicenced(){const{authors:t}=this,e=!(!t.mainList?.length&&!t.featList?.length),i=!!this.album;return e&&i}get legalNoticeLines(){const{legal:t}=this.data;return t&&(0,d.N)(this.langs,t)}get playback(){return(0,n._)(this,l)[l]()}constructor(t){Object.defineProperty(this,c,{value:_}),Object.defineProperty(this,y,{value:v}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),(0,n._)(this,l)[l]=t.getPlayback,(0,n._)(this,u)[u]=t.createAlbum,(0,n._)(this,g)[g]=t.authorsOverride??null,this.langs=t.langs,this.musicService=t.musicService,this.context=t.context,this.like=t.like,this.dislike=t.dislike,(0,a.Gn)(this)}}function _(t){return{identity:t,pageHref:(0,n._)(this,y)[y](t)}}function v(t){return`/audio${t.accessRawId}`}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"key",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"identity",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"trackCode",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"release",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"original",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"pageHref",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"authors",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"cover",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],h.prototype,"album",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"isMine",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"isLicenced",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"legalNoticeLines",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],h.prototype,"playback",null)},129308:(t,e,i)=>{i.d(e,{W:()=>u});var n=i(434518),s=i(763812),r=i(331635),a=i(327813),o=i(187156),d=i(53013);class p{get key(){return this.data.id??this.data.title}get title(){return this.data.title}get avatar(){return(0,d.Z)(this.data.avatar)}get href(){const{data:t}=this;return`/artist/${t.domain??t.id}`}constructor(t){this.type="artist",this.data=t.data,(0,a.Gn)(this)}}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],p.prototype,"key",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],p.prototype,"title",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],p.prototype,"avatar",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],p.prototype,"href",null);var l=(0,s._)("_toArtistAuthor");class u{get single(){const t=this.mainList.at(0);if(t)return t;const{raw:e}=this.data;return e?new o.J({data:e}):null}get isSingle(){return this.mainList.length<=1}get isEmpty(){return!this.single}get mainList(){return this.data.main?.map((t=>(0,n._)(this,l)[l](t)))??[]}get featList(){return this.data.feat?.map((t=>(0,n._)(this,l)[l](t)))??[]}get fullList(){let t=[...this.mainList,...this.featList];if(t.length)return t;const{single:e}=this;return e?[e]:[]}get searchLink(){const t=this.data.raw;return!t||this.mainList.length>0||this.featList.length>0?null:{title:t,href:`/audio?performer=1&q=${t}`}}constructor(t){Object.defineProperty(this,l,{value:g}),this.data=t.data,(0,a.Gn)(this)}}function g(t){return new p({data:t})}(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"single",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"isSingle",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"isEmpty",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"mainList",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"featList",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",void 0),(0,r.Sn)("design:paramtypes",[])],u.prototype,"fullList",null),(0,r.Cg)([a.EW,(0,r.Sn)("design:type",Object),(0,r.Sn)("design:paramtypes",[])],u.prototype,"searchLink",null)},788535:(t,e,i)=>{i.d(e,{F:()=>a});var n=i(331635),s=i(42107),r=i(861700);class a{notify(t){this.platformConfig.notificationsPresenter.show({createNotification:t,defaultDuration:4e3})}constructor(t){this.platformConfig=t}}a=(0,n.Cg)([s.z8.global(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[void 0===r.w?Object:r.w])],a)},58102:(t,e,i)=>{i.d(e,{R:()=>d});var n=i(331635),s=i(327813),r=i(144819),a=i(630769),o=i(104325);class d extends o.c{async ensureClip(){if(this.isLoadedClip)return this.clip;const t=await this.repository.audioGetAudioPreviewUrl({audio_id:(0,r.yP)(this.identity)});return(0,s.h5)((()=>{this.clip=(0,a.yL)(t),this.isLoadedClip=!0})),this.clip}constructor(t){super(t),this.repository=t.repository,this.clip=this.data.clip,this.isLoadedClip=!!this.data.clip,(0,s.Gn)(this)}}(0,n.Cg)([s.sH,(0,n.Sn)("design:type",Object)],d.prototype,"clip",void 0),(0,n.Cg)([s.XI,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[]),(0,n.Sn)("design:returntype",Promise)],d.prototype,"ensureClip",null)},975077:(t,e,i)=>{i.d(e,{C:()=>g});var n=i(331635),s=i(42107),r=i(228909),a=i(432320),o=i(72332),d=i(58102),p=i(627255),l=i(630769),u=i(990126);class g{createTrack(t){const{service:e,trackProvider:i}=this,n=new r._({id:t.id,ownerId:t.owner_id,accessKey:t.access_key}),s=()=>(0,l.qF)(t);return function t(r){return new o.L({identity:n,getData:s,context:r,attachContext:e=>t(e),trackProvider:i,service:e})}()}createSnippet(t,e){const{repository:i,service:n,trackProvider:s}=this,a=new r._({id:t.id,ownerId:t.owner_id,accessKey:t.access_key}),o=()=>(0,l.ct)(t,e);return function t(e){return new d.R({identity:a,getData:o,context:e,attachContext:e=>t(e),repository:i,trackProvider:s,service:n})}()}constructor(t,e,i){this.repository=t,this.service=e,this.trackProvider=i}}g=(0,n.Cg)([s.z8.global(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[void 0===a.J?Object:a.J,void 0===u.v?Object:u.v,void 0===p.E?Object:p.E])],g)},457518:(t,e,i)=>{i.d(e,{h:()=>n});class n{get fullId(){return this.id}constructor(t){this.id=t.id}}}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/46344.5fb866a5.js")}catch(t){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/46344.5fb866a5.js",t),t}