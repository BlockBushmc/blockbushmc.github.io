(()=>{"use strict";var e,t,n,r,s,o={296146:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(456049),s=n(243498),o=n(470879);const i=100;function a(e,t){const n=(0,r.KU)(),a=(0,r.rm)();if(!n)return;const{beforeBreadcrumb:c=null,maxBreadcrumbs:u=i}=n.getOptions();if(u<=0)return;const l={timestamp:(0,o.lu)(),...e},d=c?(0,s.pq)((()=>c(l,t))):l;null!==d&&(n.emit&&n.emit("beforeAddBreadcrumb",d,t),a.addBreadcrumb(d,u))}},222168:(e,t,n)=>{n.d(t,{BY:()=>a,EU:()=>o,Se:()=>i});var r=n(554728),s=n(420103);function o(){return i(s.O),s.O}function i(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||r.M,t[r.M]=t[r.M]||{}}function a(e,t,n=s.O){const o=n.__SENTRY__=n.__SENTRY__||{},i=o[r.M]=o[r.M]||{};return i[e]||(i[e]=t())}},456049:(e,t,n)=>{n.d(t,{KU:()=>b,o5:()=>f,m6:()=>g,rm:()=>m,vn:()=>v,v4:()=>_});var r=n(222168),s=n(303650);var o=n(383354);class i{withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return(0,o.Qg)(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}constructor(e,t){let n,r;n=e||new s.H,r=t||new s.H,this._stack=[{scope:n}],this._isolationScope=r}}function a(){const e=(0,r.EU)(),t=(0,r.Se)(e);return t.stack=t.stack||new i((0,r.BY)("defaultCurrentScope",(()=>new s.H)),(0,r.BY)("defaultIsolationScope",(()=>new s.H)))}function c(e){return a().withScope(e)}function u(e,t){const n=a();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function l(e){return a().withScope((()=>e(a().getIsolationScope())))}function d(e){const t=(0,r.Se)(e);return t.acs?t.acs:{withIsolationScope:l,withScope:c,withSetScope:u,withSetIsolationScope:(e,t)=>l(t),getCurrentScope:()=>a().getScope(),getIsolationScope:()=>a().getIsolationScope()}}var p=n(591409),h=n(84347);function f(){return d((0,r.EU)()).getCurrentScope()}function m(){return d((0,r.EU)()).getIsolationScope()}function g(){return(0,r.BY)("globalScope",(()=>new s.H))}function _(...e){const t=d((0,r.EU)());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function b(){return f().getClient()}function v(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t;return(0,p.Ce)({trace_id:n,span_id:s||(0,h.Z)(),parent_span_id:r})}},303650:(e,t,n)=>{n.d(t,{H:()=>f});var r=n(462200),s=n(383354),o=n(243498),i=n(228086),a=n(84347),c=n(470879),u=n(508718),l=n(591409);const d="_sentrySpan";function p(e,t){t?(0,l.my)(e,d,t):delete e[d]}function h(e){return e[d]}class f{clone(){const e=new f;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,p(e,h(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,r.qO)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,n=t instanceof f?t.getScopeData():(0,s.Qd)(t)?e:void 0,{tags:r,extra:o,user:i,contexts:a,level:c,fingerprint:u=[],propagationContext:l}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),c&&(this._level=c),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,p(this,void 0),this._attachments=[],this.setPropagationContext({traceId:(0,a.e)(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,c.lu)(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:h(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=(0,u.h)(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t?.event_id||(0,i.eJ)();if(!this._client)return o.vF.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n?.event_id||(0,i.eJ)();if(!this._client)return o.vF.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureEvent(e,t){const n=t?.event_id||(0,i.eJ)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(o.vF.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:(0,a.e)(),sampleRand:Math.random()}}}},462200:(e,t,n)=>{n.d(t,{Vu:()=>c,fj:()=>i,qO:()=>a});var r=n(591409),s=n(470879),o=n(228086);function i(e){const t=(0,s.zf)(),n={sid:(0,o.eJ)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,r.Ce)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&a(n,e),n}function a(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,s.zf)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,o.eJ)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},763648:(e,t,n)=>{n.d(t,{$N:()=>c,Hd:()=>i,xE:()=>u});var r=n(383354);const s=n(420103).O,o=80;function i(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,c=0;const u=" > ",l=u.length;let d;const p=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||o;for(;n&&i++<r&&(d=a(n,p),!("html"===d||i>1&&c+s.length*l+d.length>=h));)s.push(d),c+=d.length,n=n.parentNode;return s.reverse().join(u)}catch(e){return"<unknown>"}}function a(e,t){const n=e,o=[];if(!n?.tagName)return"";if(s.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}o.push(n.tagName.toLowerCase());const i=t?.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i?.length)i.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&o.push(`#${n.id}`);const e=n.className;if(e&&(0,r.Kg)(e)){const t=e.split(/\s+/);for(const e of t)o.push(`.${e}`)}}const a=["aria-label","type","name","title","alt"];for(const e of a){const t=n.getAttribute(e);t&&o.push(`[${e}="${t}"]`)}return o.join("")}function c(){try{return s.document.location.href}catch(e){return""}}function u(e){if(!s.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},948442:(e,t,n)=>{n.d(t,{T:()=>r});const r=!1},383354:(e,t,n)=>{n.d(t,{BD:()=>a,Kg:()=>u,L2:()=>v,NF:()=>l,Qd:()=>p,Qg:()=>g,T2:()=>i,W6:()=>c,bJ:()=>s,gd:()=>m,mE:()=>_,sO:()=>d,tH:()=>b,vq:()=>f,xH:()=>h});const r=Object.prototype.toString;function s(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return b(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function i(e){return o(e,"ErrorEvent")}function a(e){return o(e,"DOMError")}function c(e){return o(e,"DOMException")}function u(e){return o(e,"String")}function l(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||l(e)||"object"!=typeof e&&"function"!=typeof e}function p(e){return o(e,"Object")}function h(e){return"undefined"!=typeof Event&&b(e,Event)}function f(e){return"undefined"!=typeof Element&&b(e,Element)}function m(e){return o(e,"RegExp")}function g(e){return Boolean(e?.then&&"function"==typeof e.then)}function _(e){return p(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function b(e,t){try{return e instanceof t}catch(e){return!1}}function v(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},243498:(e,t,n)=>{n.d(t,{Ow:()=>i,Z9:()=>a,pq:()=>c,vF:()=>u});var r=n(222168),s=n(948442),o=n(420103);const i=["debug","info","warn","error","log","assert","trace"],a={};function c(e){if(!("console"in o.O))return e();const t=o.O.console,n={},r=Object.keys(a);r.forEach((e=>{const r=a[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const u=(0,r.BY)("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return s.T?i.forEach((n=>{t[n]=(...t)=>{e&&c((()=>{o.O.console[n](`Sentry Logger [${n}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}))},228086:(e,t,n)=>{n.d(t,{$X:()=>c,GR:()=>p,M6:()=>l,db:()=>d,eJ:()=>i,gO:()=>u});var r=n(591409),s=n(357659),o=n(420103);function i(e=function(){const e=o.O;return e.crypto||e.msCrypto}()){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&t())>>e/4).toString(16)))}function a(e){return e.exception?.values?.[0]}function c(e){const{message:t,event_id:n}=e;if(t)return t;const r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function l(e,t){const n=a(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r?.data,...t.data};n.mechanism.data=e}}function d(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>(0,s.nC)(e,0)));const i=Math.min(r-1,o);t.context_line=(0,s.nC)(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>(0,s.nC)(e,0)))}function p(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{(0,r.my)(e,"__sentry_captured__",!0)}catch(e){}return!1}},591409:(e,t,n)=>{n.d(t,{Ce:()=>g,GS:()=>c,HF:()=>m,W4:()=>p,my:()=>u,pO:()=>l,sp:()=>d});var r=n(763648),s=n(948442),o=n(383354),i=n(243498),a=n(357659);function c(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&l(o,r);try{e[t]=o}catch{s.T&&i.vF.log(`Failed to replace method "${t}" in object`,e)}}function u(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){s.T&&i.vF.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function l(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,u(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function p(e){if((0,o.bJ)(e))return{message:e.message,name:e.name,stack:e.stack,...f(e)};if((0,o.xH)(e)){const t={type:e.type,target:h(e.target),currentTarget:h(e.currentTarget),...f(e)};return"undefined"!=typeof CustomEvent&&(0,o.tH)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function h(e){try{return(0,o.vq)(e)?(0,r.Hd)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function f(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function m(e,t=40){const n=Object.keys(p(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return(0,a.xv)(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:(0,a.xv)(r,t)}return""}function g(e){return _(e,new Map)}function _(e,t){if(function(e){if(!(0,o.Qd)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch{return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.getOwnPropertyNames(e))void 0!==e[n]&&(r[n]=_(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(_(e,t))})),r}return e}},84347:(e,t,n)=>{n.d(t,{Z:()=>o,e:()=>s});var r=n(228086);function s(){return(0,r.eJ)()}function o(){return(0,r.eJ)().substring(16)}},357659:(e,t,n)=>{n.d(t,{Xr:()=>a,gt:()=>i,nC:()=>o,xv:()=>s});var r=n(383354);function s(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function i(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const s=e[t];try{(0,r.L2)(s)?n.push("[VueViewModel]"):n.push(String(s))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.Kg)(e)&&((0,r.gd)(t)?t.test(e):!!(0,r.Kg)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},470879:(e,t,n)=>{n.d(t,{lu:()=>o,zf:()=>i});var r=n(420103);const s=1e3;function o(){return Date.now()/s}const i=function(){const{performance:e}=r.O;if(!e?.now)return o;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/s}()},554728:(e,t,n)=>{n.d(t,{M:()=>r});const r="9.5.0"},420103:(e,t,n)=>{n.d(t,{O:()=>r});const r=globalThis},508718:(e,t,n)=>{function r(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const s={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=r(s[e],t[e],n-1));return s}n.d(t,{h:()=>r})},890630:(e,t,n)=>{let r;function s(){if(r||(r={instance:{}}),"undefined"==typeof window)return r;const e="TracerSDK_2.5.1";return window[e]||(window[e]=r),window[e]}function o(e){const t=s();let n=t.instance[e];return n||(n={plugins:[],inner:{},modules:{},version:"2.5.1"},t.instance[e]=n),n}function i(e){return o(e).inner}function a(e,t,n){const r=i(e);return r[t]||(r[t]=n(e)),r[t]}n.d(t,{Ci:()=>f,GJ:()=>dt,IJ:()=>it,Yg:()=>st,a8:()=>pe,ms:()=>tt,qr:()=>$e,uj:()=>ut,xv:()=>lt});class c{constructor(){this.log=[],this.logBytes=[],this.logIndex=0,this.logTotalBytes=0,this.logMaxBytes=64e3}destroy(){this.clear()}add(e){const t=`#${this.logIndex} ${Date.now()} | ${e}\n`,n=new Blob([t]).size;if(this.logTotalBytes+=n,this.log.push(t),this.logBytes.push(n),this.logIndex++,this.logTotalBytes>this.logMaxBytes){const e=this.logTotalBytes-this.logMaxBytes;let t=0;const n=this.logBytes.length-1;for(let r=0;r<n;r++)if(t+=this.logBytes[r],t>=e||r==n-1){this.logBytes=this.logBytes.slice(r+1),this.log=this.log.slice(r+1),this.logTotalBytes-=t;break}}}getData(){return this.log}clear(){this.log=[],this.logBytes=[],this.logTotalBytes=0}}function u(e){return o(e).modules}function l(e,t,n){const r=u(e);if(r[t])throw new Error(`Tracer module "${t}" was already initialized`);return r[t]=n(e),r[t]}function d(e,t){return i(e)[t]}class p{constructor(e){this.sdkKey=e}getSdkData(){return d(this.sdkKey,0)}log(e){const t=this.getSdkData();t&&t.add(e)}clearLog(){const e=this.getSdkData();e&&e.clear()}}const h="tracerMain";function f(){return a(e=h,0,(function(){return new c})),l(e,"log",(function(){return new p(e)}));var e}const m=["fatal","error","warning","notice","debug"];class g{constructor(e,t){this.crashesCount=0,this.errors=[],this.keys={},this.sdkKey=e,this.config=t}getConfig(){return this.config}withCrashes(){return Boolean(this.crashesCount)}getMaxSeverity(){return this.maxSeverity}destroy(){this.errors=[],this.keys={},this.userId=void 0,this.module=void 0}add(e){this.maxSeverity=function(...e){let t=null;for(let r=0;r<e.length;r++){const s=(n=e[r])?m.indexOf(n):-1;-1!==s&&(null===t||s<t)&&(t=s)}var n;return null===t?void 0:m[t]}(this.maxSeverity,e.severity);if("fatal"===e.severity||"CRASH"===e.type){this.crashesCount++,this.errors.push(e);const t=d(this.sdkKey,8),n=d(this.sdkKey,3);t&&t.setCrashed(this.maxSeverity),n&&1===this.crashesCount&&n.forceUpload()}else this.errors.push(e)}getData(){return this.errors}dequeue(e=1){return this.errors.splice(0,e)}setKey(e,t){this.keys[e]=t}setKeys(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.keys[t]=e[t])}removeKey(e){delete this.keys[e]}removeKeys(e){for(let t=0,n=e.length;t<n;t++)this.removeKey(e[t])}getKeys(){return this.keys}}function _(e,t,n,r={}){n=function(e,t,n){if(!n)return"";const r=e+": "+t;return 0===n.indexOf(r)?n.slice(r.length+1):n}(e,t,n);const s=n.lastIndexOf("\n");s===n.length-1&&(n=n.slice(0,s));const o=r.removeFirstLines,i=r.removeLastLines;if(o||i){let e=n.split("\n");if(o||i&&e.length){const t=o||0,n=i?e.length-i:e.length;e=e.slice(t,n)}n=e.join("\n")}if(r.detectByNames){const e=n.split("\n"),t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];-1===r.indexOf("APPTRACER_")&&t.push(r)}n=t.join("\n")}return n}const b="tracerCurrentStack";let v;function y(){return v||(v=new Error(b)),v}const S="ResizeObserver";function w(e){k(E(e,20))}function k(e){s().currentAsyncScope=e}function E(e,t){if(e)return 0===t&&(e.parent=void 0),E(e.parent,t-1),e}let x,O;try{x=new Map}catch(e){}function T(){clearTimeout(O),O=setTimeout(C,0)}function C(){x&&(x.clear(),clearTimeout(O),O=setTimeout(C,1e4))}function A(e){const t=M();t&&(x&&(t.name!==S||e||(e=S),x.set(e,t)),t.sameScopeCount--,k(P(t)))}function P(e){if(e)return e.sameScopeCount?e:P(e.parent)}function M(){return s().currentAsyncScope}function I(e,t=[],n){let r="("+e.name+")";if(e.sameScopeCount>1&&(r+=" x"+e.sameScopeCount),t.push(r),n){const n=y();t.push(_(n.name,n.message,e.stack,{detectByNames:!0}))}else t.push(e.stack);return e.parent&&I(e.parent,t,n),t.join("\n")}function R(e,t,n){if(n=t.tracerScope||n){const r=function(e){const t=d(e,4);return!!t&&t.disableStackCleanup}(e);return I(n,[_(t.name,t.message,t.stack,{detectByNames:!r})],!r)}return _(t.name,t.message,t.stack)}const $={};class D{constructor(){this.data={}}getItem(e){return this.data[e]||null}removeItem(e){this.data[e]=void 0}setItem(e,t){this.data[e]=t}}let B;function L(){if(!B){const e=s();B=e.ls,B||(B=function(){let e;try{if("undefined"==typeof window)return new D;e=window.localStorage;const t="__ls_tracer_test";return e.setItem(t,t),e.getItem(t)!==t?new D:(e.removeItem(t),e)}catch(e){return new D}}(),e.ls=B)}return B}function N(e){return"tracer-mute-"+e}function j(e){const t=L().getItem(N(e));return t?parseInt(t):null}function U(e){return!("all"===e||!W("all"))||W(e)}function W(e){let t=$[e];return void 0===t&&($[e]=t=j(e)),!!t&&(Date.now()<t||(function(e){$[e]=null,L().removeItem(N(e))}(e),!1))}function F(){try{return String(document.visibilityState)}catch(e){return"unknown"}}const q={},K={},H=1e4,V=10;function G(e){const t=function(e,t=0){let n=3735928559^t,r=1103547991^t;for(let t,s=0;s<e.length;s++)t=e.charCodeAt(s),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}(e),n=Date.now(),r=q[t]||n,s=K[t]||0,o=n-r,i=Math.floor(o/H),a=Math.max(0,s-i);return a>=V||(q[t]=n,K[t]=a+1,!1)}function z(e){return e instanceof Error}function J(e){return"object"==typeof e}function X(e,t=!1){const n=Object.prototype.toString;let r;if(J(e)){r=n.call(e);try{t&&(r=JSON.stringify(e))}catch(e){}}else r="function"==typeof e?n.call(e):String(e);return r}function Z(e,t,n){for(let r=0,s=e.length;r<s;r++){const s=e[r];if(Y(s,t)&&!1===n(s))return}}function Y(e,t){return void 0!==e[t]}function Q(e){return o(e).plugins}const ee="undefined"!=typeof window;function te(){return ee}function ne(){if(te()){const e=window.screen,t={screenWidth:e.width,screenHeight:e.height,host:window.location.host};return e.orientation&&void 0!==e.orientation.angle&&(t.screenOrientationAngle=e.orientation.angle),t}return{}}function re(e,t){if(U("crashUpload"))return;const n=d(e,1),r=d(e,0);if(!n)return;let s=R(e,t.error,t.asyncScope);const o=t.error.cause;let i;if(void 0!==o)try{z(o)?s=function(e,t,n){return n+"\n\nCaused by: "+t.name+": "+t.message+"\n"+R(e,t)}(e,o,s):i=X(o,n.getConfig().stringifyErrorDataObject)}catch(e){}const a=Object.assign(Object.assign({},t),{timestamp:Date.now(),log:r?r.getData().join(""):void 0,errorStack:s,causeSimpleValue:i?i.slice(0,100):void 0,documentVisibilityState:F(),properties:ne()});a.keys=Object.assign(Object.assign({},n.getKeys()),a.keys),a.userId||(a.userId=n.userId),d(e,4)&&(a.properties.asyncModuleEnabled=!0,(t.asyncScope||t.error.tracerScope)&&(a.properties.asyncModuleDataAdded=!0));const c=n.getConfig().filterError,u={error:t.error,errorStack:s,causeSimpleValue:i,component:a.component,versionName:a.versionName,versionCode:a.versionCode,severity:a.severity,keys:JSON.parse(JSON.stringify(a.keys)),issueKey:a.issueKey,crashIdSource:a.crashIdSource,userId:a.userId,documentVisibilityState:a.documentVisibilityState,errorEventType:a.errorEventType,timestamp:a.timestamp,log:a.log,properties:JSON.parse(JSON.stringify(a.properties))},l=Q(e);if(G(a.component+(t.crashIdSource||s||t.error.name||t.error.message)))return void Z(l,"errorOnThrottle",(function(e){e.errorOnThrottle(u)}));if(c&&!1===c(t.error,u))return;let p=!1;var h;(Z(l,"errorBeforeAdd",(function(e){const t=e.errorBeforeAdd(u);if(!1===t)return p=!0,!1;if(t&&"object"==typeof t){se(a,t),se(u,t);let n,r=a.properties.modifiedByPlugins;n=r?r.split(", "):[],-1===n.indexOf(e.name)&&n.push(e.name),r=n.join(", "),a.properties.modifiedByPlugins=r,u.properties.modifiedByPlugins=r}})),p)||(a.severity&&(h=a.severity,-1===m.indexOf(h)&&(console.warn("Wrong Tracer severity, value will be ignored. Valid values: "+m.join(", ")),1))&&(a.severity=void 0),n.add(a))}function se(e,t){let n;for(n in t)"keys"===n&&t[n]?oe(e,n,Object.assign(Object.assign({},e[n]),t[n])):oe(e,n,t[n])}function oe(e,t,n){ie[t]&&(e[t]=n)}const ie={severity:!0,keys:!0,issueKey:!0,crashIdSource:!0,userId:!0,component:!0,versionName:!0,versionCode:!0};function ae(e,t){const n=X(t);return n?e+": "+n:e}let ce=!1;function ue(e,t,n,r){if(z(t))re(e,{error:t,type:"CRASH",errorEventType:n});else if(r){const r=new Error(ae("Unhandled data error",t));r.tracerScope=function(e){if(x)return"string"==typeof e&&0===e.indexOf(S)?x.get(S):x.get(e)}(t),r.cause=t,re(e,{error:r,type:"CRASH",errorEventType:n})}}class le{constructor(e){this.sdkKey=e}getErrorsData(){return d(this.sdkKey,1)}error(e,t){let n;z(e)?n=e:(n=new Error(ae("Unknown data error",e)),n.cause=e,n.stack=_(n.name,n.message,n.stack,{removeFirstLines:1})),re(this.sdkKey,Object.assign(Object.assign({},t),{type:"NON_FATAL",error:n,errorEventType:"manual",asyncScope:n.tracerScope?void 0:M()}))}setErrorKey(e,t){const n=this.getErrorsData();n&&n.setKey(e,t)}setErrorKeys(e){const t=this.getErrorsData();t&&t.setKeys(e)}removeErrorKey(e){const t=this.getErrorsData();t&&t.removeKey(e)}removeErrorKeys(e){const t=this.getErrorsData();t&&t.removeKeys(e)}setUserId(e){const t=this.getErrorsData();t&&(t.userId=e)}removeUserId(){const e=this.getErrorsData();e&&(e.userId=void 0)}}function de(e,t){return Error.stackTraceLimit=t.stackTraceLimit||50,a(e,1,(function(){return new g(e,t)})),t.disableUnhandledErrorsListeners||a(e,2,(function(){return function(e,t=!1,n=!1){if("undefined"==typeof window||ce)return{destroy:function(){}};function r(r){let s;t&&r.stopImmediatePropagation(),s=!r.error&&r.message?r.message:r.error,ue(e,s,r.type,n)}function s(r){t&&r.stopImmediatePropagation(),ue(e,r.reason,r.type,n),T()}return window.addEventListener("error",r),window.addEventListener("unhandledrejection",s),ce=!0,{destroy:function(){ce&&(window.removeEventListener("error",r),window.removeEventListener("unhandledrejection",s))}}}(e,t.restrictOtherErrorListeners,t.handleOtherErrorDataType)})),l(e,"error",(function(){return new le(e)}))}function pe(e={}){return de(h,{stackTraceLimit:e.stackTraceLimit,disableUnhandledErrorsListeners:e.disableUnhandledErrorsListeners,restrictOtherErrorListeners:e.restrictOtherErrorListeners,filterError:e.filterError,handleOtherErrorDataType:e.handleOtherErrorDataType,stringifyErrorDataObject:e.stringifyErrorDataObject})}function he(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}const fe="tracer-device-id";function me(){const e=L();let t=e.getItem(fe);return t||(t=he(),e.setItem(fe,t)),t}function ge(e){return e.getFullYear()+"-"+_e(e.getMonth()+1)+"-"+_e(e.getDate())+"T"+_e(e.getHours())+":"+_e(e.getMinutes())+":"+_e(e.getSeconds())+function(e){if(0===e)return"Z";const t=e>0?"-":"+";return e=Math.abs(e),t+_e(Math.floor(e/60))+":"+_e(e%60)}(e.getTimezoneOffset())}function _e(e){return e<10?"0"+e:e}function be(e,t,n){const r=new Blob([e]);if(te()&&Boolean(window.CompressionStream))try{ve(r.stream().pipeThrough(new CompressionStream("gzip")).getReader()).then(t,(function(){n(r)}))}catch(e){n(r)}else n(r)}function ve(e,t=[]){return e.read().then((function(n){return n.value&&t.push(n.value),n.done?new Blob(t):ve(e,t)}))}function ye(){const e=s();return e.sessionUuid||(e.sessionUuid=he()),e.sessionUuid}function Se(e){return"https://"+(e.apiHost||"sdk-api.apptracer.ru")+e.apiUrl+function(e){const t=e.queryParams||{},n=[];e.sdkVersion&&(t.sdkVersion=e.sdkVersion);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]&&n.push(e+"="+t[e]);return n.length?"?"+n.join("&"):""}(e)}function we(e,t){if($[e])return;const n=N(e),r=j(e);if(r)$[e]=r;else{const r=$[e]=Date.now()+t;L().setItem(n,String(r))}}function ke(e){let t;const n=Se(e),r=function(e){if("form"===e.dataType){const t=new FormData;for(const n in e.data)if(Object.prototype.hasOwnProperty.call(e.data,n)){let r=e.data[n];"object"!=typeof r||r instanceof Blob||(r=JSON.stringify(r)),t.append(n,r)}return t}return"blob"===e.dataType?e.data:JSON.stringify(e.data)}(e),s=e.onRequestEnd,o={};let i=1e4,a=e.retryCount||1/0;const c="Content-Type";function u(){const e=new XMLHttpRequest;e.open("POST",n);for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&o[t]&&e.setRequestHeader(t,o[t]);return e.responseType="json",e.onload=d,e.onerror=d,e.onabort=d,e.ontimeout=d,e.send(r),e}function l(){i=Math.min(2*i,3e5),a--,t=u()}function d(n){if(!t)return;if(("timeout"===n.type||"error"===n.type&&t.readyState===XMLHttpRequest.DONE&&0===t.status)&&a>0)setTimeout(l,i);else{"undefined"!=typeof window&&window.removeEventListener("beforeunload",p);try{const n=t.response;if(n.commands){const t=n.commands.globalShutdownMs;t&&we("all",t);const r=n.commands.featureShutdownMs;r&&e.onMute(r)}}catch(e){}s&&s()}}function p(){if(navigator.sendBeacon)if(t&&t.abort(),"string"==typeof r||r instanceof Blob){let t=o[c];t="blob"===e.dataType?void 0:t,navigator.sendBeacon(n,new Blob([r],t?{type:t}:void 0))}else navigator.sendBeacon(n,r);else t||(t=u())}"json"===e.dataType?o[c]="application/json":"blob"===e.dataType&&(o[c]="application/octet-stream"),e.beforeUnload?p():(te()&&window.addEventListener("beforeunload",p),t=u())}function Ee(e){te()&&ke(e)}function xe(e){return o(e).version}function Oe(e){if(e)return e.toUpperCase()}let Te,Ce,Ae,Pe;function Me(){if(Te)return Te;const e={function:!0,object:!0};let t=e[typeof window]&&window||this;const n=e[typeof exports]&&exports,r=e[typeof module]&&module&&!module.nodeType&&module,s=n&&r&&"object"==typeof global&&global;!s||s.global!==s&&s.window!==s&&s.self!==s||(t=s);const o=Math.pow(2,53)-1,i=/\bOpera/,a=Object.prototype,c=a.hasOwnProperty,u=a.toString;function l(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function d(e){return e=g(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:l(e)}function p(e,t){for(const n in e)c.call(e,n)&&t(e[n],n,e)}function h(e){return null==e?l(e):u.call(e).slice(8,-1)}function f(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function m(e,t){let n=null;return function(e,t){let n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=o)for(;++n<r;)t(e[n],n,e);else p(e,t)}(e,(function(r,s){n=t(n,r,s,e)})),n}function g(e){return String(e).replace(/^ +| +$/g,"")}return Te=function e(n){let r=t;const s=n&&"object"==typeof n&&"String"!=h(n);s&&(r=n,n=null);const o=r.navigator||{},a=o.userAgent||"";n||(n=a);const c=s?!!o.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(u.toString()),l="Object",_=s?l:"ScriptBridgingProxyObject",b=s?l:"Environment",v=s&&r.java?"JavaPackage":h(r.java),y=s?l:"RuntimeObject",S=/\bJava/.test(v)&&r.java,w=S&&h(r.environment)==b,k=S?"a":"α",E=S?"b":"β",x=r.document||{};let O=r.operamini||r.opera;var T=i.test(T=s&&O?O["[[Class]]"]:h(O))?T:O=null;let C,A=n,P=[],M=null;const I=n==a;let R,$=I&&O&&"function"==typeof O.version&&O.version(),D=m([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,t){return e||RegExp("\\b"+(t.pattern||f(t))+"\\b","i").exec(n)&&(t.label||t)})),B=function(e){return m(e,(function(e,t){return e||RegExp("\\b"+(t.pattern||f(t))+"\\b","i").exec(n)&&(t.label||t)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),L=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),N=function(e){return m(e,(function(e,t,r){return e||(t[L]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+f(r)+"(?:\\b|\\w*\\d)","i").exec(n))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),j=function(e){return m(e,(function(e,t){const r=t.pattern||f(t);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(e=function(e,t,n){let r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),d(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,t.label||t)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function U(e){return m(e,(function(e,t){const r=t.pattern||f(t);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((e=String(t.label&&!RegExp(r,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=d(e[0].replace(RegExp(r,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function W(e){return m(e,(function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null}))}if(D&&(D=[D]),/\bAndroid\b/.test(j)&&!L&&(C=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(n))&&(L=g(C[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),N&&!L?L=U([N]):N&&L&&(L=L.replace(RegExp("^("+f(N)+")[-_.\\s]","i"),N+" ").replace(RegExp("^("+f(N)+")[-_.]?(\\w)","i"),N+" $2")),(C=/\bGoogle TV\b/.exec(L))&&(L=C[0]),/\bSimulator\b/i.test(n)&&(L=(L?L+" ":"")+"Simulator"),"Opera Mini"==B&&/\bOPiOS\b/.test(n)&&P.push("running in Turbo/Uncompressed mode"),"IE"==B&&/\blike iPhone OS\b/.test(n)?(C=e(n.replace(/like iPhone OS/,"")),N=C.manufacturer,L=C.product):/^iP/.test(L)?(B||(B="Safari"),j="iOS"+((C=/ OS ([\d_]+)/i.exec(n))?" "+C[1].replace(/_/g,"."):"")):"Konqueror"==B&&/^Linux\b/i.test(j)?j="Kubuntu":N&&"Google"!=N&&(/Chrome/.test(B)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(L))||/\bAndroid\b/.test(j)&&/^Chrome/.test(B)&&/\bVersion\//i.test(n)?(B="Android Browser",j=/\bAndroid\b/.test(j)?j:"Android"):"Silk"==B?(/\bMobi/i.test(n)||(j="Android",P.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&P.unshift("accelerated")):"UC Browser"==B&&/\bUCWEB\b/.test(n)?P.push("speed mode"):"PaleMoon"==B&&(C=/\bFirefox\/([\d.]+)\b/.exec(n))?P.push("identifying as Firefox "+C[1]):"Firefox"==B&&(C=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(j||(j="Firefox OS"),L||(L=C[1])):!B||(C=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(B))?(B&&!L&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(C+"/")+8))&&(B=null),(C=L||N||j)&&(L||N||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(j))&&(B=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(j)?j:C)+" Browser")):"Electron"==B&&(C=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&P.push("Chromium "+C),$||($=W(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",f(B),"(?:Firefox|Minefield|NetFront)"])),(C=("iCab"==D&&parseFloat($)>3?"WebKit":/\bOpera\b/.test(B)&&(/\bOPR\b/.test(n)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(n)&&("Mac OS"==j?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(B)&&"NetFront")&&(D=[C]),"IE"==B&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(B+=" Mobile",j="Windows Phone "+(/\+$/.test(C)?C:C+".x"),P.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(B="IE Mobile",j="Windows Phone 8.x",P.unshift("desktop mode"),$||($=(/\brv:([\d.]+)/.exec(n)||0)[1])):"IE"!=B&&"Trident"==D&&(C=/\brv:([\d.]+)/.exec(n))&&(B&&P.push("identifying as "+B+($?" "+$:"")),B="IE",$=C[1]),I){if(function(e,t){const n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(r,"global"))if(S&&(C=S.lang.System,A=C.getProperty("os.arch"),j=j||C.getProperty("os.name")+" "+C.getProperty("os.version")),w){try{$=r.require("ringo/engine").version.join("."),B="RingoJS"}catch(e){(C=r.system)&&C.global.system==r.system&&(B="Narwhal",j||(j=C[0].os||null))}B||(B="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(C=r.process)&&("object"==typeof C.versions&&("string"==typeof C.versions.electron?(P.push("Node "+C.versions.node),B="Electron",$=C.versions.electron):"string"==typeof C.versions.nw&&(P.push("Chromium "+$,"Node "+C.versions.node),B="NW.js",$=C.versions.nw)),B||(B="Node.js",A=C.arch,j=C.platform,$=/[\d.]+/.exec(C.version),$=$?$[0]:null));else h(C=r.runtime)==_?(B="Adobe AIR",j=C.flash.system.Capabilities.os):h(C=r.phantom)==y?(B="PhantomJS",$=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):"number"==typeof x.documentMode&&(C=/\bTrident\/(\d+)/i.exec(n))?($=[$,x.documentMode],(C=+C[1]+4)!=$[1]&&(P.push("IE "+$[1]+" mode"),D&&(D[1]=""),$[1]=C),$="IE"==B?String($[1].toFixed(1)):$[0]):"number"==typeof x.documentMode&&/^(?:Chrome|Firefox)\b/.test(B)&&(P.push("masking as "+B+" "+$),B="IE",$="11.0",D=["Trident"],j="Windows");j=j&&d(j)}if($&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec($)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(I&&o.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(M=/b/i.test(C)?"beta":"alpha",$=$.replace(RegExp(C+"\\+?$"),"")+("beta"==M?E:k)+(/\d+\+?/.exec(C)||"")),"Fennec"==B||"Firefox"==B&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(j))B="Firefox Mobile";else if("Maxthon"==B&&$)$=$.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(L))"Xbox 360"==L&&(j=null),"Xbox 360"==L&&/\bIEMobile\b/.test(n)&&P.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(B)&&(!B||L||/Browser|Mobi/.test(B))||"Windows CE"!=j&&!/Mobi/i.test(n))if("IE"==B&&I)try{null===r.external&&P.unshift("platform preview")}catch(e){P.unshift("embedded")}else(/\bBlackBerry\b/.test(L)||/\bBB10\b/.test(n))&&(C=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||$)?(C=[C,/BB10/.test(n)],j=(C[1]?(L=null,N="BlackBerry"):"Device Software")+" "+C[0],$=null):this!=p&&"Wii"!=L&&(I&&O||/Opera/.test(B)&&/\b(?:MSIE|Firefox)\b/i.test(n)||"Firefox"==B&&/\bOS X (?:\d+\.){2,}/.test(j)||"IE"==B&&(j&&!/^Win/.test(j)&&$>5.5||/\bWindows XP\b/.test(j)&&$>8||8==$&&!/\bTrident\b/.test(n)))&&!i.test(C=e.call(p,n.replace(i,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),i.test(B)?(/\bIE\b/.test(C)&&"Mac OS"==j&&(j=null),C="identify"+C):(C="mask"+C,B=T?d(T.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(C)&&(j=null),I||($=null)),D=["Presto"],P.push(C));else B+=" Mobile";(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],"Safari"==B&&"+"==C[1].slice(-1)?(B="WebKit Nightly",M="alpha",$=C[1].slice(0,-1)):$!=C[1]&&$!=(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1])||($=null),C[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(n)||0)[1],537.36==C[0]&&537.36==C[2]&&parseFloat(C[1])>=28&&"WebKit"==D&&(D=["Blink"]),I&&(c||C[1])?(D&&(D[1]="like Chrome"),C=C[1]||(C=C[0],C<530?1:C<532?2:C<532.05?3:C<533?4:C<534.03?5:C<534.07?6:C<534.1?7:C<534.13?8:C<534.16?9:C<534.24?10:C<534.3?11:C<535.01?12:C<535.02?"13+":C<535.07?15:C<535.11?16:C<535.19?17:C<536.05?18:C<536.1?19:C<537.01?20:C<537.11?"21+":C<537.13?23:C<537.18?24:C<537.24?25:C<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),C=C[0],C=C<400?1:C<500?2:C<526?3:C<533?4:C<534?"4+":C<535?5:C<537?6:C<538?7:C<601?8:C<602?9:C<604?10:C<606?11:C<608?12:"12"),D&&(D[1]+=" "+(C+="number"==typeof C?".x":/[.+]/.test(C)?"":"+")),"Safari"==B&&(!$||parseInt($)>45)?$=C:"Chrome"==B&&/\bHeadlessChrome/i.test(n)&&P.unshift("headless")),"Opera"==B&&(C=/\bzbov|zvav$/.exec(j))?(B+=" ",P.unshift("desktop mode"),"zvav"==C?(B+="Mini",$=null):B+="Mobile",j=j.replace(RegExp(" *"+C+"$"),"")):"Safari"==B&&/\bChrome\b/.exec(D&&D[1])?(P.unshift("desktop mode"),B="Chrome Mobile",$=null,/\bOS X\b/.test(j)?(N="Apple",j="iOS 4.3+"):j=null):/\bSRWare Iron\b/.test(B)&&!$&&($=W("Chrome")),$&&0==$.indexOf(C=/[\d.]+$/.exec(j))&&n.indexOf("/"+C+"-")>-1&&(j=g(j.replace(C,""))),j&&-1!=j.indexOf(B)&&!RegExp(B+" OS").test(j)&&(j=j.replace(RegExp(" *"+f(B)+" *"),"")),D&&!/\b(?:Avant|Nook)\b/.test(B)&&(/Browser|Lunascape|Maxthon/.test(B)||"Safari"!=B&&/^iOS/.test(j)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(B)&&D[1])&&(C=D[D.length-1])&&P.push(C),P.length&&(P=["("+P.join("; ")+")"]),N&&L&&L.indexOf(N)<0&&P.push("on "+N),L&&P.push((/^on /.test(P[P.length-1])?"":"on ")+L),j&&(C=/ ([\d.+]+)$/.exec(j),R=C&&"/"==j.charAt(j.length-C[0].length-1),j={architecture:32,family:C&&!R?j.replace(C[0],""):j,version:C?C[1]:null,toString:function(){const e=this.version;return this.family+(e&&!R?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(A))&&!/\bi686\b/i.test(A)?(j&&(j.architecture=64,j.family=j.family.replace(RegExp(" *"+C),"")),B&&(/\bWOW64\b/i.test(n)||I&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(n))&&P.unshift("32-bit")):j&&/^OS X/.test(j.family)&&"Chrome"==B&&parseFloat($)>=39&&(j.architecture=64),n||(n=null);const F={};return F.description=n,F.layout=D&&D[0],F.manufacturer=N,F.name=B,F.prerelease=M,F.product=L,F.ua=n,F.version=B&&$,F.os=j||{architecture:null,family:null,version:null,toString:function(){return"null"}},F.parse=e,F.toString=function(){return this.description||""},F.version&&P.unshift($),F.name&&P.unshift(B),j&&B&&(j!=String(j).split(" ")[0]||j!=B.split(" ")[0]&&!L)&&P.push(L?"("+j+")":"on "+j),P.length&&(F.description=P.join(" ")),F}(),Te}function Ie(){var e;if(!Ae){const t="unknown",n=Me();Ae={osVersion:(null===(e=n.os)||void 0===e?void 0:e.version)||t,vendor:n.name||t,device:n.version||t}}return Ae}class Re{constructor(e,t){this.CRASH_BATCH_SIZE=20,this.UPLOAD_BATCH_TIMEOUT_MS=15e3,this.beforeUnload=!1,this.sdkKey=e,this.environment=t.environment,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.uploadBatch=this.uploadBatch.bind(this),this.onUploadBatchEnd=this.onUploadBatchEnd.bind(this),this.onBatchDataEncoded=this.onBatchDataEncoded.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),te()&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.uploadBatch()}destroy(){clearTimeout(this.uploadBatchTimeout),te()&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.UPLOAD_BATCH_TIMEOUT_MS){clearTimeout(this.uploadBatchTimeout),this.beforeUnload||(this.uploadBatchTimeout=setTimeout(this.uploadBatch,e))}forceUpload(){clearTimeout(this.uploadBatchTimeout),this.uploadBatch()}uploadBatch(){const e=d(this.sdkKey,1);if(!e||U("crashUpload"))return void this.setUploadTask();const t=e.dequeue(this.CRASH_BATCH_SIZE),n=this.getFilteredRawBatchData(t);n.length?this.encodeBatchDataItems(n,this.onBatchDataEncoded):this.setUploadTask()}onBatchDataEncoded(e){be(JSON.stringify(e),this.runUpload.bind(this,"GZIP"),this.runUpload.bind(this,"NONE"))}runUpload(e,t){Ee({beforeUnload:this.beforeUnload,sdkVersion:xe(this.sdkKey),apiHost:this.apiHost,apiUrl:"/api/crash/uploadBatch",data:t,queryParams:{crashToken:this.appToken,compressType:e},dataType:"blob",onRequestEnd:this.onUploadBatchEnd,onMute:we.bind(null,"crashUpload")})}onUploadBatchEnd(){this.setUploadTask(0)}encodeBatchDataItems(e,t){const n=e.length;let r=0;for(let s=0;s<n;s++)this.encodeBatchDataItem(e[s],(function(){r++,r===n&&t(e)}))}encodeBatchDataItem(e,t){if(e.logsFile)return function(e,t){const n=new FileReader;n.onloadend=function(){const e=String(n.result);t(e.slice(e.indexOf("base64,")+7))},n.readAsDataURL(new Blob([e]))}(e.logsFile,(function(n){e.logsFile=n,t(e)}));t(e)}getFilteredRawBatchData(e){if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n],s=r.error.name+": "+r.error.message+"\n"+r.errorStack,o={type:r.type,format:"JS_STACKTRACE",severity:Oe(r.severity)||r.type,uploadBean:this.getUploadBeanForError(r),stackTrace:s};r.log&&(o.logsFile=r.log),t.push(o)}return t}getUploadBeanForError(e){const t=[],n=e.keys;if(n)for(const e in n)e&&Object.prototype.hasOwnProperty.call(n,e)&&t.push(`${e}=${n[e]}`);const r=this.sdkKey,s=Object.assign(Object.assign(Object.assign({},e.properties),{tracerSdkVersion:xe(r),timestamp:e.timestamp,date:ge(new Date(e.timestamp)),userId:e.userId?String(e.userId):void 0,issueKey:e.issueKey,errorEventType:e.errorEventType,documentVisibilityState:e.documentVisibilityState,errorCause:e.causeSimpleValue}),function(){var e,t,n;if(!Ce){const r=Me();Ce={userAgent:r.ua,browserName:r.name,browserVersion:r.version,osFamily:null===(e=r.os)||void 0===e?void 0:e.family,osVersion:null===(t=r.os)||void 0===t?void 0:t.version,osArchitecture:null===(n=r.os)||void 0===n?void 0:n.architecture}}return Ce}()),o=Object.assign({crashIdSource:e.crashIdSource,environment:this.environment,component:e.component||(r!==h?r:void 0),deviceId:me(),sessionUuid:ye(),versionName:e.versionName||this.versionName,versionCode:e.versionCode||this.versionCode,tags:t.length?t:void 0,properties:s},Ie());return e.crashIdSource&&(o.crashIdSourceField="crashIdSource",s.crashIdSource=e.crashIdSource),o}}function $e(e){return function(e,t){a(e,3,(function(){return new Re(e,{appToken:t.appToken,apiHost:t.apiHost,versionName:t.versionName,versionCode:t.versionCode,environment:t.environment})}))}(h,e)}function De(){try{return Pe||(Pe=new Function("return (async function() { }).constructor;")()),Pe}catch(e){return null}}function Be(e,t,n){n&&n.stack===t?(n.sameScopeCount++,w(n)):w({name:e,stack:t,parent:n,sameScopeCount:1})}function Le(e){z(e)&&!e.tracerScope&&(e.tracerScope=M()),A(e)}let Ne=!1;const je=function(e,t){if(!t||"function"!=typeof t||t.tracerWrapper)return t;if(!Ne&&(void 0===t.tracerIsNativeFunction&&(t.tracerIsNativeFunction=-1!==t.toString().indexOf("[native code]")),t.tracerIsNativeFunction))return t;const n=M(),r=new Error(b).stack||"";let s;return s=function(e){const t=De();return"function"==typeof e&&null!==t&&e instanceof t}(t)?{APPTRACER_WRAPPED_HANDLER:We()(e,t,r,n,Be,A,Le)}:{APPTRACER_WRAPPED_HANDLER:function(...s){Be(e,r,n);try{const e=t(...s);return A(e),e}catch(e){throw Le(e),e}}},s.APPTRACER_WRAPPED_HANDLER.tracerWrapper=!0,s.APPTRACER_WRAPPED_HANDLER};let Ue;function We(){return Ue||(Ue=new Function("name","handler","stack","scope","initScope","endScope","catchEndScope","return async function APPTRACER_WRAPPED_HANDLER(...args) {\n            initScope(name, stack, scope);\n\n            try {\n                const result = await handler(...args);\n                endScope(result);\n                return result;\n            } catch (e) {\n                catchEndScope(e);\n                throw e;\n            }\n        };"),Ue)}const Fe={APPTRACER_PATCHED_TASK:class extends Promise{constructor(e){super(je("Promise.constructor",e)),Object.setPrototypeOf(this,Fe.APPTRACER_PATCHED_TASK.prototype)}}};if(De()){const e=Promise;Object.defineProperty(Fe.APPTRACER_PATCHED_TASK,Symbol.hasInstance,{value:function(t){return t instanceof e}})}const qe="ns",Ke="ms",He="10*-n",Ve="undefined"!=typeof performance;function Ge(){return Ve?performance.now():Date.now()}function ze(e){return Math.round(1e6*e)}function Je(){let e;return e=Ve&&performance.now?performance.timeOrigin?performance.timeOrigin+performance.now():performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart+performance.now():Date.now()+performance.now():Date.now(),e}function Xe(e){return"string"==typeof e?e:e.join("-")}function Ze(e){return"string"==typeof e?e:e[0]}class Ye{constructor(e){this.samples=[],this.timeLabel={},this.sdkKey=e}destroy(){this.samples=[],this.timeLabel={}}setPerformanceAttributes(e){this.performanceAttributes||(this.performanceAttributes=e)}time(e,t){const n=Xe(e);this.timeLabel[n]?console.warn(`Timer '${Ze(e)}' already exists`):this.timeLabel[n]={from:Ge(),attributes:Object.assign({},t)}}timeEnd(e,t){const n=Xe(e),r=this.timeLabel[n];null!==r&&(r?(this.timeLabel[n]=void 0,this.add({name:Ze(e),value:ze(Ge()-r.from),unit:qe,attributes:Object.assign(Object.assign({},r.attributes),t)})):console.warn(`Timer '${Ze(e)}' does not exist`))}timeAbort(e){this.timeLabel[Xe(e)]=null}add(e){if(U("perfUpload"))return;if(e.value<0)throw new Error("Tracer performance do not support negative values");let t;const n=ze(Je());let r=e.attributes;this.performanceAttributes&&(r=Object.assign(Object.assign({},this.performanceAttributes()),r)),t=e.unit===He?{name:e.name,timeUnixNano:n,value:Math.round(e.value*Math.pow(10,e.precision)),unit:"10*-"+e.precision,attributes:r}:{name:e.name,timeUnixNano:n,value:e.value,unit:e.unit,attributes:r},this.samples.push(t)}getData(){return this.samples}clear(){this.samples=[]}dequeue(e=1){return this.samples.splice(0,e)}}function Qe(){}class et{constructor(e){this.sdkKey=e}getPerformanceData(){return d(this.sdkKey,5)}addSample(e){const t=this.getPerformanceData();t&&t.add(e)}addSampleTime(e,t,n,r=Ke){const s=this.getPerformanceData();s&&s.add({name:e,value:t,attributes:n,unit:r})}startTimer(e,t){const n=this.sdkKey,r=Ge(),s={endTimer:function(){!function(e,t,n,r,s){const o=d(e,5);o&&o.add({name:t,value:ze(Ge()-n),unit:qe,attributes:Object.assign(Object.assign({},r),s)})}(n,e,r,t),s.endTimer=Qe},abortTimer:function(){s.endTimer=Qe,s.abortTimer=Qe}};return s}time(e,t){const n=this.getPerformanceData();n&&n.time(e,t)}timeEnd(e,t){const n=this.getPerformanceData();n&&n.timeEnd(e,t)}timeAbort(e){const t=this.getPerformanceData();t&&t.timeAbort(e)}}function tt(e={}){return function(e,t={}){return a(e,5,(function(){return new Ye(e)})).setPerformanceAttributes(t.performanceAttributes),l(e,"performance",(function(){return new et(e)}))}(h,e)}class nt{constructor(e,t){this.PERFORMANCE_SAMPLE_DATA_SIZE=500,this.PERFORMANCE_UPLOAD_TIMEOUT=15e3,this.beforeUnload=!1,this.sdkKey=e,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.upload=this.upload.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),te()&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}destroy(){clearInterval(this.uploadTimeout),te()&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.PERFORMANCE_UPLOAD_TIMEOUT){clearTimeout(this.uploadTimeout),this.beforeUnload||(this.uploadTimeout=setTimeout(this.upload,e))}upload(){const e=d(this.sdkKey,5);if(!e||U("perfUpload"))return void this.setUploadTask();const t=e.dequeue(this.PERFORMANCE_SAMPLE_DATA_SIZE);if(!t.length)return void this.setUploadTask();const n=Object.assign(Object.assign({},Ie()),{samples:t,versionName:this.versionName,versionCode:String(this.versionCode),sessionUuid:ye(),deviceId:me(),clientTimeUnixNano:String(ze(Je()))}),r=this.onUploadEnd.bind(this);Ee({beforeUnload:this.beforeUnload,sdkVersion:xe(this.sdkKey),apiHost:this.apiHost,apiUrl:"/api/perf/upload",queryParams:{crashToken:this.appToken},data:n,dataType:"json",onRequestEnd:r,onMute:we.bind(null,"perfUpload")})}onUploadEnd(){this.setUploadTask(0)}}function rt(e,t){a(e,7,(function(){return new nt(e,t)}))}function st(e){return rt(h,e)}new Map;Date.now();class ot{constructor(e,t){this.status="BLANK",this.uploaded=!1,this.beforeUnload=!1,this.sdkKey=e,this.environment=t.environment,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.onBeforeUnload=this.onBeforeUnload.bind(this);const n=d(this.sdkKey,1);n&&n.withCrashes()&&this.setCrashed(n.getMaxSeverity()),te()&&window.addEventListener("beforeunload",this.onBeforeUnload)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}setCrashed(e){"CRASH"!==this.status&&(this.status="CRASH",this.maxSeverity=e,this.upload())}destroy(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}upload(){if(this.uploaded||U("trackSession"))return;this.uploaded=!0;const e={sessionUuid:ye(),versionName:this.versionName,versionCode:String(this.versionCode),status:this.status,maxSeverity:Oe(this.maxSeverity),environment:this.environment};this.uploadSessionInfo(e)}uploadSessionInfo(e){const t={};t.versionName=this.versionName,t.versionCode=String(this.versionCode),t.deviceId=me(),t.sessions=[e],Ee({beforeUnload:this.beforeUnload,sdkVersion:xe(this.sdkKey),apiHost:this.apiHost,apiUrl:"/api/crash/trackSession",queryParams:{crashToken:this.appToken},data:t,dataType:"json",onMute:we.bind(null,"trackSession")})}}function it(e){return function(e,t){a(e,8,(function(){return new ot(e,t)}))}(h,e)}function at(e,t){const n=Object.assign({},t),r=Q(e);return r.push(n),function(){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}function ct(e,t){const n=[];for(let r=0,s=t.length;r<s;r++)n.push(at(e,t[r]));return function(){for(let e=0,t=n.length;e<t;e++)n[e]()}}function ut(e){!function(e,t){a(e,11,(function(e){return{destroy:ct(e,t.plugins)}}))}(h,e)}function lt(){return u(h)}function dt(e,...t){const n={};for(let r=0,s=t.length;r<s;r++){const s=t[r](e);if(s){const e=Object.getPrototypeOf(s),t=Object.getOwnPropertyNames(e);for(let r=0,o=t.length;r<o;r++){const o=t[r];"function"==typeof e[o]&&"constructor"!==o&&(n[o]=e[o].bind(s))}}}return n}}},i={};function __webpack_require__(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return o[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=o,__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>{if(61037===e)return"core_spa/chunks/grip-lib.a7e195ef.js"},__webpack_require__.miniCssF=e=>{},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},__webpack_require__.l=(t,n,r,s)=>{if(e[t])e[t].push(n);else{var o,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var u=a[c];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")=="vk:"+r){o=u;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack","vk:"+r),o.src=t),e[t]=[n];var l=(n,r)=>{o.onerror=o.onload=null,clearTimeout(d);var s=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(r))),n)return n(r)},d=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),i&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",t=__webpack_require__.u,n=__webpack_require__.e,r={},s={},__webpack_require__.u=function(e){return t(e)+(r.hasOwnProperty(e)?"?"+r[e]:"")},__webpack_require__.e=function(e){return n(e).catch((function(n){var o=s.hasOwnProperty(e)?s[e]:3;if(o<1){var i=t(e);throw n.message="Loading chunk "+e+" failed after 3 retries.\n("+i+")",n.request=i,n}return new Promise((function(t){var n,i=3-o+1;setTimeout((function(){var n="cache-bust=true&retry-attempt="+i;r[e]=n,s[e]=o-1,t(__webpack_require__.e(e))}),(n=i,1e3*Math.pow(3,n)))}))}))},(()=>{var e={31070:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if("langs/core_spa/grip-lib"!=t){var s=new Promise(((n,s)=>r=e[t]=[n,s]));n.push(r[2]=s);var o=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,r[1](i)}}),"chunk-"+t,t)}else e[t]=0};var t=(t,n)=>{var r,s,[o,i,a]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(a)a(__webpack_require__)}for(t&&t(n);c<o.length;c++)s=o[c],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkvk=self.webpackChunkvk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e={},t={};__webpack_require__.f.vkLangs=(n,r)=>{if("string"==typeof n&&n.startsWith("langs/core_spa/")){var s=t[n.replace("langs/core_spa/","")];if(s){var o=__webpack_require__.o(e,n)?e[n]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((t,r)=>o=e[n]=[t,r]));r.push(o[2]=i);var a="?v="+(window.vk&&window.vk.cfg?window.vk.cfg.langs_force_version:0)+"&p=web&l="+window.vk.lang||"",c=self.location.origin+/js/+n+"."+s+".js"+a,u=new Error;__webpack_require__.l(c,(t=>{if(__webpack_require__.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){o[0]();var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;u.message="Loading lang "+n+" failed.\n("+r+": "+s+")",u.name="LangLoadError",u.type=r,u.request=s,setTimeout((()=>{throw u}),0)}}),"lang-"+n)}}}};var n=self.langChunkLoadingGlobal||(e=>self.addLangKeys(e[1]));self.langChunkLoadingGlobal=((t,n)=>{var[r]=n;t&&t(n),__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0}).bind(null,n)})(),self.__declaredGlobals||(self.__declaredGlobals=new Set),self.__usedGlobals||(self.__usedGlobals={buffered:new Set,bufferedErrors:new Set,add(e){this.buffered.add(e)},addError(e){this.bufferedErrors.add(e)},listen(e){(this.buffered.size||this.bufferedErrors.size)&&e(Array.from(this.bufferedErrors),Array.from(this.buffered));const t=this.add.bind(this),n=this.addError.bind(this);this.add=n=>{e([],[n]),t(n)},this.addError=t=>{e([t],[]),n(t)}}}),__webpack_require__._dG=function(e,t){if(self.partConfigEnabled&&self.partConfigEnabled("global_variable_wrapper")&&!self.__declaredGlobals.has(e)){self.__declaredGlobals.add(e);try{let n=t;Object.defineProperty(self,e,{enumerable:!0,configurable:!0,get:()=>(self.__usedGlobals.add(e),n),set(e){n=e}})}catch(n){self.__usedGlobals.addError(e),window[e]=t}}else window[e]=t;return t};try{const T=navigator.userAgent.toLowerCase(),C={version:(T.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(T)||/opr/i.test(T),vivaldi:/vivaldi/i.test(T),amigo:/amigo.*mrchrome soc/i.test(T),msie:/msie/i.test(T)&&!/opera/i.test(T)||/trident\//i.test(T)||/edge/i.test(T),msie6:/msie 6/i.test(T)&&!/opera/i.test(T),msie7:/msie 7/i.test(T)&&!/opera/i.test(T),msie8:/msie 8/i.test(T)&&!/opera/i.test(T),msie9:/msie 9/i.test(T)&&!/opera/i.test(T),msie_edge:/edge/i.test(T)&&!/opera/i.test(T),mozilla:/firefox/i.test(T),yabrowser:/yabrowser/i.test(T),whale:/whale/i.test(T),chrome:/chrome/i.test(T)&&!/edge/i.test(T),safari:!/chrome/i.test(T)&&/webkit|safari|khtml/i.test(T),iphone:/iphone/i.test(T),ipod:/ipod/i.test(T),iphone4:/iphone.*OS 4/i.test(T),ipod4:/ipod.*OS 4/i.test(T),ipad:/ipad/i.test(T),ios:/.+(ipod|ipad|iphone.*os)/i.test(T),android:/android/i.test(T),bada:/bada/i.test(T),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(T),msie_mobile:/iemobile/i.test(T),safari_mobile:/iphone|ipod|ipad/i.test(T),opera_mobile:/opera mini|opera mobi/i.test(T),opera_mini:/opera mini/i.test(T),mac:/mac/i.test(T),windows7:/windows nt 6.1/i.test(T),windowsVista:/windows nt 6.0/i.test(T),windowsXp:/windows nt (5.2|5.1)/i.test(T),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(T),smart_tv:/smart-tv|smarttv/i.test(T)};function A(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}function P(){return A().vk?.statsMeta?.st?"staging":"production"}function M(){P();return A().vk?.rv}function I(){return A().cur?.module||"unknown"}function R(){const e=A().vk?.id;if(e)return{id:String(e)}}const $=!1;var a=__webpack_require__(243498);const D=[];function B(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}function L(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(n))r=[...t,...n];else if("function"==typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return B(r)}function N(e,t){const n={};return t.forEach((t=>{t&&U(e,t,n)})),n}function j(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function U(e,t,n){if(n[t.name])$&&a.vF.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===D.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),D.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}$&&a.vF.log(`Integration installed: ${t.name}`)}}var c=__webpack_require__(228086),u=__webpack_require__(357659);function W(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch(e){}return t}const F=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],q="EventFilters",K=(e={})=>({name:q,processEvent(t,n,r){const s=r.getOptions();return G(t,V(e,s))?null:t}}),H=(e={})=>({...K(e),name:"InboundFilters"});function V(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:F],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function G(e,t){return t.ignoreInternal&&Y(e)?($&&a.vF.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,c.$X)(e)}`),!0):z(e,t.ignoreErrors)?($&&a.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,c.$X)(e)}`),!0):te(e)?($&&a.vF.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${(0,c.$X)(e)}`),!0):J(e,t.ignoreTransactions)?($&&a.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,c.$X)(e)}`),!0):X(e,t.denyUrls)?($&&a.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,c.$X)(e)}.\nUrl: ${ee(e)}`),!0):!Z(e,t.allowUrls)&&($&&a.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,c.$X)(e)}.\nUrl: ${ee(e)}`),!0)}function z(e,t){return!(e.type||!t||!t.length)&&W(e).some((e=>(0,u.Xr)(e,t)))}function J(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,u.Xr)(n,t)}function X(e,t){if(!t?.length)return!1;const n=ee(e);return!!n&&(0,u.Xr)(n,t)}function Z(e,t){if(!t?.length)return!0;const n=ee(e);return!n||(0,u.Xr)(n,t)}function Y(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}function Q(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function ee(e){try{const t=[...e.exception?.values??[]].reverse().find((e=>void 0===e.mechanism?.parent_id&&e.stacktrace?.frames?.length)),n=t?.stacktrace?.frames;return n?Q(n):null}catch(t){return $&&a.vF.error(`Cannot extract url for event ${(0,c.$X)(e)}`),null}}function te(e){return!e.type&&(!!e.exception?.values?.length&&(!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))))}var l=__webpack_require__(456049),d=__webpack_require__(591409);let ne;const re="FunctionToString",se=new WeakMap,oe=()=>({name:re,setupOnce(){ne=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,d.sp)(this),n=se.has((0,l.KU)())&&void 0!==t?t:this;return ne.apply(n,e)}}catch{}},setup(e){se.set(e,!0)}}),ie=50,ae="?",ce=/\(error: (.*)\)/,ue=/captureMessage|captureException/;function le(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,r=0)=>{const s=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const i=ce.test(n)?n.replace(ce,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){s.push(t);break}}if(s.length>=ie+r)break}}return de(s.slice(r))}}function de(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(pe(t).function||"")&&t.pop(),t.reverse(),ue.test(pe(t).function||"")&&(t.pop(),ue.test(pe(t).function||"")&&t.pop()),t.slice(0,ie).map((e=>({...e,filename:e.filename||pe(t).filename,function:e.function||ae})))}function pe(e){return e[e.length-1]||{}}const he="<anonymous>";function fe(e){try{return e&&"function"==typeof e&&e.name||he}catch(e){return he}}function me(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}}const ge="Dedupe",_e=()=>{let e;return{name:ge,processEvent(t){if(t.type)return t;try{if(be(t,e))return $&&a.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function be(e,t){return!!t&&(!!ve(e,t)||!!ye(e,t))}function ve(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!we(e,t)&&!!Se(e,t))))}function ye(e,t){const n=ke(t),r=ke(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!we(e,t)&&!!Se(e,t)))}function Se(e,t){let n=me(e),r=me(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],s=n[e];if(t.filename!==s.filename||t.lineno!==s.lineno||t.colno!==s.colno||t.function!==s.function)return!1}return!0}function we(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function ke(e){return e.exception?.values&&e.exception.values[0]}var p=__webpack_require__(763648),h=__webpack_require__(948442),f=__webpack_require__(420103);const Ee=f.O;function xe(){if(!("fetch"in Ee))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Oe(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Te(){if("string"==typeof EdgeRuntime)return!0;if(!xe())return!1;if(Oe(Ee.fetch))return!0;let e=!1;const t=Ee.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Oe(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){h.T&&a.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function Ce(e,t){!0===t.debug&&($?a.vF.enable():(0,a.pq)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));(0,l.o5)().update(t.initialScope);const n=new e(t);return Ae(n),n.init(),n}function Ae(e){(0,l.o5)().setClient(e)}const Pe="7";function Me(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ie(e){return`${Me(e)}${e.projectId}/envelope/`}function Re(e,t){const n={sentry_version:Pe};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}const $e="production",De=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Be(e){return"http"===e||"https"===e}function Le(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${i}`}function Ne(e){const t=De.exec(e);if(!t)return void(0,a.pq)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,s="",o="",i="",c=""]=t.slice(1);let u="",l=c;const d=l.split("/");if(d.length>1&&(u=d.slice(0,-1).join("/"),l=d.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return je({host:o,pass:s,path:u,projectId:l,port:i,protocol:n,publicKey:r})}function je(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ue(e){if(!h.T)return!0;const{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(a.vF.error(`Invalid Sentry Dsn: ${t} missing`),!0)))&&(n.match(/^\d+$/)?Be(r)?!t||!isNaN(parseInt(t,10))||(a.vF.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(a.vF.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(a.vF.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}function We(e){const t="string"==typeof e?Ne(e):je(e);if(t&&Ue(t))return t}var m=__webpack_require__(222168),g=__webpack_require__(383354);function Fe(e,t=100,n=1/0){try{return Ke("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function qe(e,t=3,n=102400){const r=Fe(e,t);return s=r,Ge(JSON.stringify(s))>n?qe(e,t-1,n):r;var s}function Ke(e,t,n=1/0,r=1/0,s=ze()){const[o,i]=s;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const a=He(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return Ke("",u.toJSON(),c-1,r,s)}catch(e){}const l=Array.isArray(t)?[]:{};let p=0;const h=(0,d.W4)(t);for(const e in h){if(!Object.prototype.hasOwnProperty.call(h,e))continue;if(p>=r){l[e]="[MaxProperties ~]";break}const t=h[e];l[e]=Ke(e,t,c-1,r,s),p++}return i(t),l}function He(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,g.L2)(t))return"[VueViewModel]";if((0,g.mE)(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${fe(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=Ve(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}function Ve(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Ge(e){return~-encodeURI(e).split(/%..|./).length}function ze(){const e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}function Je(e,t=[]){return[e,t]}function Xe(e,t){const[n,r]=e;return[n,[...r,t]]}function Ze(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Ye(e){const t=(0,m.Se)(f.O);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function Qe(e){const[t,n]=e;let r=JSON.stringify(t);function s(e){"string"==typeof r?r="string"==typeof e?r+e:[Ye(r),e]:r.push("string"==typeof e?Ye(e):e)}for(const e of n){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Fe(n))}s(e)}}return"string"==typeof r?r:et(r)}function et(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}function tt(e){const t="string"==typeof e.data?Ye(e.data):e.data;return[(0,d.Ce)({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const nt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",otel_log:"log_item"};function rt(e){return nt[e]}function st(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ot(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Le(r)},...s&&{trace:(0,d.Ce)({...s})}}}function it(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]],e):e}function at(e,t,n,r){const s=st(n);return Je({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Le(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}function ct(e,t,n,r){const s=st(n),o=e.type&&"replay_event"!==e.type?e.type:"event";it(e,n?.sdk);const i=ot(e,s,r,t);delete e.sdkProcessingMetadata;return Je(i,[[{type:o},e]])}var _=__webpack_require__(462200);const ut="sentry.source",lt="sentry.sample_rate",dt="sentry.op",pt="sentry.origin",ht="sentry.profile_id",ft="sentry.exclusive_time",mt="sentry-",gt=/^sentry-/;function _t(e){const t=bt(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(gt)){e[t.slice(mt.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function bt(e){if(e&&((0,g.Kg)(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const n=vt(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{}):vt(e)}function vt(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}const yt=0,St=1;const wt="_sentryScope",kt="_sentryIsolationScope";function Et(e){return{scope:e[wt],isolationScope:e[kt]}}var b=__webpack_require__(84347),v=__webpack_require__(470879);const xt=1;let Ot=!1;function Tt(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:Mt(e).parent_span_id,o=Et(e).scope,i=r?o?.getPropagationContext().propagationSpanId||(0,b.Z)():t;return(0,d.Ce)({parent_span_id:s,span_id:i,trace_id:n})}function Ct(e){return e&&e.length>0?e.map((({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:s})=>({span_id:e,trace_id:t,sampled:n===xt,attributes:s,...r}))):void 0}function At(e){return"number"==typeof e?Pt(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Pt(e.getTime()):(0,v.zf)()}function Pt(e){return e>9999999999?e/1e3:e}function Mt(e){if(Rt(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(It(e)){const{attributes:r,startTime:s,name:o,endTime:i,parentSpanId:a,status:c,links:u}=e;return(0,d.Ce)({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:At(s),timestamp:At(i)||void 0,status:$t(c),op:r[dt],origin:r[pt],links:Ct(u)})}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function It(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}function Rt(e){return"function"==typeof e.getSpanJSON}function $t(e){if(e&&e.code!==yt)return e.code===St?"ok":e.message||"unknown_error"}const Dt="_sentryRootSpan";function Bt(e){return e[Dt]||e}function Lt(){Ot||((0,a.pq)((()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")})),Ot=!0)}const Nt="_frozenDsc";function jt(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=(0,d.Ce)({environment:n.environment||$e,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Ut(e,t){const n=t.getPropagationContext();return n.dsc||jt(n.traceId,e)}function Wt(e){const t=(0,l.KU)();if(!t)return{};const n=Bt(e),r=Mt(n),s=r.data,o=n.spanContext().traceState,i=o?.get("sentry.sample_rate")??s[lt];function a(e){return"number"!=typeof i&&"string"!=typeof i||(e.sample_rate=`${i}`),e}const c=n[Nt];if(c)return a(c);const u=o?.get("sentry.dsc"),d=u&&_t(u);if(d)return a(d);const p=jt(e.spanContext().traceId,t),h=s[ut],f=r.description;return"url"!==h&&f&&(p.transaction=f),a(p),t.emit("createDsc",p,n),p}class Ft extends Error{constructor(e,t="warn"){super(e),this.message=e,this.logLevel=t}}var y;function qt(e){return new Ht((t=>{t(e)}))}function Kt(e){return new Ht(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(y||(y={}));class Ht{then(e,t){return new Ht(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Ht(((t,n)=>{let r,s;return this.then((t=>{s=!1,r=t,e&&e()}),(t=>{s=!0,r=t,e&&e()})).then((()=>{s?n(r):t(r)}))}))}_executeHandlers(){if(this._state===y.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===y.RESOLVED&&e[1](this._value),this._state===y.REJECTED&&e[2](this._value),e[0]=!0)}))}_runExecutor(e){const t=(e,t)=>{this._state===y.PENDING&&((0,g.Qg)(t)?t.then(n,r):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(y.RESOLVED,e)},r=e=>{t(y.REJECTED,e)};try{e(n,r)}catch(e){r(e)}}constructor(e){this._state=y.PENDING,this._handlers=[],this._runExecutor(e)}}var S=__webpack_require__(508718);function Vt(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;return"number"!=typeof t||isNaN(t)||t<0||t>1?void 0:t}function Gt(e,t,n,r=0){return new Ht(((s,o)=>{const i=e[r];if(null===t||"function"!=typeof i)s(t);else{const c=i({...t},n);$&&i.id&&null===c&&a.vF.log(`Event processor "${i.id}" dropped event`),(0,g.Qg)(c)?c.then((t=>Gt(e,t,n,r+1).then(s))).then(null,o):Gt(e,c,n,r+1).then(s).then(null,o)}}))}var w=__webpack_require__(303650);let zt,Jt,Xt;function Zt(e){const t=f.O._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Xt&&n.length===Jt||(Jt=n.length,Xt=n.reduce(((n,r)=>{zt||(zt={});const s=zt[r];if(s)n[s[0]]=s[1];else{const s=e(r);for(let e=s.length-1;e>=0;e--){const o=s[e],i=o?.filename,a=t[r];if(i&&a){n[i]=a,zt[r]=[i,a];break}}}return n}),{})),Xt}function Yt(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;tn(e,t),r&&sn(e,r),on(e,n),nn(e,s),rn(e,o)}function Qt(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:h,span:f}=t;en(e,"extra",n),en(e,"tags",r),en(e,"user",s),en(e,"contexts",o),e.sdkProcessingMetadata=(0,S.h)(e.sdkProcessingMetadata,a,2),i&&(e.level=i),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function en(e,t,n){e[t]=(0,S.h)(e[t],n,1)}function tn(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t,c=(0,d.Ce)(n);Object.keys(c).length&&(e.extra={...c,...e.extra});const u=(0,d.Ce)(r);Object.keys(u).length&&(e.tags={...u,...e.tags});const l=(0,d.Ce)(s);Object.keys(l).length&&(e.user={...l,...e.user});const p=(0,d.Ce)(o);Object.keys(p).length&&(e.contexts={...p,...e.contexts}),i&&(e.level=i),a&&"transaction"!==e.type&&(e.transaction=a)}function nn(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function rn(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function sn(e,t){e.contexts={trace:Tt(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Wt(t),...e.sdkProcessingMetadata};const n=Mt(Bt(t)).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}function on(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function an(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,u={...t,event_id:t.event_id||n.event_id||(0,c.eJ)(),timestamp:t.timestamp||(0,v.lu)()},d=n.integrations||e.integrations.map((e=>e.name));cn(u,e),dn(u,d),s&&s.emit("applyFrameMetadata",t),void 0===t.type&&un(u,e.stackParser);const p=hn(r,n.captureContext);n.mechanism&&(0,c.M6)(u,n.mechanism);const h=s?s.getEventProcessors():[],f=(0,l.m6)().getScopeData();if(o){Qt(f,o.getScopeData())}if(p){Qt(f,p.getScopeData())}const m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),Yt(u,f);return Gt([...h,...f.eventProcessors],u,n).then((e=>(e&&ln(e),"number"==typeof i&&i>0?pn(e,i,a):e)))}function cn(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||$e,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s),e.message&&(e.message=(0,u.xv)(e.message,o));const i=e.exception?.values?.[0];i?.value&&(i.value=(0,u.xv)(i.value,o));const a=e.request;a?.url&&(a.url=(0,u.xv)(a.url,o))}function un(e,t){const n=Zt(t);e.exception?.values?.forEach((e=>{e.stacktrace?.frames?.forEach((e=>{e.filename&&(e.debug_id=n[e.filename])}))}))}function ln(e){const t={};if(e.exception?.values?.forEach((e=>{e.stacktrace?.frames?.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))})),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})}))}function dn(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function pn(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Fe(e.data,t,n)}})))},...e.user&&{user:Fe(e.user,t,n)},...e.contexts&&{contexts:Fe(e.contexts,t,n)},...e.extra&&{extra:Fe(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Fe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:Fe(e.data,t,n)}})))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Fe(e.contexts.flags,3,n)),r}function hn(e,t){if(!t)return e;const n=e?e.clone():new w.H;return n.update(t),n}function fn(e){if(e)return mn(e)||_n(e)?{captureContext:e}:e}function mn(e){return e instanceof w.H||"function"==typeof e}const gn=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function _n(e){return Object.keys(e).some((e=>gn.includes(e)))}function bn(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:i,op:a}=e.contexts?.trace??{};return(0,d.Ce)({data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i?.[ht],exclusive_time:i?.[ft],measurements:e.measurements,is_segment:!0})}function vn(e){const t={type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ht]:e.profile_id},...e.exclusive_time&&{[ft]:e.exclusive_time}}}},measurements:e.measurements};return(0,d.Ce)(t)}const yn="Not capturing exception because it's already been captured.",Sn="Discarded session because of missing or non-string release";class wn{captureException(e,t,n){const r=(0,c.eJ)();if((0,c.GR)(e))return $&&a.vF.log(yn),r;const s={event_id:r,...t};return this._process(this.eventFromException(e,s).then((e=>this._captureEvent(e,s,n)))),s.event_id}captureMessage(e,t,n,r){const s={event_id:(0,c.eJ)(),...n},o=(0,g.NF)(e)?e:String(e),i=(0,g.sO)(e)?this.eventFromMessage(o,t,s):this.eventFromException(e,s);return this._process(i.then((e=>this._captureEvent(e,s,r)))),s.event_id}captureEvent(e,t,n){const r=(0,c.eJ)();if(t?.originalException&&(0,c.GR)(t.originalException))return $&&a.vF.log(yn),r;const s={event_id:r,...t},o=e.sdkProcessingMetadata||{},i=o.capturedSpanScope,u=o.capturedSpanIsolationScope;return this._process(this._captureEvent(e,s,i||n,u)),s.event_id}captureSession(e){this.sendSession(e),(0,_.qO)(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):qt(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];U(this,e,this._integrations),t||j(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=ct(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Xe(n,tt(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const{release:t,environment:n=$e}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void($&&a.vF.warn(Sn));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void($&&a.vF.warn(Sn));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=at(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;$&&a.vF.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>($&&a.vF.error("Error while sending envelope:",e),e))):($&&a.vF.error("Transport disabled"),qt({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=N(this,e),j(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1;const s=t.exception?.values;if(s){r=!0;for(const e of s){const t=e.mechanism;if(!1===t?.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,_.qO)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ht((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const s=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o?.length&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),an(s,e,t,n,this,r).then((e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:(0,l.vn)(n),...e.contexts};const r=Ut(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e}))}_captureEvent(e,t={},n=(0,l.o5)(),r=(0,l.rm)()){return $&&xn(e)&&a.vF.log(`Captured error event \`${W(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then((e=>e.event_id),(e=>{$&&(e instanceof Ft&&"log"===e.logLevel?a.vF.log(e.message):a.vF.warn(e))}))}_processEvent(e,t,n,r){const s=this.getOptions(),{sampleRate:o}=s,i=On(e),a=xn(e),c=e.type||"error",u=`before send for type \`${c}\``,l=void 0===o?void 0:Vt(o);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Kt(new Ft(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d="replay_event"===c?"replay":c;return this._prepareEvent(e,t,n,r).then((e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),new Ft("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return e;return kn(En(this,s,e,t),u)})).then((s=>{if(null===s){if(this.recordDroppedEvent("before_send",d),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new Ft(`${u} returned \`null\`, will not send event.`,"log")}const o=n.getSession()||r.getSession();if(a&&o&&this._updateSessionFromEvent(o,s),i){const e=(s.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(s.spans?s.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const c=s.transaction_info;if(i&&c&&s.transaction!==e.transaction){const e="custom";s.transaction_info={...c,source:e}}return this.sendEvent(s,t),s})).then(null,(e=>{if(e instanceof Ft)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Ft(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){$&&a.vF.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void($&&a.vF.log("No outcomes to send"));if(!this._dsn)return void($&&a.vF.log("No dsn provided, will not send outcomes"));$&&a.vF.log("Sending outcomes:",e);const t=(n=e,Je((r=this._options.tunnel&&Le(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||(0,v.lu)(),discarded_events:n}]]));var n,r,s;this.sendEnvelope(t)}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=We(e.dsn):$&&a.vF.warn("No DSN provided, client will not send events."),this._dsn){const s=(t=this._dsn,n=e.tunnel,r=e._metadata?e._metadata.sdk:void 0,n||`${Ie(t)}?${Re(t,r)}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:s})}var t,n,r}}function kn(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,g.Qg)(e))return e.then((e=>{if(!(0,g.Qd)(e)&&null!==e)throw new Ft(n);return e}),(e=>{throw new Ft(`${t} rejected with ${e}`)}));if(!(0,g.Qd)(e)&&null!==e)throw new Ft(n);return e}function En(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;let a=n;if(xn(a)&&s)return s(a,r);if(On(a)){if(i){const e=i(bn(a));if(e?a=(0,S.h)(n,vn(e)):Lt(),a.spans){const e=[];for(const t of a.spans){const n=i(t);n?e.push(n):(Lt(),e.push(t))}a.spans=e}}if(o){if(a.spans){const e=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(a,r)}}return a}function xn(e){return void 0===e.type}function On(e){return"transaction"===e.type}var k=__webpack_require__(554728);function Tn(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:k.M}))),version:k.M}),e._metadata=s}function Cn(e){void 0===e.user?.ip_address&&(e.user={...e.user,ip_address:"{{auto}}"})}function An(e){"aggregates"in e?void 0===e.attrs?.ip_address&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function Pn(e,t){const n=Rn(e,t),r={type:Nn(t),value:jn(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Mn(e,t,n,r){const s=(0,l.KU)(),o=s?.getOptions().normalizeDepth,i=Vn(t),a={__serialized__:qe(t,o)};if(i)return{exception:{values:[Pn(e,i)]},extra:a};const c={exception:{values:[{type:(0,g.xH)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Kn(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=Rn(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}function In(e,t){return{exception:{values:[Pn(e,t)]}}}function Rn(e,t){const n=t.stacktrace||t.stack||"",r=Dn(t),s=Bn(t);try{return e(n,r,s)}catch(e){}return[]}const $n=/Minified React error #\d+;/i;function Dn(e){return e&&$n.test(e.message)?1:0}function Bn(e){return"number"==typeof e.framesToPop?e.framesToPop:0}function Ln(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Nn(e){const t=e?.name;if(!t&&Ln(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function jn(e){const t=e?.message;return Ln(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Un(e,t,n,r){const s=Fn(e,t,n?.syntheticException||void 0,r);return(0,c.M6)(s),s.level="error",n?.event_id&&(s.event_id=n.event_id),qt(s)}function Wn(e,t,n="info",r,s){const o=qn(e,t,r?.syntheticException||void 0,s);return o.level=n,r?.event_id&&(o.event_id=r.event_id),qt(o)}function Fn(e,t,n,r,s){let o;if((0,g.T2)(t)&&t.error){return In(e,t.error)}if((0,g.BD)(t)||(0,g.W6)(t)){const s=t;if("stack"in t)o=In(e,t);else{const t=s.name||((0,g.BD)(s)?"DOMError":"DOMException"),i=s.message?`${t}: ${s.message}`:t;o=qn(e,i,n,r),(0,c.gO)(o,i)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}if((0,g.bJ)(t))return In(e,t);if((0,g.Qd)(t)||(0,g.xH)(t)){return o=Mn(e,t,n,s),(0,c.M6)(o,{synthetic:!0}),o}return o=qn(e,t,n,r),(0,c.gO)(o,`${t}`,void 0),(0,c.M6)(o,{synthetic:!0}),o}function qn(e,t,n,r){const s={};if(r&&n){const r=Rn(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]}),(0,c.M6)(s,{synthetic:!0})}if((0,g.NF)(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}function Kn(e,{isUnhandledRejection:t}){const n=(0,d.HF)(e),r=t?"promise rejection":"exception";if((0,g.T2)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,g.xH)(e)){return`Event \`${Hn(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function Hn(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}function Vn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function Gn(e,t){return(0,l.o5)().captureEvent(e,t)}function zn(e){const t=(0,l.rm)(),n=(0,l.o5)(),{userAgent:r}=f.O.navigator||{},s=(0,_.fj)({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return"ok"===o?.status&&(0,_.qO)(o,{status:"exited"}),Jn(),t.setSession(s),s}function Jn(){const e=(0,l.rm)(),t=(0,l.o5)().getSession()||e.getSession();t&&(0,_.Vu)(t),Xn(),e.setSession()}function Xn(){const e=(0,l.rm)(),t=(0,l.KU)(),n=e.getSession();n&&t&&t.captureSession(n)}function Zn(e=!1){e?Jn():Xn()}const Yn=f.O;let Qn=0;function er(){return Qn>0}function tr(e,t={}){if(!function(e){return"function"==typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if((0,d.sp)(e))return e}catch(t){return e}const n=function(...n){try{const r=n.map((e=>tr(e,t)));return e.apply(this,r)}catch(e){throw Qn++,setTimeout((()=>{Qn--})),(0,l.v4)((r=>{var s,o;r.addEventProcessor((e=>(t.mechanism&&((0,c.gO)(e,void 0,void 0),(0,c.M6)(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),s=e,(0,l.o5)().captureException(s,fn(o))})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}(0,d.pO)(n,e),(0,d.my)(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}class nr extends wn{eventFromException(e,t){return Un(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Wn(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};Tn(t,"browser",["browser"],Yn.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&Yn.document&&Yn.document.addEventListener("visibilitychange",(()=>{"hidden"===Yn.document.visibilityState&&this._flushOutcomes()})),this._options.sendDefaultPii&&(this.on("postprocessEvent",Cn),this.on("beforeSendSession",An))}}const rr=!1,sr={},or={};function ir(e,t){sr[e]=sr[e]||[],sr[e].push(t)}function ar(e,t){if(!or[e]){or[e]=!0;try{t()}catch(t){h.T&&a.vF.error(`Error while instrumenting ${e}`,t)}}}function cr(e,t){const n=e&&sr[e];if(n)for(const r of n)try{r(t)}catch(t){h.T&&a.vF.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${fe(r)}\nError:`,t)}}const ur=f.O,lr=1e3;let dr,pr,hr;function fr(){if(!ur.document)return;const e=cr.bind(null,"dom"),t=_r(e,!0);ur.document.addEventListener("click",t,!1),ur.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=ur,r=n[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&((0,d.GS)(r,"addEventListener",(function(t){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=_r(e);o.handler=r,t.call(this,n,r,s)}o.refCount++}catch(e){}return t.call(this,n,r,s)}})),(0,d.GS)(r,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},s=n[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function mr(e){if(e.type!==pr)return!1;try{if(!e.target||e.target._sentryId!==hr)return!1}catch(e){}return!0}function gr(e,t){return"keypress"===e&&(!t?.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}function _r(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=br(n);if(gr(n.type,r))return;(0,d.my)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,d.my)(r,"_sentryId",(0,c.eJ)());const s="keypress"===n.type?"input":n.type;if(!mr(n)){e({event:n,name:s,global:t}),pr=n.type,hr=r?r._sentryId:void 0}clearTimeout(dr),dr=ur.setTimeout((()=>{hr=void 0,pr=void 0}),lr)}}function br(e){try{return e.target}catch(e){return null}}const vr="__sentry_xhr_v3__";function yr(e){ir("xhr",e),ar("xhr",Sr)}function Sr(){if(!ur.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,s=1e3*(0,v.zf)(),o=(0,g.Kg)(n[0])?n[0].toUpperCase():void 0,i=wr(n[1]);if(!o||!i)return e.apply(t,n);t[vr]={method:o,url:i,request_headers:{}},"POST"===o&&i.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[vr];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}cr("xhr",{endTimestamp:1e3*(0,v.zf)(),startTimestamp:s,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,s]=n,o=t[vr];return o&&(0,g.Kg)(r)&&(0,g.Kg)(s)&&(o.request_headers[r.toLowerCase()]=s),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[vr];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return cr("xhr",{startTimestamp:1e3*(0,v.zf)(),xhr:t}),e.apply(t,n)}})}function wr(e){if((0,g.Kg)(e))return e;try{return e.toString()}catch{}}let kr;function Er(e){const t="history";ir(t,e),ar(t,xr)}function xr(){function e(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const r=kr,s=String(n);if(kr=s,r===s)return e.apply(this,t);cr("history",{from:r,to:s})}return e.apply(this,t)}}ur.addEventListener("popstate",(()=>{const e=ur.location.href,t=kr;if(kr=e,t===e)return;cr("history",{from:t,to:e})})),"history"in Ee&&((0,d.GS)(ur.history,"pushState",e),(0,d.GS)(ur.history,"replaceState",e))}function Or(e){const t="console";ir(t,e),ar(t,Tr)}function Tr(){"console"in f.O&&a.Ow.forEach((function(e){e in f.O.console&&(0,d.GS)(f.O.console,e,(function(t){return a.Z9[e]=t,function(...t){cr("console",{args:t,level:e});const n=a.Z9[e];n?.apply(f.O.console,t)}}))}))}function Cr(e,t){const n="fetch";ir(n,e),ar(n,(()=>Ar(void 0,t)))}function Ar(e,t=!1){t&&!Te()||(0,d.GS)(f.O,"fetch",(function(t){return function(...n){const r=new Error,{method:s,url:o}=Ir(n),i={args:n,fetchData:{method:s,url:o},startTimestamp:1e3*(0,v.zf)(),virtualError:r};return e||cr("fetch",{...i}),t.apply(f.O,n).then((async t=>(e?e(t):cr("fetch",{...i,endTimestamp:1e3*(0,v.zf)(),response:t}),t)),(e=>{throw cr("fetch",{...i,endTimestamp:1e3*(0,v.zf)(),error:e}),(0,g.bJ)(e)&&void 0===e.stack&&(e.stack=r.stack,(0,d.my)(e,"framesToPop",1)),e}))}}))}function Pr(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Mr(e){return"string"==typeof e?e:e?Pr(e,"url")?e.url:e.toString?e.toString():"":""}function Ir(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Mr(t),method:Pr(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Mr(t),method:Pr(t,"method")?String(t.method).toUpperCase():"GET"}}var E=__webpack_require__(296146);function Rr(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}function $r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Dr=1024,Br="Breadcrumbs",Lr=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Br,setup(e){t.console&&Or(Ur(e)),t.dom&&(ir("dom",jr(e,t.dom)),ar("dom",fr)),t.xhr&&yr(Wr(e)),t.fetch&&Cr(Fr(e)),t.history&&Er(qr(e)),t.sentry&&e.on("beforeSendEvent",Nr(e))}}};function Nr(e){return function(t){(0,l.KU)()===e&&(0,E.Z)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,c.$X)(t)},{event:t})}}function jr(e,t){return function(n){if((0,l.KU)()!==e)return;let r,s,o="object"==typeof t?t.serializeAttribute:void 0,i="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;i&&i>Dr&&(rr&&a.vF.warn(`\`dom.maxStringLength\` cannot exceed ${Dr}, but a value of ${i} was configured. Sentry will use ${Dr} instead.`),i=Dr),"string"==typeof o&&(o=[o]);try{const e=n.event,t=Kr(e)?e.target:e;r=(0,p.Hd)(t,{keyAttrs:o,maxStringLength:i}),s=(0,p.xE)(t)}catch(e){r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};s&&(c.data={"ui.component_name":s}),(0,E.Z)(c,{event:n.event,name:n.name,global:n.global})}}function Ur(e){return function(t){if((0,l.KU)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:(r=t.level,"warn"===r?"warning":["fatal","error","warning","log","info","debug"].includes(r)?r:"log"),message:(0,u.gt)(t.args," ")};var r;if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,u.gt)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,E.Z)(n,{input:t.args,level:t.level})}}function Wr(e){return function(t){if((0,l.KU)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,s=t.xhr[vr];if(!n||!r||!s)return;const{method:o,url:i,status_code:a,body:c}=s,u={method:o,url:i,status_code:a},d={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r},p={category:"xhr",data:u,type:"http",level:Rr(a)};e.emit("beforeOutgoingRequestBreadcrumb",p,d),(0,E.Z)(p,d)}}function Fr(e){return function(t){if((0,l.KU)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const s=t.fetchData,o={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},i={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",i,o),(0,E.Z)(i,o)}else{const s=t.response,o={...t.fetchData,status_code:s?.status};t.fetchData.request_body_size,t.fetchData.response_body_size;const i={input:t.args,response:s,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:o,type:"http",level:Rr(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,i),(0,E.Z)(a,i)}}}function qr(e){return function(t){if((0,l.KU)()!==e)return;let n=t.from,r=t.to;const s=$r(Yn.location.href);let o=n?$r(n):void 0;const i=$r(r);o?.path||(o=s),s.protocol===i.protocol&&s.host===i.host&&(r=i.relative),s.protocol===o.protocol&&s.host===o.host&&(n=o.relative),(0,E.Z)({category:"navigation",data:{from:n,to:r}})}}function Kr(e){return!!e&&!!e.target}const Hr=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Vr="BrowserApiErrors",Gr=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Vr,setupOnce(){t.setTimeout&&(0,d.GS)(Yn,"setTimeout",zr),t.setInterval&&(0,d.GS)(Yn,"setInterval",zr),t.requestAnimationFrame&&(0,d.GS)(Yn,"requestAnimationFrame",Jr),t.XMLHttpRequest&&"XMLHttpRequest"in Yn&&(0,d.GS)(XMLHttpRequest.prototype,"send",Xr);const e=t.eventTarget;if(e){(Array.isArray(e)?e:Hr).forEach(Zr)}}}};function zr(e){return function(...t){const n=t[0];return t[0]=tr(n,{mechanism:{data:{function:fe(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Jr(e){return function(t){return e.apply(this,[tr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:fe(e)},handled:!1,type:"instrument"}})])}}function Xr(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&(0,d.GS)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:fe(t)},handled:!1,type:"instrument"}},r=(0,d.sp)(t);return r&&(n.mechanism.data.handler=fe(r)),tr(t,n)}))})),e.apply(this,t)}}function Zr(e){const t=Yn,n=t[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&((0,d.GS)(n,"addEventListener",(function(t){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=tr(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:fe(r),target:e},handled:!1,type:"instrument"}}))}catch{}return t.apply(this,[n,tr(r,{mechanism:{data:{function:"addEventListener",handler:fe(r),target:e},handled:!1,type:"instrument"}}),s])}})),(0,d.GS)(n,"removeEventListener",(function(e){return function(t,n,r){try{const s=n.__sentry_wrapped__;s&&e.call(this,t,s,r)}catch(e){}return e.call(this,t,n,r)}})))}const Yr=()=>({name:"BrowserSession",setupOnce(){void 0!==Yn.document?(zn({ignoreDuration:!0}),Zn(),Er((({from:e,to:t})=>{void 0!==e&&e!==t&&(zn({ignoreDuration:!0}),Zn())}))):rr&&a.vF.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let Qr=null;function es(e){const t="error";ir(t,e),ar(t,ts)}function ts(){Qr=f.O.onerror,f.O.onerror=function(e,t,n,r,s){return cr("error",{column:r,error:s,line:n,msg:e,url:t}),!!Qr&&Qr.apply(this,arguments)},f.O.onerror.__SENTRY_INSTRUMENTED__=!0}let ns=null;function rs(e){const t="unhandledrejection";ir(t,e),ar(t,ss)}function ss(){ns=f.O.onunhandledrejection,f.O.onunhandledrejection=function(e){return cr("unhandledrejection",e),!ns||ns.apply(this,arguments)},f.O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const os="GlobalHandlers",is=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:os,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(as(e),ds("onerror")),t.onunhandledrejection&&(cs(e),ds("onunhandledrejection"))}}};function as(e){es((t=>{const{stackParser:n,attachStacktrace:r}=ps();if((0,l.KU)()!==e||er())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=ls(Fn(n,c||s,void 0,r,!1),o,i,a);u.level="error",Gn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}function cs(e){rs((t=>{const{stackParser:n,attachStacktrace:r}=ps();if((0,l.KU)()!==e||er())return;const s=us(t),o=(0,g.sO)(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:Fn(n,s,void 0,r,!0);o.level="error",Gn(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}function us(e){if((0,g.sO)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function ls(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=(0,g.Kg)(t)&&t.length>0?t:(0,p.$N)();return 0===c.length&&c.push({colno:u,filename:d,function:ae,in_app:!0,lineno:l}),e}function ds(e){rr&&a.vF.log(`Global Handler attached: ${e}`)}function ps(){const e=(0,l.KU)();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const hs=()=>({name:"HttpContext",preprocessEvent(e){if(!Yn.navigator&&!Yn.location&&!Yn.document)return;const t=e.request?.url||(0,p.$N)(),{referrer:n}=Yn.document||{},{userAgent:r}=Yn.navigator||{},s={...e.request?.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}});function fs(e,t,n=250,r,s,o,i){if(!o.exception?.values||!i||!(0,g.tH)(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,l;a&&(o.exception.values=(c=ms(e,t,s,i.originalException,r,o.exception.values,a,0),l=n,c.map((e=>(e.value&&(e.value=(0,u.xv)(e.value,l)),e)))))}function ms(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if((0,g.tH)(r[s],Error)){gs(i,a);const o=e(t,r[s]),u=c.length;_s(o,s,u,a),c=ms(e,t,n,r[s],s,[o,...c],o,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if((0,g.tH)(r,Error)){gs(i,a);const u=e(t,r),l=c.length;_s(u,`errors[${o}]`,l,a),c=ms(e,t,n,r,s,[u,...c],u,l)}})),c}function gs(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function _s(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const bs="cause",vs=5,ys="LinkedErrors",Ss=(e={})=>{const t=e.limit||vs,n=e.key||bs;return{name:ys,preprocessEvent(e,r,s){const o=s.getOptions();fs(Pn,o.stackParser,o.maxValueLength,n,t,e,r)}}};function ws(e,t,n,r){const s={filename:e,function:"<anonymous>"===t?ae:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const ks=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Es=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,xs=/\((\S*)(?::(\d+))(?::(\d+))\)/,Os=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ts=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Cs=le(...[[30,e=>{const t=ks.exec(e);if(t){const[,e,n,r]=t;return ws(e,ae,+n,+r)}const n=Es.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=xs.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=As(n[1]||ae,n[2]);return ws(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=Os.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Ts.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||ae;return[n,e]=As(n,e),ws(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),As=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:ae,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Ps=!1,Ms={};function Is(e){const t=Ms[e];if(t)return t;let n=ur[e];if(Oe(n))return Ms[e]=n.bind(ur);const r=ur.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const s=t.contentWindow;s?.[e]&&(n=s[e]),r.head.removeChild(t)}catch(t){Ps&&a.vF.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?Ms[e]=n.bind(ur):n}function Rs(e){Ms[e]=void 0}function $s(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Kt(new Ft("Not adding Promise because buffer limit was reached."));const s=r();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new Ht(((n,r)=>{let s=t.length;if(!s)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{qt(e).then((()=>{--s||(clearTimeout(o),n(!0))}),r)}))}))}}}const Ds=6e4;function Bs(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?Ds:r-t}function Ls(e,t){return e[t]||e.all||0}function Ns(e,t,n=Date.now()){return Ls(e,t)>n}function js(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n?.["x-sentry-rate-limits"],i=n?.["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n,,,o]=e.split(":",5),i=parseInt(t,10),a=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))"metric_bucket"===e&&o&&!o.split(";").includes("custom")||(s[e]=r+a);else s.all=r+a}else i?s.all=r+Bs(i,r):429===t&&(s.all=r+6e4);return s}const Us=64;function Ws(e,t,n=$s(e.bufferSize||Us)){let r={};return{send:function(s){const o=[];if(Ze(s,((t,n)=>{const s=rt(n);Ns(r,s)?e.recordDroppedEvent("ratelimit_backoff",s):o.push(t)})),0===o.length)return qt({});const i=Je(s[0],o),c=t=>{Ze(i,((n,r)=>{e.recordDroppedEvent(t,rt(r))}))};return n.add((()=>t({body:Qe(i)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&$&&a.vF.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=js(r,e),e)),(e=>{throw c("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Ft)return $&&a.vF.error("Skipped sending event because buffer is full."),c("queue_overflow"),qt({});throw e}))},flush:e=>n.drain(e)}}function Fs(e,t=Is("fetch")){let n=0,r=0;return Ws(e,(function(s){const o=s.body.length;n+=o,r++;const i={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Rs("fetch"),Kt("No fetch implementation available");try{return t(e.url,i).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Rs("fetch"),n-=o,r--,Kt(e)}}))}function qs(e={}){return{...{defaultIntegrations:[H(),oe(),Gr(),Lr(),is(),Ss(),_e(),hs(),Yr()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Yn.SENTRY_RELEASE?.id,sendClientReports:!0},...Ks(e)}}function Ks(e){const t={};for(const n of Object.getOwnPropertyNames(e)){const r=n;void 0!==e[r]&&(t[r]=e[r])}return t}function Hs(){const e=void 0!==Yn.window&&Yn;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t?.runtime?.id,r=(0,p.$N)()||"",s=!!n&&Yn===Yn.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>r.startsWith(`${e}//`))),o=void 0!==e.nw;return!!n&&!s&&!o}function Vs(e={}){const t=qs(e);if(!t.skipBrowserExtensionCheck&&Hs())return void(rr&&(0,a.pq)((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")})));rr&&!xe()&&a.vF.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const n={...t,stackParser:(r=t.stackParser||Cs,Array.isArray(r)?le(...r):r),integrations:L(t),transport:t.transport||Fs};var r;return Ce(nr,n)}var x=__webpack_require__(890630);let Gs=null;function zs(e){Gs=e}function Js(){return Gs??A().vk?.cfg?.error_monitoring_config??{}}const Xs="1.1.0";function Zs(e){const t=Js(),n=A().vk?.pabs,r=R(),s={backend:A().isBFF?"BFF":"kPHP"};return{...n?{part_ab_slot:n}:{},is_logged_in:Boolean(r),config_version:`${Xs}#${t.version??0}`,...s,...e}}const Ys=f.O,Qs=7,eo="ContextLines",to=(e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:Qs;return{name:eo,processEvent:e=>no(e,t)}};function no(e,t){const n=Ys.document,r=Ys.location&&Ys.location.href.split(/[?#]/,1)[0];if(!n||!r)return e;const s=e.exception?.values;if(!s?.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split("\n"),"</html>"];return s.forEach((e=>{const n=e.stacktrace;n?.frames&&(n.frames=n.frames.map((e=>ro(e,i,r,t))))})),e}function ro(e,t,n,r){return e.filename===n&&e.lineno&&t.length?((0,c.db)(t,e,r),e):e}const so="ExtraErrorData",oo=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:so,processEvent(e,r,s){const{maxValueLength:o=250}=s.getOptions();return io(e,r,t,n,o)}}};function io(e,t={},n,r,s){if(!t.originalException||!(0,g.bJ)(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=ao(t.originalException,r,s);if(i){const t={...e.contexts},r=Fe(i,n);return(0,g.Qd)(r)&&((0,d.my)(r,"__sentry_skip_normalization__",!0),t[o]=r),{...e,contexts:t}}return e}function ao(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const t of Object.keys(e)){if(-1!==r.indexOf(t))continue;const o=e[t];s[t]=(0,g.bJ)(o)||"string"==typeof o?(0,u.xv)(`${o}`,n):o}if(t&&void 0!==e.cause&&(s.cause=(0,g.bJ)(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];s[e]=(0,g.bJ)(n)?n.toString():n}}return s}catch(e){$&&a.vF.error("Unable to extract extra data from the Error object:",e)}return null}const co=1e4,uo=2e4,lo=2e4,po=1e3,ho=2e3,fo=5e3,mo=500,go=3e4,_o=.5*Math.pow(10,6),bo=1.8*Math.pow(10,6),vo={BenchmarkMainStats:"benchmarkMainStats",CustomStats:"customStats",NetworkStats:"networkStats",ProductionStats:"productionStats",StatlogEvents:"statlogEvents",StoryViewStats:"storyViewStats",WebPerfStats:"webPerfStats",VkResStats:"vkResStats"},yo=[vo.BenchmarkMainStats,vo.CustomStats,vo.NetworkStats,vo.ProductionStats,vo.StatlogEvents,vo.StoryViewStats,vo.WebPerfStats,vo.VkResStats];class So{logWebStatsEvent(e,t){this.options?.isDebuggerMode&&console.log(`[new transport debug] ${e}`,t)}constructor({options:e}){this.options=e}}const wo="cua_state",ko="cua_session",Eo=[wo,ko];function xo(e){return Object.keys(e).map((t=>{let n=e[t];return t=encodeURIComponent(t||""),n=encodeURIComponent(void 0===n?"":n),Eo.includes(t)&&!n?null:`${t}=${n}`})).filter(Boolean).join("&")}function Oo(e){const t=new FormData;for(const n in e)e.hasOwnProperty(n)&&("string"==typeof e[n]?t.append(n,e[n]):t.append(n,JSON.stringify(e[n])));return t}const To="5.131",Co=25,Ao=.2;Math.floor(Co*Ao);class Po{constructor(e=1/0,t=()=>{}){this.tries=0,this.increment=()=>{this.tries++},this.get=()=>this.tries,this.isExceeded=()=>this.tries>=this.maxTries,this.maxTries=e,this.destroy=t}}class Mo{constructor(){this.retries=new Map,this.get=e=>this.retries.get(e),this.create=(e,t)=>(this.retries.set(e,new Po(t,(()=>{this.delete(e)}))),this.retries.get(e)),this.delete=e=>{this.retries.delete(e)}}}const Io=e=>{const t={v:e.version||To};return e.appId&&(t.client_id=e.appId),t},Ro=e=>({access_token:e.accessToken}),$o=(e,t)=>({...e,...t,overrideAccessToken:t.accessToken?t.accessToken:void 0}),Do=e=>{let t=0;const n=new Map,r=[],s=[],o=new Mo,i=new Mo;let a=null,c=null;return{storeTimer:e=>{t=e},clearTimer:()=>{window.clearTimeout(t)},get adhocTimeoutIds(){return n},get queue(){return r},get adhocQueue(){return s},get reApiRetries(){return o},get reLoginRetries(){return i},setActiveCaptchaRequest:e=>{a=e},getActiveCaptchaRequest:()=>a,setActiveCuaRequest:e=>{c=e},getActiveCuaRequest:()=>c,setAccessToken:t=>{e(t)}}};class Bo{setAccessToken(e){this.bodyParams.access_token=e}setGrouping(e){this.grouping=e}setParams(e){this.methodParams=e}canGroupInExecute(){return!this.method.includes("execute")&&(!!this.apiConfig.accessToken&&(!this.methodParams.v&&(!1!==this.grouping&&(void 0===this.fetchOptions.method&&(void 0===this.fetchOptions.headers&&(!this.method.startsWith("cua.")&&void 0===this.fetchOptions.signal))))))}shouldRetryLogin(){return!!this.apiConfig?.overrideAccessToken}toString(){const e={};return"object"==typeof this.methodParams&&Object.keys(this.methodParams).forEach((t=>{const n=this.methodParams[t];null!=n&&(e[t]="object"==typeof n?String(n):n)})),`API.${this.method}(${JSON.stringify(e)})`}constructor(e,t,n={},r={}){this.resolve=()=>{},this.reject=()=>{},this.method=e,this.methodParams=t,this.fetchOptions=r,this.apiConfig={...n},this.grouping=this.apiConfig.grouping,this.queryParams=Io(this.apiConfig),this.apiConfig.captureAsyncStacktrace&&(this.asyncBaseError=new Error("Async error"));const s=Ro(this.apiConfig);this.bodyParams=Object.assign({},t,s),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}var O=function(e){return e.API_ERROR="api_error",e.NETWORK_ERROR="network_error",e.CUA_ERROR="cua_error",e}({});function Lo(e,t,n){const r=new Bo(e,t,n),{domain:s}=r.apiConfig,o=xo(r.queryParams),i=`https://${s}/method/${r.method}?${o}`,a=Object.assign({},r.methodParams,r.bodyParams);return navigator.sendBeacon(i,Oo(a))}const No={domain:"api.vk.com",maxRetries:5,maxLoginRetries:5,grouping:!0};let jo={...No};function Uo(){return{...jo}}function Wo(){return{...No}}function Fo(e){e=Object.assign({},jo,e),jo=e}Do((e=>{Fo({accessToken:e})}));const qo=(e,t,n)=>Lo(e,t,n?$o(Uo(),n):Wo());const Ko=e=>e.startsWith("{")&&e.endsWith("}"),Ho=e=>e.startsWith("[")&&e.endsWith("]"),Vo=(e,t)=>[e,t].every(Ko)?`${e.slice(0,-1)},${t.substring(1)}`:"{}",Go=e=>{try{const t=JSON.parse(e),n=Object.entries(t),r=[];return n.forEach((e=>{const[t,n]=e;yo.includes(t)&&Array.isArray(n)&&r.push(...n)})),r}catch{return[]}};function zo(e,t,n){try{if(!(n?qo(n.method,{events:Go(t),...n.body},n.overrideApiConfig):navigator.sendBeacon(e,t)))return Promise.reject(new Error("Beacon not sent"))}catch(e){return Promise.reject(new Error("Beacon fail"))}return Promise.resolve()}const Jo=(e,t,n)=>{const{userId:r,st:s,platform:o,appId:i,time:a,hash:c,itemId:u,itemOwnerId:l,itemType:d}=n;return Vo(JSON.stringify({id:r,st:s,platform:o,appId:i,attempt:e,signTime:a,sign:c,...u&&{itemId:u},...d&&{itemType:d},...l&&{itemOwnerId:l}}),Ko(t)?t:"{}")};function Xo(e,t,n,r,s){r?.("web_stats_batching_time",e,n.platform,t,s)}const Zo=()=>({statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[],benchmarkMainStats:[],vkResStats:[]}),Yo=JSON.stringify(Zo()),Qo=()=>"undefined"!=typeof window?window:void 0,ei=async e=>{if(!e)return;const{additionalBody:t,method:n,domain:r,version:s,appId:o,getToken:i}=e;return{body:t,overrideApiConfig:{domain:r,version:s,appId:o,accessToken:await i()},method:n}};class ti{setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:null}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.keys=()=>Object.keys(this.data)}}const ni="vk-ls-dummy",ri=Math.random().toString(),si={localStorage:null,sessionStorage:null};function oi(e){if(null===si[e])try{const t=Qo()?.[e];t?.setItem(ni,ri),si[e]=ri===t?.getItem(ni),t?.removeItem(ni)}catch(t){si[e]=!1}return si[e]}let ii;function ai(){return ii||(ii=oi("localStorage")?window.localStorage:new ti,ii)}const ci={setItem:(e,t)=>ai().setItem(e,t),getItem:e=>ai().getItem(e),removeItem:e=>ai().removeItem(e),clear:()=>ai().clear(),get length(){return ai().length},key:e=>ai().key(e),keys(){const e=ai();return e instanceof ti?e.keys():Object.keys(e)},getPrefixedKeys:e=>ci.keys().filter((t=>t.startsWith(e)))};let ui;function li(){return ui||(ui=oi("sessionStorage")?window.sessionStorage:new ti,ui)}const di={setItem:(e,t)=>li().setItem(e,t),getItem:e=>li().getItem(e),removeItem:e=>li().removeItem(e),clear:()=>li().clear(),get length(){return li().length},key:e=>li().key(e),keys(){const e=li();return e instanceof ti?e.keys():Object.keys(e)},getPrefixedKeys:e=>di.keys().filter((t=>t.startsWith(e)))};class pi{writeLocked(e){if("locked"!==this.sessionStorage.getItem(this.lockName)){this.debug.logWebStatsEvent("writeLocked","lock"),this.sessionStorage.setItem(this.lockName,"locked");try{e()}catch(e){}return this.debug.logWebStatsEvent("writeLocked","free"),void this.sessionStorage.setItem(this.lockName,"free")}setTimeout((()=>this.writeLocked(e)),100)}getWebStatDataLs(){return this.localStorage.getItem(this.lsDataKey)||Yo}serializeDataToLs(e){return this.localStorage.setItem(this.lsDataKey,JSON.stringify(e))}getWebStatsStringValue(e,t=this.getWebStatDataLs()){const n=Object.keys(Zo()).filter((t=>t!==e)).join("|"),r=t?.match(new RegExp(`"${e}":(\\[.*?\\])(?:,"(${n})":\\[|}$)`))?.[1]||"";return Ho(r)?r:"[]"}fetchDataFromLs(){let e,t=!0;try{const n=this.getWebStatDataLs();if(!n)throw new Error("empty data");e=Zo();const r=JSON.parse(n);Object.keys(e).forEach((n=>{Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=Zo()}return{webStatsData:e,isEmpty:t}}clearLsData(e){e&&this.debug.logWebStatsEvent("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,"")))}setLastSendTime(e=Number(new Date)){this.sessionStorage.setItem(this.lsMetaKey,e.toString())}getLastSendTime(){return parseInt(`${this.sessionStorage.getItem(this.lsMetaKey)||0}`)}getWebStatsItemsCount(e){return Object.values(e).reduce(((e,t)=>e+=t.length),0)}pullFromWebStats(e,t){const n=this.getWebStatsStringValue(e,t);if("[]"!==n){const e=this.getWebStatDataLs().replace(n.slice(1,-1),"").replace(/\[\,/,"[");this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,e)))}}constructor({statsMeta:e,debug:t,localStorage:n,sessionStorage:r}){this.lsDataKey=`XHR_STATS_TRANSPORT_DATA_${e.platform}`,this.lsMetaKey=`XHR_STATS_TRANSPORT_META_${e.platform}`,this.lockName=`XHR_STATS_TRANSPORT_DATA_LOCK_${e.platform}`,this.debug=t,this.localStorage=n||ci,this.sessionStorage=r||di}}class hi{batchStaleWebStats(e,t){const[n,r]=t,s=`{"${n}":[${JSON.parse(r).reduce(((t,n,r)=>t.length<this.maxBodyChunkSize-e.length?`${t}${0===r?"":","}${JSON.stringify(n)}`:t),"")}]}`;return"{}"===e?s:Vo(e,s)||e}getMaximumWebStats(e){const t=Date.now(),n=e=>`{${e?.map((([e,t])=>`"${e}":${t}`)).join(",")}}`,[r,s]=Object.keys(Zo()).reduce(((t,n)=>{const r=this.webStatsStorage.getWebStatsStringValue(n,e);return"[]"===r?t:[...t,[n,r]]}),[]).sort((([,e],[,t])=>t.length-e.length)).reduce((([e,t],[r,s])=>{const o=[[r,s]];return s.length+n(e).length<this.maxBodyChunkSize?[e.concat(o),t]:[e,t.concat(o)]}),[[],[]]),o=n(r);if(Xo(Date.now()-t,"chunk",this.statsMeta,this.statlogsValueEvent),Date.now()-t<mo&&s[0]&&o.length<.1*this.maxBodyChunkSize){const e=Date.now();try{const t=this.batchStaleWebStats(o,s.reverse()[0]);return Xo(Date.now()-e,"batch",this.statsMeta,this.statlogsValueEvent),t}catch(t){return Xo(Date.now()-e,"batch-fail",this.statsMeta,this.statlogsValueEvent),""}}return o}constructor({statsMeta:e,statlogsValueEvent:t,webStatsStorage:n,maxBodyChunkSize:r}){this.statsMeta=e,this.statlogsValueEvent=t,this.webStatsStorage=n,this.maxBodyChunkSize=r}}const fi=(e,t,n,r={})=>window.vkApi?window.vkApi.api(e,t,n,r):Promise.reject(new Error("[VKJS][API]: api didn't allowed. Use initApi function"));class mi{isBatchBoostRequired(){const e=this.statsMeta.started||Date.now();return Date.now()-e<=go}debounceMs(){return this.isBatchBoostRequired()?po:co}limitMs(){return this.isBatchBoostRequired()?ho:uo}cooldownMs(){return this.isBatchBoostRequired()?fo:lo}penaltyMs(){return this.debounceMs()*this.sendAttempt**.5}onCooldown(){return!(Date.now()-this.webStatsStorage.getLastSendTime()>this.cooldownMs()+this.penaltyMs())}tillCooldownMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.cooldownMs()-Date.now()+this.penaltyMs())}tillLimitMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.limitMs()-Date.now())}checkWebStatsLater(){this.isSendingWebStats||this.timeoutID||(this.timeoutID=Qo()?.setTimeout((()=>{const e=this.webStatsStorage.getWebStatDataLs();this.timeoutID=void 0,e.length>Yo.length&&this.saveAndSendStats(e)}),Math.max(Math.min(this.tillLimitMs(),this.debounceMs()),this.tillCooldownMs())))}sendStatsWithBatching(e){const t=e.length>this.maxBodyChunkSize;let n=t?this.batchers.getMaximumWebStats(e):e,r=!1;if(!n)return this.isSendingWebStats=!1,this.webStatsStorage.clearLsData();n=Jo(++this.sendAttempt,n,this.statsMeta),this.sendStats(n,(s=>{const o=Date.now();this.isSendingWebStats=!1,s<500&&(t&&200===s?Object.keys(Zo()).forEach((e=>this.webStatsStorage.pullFromWebStats(e,n))):this.webStatsStorage.clearLsData(),this.sendAttempt=0,r=!0),(t||400===s)&&Xo(Date.now()-o,`${t?"prune":"clean"}${400===s?"-fail":""}`,this.statsMeta,this.statlogsValueEvent,`${e.length>>>20}M ${n.length>>>20}M`),this.checkWebStatsLater()}),(()=>{this.isSendingWebStats=!1,!r&&this.webStatsStorage.clearLsData()}))}idlizeCall(e,t){const n=t=>setTimeout((()=>e()),t);return t?.force?n(0):Qo()?.requestIdleCallback?window.requestIdleCallback((()=>n(this.debounceMs())),{timeout:this.debounceMs()/2}):n(this.debounceMs())}async sendStats(e,t,n){const r=new URLSearchParams,s=await this.getBrowserFingerprint();s&&r.set("device_id",s);const o=r.toString(),i=this.generateReservedUrl();let a=this.createUrl(this.statsMeta,o);const c=(e,r)=>{if(r)return void this.sendApi(e,t,n,r);const s=new XMLHttpRequest;s.withCredentials=a.includes(`tau.${this.hostName}`),s.onreadystatechange=()=>{s.readyState===XMLHttpRequest.DONE&&t(s.status)},s.onerror=this.options.useReservedUrls?()=>{this.reportedUrls.has(a)||(this.reportedUrls.add(a),this.statlogsValueEvent?.("web_stats_request_error",1,a.split("?")[0],this.hasAdblock,s.status));const{value:t,done:o}=i.next();o?n():(a=t,c(e,r))}:n,s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),s.send(e)},[u,l]=await Promise.all([ei(this.apiParams),this.checkAdblock(this.statsMeta.wsTransport)]);if(d=this.hostName,p=this.statsMeta,!("sendBeacon"in navigator)||p.wsTransport.includes(`tau.${d}`)||l)c(e,u);else try{await zo(a,e,u),t(200)}catch{c(e,u)}var d,p}sendStat(e,t,n){e=Jo(1,e,this.statsMeta),this.sendStats(e,t,n)}saveAndSendStats(e,t){return this.options?.isNewQueue?this.saveAndSendStatsNew(e,t):this.saveAndSendStatsOld(e,t)}saveAndSendStatsOld(e,t){const n=e.length>=this.maxBodyChunkSize,r=t?.force||n;if(e.length<=Yo.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return r||this.timeoutID||!this.onCooldown()?(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>Yo.length&&(r||!this.onCooldown()))return this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);clearTimeout(this.timeoutID),this.isSendingWebStats=!1,this.timeoutID=void 0}),{...t,force:r})):(this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID),this.checkWebStatsLater());this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}saveAndSendStatsNew(e,t){const n=e.length>=this.maxBodyChunkSize,r=t?.force||n;if(e.length<=Yo.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return!r&&this.onCooldown()?(this.checkWebStatsLater(),void this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID)):(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>Yo.length&&(!this.onCooldown()||r))return clearTimeout(this.timeoutID),this.timeoutID=void 0,this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);this.isSendingWebStats=!1}),{...t,force:r}));this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}async checkAdblock(e){if(!this.options.useReservedUrls)return!1;if(void 0!==this.hasAdblock)return this.hasAdblock;try{await fetch(e,{method:"GET",mode:"no-cors"}),this.hasAdblock=!1}catch{this.hasAdblock=!0}return this.hasAdblock}constructor({options:e,statsMeta:t,hostName:n,debug:r,statlogsValueEvent:s,getBrowserFingerprint:o,batchers:i,webStatsStorage:a,maxBodyChunkSize:c,apiParams:u,createUrl:l,generateReservedUrl:d}){this.sendAttempt=0,this.isSendingWebStats=!1,this.reportedUrls=new Set,this.sendApi=async(e,t,n,r)=>{try{const n=JSON.stringify(Go(e));await fi(r.method,{events:n,...r.body},r.overrideApiConfig),t(200)}catch{n()}},this.options=e,this.statsMeta=t,this.hostName=n,this.debug=r,this.statlogsValueEvent=s,this.getBrowserFingerprint=o,this.batchers=i,this.webStatsStorage=a,this.maxBodyChunkSize=c,this.apiParams=u,this.createUrl=l,this.generateReservedUrl=d??function*(){}}}class gi{pushToWebStats(e,t){const n=this.webStatsStorage.getWebStatsStringValue(e);return this.webStatsStorage.getWebStatDataLs().replace(`"${e}":${n}`,`"${e}":${n.replace(/]$/,`${"[]"===n?"":","}${JSON.stringify(t)}]`)}`)}transformStatlogEvent({name:e,value:t,keys:n=[]}){const r=[Math.round(Number(Date.now())/1e3),e,t,...n];return this.options?.isDebuggerMode&&console.log("Data was transformed!"),r}sendWebStats(e,t){e===vo.StatlogEvents&&(t=this.transformStatlogEvent(t));const n=Zo();n[e]=[t];const r=JSON.stringify(n);return new Promise(((e,n)=>{this.webStatsBatchedTransport.sendStat(r,(()=>e()),n),this.debug.logWebStatsEvent("sendWebStatsEvent",t)}))}writeAndSendWebStats(e,t,n,r){const s=this.pushToWebStats(t,n);this.webStatsStorage.writeLocked((()=>{this.localStorage.setItem(this.webStatsStorage.lsDataKey,s),this.webStatsBatchedTransport.saveAndSendStats(s,r)})),this.debug.logWebStatsEvent(e,n)}saveStatlogEvents(e){const t=this.transformStatlogEvent(e);return this.writeAndSendWebStats("saveStatlogEvents",vo.StatlogEvents,t)}saveNetworkStats(e){return this.writeAndSendWebStats("saveNetworkStats",vo.NetworkStats,e)}saveStoryViewBaseStats(e){return this.writeAndSendWebStats("saveStoryViewStats",vo.StoryViewStats,e)}saveStoryViewStats(e){return this.saveStoryViewBaseStats(e)}saveWebPerfStats(e){return this.writeAndSendWebStats("saveWebPerfStats",vo.WebPerfStats,e)}saveBenchmarkMainStats(e){return this.writeAndSendWebStats("saveBenchmarkMainStats",vo.BenchmarkMainStats,e)}saveVkResStats(e){return this.writeAndSendWebStats("saveVkResStats",vo.VkResStats,[...e.details])}constructor({webStatsStorage:e,debug:t,options:n,localStorage:r,webStatsBatchedTransport:s}){this.saveProductionStats=(e,t)=>this.writeAndSendWebStats("saveProductionStats",vo.ProductionStats,e,t),this.saveCustomStats=e=>this.writeAndSendWebStats("saveCustomStats",vo.CustomStats,e),this.webStatsStorage=e,this.debug=t,this.options=n,this.localStorage=r||ci,this.webStatsBatchedTransport=s}}class _i{sendWebStats(e,t){return this.api.sendWebStats(e,t)}writeAndSendWebStats(e,t,n,r){return this.api.writeAndSendWebStats(e,t,n,r)}saveStatlogEvents(e){return this.api.saveStatlogEvents(e)}saveProductionStats(e,t){return this.api.saveProductionStats(e,t)}saveNetworkStats(e){return this.api.saveNetworkStats(e)}saveStoryViewBaseStats(e){return this.api.saveStoryViewBaseStats(e)}saveStoryViewStats(e){return this.api.saveStoryViewStats(e)}saveWebPerfStats(e){return this.api.saveWebPerfStats(e)}saveBenchmarkMainStats(e){return this.api.saveBenchmarkMainStats(e)}saveVkResStats(e){return this.api.saveVkResStats(e)}constructor({options:e,statsMeta:t,hostName:n,statlogsValueEvent:r,getBrowserFingerprint:s,generateReservedUrl:o,sessionStorage:i,localStorage:a,smallerChunks:c,apiParams:u,createUrl:l}){this.saveCustomStats=e=>this.api.saveCustomStats(e),this.debug=new So({options:e}),this.webStatsStorage=new pi({statsMeta:t,debug:this.debug,sessionStorage:i,localStorage:a}),this.maxBodyChunkSize=c?_o:bo,this.batchers=new hi({statsMeta:t,statlogsValueEvent:r,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize}),this.batchedWebStatsTransport=new mi({options:e,statsMeta:t,hostName:n,debug:this.debug,statlogsValueEvent:r,getBrowserFingerprint:s,batchers:this.batchers,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize,apiParams:u,createUrl:l,generateReservedUrl:o}),this.api=new gi({webStatsStorage:this.webStatsStorage,debug:this.debug,webStatsBatchedTransport:this.batchedWebStatsTransport,options:e,localStorage:a})}}function bi(e){const t=e?.exception?.values??[];if(t.length)return t[t.length-1]}function vi(e){return!!e&&Object.values(O).includes(e.type)}function yi({type:e,error:t}){return e===O.NETWORK_ERROR||!(e!==O.API_ERROR||!t?.error_msg)&&["Flood control","Maximum of api retries exceeded","Application authorization failed: method is unavailable with service token.","Application authorization failed: method is unavailable with anonymous token.","Application authorization failed: this method is unavailable with anonymous token.","Unknown method passed: this method is unavailable with anonymous token."].includes(t.error_msg)}const Si="ApiClientErrors";function wi({webStatsParams:e}){const t=new _i(e);return{name:Si,processEvent(e,{originalException:n}){if(!vi(n))return e;if(yi(n))return(({type:e,error:n})=>{Js()?.sentry?.preventAdditionalLogging||t.sendWebStats("statlogEvents",{name:"api_client_errors",value:1,keys:[e,n?.error_msg??(n instanceof Error?n.message:"An error occurred during the API request"),n?.error_code??0,n?.method??""]})})(n),null;const{error:r}=n,s=bi(e);return s&&Object.assign(s,{type:"ApiError",value:r?.error_msg??"An error occurred during the API request"}),r instanceof Error&&e.exception?.values?.push(Pn(Cs,r)),e}}}function ki(e){let t,n=e.split("?")[0];try{const r=new URL(e);n=r.pathname,t=r.host}catch{}const[,r,s,o]=n.match(/^(.*?)\.(.*?)\.(js|css)/)||[];return r&&s?[`${r}.${o}`,t]:[n,t]}const Ei="LangLoadingIssues";function xi(e){const{value:t}=e;if(!t)return;const[n,r]=t.split("\n");if(!n||!r)return;const[,s,o]=r.match(/^\((.*?):\s(.*?)\)$/)||[];return s&&o?{type:s,url:o}:void 0}function Oi(e){switch(e){case"error":return"LangLoadingError";case"timeout":return"LangLoadingTimeout";default:return"LangLoadingUnknown"}}function Ti({webStatsParams:e}){const t=new _i(e);return{name:Ei,processEvent(e){const n=bi(e);if("LangLoadError"===n?.type){const e=xi(n);if(e){const[n,r]=ki(e.url),s=Oi(e.type);Js()?.sentry?.preventAdditionalLogging||t.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:[s,n,r,M()]})}return null}return e}}}const Ci="AlreadySent",Ai=new Set;function Pi(e){return e?.exception?.values??[]}function Mi(e){const{type:t,value:n}=e,r=e.stacktrace?.frames?.map((({filename:e,lineno:t,colno:n})=>`${e}:${t}:${n}`)).join(" -> ");if(t&&n&&r)return`${t}: ${n} {${r}}`}const Ii="Deduplication",Ri=[" is not defined","Can't find variable: "],$i=/No value for lang key "([a-zA-Z0-9_]+)" is specified/;function Di(e){return String(e.tags?.module??"unknown")}function Bi(e){const t=Di(e),{type:n,value:r}=bi(e)??{};if("ReferenceError"===n&&r)if(Ri.some((e=>r.includes(e)))){const s=Ri.reduce(((e,t)=>e.replace(t,"")),r).replace(/['"]/g,"");e.fingerprint=[n,t,s]}else{const[,s]=r.match($i)??[];s&&(e.fingerprint=[n,t,s])}return e}function Li(e){const t=Di(e),{url:n}=e.request??{},{type:r,value:s,stacktrace:o}=bi(e)??{},i=A().location.href;if(r&&s&&n){const i=({in_app:e,abs_path:t,filename:r})=>!!e&&n!==(t||r);o?.frames?.some(i)||(e.fingerprint=[r,t,s],e.tags&&(e.tags.isInlineScriptOld=!0))}if(r&&s&&o){const n=e=>e.filename===i;o.frames?.every(n)&&(e.fingerprint=[r,t,s],e.tags&&(e.tags.isInlineScript=!0))}return e}function Ni(e,t,n){const r=Js().integrations??{},s=[wi({webStatsParams:e}),Ti({webStatsParams:e}),to(),oo({depth:5}),{name:Ii,processEvent:e=>e=Li(e=Bi(e))},{name:Ci,processEvent(e){const t=Pi(e).map((e=>Mi(e)));if(t.every(Boolean)){const e=t.join(", ");if(Ai.has(e))return null;Ai.add(e)}return e}}],o=P();return(n||["development","testing"].includes(o))&&s.push(Lr({console:!1})),t&&s.push(...t),s.filter((({name:e})=>Boolean(r[e])))}const ji=[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i];function Ui(e){const t=Js().ignore?.urls??{},n=[];return t.recommended&&n.push(...ji),t.custom&&e&&n.push(...e),t.emergency&&n.push(...t.emergency),n}const Wi=[/^AbortError:/,"отменено","Failed to fetch","NetworkError when attempting to fetch resource.","Cancelled","Network request failed","NetworkError",/^Loading chunk(?:.*)failed/i,/^Loading CSS chunk(?:.*)failed/i],Fi=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];function qi(e){const t=Js().ignore?.errors??{},n=[];return t.recommended&&n.push(...Fi),t.base&&n.push(...Wi),t.custom&&e&&n.push(...e),t.emergency&&n.push(...t.emergency),n}let Ki=!1;function Hi(e){const t=Js().beforeSend??{};return function(n,r){if(!Boolean((Js().sentry??{}).enabled))return null;if(t.local&&(!A().location?.hostname||/^file:\/\/\/[A-Z]:(\\|\/)/.test(n.request?.url??"")))return null;if(t.unloading&&Ki)return null;if(t.extension&&n.exception){const e=n.exception.values?.some((e=>e.stacktrace?.frames?.some((e=>e.filename?.startsWith("chrome-extension://")))));if(e)return null}return n.tags&&!n.tags.module&&(n.tags.module=I()),t.custom&&e?e(n,r):n}}function Vi(){const e=Js().tracer??{};return e.token_release??"B5d6H7nKgmqPMHnLp5DE9pSWT6tlYEDmDtAU2Uo9ipa"}function Gi({patterns:e}){return{name:"ignore-errors",errorBeforeAdd(t){try{const n=t.error?.name,r=t.error?.message,s=e?.some((e=>"string"==typeof e?r?.includes(e)||n?.includes(e):e.test(r??"")||e.test(n??"")));if(s)return!1}catch{}}}}function zi({patterns:e}){return{name:"deny-urls",errorBeforeAdd(t){try{const n=t.errorStack??"",r=t.error?.name,s=t.error?.message,o=[n,s,r].join("\n"),i=e?.some((e=>"string"==typeof e?o.includes(e):e.test(o)));if(i)return!1}catch{}}}}function Ji(e,t){const n=e.keys;return n?.[t]??void 0}function Xi(e,t){return t&&Object.keys(t).length?{...e??{},...t}:e}function Zi(e){if(!e)return[];const t=[];for(const n of e.split("\n")){const e=/\s*at\s+(?:(.*?)\s+\()?(.*?):(\d+):(\d+)\)?$/.exec(n)||/^\s*(.*?):(\d+):(\d+)\s*$/.exec(n);if(e)if(5===e.length){const[,n,r,s,o]=e;t.push({function:n||void 0,filename:r,lineno:+s,colno:+o})}else{const[,n,r,s]=e;t.push({filename:n,lineno:+r,colno:+s})}}return t}window.addEventListener("beforeunload",(()=>{Ki=!0,setTimeout((()=>{Ki=!1}),1e3)}));const Yi=(e,t)=>"function"==typeof e?e.length>0?e(t):e():e;function Qi({tracer:e,tags:t}){const{plugins:n}=e,r=R(),s="function"==typeof x.GJ,o={versionName:"release",versionCode:Number(A().vk?.rv||0),appToken:Vi(),environment:P()},i=(0,x.GJ)(o,x.Ci,x.a8,x.ms);i.setErrorKeys?.({...Zs(t)}),r&&i?.setUserId?.(r.id);const a={setErrorKeys:e=>i.setErrorKeys?.(e)},c=n.map((e=>Yi(e,a)));s&&(0,x.uj)({plugins:[...c,Gi({patterns:qi()}),zi({patterns:Ui()})]}),(0,x.qr)(o),(0,x.Yg)(o),(0,x.IJ)(o)}function ea({config:e,sentry:t,tracer:n,webStatsParams:r,tags:s}){const{integrations:o,ignoreErrors:i,denyUrls:a,beforeSend:c,ignoreTransactions:u,disableConsoleBreadcrumbs:l}=t,d=R(),p=Js().dsn;if(!p)throw new Error("The dsn option is required!");zs(e),n.enable&&Qi({tags:s,tracer:n}),Vs({dsn:p,ignoreTransactions:u,environment:P(),release:M(),initialScope:{...d?{user:d}:{},tags:Zs(s)},sendDefaultPii:!0,sendClientReports:!1,maxBreadcrumbs:(Js().breadcrumbsLimit??1)*(A().vk?.statsMeta?.st?2:1),integrations:e=>[...e.filter((e=>"BrowserSession"!==e.name)),...Ni(r,o,l)],ignoreErrors:qi(i),denyUrls:Ui(a),beforeSend:Hi(c)})}const ta="IsNotDefinedIssues";let na=!0,ra=[];function sa(e=!1){na=!1;const t={beforeRedirectChallenge:e,isNotDefinedIntegration:!0};for(const e of ra)e.tags={...e.tags??{},...t},(0,l.KU)()?.sendEvent(e);ra=[]}function oa(e){const t=e.exception?.values?.[0];return!!t&&Boolean("ReferenceError"===t.type&&t.value?.includes("is not defined"))}function ia({active:e,webStatsParams:t}){const n=new _i(t);na=e;return na&&(A().addEventListener("DOMContentLoaded",(()=>sa())),A().addEventListener("redirect-challenge",(()=>sa(!0)))),{name:ta,processEvent:async e=>na&&oa(e)?(ra.push(e),await(async()=>{Js()?.sentry?.preventAdditionalLogging||n.sendWebStats("statlogEvents",{name:"web_static_is_not_defined_issues",value:1,keys:[]})})(),null):e}}const aa="IsNotDefinedGlobals",ca="web_globals_issues",ua="static-loading-initial-issues";function la(e){const t=e.exception?.values??[],n=e.message??"",r=t.some((e=>{const t=e.type??"",n=e.value??"";return t.includes("ReferenceError")&&"string"==typeof n&&n.includes("is not defined")})),s="string"==typeof n&&n.includes("ReferenceError")&&n.includes("is not defined");return r||s}function da(e){const t=e.exception?.values??[],n=e=>{if(!e)return;const t=e.match(/^(\w+)\s+is not defined$/)?.[1];return t||(e.includes(" ")?void 0:e)};for(const e of t){const t=n(e.value);if(t)return t}return n(e.message)}const pa=e=>{const t=A().isStaticLoadingInitialError;if(!t)return e;const n=JSON.parse(A().localStorage.getItem(ua)??"[]").reduce(((e,{source:t})=>{const n=ki(t).at(0);return n&&e.add(n),e}),new Set);return e.tags={...e.tags,afterStaticLoadingInitialError:t},n.size&&(e.extra={...e.extra,filenamesStaticLoadingInitialError:Array.from(n)}),e};function ha({isCoreSpaBlocking:e,isFlushed:t,webStatsParams:n}){return{name:aa,async processEvent(r){if(!la(r))return pa(r);const s=da(r);if(!s)return pa(r);const o=new _i(n),i=I(),a=R()?.id??"unknown_user",c=Object.fromEntries(Array.isArray(r.tags)?r.tags:[]).inlineTag??"no_inline_tag",u=A().isStaticLoadingInitialError;return Js()?.sentry?.preventAdditionalLogging||o.sendWebStats("statlogEvents",{name:ca,value:a,keys:[s,i,e,t,c,u?"true":"false"]}),null}}}const fa="KnownIssues";function ma(e){for(const{ratio:t=0,predicates:n}of e)if(n.every(Boolean))return t}function ga(e){return{name:fa,processEvent(t,n){const r=ma(e.getKnownIssues(t,n));return void 0===r?t:Math.random()>=r?null:(t?.tags&&(t.tags.known_issue=!0),t)}}}const _a="StaticLoadingIssues",ba=[];function va(e){const{stacktrace:t}=bi(e)??{};return!!t?.frames&&"__webpack_require__"===t.frames[t?.frames.length-1].function}function ya(e){const{stacktrace:t}=bi(e)??{};return t?.frames?.[t?.frames?.length-1].filename}function Sa({webStatsParams:e}){const t=new _i(e);return{name:_a,processEvent(e){if(va(e)){const n=ya(e);if(n){const[e,r]=ki(n);Js()?.sentry?.preventAdditionalLogging||t.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:["WebpackModuleError",e,r,M()]}),ba.push(n)}return null}return ba.length&&"ReferenceError"===bi(e)?.type&&(e.tags&&(e.tags.static_desync=!0),e.extra={...e.extra,webpackModuleErrorCalls:ba}),e}}}const wa="InlineScriptTag";function ka(){return{name:wa,processEvent(e,t){const n=t.originalException?.__inline_tag;return n&&(e.fingerprint=[n],e.tags&&(e.tags.inlineTag=n)),e}}}const Ea="CurModuleDiffIssues";function xa(){return{name:Ea,processEvent(e,{originalException:t}){if("CurModuleDiffError"===t?.name){const n=`${t?.curModuleBootstrap}|${t?.curModuleOnReady}`;e.fingerprint=[n]}return e}}}function Oa(e){if(!e||"object"!=typeof e)return;const t=e.__inline_tag;return"string"==typeof t?t:void 0}function Ta(){return{name:"inline-script-tag",errorBeforeAdd(e){try{const t=Oa(e.error)??Ji(e,"inlineTag");if(!t)return;return{keys:Xi(e.keys,{inlineTag:t})}}catch{}}}}const Ca=[" is not defined","Can't find variable: "],Aa=/No value for lang key "([a-zA-Z0-9_]+)" is specified/;function Pa(){return{name:"deduplication",errorBeforeAdd(e){try{const t=e.error?.name,n=e.error?.message,r=e.error?.stack||e.errorStack,s=A().cur?.module??"unknown";if("ReferenceError"===t&&n){if(Ca.some((e=>n.includes(e)))){const e=Ca.reduce(((e,t)=>e.replace(t,"")),n).replace(/['"]/g,"");return{crashIdSource:`ReferenceError | ${s} | ${e}`}}const e=n.match(Aa)?.[1];if(e)return{crashIdSource:`ReferenceError | ${s} | ${e}`}}const o=Zi(r),i=A().location.href;if(t&&n&&o.length&&i&&o.every((e=>e.filename===i)))return{crashIdSource:`${t} | ${s} | ${n}`,keys:Xi(e.keys,{isInlineScript:!0})}}catch{}}}}function Ma(e){for(const{ratio:t=0,predicates:n}of e)if(n.every(Boolean))return t}function Ia(e){return{name:"known-issues",errorBeforeAdd(t){try{const n=e.getKnownIssues,r=Ma(n(t,Ji,Zi)??[]);if(void 0===r)return;return!(Math.random()>=r)&&{keys:Xi(t.keys,{known_issues:!0})}}catch{}}}}const Ra=e=>e.find((e=>"__webpack_require__"===e.function));function $a(e){const t=new _i(e.webStatsParams),n=[];return{name:"static-loading-issues",errorBeforeAdd(e){try{const r=Zi(e.error?.stack||e.errorStack),s=Ra(r);if(s){const e=s.filename;if(e){const[r,s]=ki(e);Js()?.tracer?.preventAdditionalLogging||t.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:["WebpackModuleError",r,s,M()]}),n.push(e)}return!1}const o=e.error?.name;if(n.length&&"ReferenceError"===o)return{keys:Xi(e.keys,{static_desync:!0})}}catch{}}}}const Da=new Set(["Flood control","Maximum of api retries exceeded","Application authorization failed: method is unavailable with service token.","Application authorization failed: method is unavailable with anonymous token.","Application authorization failed: this method is unavailable with anonymous token.","Unknown method passed: this method is unavailable with anonymous token."]);function Ba(e){return!!e&&(!!e&&"object"==typeof e&&Object.values(O).includes(e.type))}function La(e){const t=new _i(e.webStatsParams);return{name:"api-client-error",errorBeforeAdd(e){try{const n=e.error;if(!Ba(n))return;const{type:r,error:s}=n,o=s?.error_msg??(s instanceof Error?s.message:"An error occurred during the API request");return r===O.NETWORK_ERROR||r===O.API_ERROR&&Da.has(o)?(Js()?.tracer?.preventAdditionalLogging||t.sendWebStats("statlogEvents",{name:"api_client_errors",value:1,keys:[r,o,s?.error_code??0,s?.method??""]}),!1):{keys:Xi(e.keys,{api_error:!0,api_error_message:o.slice(0,200),api_error_method:s?.method??"",api_error_code:s?.error_code??0,api_error_stack:s?.stack??""})}}catch{}}}}function Na(e){const t=e.error?.name,n=e.error?.message??"",r=e.errorStack??"";return[t,n,r].some((e=>e?.includes?.("ReferenceError")))&&[n,r].some((e=>e?.includes?.("is not defined")))}const ja=e=>t=>{const n=new _i(t.webStatsParams);let r=t.active?"pre":"after-dom";if(t.active){e.setErrorKeys({isNotDefinedPlugin:!0});const t=A();t.addEventListener?.("DOMContentLoaded",(()=>{r="after-dom",e.setErrorKeys({isNotDefinedPlugin:!0,beforeRedirectChallenge:!1})})),t.addEventListener?.("redirect-challenge",(()=>{r="after-redirect",e.setErrorKeys({isNotDefinedPlugin:!0,beforeRedirectChallenge:!0})}))}return{name:"is-not-defined-issues",errorBeforeAdd(e){try{if(!Na(e))return;Js()?.tracer?.preventAdditionalLogging||n.sendWebStats("statlogEvents",{name:"web_static_is_not_defined_issues",value:1,keys:[]});const t={isNotDefinedPlugin:!0};return"after-dom"===r&&(t.beforeRedirectChallenge=!1),"after-redirect"===r&&(t.beforeRedirectChallenge=!0),{keys:Xi(e.keys,t)}}catch{}}}},Ua="web_globals_issues";function Wa(e){const t=e.error?.name,n=e.error?.message,r=n??"";return t?.includes?.("ReferenceError")&&r.includes("is not defined")||r.includes?.("ReferenceError")&&r.includes("is not defined")}function Fa(e){const t=e.error?.message??"",n=/^(\w+)\s+is not defined$/.exec(t||"")?.[1];return n||(t&&!String(t).includes(" ")?String(t):"")}function qa(e){const t=new _i(e.webStatsParams);return{name:"globals-is-not-defined",errorBeforeAdd(n){try{const r=Fa(n);if(!Wa(n)||!r)return;const s=I(),o=R()?.id??"unknown_user",i=Ji(n,"inlineTag")??"no_inline_tag",a=A().isStaticLoadingInitialError;return Js()?.tracer?.preventAdditionalLogging||t.sendWebStats("statlogEvents",{name:Ua,value:o,keys:[r,s,e.isCoreSpaBlocking,e.isFlushed,i,a?"true":"false"]}),!1}catch{}}}}function Ka(e){if(!e)return;const[,t]=String(e).split("\n");if(!t)return;const n=/^\((.*?):\s(.*?)\)$/.exec(t),[,r,s]=n??[];return r&&s?{type:r,url:s}:void 0}function Ha(e){switch(e){case"error":return"LangLoadingError";case"timeout":return"LangLoadingTimeout";default:return"LangLoadingUnknown"}}function Va({webStatsParams:e}){const t=new _i(e);return{name:"lang-loading-issues",errorBeforeAdd(e){try{const n=e.error?.name,r=e.error?.message,s=e.error?.stack;if("LangLoadError"===n||r?.startsWith("Loading lang")||s?.includes("LangLoadError")||s?.includes("Loading lang")){const e=Ka(r);if(e){const[n,r]=ki(e.url),s=Ha(e.type);Js()?.tracer?.preventAdditionalLogging||t.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:[s,n,r,M()]})}return!1}}catch{}}}}const Ga=new Set;function za(){return{name:"already-sent",errorBeforeAdd(e){try{const t=e.error?.name??"Error",n=e.error?.message??"",r=Zi(e.error?.stack||e.errorStack);if(!r.length)return;const s=`${t}: ${n} {${r.map((e=>`${e.filename} : ${e.lineno} : ${e.colno}`)).join(" -> ")}}`;if(Ga.has(s))return!1;Ga.add(s)}catch{}}}}const Ja="vk.com",Xa="vk.ru",Za=e=>e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"),Ya=["vk.com","vk.ru","vkvideo.ru",oc()].filter(((e,t,n)=>n.indexOf(e)===t)),Qa=Ya.concat(["vkontakte.ru","vk.me","userapi.com"]),ec=([Xa,Ja].includes(oc()),Za(oc()),Ya.map(Za).join("|"),new RegExp("("+Qa.map(Za).join("|")+")")),tc=(new RegExp(Qa.map(Za).join("|")),new RegExp("^"+ec.source+"$"),new RegExp(`([a-zA-Z0-9\\.\\_\\-]+\\.)?${ec.source}`));new RegExp("^"+tc.source+"$"),new RegExp(`^(https?:\\/\\/)?${tc.source}$`),new RegExp(`^(https?:\\/\\/)${tc.source}$`),new RegExp(`^(https?:\\/\\/)${tc.source}`),new RegExp(`^(https?:\\/\\/)?${tc.source}($|\\/(.*))`),new RegExp(`^(https?:\\/\\/)${tc.source}($|\\/(.*))`);function nc(){return!!window.isMVK}const rc=()=>{const e=ic();return Boolean(e.vk?.isVideoStandalone||e.cur?.isVideoStandalone)},sc=()=>nc()&&rc();function oc(){return ic().vk?.__domain||"vk.com"}function ic(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}const ac={vk_mvk_client_secret:"aR5NKGmm03GYrCiNKsaw",vk_web_client_secret:"QbYic1K3lEV5kTGiqlq2",vk_web_messenger_client_secret:"IjjCNl4L4Tf5QZEXIHKK",vk_web_vkvideo_client_secret:"o557NLIkAErNhakXrQ7A",vk_mvk_vkvideo_client_secret:"WStp4ihWG4l3nmXZgIbC"},cc=6287487,uc=7879029,lc=51745158,dc=52461373,pc=52649896,hc=()=>{let e=cc,t=ac.vk_web_client_secret;return nc()&&(e=uc,t=ac.vk_mvk_client_secret),window.vkmeConfig?.anonymBroadcastInitArgs&&(e=lc,t=ac.vk_web_messenger_client_secret),rc()&&(e=dc,t=ac.vk_web_vkvideo_client_secret),sc()&&(e=pc,t=ac.vk_mvk_vkvideo_client_secret),{clientId:e,clientSecret:t}},{clientSecret:fc,clientId:mc}=hc();function gc(){return Promise.all([__webpack_require__.e(61037),__webpack_require__.e("langs/core_spa/grip-lib")]).then(__webpack_require__.bind(__webpack_require__,258830))}let _c=null;async function bc(){if(_c)return _c;try{const{initGrip:e}=await gc();_c=await e()}catch(e){_c="empty"}return _c}function vc(e){const{pe:t={}}=window.vk||{};return!!t[e]}function yc(e){const{cfg:t={}}=window.vk||{};return t[e]}const Sc=()=>Boolean(window.vk?.isVideoStandalone||window.cur?.isVideoStandalone),wc=e=>{const t=String(e.tags?.module??"unknown"),n=e?.exception?.values??[],{type:r,value:s,stacktrace:o}=n[n.length-1]??{},{frames:i}=o??{};return[{predicates:["AbortError"===r]},{predicates:["TypeError"===r,s?.includes("Cannot read properties of undefined (reading 'firefoxSample')")]},{predicates:[s?.includes("ResizeObserver loop")]},{predicates:["TypeError"===r,"Cannot redefine property: getChannelData"===s,!e.tags?.is_logged_in,!!i&&i.every((e=>"<anonymous>"===e.filename)),["video","unknown"].includes(t)]},{predicates:["TypeError"===r,s?.includes(".finally is not a function"),["videoplayer","notifier"].includes(t)]},{predicates:["ErrorOfExtension"===r,!!i&&i.some((e=>e.filename?.includes("/vkopt.js"))),"profile"===t]},{predicates:["Error"===r,s?.includes("Empty response. Method: auth.anonymLogin"),"videoplayer"===t]},{predicates:[s?.includes("Uncaught NetworkError: Failed to execute 'importScripts' on 'WorkerGlobalScope'")]},{predicates:["TypeError"===r,"Load failed"===s,C.safari]},{predicates:[s?.includes("NotSupportedError: Failed to load because no supported source was found.")]},{predicates:["TypeError"===r,"Cannot read properties of undefined (reading 'onMessage')"===s,!!i&&i.every((e=>e.filename?.startsWith("blob:https://vk.com/")))]},{predicates:["NotSupportedError"===r,"The operation is not supported."===s||"Permissions::query does not support this API"===s,C.ios||C.safari||C.iphone]},{predicates:[s?.includes("NotAllowedError: play() failed because the user didn't interact with the document first.")]},{predicates:[s?.includes("Internal error opening backing store for indexedDB.open.")]},{predicates:["SyntaxError"===r,"Unexpected token '<'"===s,i?.some((e=>e.filename?.includes("/px.js")))]},{predicates:["WebTransportError"===r,s?.includes("Opening handshake failed")||s?.includes("WebTransport connection rejected")]}]},kc=(e,t,n)=>{const r=String(t(e,"module")??"unknown"),s=e?.error?.name,o=e?.error?.message,i=e.error?.stack||e.errorStack,a=n(i),c=a.length>0&&a.every((e=>"<anonymous>"===e.filename)),u=a.some((e=>e.filename?.includes("/vkopt.js"))),l=a.some((e=>e.filename?.includes("/px.js"))),d=a.length>0&&a.every((e=>e.filename?.startsWith?.("blob:https://vk.com/")));return[{predicates:["AbortError"===s]},{predicates:["TypeError"===s,o?.includes("Cannot read properties of undefined (reading 'firefoxSample')")]},{predicates:[o?.includes("ResizeObserver loop")]},{predicates:["TypeError"===s,"Cannot redefine property: getChannelData"===o,!t(e,"is_logged_in"),c,["video","unknown"].includes(r)]},{predicates:["TypeError"===s,o?.includes(".finally is not a function"),["videoplayer","notifier"].includes(r)]},{predicates:["ErrorOfExtension"===s,u,"profile"===r]},{predicates:["Error"===s,o?.includes("Empty response. Method: auth.anonymLogin"),"videoplayer"===r]},{predicates:["Uncaught NetworkError"===s,o?.includes("Failed to execute 'importScripts' on 'WorkerGlobalScope'")]},{predicates:["TypeError"===s,"Load failed"===o,C?.safari]},{predicates:[i?.includes("NotSupportedError: Failed to load because no supported source was found.")]},{predicates:["TypeError"===s,"Cannot read properties of undefined (reading 'onMessage')"===o,d]},{predicates:["NotSupportedError"===s,"The operation is not supported."===o||"Permissions::query does not support this API"===o,C?.ios||C?.safari||C?.iphone]},{predicates:["NotAllowedError"===s,o?.includes("play() failed because the user didn't interact with the document first.")]},{predicates:[o?.includes("Internal error opening backing store for indexedDB.open.")]},{predicates:["SyntaxError"===s,"Unexpected token '<'"===o,l]},{predicates:["WebTransportError"===s,o?.includes("Opening handshake failed")||o?.includes("WebTransport connection rejected")]}]};function Ec(e,t){return`${e.wsTransport}/web-stats/${e.st?"s":"p"}${t&&`?${t}`}`}const xc=(()=>({hostName:window.vk?.__domain||"vk.com",options:{isDebuggerMode:vc("web_stats_transport_debugger"),isNewQueue:vc("webinf_change_queue_analytics"),useReservedUrls:vc("frontend.use_reserve_stats_url")},getBrowserFingerprint:bc,statsMeta:{get st(){return window.vk.statsMeta.st},get platform(){return window.vk?.statsMeta?.platform?window.vk?.statsMeta?.platform:window.isMVK?"mvk":"web2"},get appId(){return mc},get time(){return window.vk.statsMeta.time},get hash(){return window.vk.statsMeta.hash},get wsTransport(){return window.vk.wsTransport},get userId(){return window.vk.id},get started(){return window.vk.started},get itemId(){return window.cur?.item_id},get itemOwnerId(){return window.cur?.item_owner_id},get itemType(){return window.cur?.item_type}},createUrl:Ec}))(),Oc=()=>"production"!==P()||(0===xc.statsMeta.userId?vc("js_errors_from_anonymous"):vc("log_js_errors"));ea({config:Sc()?yc("sentry_vkvideo_config_web"):yc("sentry_config_web"),webStatsParams:xc,tracer:{enable:vc("web_tracer"),plugins:[Ta(),{name:"cur-module-diff-issues",errorBeforeAdd(e){try{const t=e.error;if(!t||"CurModuleDiffError"!==t.name)return;const n=String(t.curModuleBootstrap??""),r=String(t.curModuleOnReady??"");return{crashIdSource:`${n} | ${r}`}}catch{}}},Pa(),Ia({getKnownIssues:kc}),$a({webStatsParams:xc}),La({webStatsParams:xc}),e=>ja(e)({active:vc("is_not_defined_errors_redirect"),webStatsParams:xc}),qa({isCoreSpaBlocking:vc("core_spa_blocking"),isFlushed:window.vk?.isFlushed??!1,webStatsParams:xc}),Va({webStatsParams:xc}),za()]},sentry:{ignoreTransactions:vc("drop_sentry_ignore_transactions")?[]:[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/],integrations:[ia({active:vc("is_not_defined_errors_redirect"),webStatsParams:xc}),ha({isCoreSpaBlocking:vc("core_spa_blocking"),isFlushed:window.vk?.isFlushed??!1,webStatsParams:xc}),ga({getKnownIssues:wc}),Sa({webStatsParams:xc}),ka(),xa()],beforeSend:e=>Oc()?(e.tags&&(e.tags.loadingState=window[Symbol.for("vkLoadingState")]??"layout-processing",e.tags.redirectChallenge=window.isRedirectChallenge??!1,e.tags.isCoreSpaBlocking=vc("core_spa_blocking"),e.tags.isFlushed=window.vk?.isFlushed??!1,e.tags.stDomain=window.vk?.stDomain??"",e.tags.isSearchBot=window.vk?.isSearchBot??!1),e):null,disableConsoleBreadcrumbs:vc("frontend.disable_console_breadcrumbs")}}),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/error_monitoring.isolated.5a5e9750.js")}catch(Tc){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/error_monitoring.isolated.5a5e9750.js",Tc),Tc}})();