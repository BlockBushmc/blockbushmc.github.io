try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[86602],{247793:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(331635),s=n(327813),o=n(506662),r=n(210943);class a extends r.l{get title(){return this.langs.getLang("global_open")}constructor(e){super({...e,type:o.D.Open}),(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"title",null)},472849:(e,t,n)=>{n.d(t,{F:()=>a});var i=n(331635),s=n(327813),o=n(506662),r=n(210943);class a extends r.l{get title(){return this.langs.getLang("audio_podcast_episode_edit_label")}constructor(e){super({...e,type:o.D.OpenEditing}),(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"title",null)},501112:(e,t,n)=>{n.d(t,{m:()=>a});var i=n(331635),s=n(327813),o=n(506662),r=n(210943);class a extends r.l{get title(){return this.langs.getLang("audio_podcast_episode_open_layer_label")}constructor(e){super({...e,type:o.D.OpenLayer}),(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"title",null)},542949:(e,t,n)=>{n.d(t,{P:()=>a});var i=n(331635),s=n(327813),o=n(506662),r=n(210943);class a extends r.l{get title(){return this.langs.getLang("global_open")}constructor(e){super({...e,type:o.D.OpenPodcast}),(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"title",null)},39026:(e,t,n)=>{n.d(t,{g:()=>a});var i=n(331635),s=n(327813),o=n(506662),r=n(210943);class a extends r.l{get title(){return this.langs.getLang("audio_share_audio")}constructor(e){super({...e,type:o.D.Share}),(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"title",null)},845905:(e,t,n)=>{n.d(t,{N:()=>a});var i=n(331635),s=n(327813),o=n(506662),r=n(210943);class a extends r.l{get isActive(){return this.owning.state}get title(){return this.isActive?this.langs.getLang("audio_podcast_episode_delete_label"):this.langs.getLang("audio_podcast_episode_restore_label")}async execute(){this.owning.state?await this.delete():await this.owning.restore()}async delete(){await this.handleDelete()}constructor(e){super({...e,type:o.D.TogglePodcastOwning}),this.handleDelete=async()=>{await this.owning.delete()},this.owning=e.owning,(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"isActive",null),(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"title",null),(0,i.Cg)([s.$Z,(0,i.Sn)("design:type",Function),(0,i.Sn)("design:paramtypes",[]),(0,i.Sn)("design:returntype",Promise)],a.prototype,"execute",null)},210943:(e,t,n)=>{n.d(t,{l:()=>r});var i=n(331635),s=n(327813),o=n(144046);class r extends o.d{get key(){return`${this.type}/${this.identity.fullId}`}get identity(){return this.data.identity}constructor(e){super(e),this.type=e.type,this.data=e.data,this.langs=e.langs,(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],r.prototype,"key",null),(0,i.Cg)([s.EW,(0,i.Sn)("design:type","undefined"==typeof IPodcastAudioIdentity?Object:IPodcastAudioIdentity),(0,i.Sn)("design:paramtypes",[])],r.prototype,"identity",null)},996405:(e,t,n)=>{n.d(t,{$:()=>o});var i=n(228909),s=n(452200);class o extends i._{static fromRawId(e){const t=(0,s.v)(e);return new o({...t,podcastId:t.ownerId})}constructor(e){super(e),this.podcastId=e.podcastId}}},886602:(e,t,n)=>{n.d(t,{B:()=>fe});var i=n(434518),s=n(763812),o=n(331635),r=n(42107),a=n(575485),d=n(327813),p=n(768641),g=n(444155),l=n(228909);var c=(0,s._)("_toPodcastIdentity");class u{getState(e){return!this.deletedEpisodes.has(e)}async restore(e){if(!this.deletedEpisodes.has(e))return!1;const t=(0,i._)(this,c)[c](e),n=1===(await this.podcastsApi.restoreEpisode({episode_id:e.rawId,podcast_id:t.rawId})).success;return n&&this.unmarkDeleted(e),n}async delete(e){if(this.deletedEpisodes.has(e))return!1;const t=(0,i._)(this,c)[c](e),n=1===(await this.podcastsApi.deleteEpisode({episode_id:e.rawId,podcast_id:t.rawId})).success;return n&&this.markDeleted(e),n}markDeleted(e){this.deletedEpisodes.add(e)}unmarkDeleted(e){this.deletedEpisodes.delete(e)}constructor(e){Object.defineProperty(this,c,{value:y}),this.podcastsApi=e,this.deletedEpisodes=new g.S,(0,d.Gn)(this)}}function y(e){return new l._({id:-100,ownerId:e.ownerId})}(0,o.Cg)([d.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof IOwnedIdentity?Object:IOwnedIdentity]),(0,o.Sn)("design:returntype",Promise)],u.prototype,"restore",null),(0,o.Cg)([d.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof IOwnedIdentity?Object:IOwnedIdentity]),(0,o.Sn)("design:returntype",Promise)],u.prototype,"delete",null),(0,o.Cg)([d.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof IOwnedIdentity?Object:IOwnedIdentity]),(0,o.Sn)("design:returntype",void 0)],u.prototype,"markDeleted",null),(0,o.Cg)([d.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof IOwnedIdentity?Object:IOwnedIdentity]),(0,o.Sn)("design:returntype",void 0)],u.prototype,"unmarkDeleted",null),u=(0,o.Cg)([r.z8.global(),(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[void 0===p.M?Object:p.M])],u);var h=n(166900),v=n(723110),_=n(72039);class S{createEpisode(e){const{favoritesService:t}=this,n=new v.$({id:e.id,ownerId:e.owner_id,podcastId:e.owner_id,accessKey:e.access_key}),i=()=>(0,_.J)(e);return function e(s){return new h.q({identity:n,getData:i,context:s,attachContext:t=>e(t),favoritesService:t})}()}constructor(e){this.favoritesService=e}}S=(0,o.Cg)([r.z8.global(),(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[void 0===a.H?Object:a.H])],S);var w=n(273193),E=n(317562),f=n(861700),m=n(161308),O=n(15589),b=n(160515),C=n(874960),P=n(866258),D=n(734295),W=n(996405);function x(e){return new W.$({id:e.id,ownerId:e.owner_id,podcastId:e.owner_id,accessKey:e.access_key})}const I={h:50,f:100,d:120,b:240,e:160,c:320,a:640,x:1400};var A=n(304158);function k(e){return!!e&&e.getTime()>=function(){const e=new Date;return(0,A.O)(e,24)}().getTime()}var L=(0,s._)("_getSource");class j{get trackCode(){return this.source.trackCode??this.sourceAudio.track_code??null}get identity(){return x(this.source.audio)}get title(){return this.sourceAudio.title}get duration(){return this.sourceAudio.duration}get author(){return this.sourceAudio.artist}get cover(){return function(e){const t=e.podcast_info?.cover,n=[];let i,s;if(!t?.sizes)return null;const o=x(e);for(const{src:e,url:o,type:r}of t.sizes)i=e||o,s=I[r],i&&"number"==typeof s&&n.push({src:i,width:s,height:s});return{key:`${o.fullId}_cover`,sizes:n,mainColor:e.main_color}}(this.sourceAudio)}get description(){return this.sourceAudio.podcast_info?.description??null}get releaseDate(){const{date:e}=this.sourceAudio;return e?new Date(1e3*e):null}get isNew(){return k(this.releaseDate)}get isBlocked(){return(0,b.z)(this.sourceAudio)}get isDonatorsExclusive(){return this.sourceAudio.podcast_info?.is_donut??!1}get legal(){return(0,C.I)(this.sourceAudio.legal_notices_type??0)}get playsCount(){return this.sourceAudio.podcast_info?.plays??null}get canEdit(){return this.source.canEdit??!1}get apiAudio(){return(0,d.HO)(this.sourceAudio)}get source(){return(0,i._)(this,L)[L]()}get sourceAudio(){return this.source.audio}get flagsContext(){return(0,P.P)(this.source.audio.flags_context??0)}constructor(e){Object.defineProperty(this,L,{writable:!0,value:void 0}),(0,i._)(this,L)[L]=e.getSource,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"trackCode",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"identity",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"title",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"duration",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"author",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"cover",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"description",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"releaseDate",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",Boolean),(0,o.Sn)("design:paramtypes",[])],j.prototype,"isNew",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"isBlocked",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"isDonatorsExclusive",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"legal",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"playsCount",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"canEdit",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"apiAudio",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"source",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],j.prototype,"sourceAudio",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0===D.w?Object:D.w),(0,o.Sn)("design:paramtypes",[])],j.prototype,"flagsContext",null);var F=(0,s._)("_getData"),T=(0,s._)("_ensureList"),G=(0,s._)("_provider"),z=(0,s._)("_callbacks");class ${get open(){const e=(0,i._)(this,z)[z]?.onOpen;return(0,i._)(this,G)[G].provideOpen({entity:this.entity,data:this.data,target:"_blank",onExecuted:e})}get openLayer(){const e=(0,i._)(this,z)[z]?.onOpenLayer;return(0,i._)(this,G)[G].provideOpenLayer({entity:this.entity,data:this.data,onExecuted:e})}get openPodcast(){const e=(0,i._)(this,z)[z]?.onOpenPodcast;return(0,i._)(this,G)[G].provideOpenPodcast({entity:this.entity,data:this.data,target:"_blank",onExecuted:e})}get openStats(){const e=(0,i._)(this,z)[z]?.onOpenStats;return(0,i._)(this,G)[G].provideOpenStats({entity:this.entity,data:this.data,onExecuted:e})}get share(){const e=(0,i._)(this,z)[z]?.onShare;return(0,i._)(this,G)[G].provideShare({entity:this.entity,data:this.data,onExecuted:e})}get openEditing(){const e=(0,i._)(this,z)[z]?.onOpenEditing;return(0,i._)(this,G)[G].provideOpenEditing({entity:this.entity,data:this.data,onExecuted:e})}get toggleFavorites(){const e=(0,i._)(this,z)[z]?.onToggleFavorites;return(0,i._)(this,G)[G].provideToggleFavorites({entity:this.entity,data:this.data,onExecuted:e})}get togglePlaying(){const e=(0,i._)(this,z)[z]?.onTogglePlaying;return(0,i._)(this,G)[G].provideTogglePlaying({entity:this.entity,ensureList:(0,i._)(this,T)[T],data:this.data,onExecuted:e})}get togglePodcastOwning(){const e=(0,i._)(this,z)[z]?.onTogglePodcastOwning;return(0,i._)(this,G)[G].provideTogglePodcastOwning({data:this.data,onExecuted:e})}get data(){return(0,i._)(this,F)[F]()}constructor(e){Object.defineProperty(this,F,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,G,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),(0,i._)(this,F)[F]=e.getData,(0,i._)(this,T)[T]=e.ensureList,(0,i._)(this,G)[G]=e.provider,(0,i._)(this,z)[z]=e.callbacks??null,this.entity=e.entity,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"open",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"openLayer",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"openPodcast",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"openStats",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"share",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"openEditing",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"toggleFavorites",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"togglePlaying",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"togglePodcastOwning",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],$.prototype,"data",null);var H=(0,s._)("_service"),R=(0,s._)("_episodeIdentity");class N{get state(){return(0,i._)(this,H)[H].getState((0,i._)(this,R)[R])}async restore(){return(0,i._)(this,H)[H].restore((0,i._)(this,R)[R])}async delete(){return(0,i._)(this,H)[H].delete((0,i._)(this,R)[R])}constructor(e){Object.defineProperty(this,H,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),(0,i._)(this,H)[H]=e.service,(0,i._)(this,R)[R]=e.episodeIdentity}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",Boolean),(0,o.Sn)("design:paramtypes",[])],N.prototype,"state",null);var B=n(506662),X=n(247793),Y=n(501112),Z=n(542949),M=n(39026),J=n(472849),q=n(210943),K=(0,s._)("_service");class V extends q.l{get isActive(){return!!(0,i._)(this,K)[K].state.get(this.identity)}get title(){return this.isActive?this.langs.getLang("audio_podcast_modal_episode_fave_added_button"):this.langs.getLang("audio_podcast_modal_episode_fave_button")}get hint(){return this.isActive?this.langs.getLang("audio_podcast_episode_fave_remove"):this.langs.getLang("audio_podcast_modal_episode_fave_add")}async execute(){this.isPending||this.isDisabled||(this.isActive?await(0,i._)(this,K)[K].deactivate(this.identity):await(0,i._)(this,K)[K].activate(this.identity))}constructor(e){super({...e,type:B.D.ToggleFavorites}),Object.defineProperty(this,K,{writable:!0,value:void 0}),(0,i._)(this,K)[K]=e.favoritesService,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],V.prototype,"isActive",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],V.prototype,"title",null),(0,o.Cg)([d.$Z,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],V.prototype,"hint",null),(0,o.Cg)([d.$Z,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",Promise)],V.prototype,"execute",null);var Q=n(97752);class U extends Q.V{get type(){return B.D.TogglePlaying}constructor(e){super(e),(0,d.Gn)(this)}}var ee=n(845905),te=(0,s._)("_rawData"),ne=(0,s._)("_target");class ie extends q.l{get title(){const{title:e}=(0,i._)(this,te)[te];return e||this.langs.getLang("global_open")}get href(){const e=(0,i._)(this,te)[te].action?.type,t=(0,i._)(this,te)[te].action?.url;return"open_url"!==e&&t?t:null}get target(){return(0,i._)(this,ne)[ne]}constructor(e){super(e),Object.defineProperty(this,te,{writable:!0,value:void 0}),Object.defineProperty(this,ne,{writable:!0,value:void 0}),(0,i._)(this,te)[te]=e.rawData,(0,i._)(this,ne)[ne]=e.target,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ie.prototype,"title",null);var se=(0,s._)("_langs"),oe=(0,s._)("_channel"),re=(0,s._)("_favoritesService"),ae=(0,s._)("_podcastOwningService"),de=(0,s._)("_overrides");class pe{provideOpen({entity:e,data:t,...n}){const s=(0,i._)(this,de)[de]?.[B.D.Open];return t.isDonatorsExclusive?this.provideOpenRestriction({entity:e,data:t,type:B.D.Open,...n}):s?s(t,n.onExecuted):new X.L({data:t,langs:(0,i._)(this,se)[se],...n})}provideOpenLayer({entity:e,data:t,...n}){const s=(0,i._)(this,de)[de]?.[B.D.OpenLayer];return t.isDonatorsExclusive?this.provideOpenRestriction({entity:e,data:t,type:B.D.OpenLayer,...n}):s?s(t,n.onExecuted):new Y.m({data:t,langs:(0,i._)(this,se)[se],...n})}provideOpenPodcast({data:e,...t}){const n=(0,i._)(this,de)[de]?.[B.D.OpenPodcast];return n?n(e,t.onExecuted):new Z.P({data:e,langs:(0,i._)(this,se)[se],...t})}provideOpenStats({data:e,...t}){const n=(0,i._)(this,de)[de]?.[B.D.OpenStats];return n?n(e,t.onExecuted):null}provideShare({data:e,...t}){const n=(0,i._)(this,de)[de]?.[B.D.Share];return n?n(e,t.onExecuted):new M.g({data:e,langs:(0,i._)(this,se)[se],...t})}provideOpenEditing({data:e,...t}){if(!e.canEdit)return null;const n=(0,i._)(this,de)[de]?.[B.D.OpenEditing];return n?n(e,t.onExecuted):new J.F({data:e,langs:(0,i._)(this,se)[se],...t})}provideToggleFavorites({entity:e,...t}){return new V({langs:(0,i._)(this,se)[se],favoritesService:(0,i._)(this,re)[re],...t})}provideTogglePlaying({entity:e,ensureList:t,...n}){return new U({entity:e,ensureList:t,langs:(0,i._)(this,se)[se],channel:(0,i._)(this,oe)[oe],...n})}provideTogglePodcastOwning(e){const{data:t}=e;if(!t.canEdit)return null;const n=new N({service:(0,i._)(this,ae)[ae],episodeIdentity:t.identity}),s=(0,i._)(this,de)[de]?.[B.D.TogglePodcastOwning];return s?s({owning:n,...e}):new ee.N({owning:n,langs:(0,i._)(this,se)[se],...e})}provideOpenRestriction({entity:e,type:t,...n}){const s=e.data.apiAudio.podcast_info?.restriction_button;return s?new ie({type:t,rawData:s,langs:(0,i._)(this,se)[se],...n}):null}constructor(e){Object.defineProperty(this,se,{writable:!0,value:void 0}),Object.defineProperty(this,oe,{writable:!0,value:void 0}),Object.defineProperty(this,re,{writable:!0,value:void 0}),Object.defineProperty(this,ae,{writable:!0,value:void 0}),Object.defineProperty(this,de,{writable:!0,value:void 0}),(0,i._)(this,se)[se]=e.langs,(0,i._)(this,oe)[oe]=e.channel,(0,i._)(this,re)[re]=e.favoritesService,(0,i._)(this,ae)[ae]=e.podcastOwningService,(0,i._)(this,de)[de]=e.overrides??null}}var ge=n(53013),le=n(798727),ce=n(187156),ue=(0,s._)("_getPlayback");class ye{get key(){return this.identity.fullId}get identity(){return this.data.identity}get trackCode(){return this.data.trackCode}get pageHref(){return`/podcast${this.identity.accessRawId}`}get author(){return new ce.J({data:this.data.author})}get cover(){return(0,ge.Z)(this.data.cover)}get releaseDateLabel(){const e=this.data.releaseDate;if(!e)return null;const t=this.langs.getLang("months_of",!0);return this.langs.compactDate(e,t,{excludeTime:!0})}get legalNoticeLines(){const{legal:e}=this.data;return e&&(0,le.N)(this.langs,e)}get playback(){return(0,i._)(this,ue)[ue]()}constructor(e){Object.defineProperty(this,ue,{writable:!0,value:void 0}),(0,i._)(this,ue)[ue]=e.getPlayback,this.langs=e.langs,this.channel=e.channel,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"key",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"identity",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"trackCode",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"pageHref",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"author",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"cover",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",Object),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"releaseDateLabel",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",Object),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"legalNoticeLines",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],ye.prototype,"playback",null);var he=(0,s._)("_getData"),ve=(0,s._)("_createActions");class _e extends ye{get data(){return(0,i._)(this,he)[he]()}get actions(){return(0,i._)(this,ve)[ve]()}constructor(e){super(e),Object.defineProperty(this,he,{writable:!0,value:void 0}),Object.defineProperty(this,ve,{writable:!0,value:void 0}),this.type="podcast_episode",(0,i._)(this,he)[he]=e.getData,(0,i._)(this,ve)[ve]=e.createActions,this.entity=e.entity,(0,d.Gn)(this)}}(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],_e.prototype,"data",null),(0,o.Cg)([d.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],_e.prototype,"actions",null);var Se=(0,s._)("_createAudioEntity"),we=(0,s._)("_createFallbackEnsureList"),Ee=(0,s._)("_createActionsProvider");class fe{create(e){const{langs:t}=this,{getSource:n,onTogglePlaying:s,overrideTogglePlayingAction:o}=e,r=e.channel??this.player.main,a=new j({getSource:n}),d=()=>a,p=e.entities?.audio??(0,i._)(this,Se)[Se](n),g=e.ensureList??(0,i._)(this,we)[we](p),l=(0,i._)(this,Ee)[Ee](r);return new _e({entity:p,getData:d,getPlayback:()=>new O.H({entity:p,ensureList:g,channel:r,langs:t,onTogglePlaying:s,overrideTogglePlayingAction:o}),langs:t,channel:r,createActions:()=>new $({getData:d,ensureList:g,entity:p,provider:l,callbacks:e.actionsCallbacks})})}constructor(e,t,n,i,s,o){Object.defineProperty(this,Se,{value:me}),Object.defineProperty(this,we,{value:Oe}),Object.defineProperty(this,Ee,{value:be}),this.langs=e,this.favoritesService=t,this.podcastOwningService=n,this.entityFactory=i,this.audioConfig=s,this.player=o}}function me(e){const t=e();return this.entityFactory.createEpisode(t.audio).attachContext({trackCode:t.trackCode??t.audio.track_code??""})}function Oe(e){const t=e.context.list??new E.Z({items:[e]});return async()=>t}function be(e){return new pe({overrides:this.audioConfig.podcastAudioActionOverrides,langs:this.langs,channel:e,favoritesService:this.favoritesService,podcastOwningService:this.podcastOwningService})}fe=(0,o.Cg)([r.z8.container(),(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[void 0===w.Y?Object:w.Y,void 0===a.H?Object:a.H,void 0===u?Object:u,void 0===S?Object:S,void 0===f.w?Object:f.w,void 0===m.Y?Object:m.Y])],fe)},606770:(e,t,n)=>{function i(e){return new Date(1e3*e)}n.d(t,{E:()=>i})},166900:(e,t,n)=>{n.d(t,{q:()=>d});var i=n(331635),s=n(327813),o=n(667260),r=n(315076);class a extends o.f{get isFavorite(){return this.favorite.state}get isDonatorsExclusive(){return this.data.isDonatorsExclusive}get restrictionActionRawData(){return this.data.restrictionActionRawData}get apiAudio(){return this.data.apiAudio}constructor(e){super(e),this.favorite=new r.w(this.identity,e.favoritesService),(0,s.Gn)(this)}}(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"isDonatorsExclusive",null),(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"restrictionActionRawData",null),(0,i.Cg)([s.EW,(0,i.Sn)("design:type",void 0),(0,i.Sn)("design:paramtypes",[])],a.prototype,"apiAudio",null);class d extends a{get description(){return this.data.description}get releaseDate(){return this.data.releaseDate}get isListened(){return this._isListened}async markAsListened(){this._isListened=!0}constructor(e){super(e),this._isListened=!1,(0,s.Gn)(this)}}(0,i.Cg)([s.sH],d.prototype,"_isListened",void 0),(0,i.Cg)([s.EW,(0,i.Sn)("design:type",Object),(0,i.Sn)("design:paramtypes",[])],d.prototype,"description",null),(0,i.Cg)([s.EW,(0,i.Sn)("design:type",Object),(0,i.Sn)("design:paramtypes",[])],d.prototype,"releaseDate",null),(0,i.Cg)([s.EW,(0,i.Sn)("design:type",Object),(0,i.Sn)("design:paramtypes",[])],d.prototype,"isListened",null),(0,i.Cg)([s.XI,(0,i.Sn)("design:type",Function),(0,i.Sn)("design:paramtypes",[]),(0,i.Sn)("design:returntype",Promise)],d.prototype,"markAsListened",null)},72039:(e,t,n)=>{n.d(t,{J:()=>l});var i=n(113570),s=n(320366),o=n(606770),r=n(328545),a=n(684574);const d={h:50,f:100,d:120,b:240,e:160,c:320,a:640,x:1400};function p(e,t){const n=[];let i,s,o;if(!e||!e.sizes)return null;i=e.sizes;for(const{src:e,url:t,type:r}of i)s=e||t,o=d[r],(0,a.E)(o)&&s&&n.push({src:s,width:o,height:o});return{sizes:n,mainColor:t}}function g(e,t){const{podcast_info:{cover:n,restriction_button:s,is_donut:o}={},main_color:a}=t;return{...(0,i.EY)(t),type:e,identity:(0,r.m)(t),duration:t.duration,cover:p(n,a),isDonatorsExclusive:o??!1,restrictionActionRawData:s,apiAudio:t}}function l(e){const{date:t,podcast_info:{description:n}={}}=e;return{...g(s.h.PodcastEpisode,e),description:n,releaseDate:t?(0,o.E)(t):null,apiAudio:e}}},328545:(e,t,n)=>{n.d(t,{m:()=>s});var i=n(799609);function s(e){const t=(0,i.z)(e);return{...t,podcastId:t.ownerId}}}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/86602.2d26b071.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/86602.2d26b071.js",e),e}