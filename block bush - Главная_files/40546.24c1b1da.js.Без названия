try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[40546],{577155:(e,t,s)=>{s.d(t,{t:()=>c});var i=s(221020),r=s(356035),n=s(187233),o=s(982444),a=s(704620);const c=(0,r.P)((function({items:e,block:t,ItemComponent:s,spacingByDataType:r={},paddingTopByDataType:c={},paddingBottomByDataType:l={},horizontalPaddingByDataType:d={}}){const h=r[t.data.data_type]??0,u=c[t.data.data_type]??0,g=l[t.data.data_type]??0,p=d[t.data.data_type]??0;return h?(0,i.Y)(i.FK,{children:(0,i.Y)(n.i,{mode:"vertical",spacing:p,paddingTop:u,paddingBottom:g,children:(0,i.Y)(a.f,{"data-testid":`list_${t.data.data_type}`,spacing:h,children:e.map(((e,r)=>(0,i.Y)(s,{...e,index:r,block:t},e.id)))})})}):(0,i.FD)(n.i,{mode:"vertical",spacing:p,paddingTop:u,paddingBottom:g,"data-testid":`list_${t.data.data_type}`,children:[e.map(((e,r)=>(0,i.Y)(s,{...e,index:r,block:t},e.id))),Boolean(g)&&(0,i.Y)(o.K,{size:g})]})}))},588749:(e,t,s)=>{s.d(t,{M:()=>i});const i=e=>Boolean(e.is_esia_verified||e.is_sber_verified||e.is_tinkoff_verified)},453403:(e,t,s)=>{s.d(t,{j:()=>o});var i=s(221020),r=s(962644),n=s(354531);const o=({badgeHeight:e=12})=>{const t=(e=>e/5)(e);return(0,i.Y)(r.h,{placement:"bottom",centered:!0,zIndex:2,style:{bottom:-1*t+"px"},children:(0,i.Y)(n.C,{style:{height:e,width:"auto"}})})}},530620:(e,t,s)=>{s.d(t,{G:()=>S});var i=s(221020),r=s(180329),n=s(638945),o=s(423654),a=s(56471),c=s(982444),l=s(525715),d=s(532795),h=s(295227),u=s(482199),g=s(772812),p=s(946918),_=s(634164),m=s(828352);const f="BusinessMarkData__icon--EOyrW",v="BusinessMark__link--pshF5",S=({hasLegacyStyles:e,tooltipPlacement:t="right",...s})=>{const S=(({trustMark:e,iconSize:t=20,iconClassName:s,hasLegacyStyles:r})=>{const n=(0,p.B)();if(e===m.dj.PREMIUM){const e=20===t?l.N:d.e;return{tooltipText:n.getLang("groups_main_premium_mark_tooltip_text"),icon:(0,i.Y)(e,{className:(0,_.$)((0,g.I)("color_icon_accent"),r?f:s),"data-testid":"trust_mark_premium"}),iconText:n.getLang("groups_main_premium_mark_text"),href:"/@business-otmetky-dlya-biznesa?anchor=otmetka-premium-biznes",linkText:n.getLang("groups_main_marks_tooltip_link_text"),tooltipMaxWidth:288}}if(e===m.dj.CONFIRMED){const e=20===t?h.Q:u.T;return{tooltipText:n.getLang("groups_main_confirmed_mark_tooltip_text"),icon:(0,i.Y)(e,{className:(0,_.$)((0,g.I)("color_icon_secondary"),r?f:s),"data-testid":"trust_mark_confirmed"}),iconText:n.getLang("groups_main_confirmed_mark_text"),href:"/@business-otmetky-dlya-biznesa?anchor=otmetka-podtverzhd-nny-biznes",linkText:n.getLang("groups_main_marks_tooltip_link_text"),tooltipMaxWidth:237}}return null})({hasLegacyStyles:e,...s});if(!S)return null;const k=(0,i.FD)(r.s,{gap:4,children:[(0,i.Y)(n.tW,{children:S.tooltipText}),(0,i.Y)(o.N,{href:S.href,target:"_blank","data-testid":"business_mark_details_link",children:(0,i.Y)(n.tW,{weight:"2",children:S.linkText})})]});return(0,i.Y)(a.f,{enableInteractive:!0,placement:t,text:k,arrowHeight:4,maxWidth:S.tooltipMaxWidth,appearance:"neutral",children:e?(0,i.Y)(n.hE,{level:"2",inline:!0,children:(0,i.FD)(o.N,{"aria-label":S.iconText,hasActive:!1,hasHover:!1,className:v,children:[(0,i.Y)(c.K,{mode:"vertical",size:2}),S.icon]})}):(0,i.Y)(o.N,{"aria-label":S.iconText,hasActive:!1,hasHover:!1,children:S.icon})})}},838772:(e,t,s)=>{s.d(t,{p:()=>m});var i=s(221020),r=s(800687),n=s(982444),o=s(423654),a=s(56471),c=s(638945),l=s(799649),d=s(772812),h=s(482199),u=s(946918),g=s(588749);const p="/verify",_="/account?open_page=verifications&flow_service=trusted_profile",m=e=>{const t=(0,u.B)(),s=e.clickable,m=e.owner,f="group"===m,v="user"===m?e.profile:null,S="group"===m?e.group:null,k=Boolean(v?.verified||S?.verified),b=Boolean(v&&!v.verified&&(0,g.M)(v));if(!k&&!b)return null;const E=f?{checkMarkLabel:t.getLang("groups_verified_header"),checkMarkUrl:p,tooltipTitle:t.getLang("groups_verified_header"),tooltipBody:(0,i.Y)(r.I,{allowedHTML:{a:["href"],br:!0},children:t.getLang("groups_verified_text")})}:{checkMarkLabel:b?t.getLang("search_esia_verified_detail"):t.getLang("search_verified_detail"),checkMarkUrl:b?_:p,tooltipTitle:b?t.getLang("search_esia_verified_header"):t.getLang("search_verified_header"),tooltipBody:(0,i.FD)(i.FK,{children:[t.langReplace(b?t.getLang("search_esia_verified_tooltip"):t.getLang("search_verified_text"),{name_genitive:v?.first_name_gen??""}),(0,i.Y)(n.K,{size:2}),(0,i.Y)(o.N,{href:b?_:"/blog/verification",children:b?t.getLang("search_esia_verified_detail"):t.getLang("search_verified_detail")})]})};return(0,i.Y)(a.f,{placement:"top",enableInteractive:!0,appearance:"neutral",maxWidth:260,title:E.tooltipTitle,description:(0,i.FD)(i.FK,{children:[(0,i.Y)(n.K,{size:4}),(0,i.Y)(c.EY,{children:E.tooltipBody})]}),children:(0,i.Y)(l.K,{noPadding:!0,hasHover:!1,hasActive:!1,label:E.checkMarkLabel,href:s?E.checkMarkUrl:void 0,className:(0,d.I)(b?"color_icon_secondary":"color_icon_accent"),children:(0,i.Y)(h.T,{})})})}},179537:(e,t,s)=>{s.d(t,{bA:()=>b,eF:()=>k});var i=s(331635),r=s(327813),n=s(626692),o=s(369278),a=s(232448),c=s(782405),l=s(725308),d=s(42107),h=s(273193),u=s(916533),g=s(645189),p=s(345482),_=s(2096),m=s(917128),f=s(191196),v=s(485983);class S{get isAnonymous(){return!this.authService.isAuthorized}get groupId(){return this.props.current.item.id}get friends(){const{friends:e,block:t}=this.props.current;return e?.preview_profiles||e?.preview.map((e=>t.providers.profiles.get(e))).filter((e=>Boolean(e)))||[]}get shouldDisplayLeaveGroupButton(){const{hasPendingJoinRequest:e,groupsSubscribeService:t}=this;return t.getIsJoinedGroup(this.groupId)||e}get hasLiveBadge(){const{item:e}=this.props.current;if(!this.userEnv.partConfigEnabled("video_search_group_live_badge"))return!1;const t=e.video_lives_data;return!!t&&(t.has_badge&&"base_live"===t.badge_type)}get privateGroupDescriptor(){return this.isClosed?this.isEvent?this.langs.getLang("groups_closed_event"):this.langs.getLang("groups_closed_group"):this.isPrivate?this.isEvent?this.langs.getLang("groups_private_event"):this.langs.getLang("groups_private_group"):null}get joinLeaveButtonText(){return this.isMember?this.isEvent?this.langs.getLang("search_joined_event_group_btn"):this.langs.getLang("search_joined_group_btn"):this.isClosed?this.isMemberOrSentRequest?this.langs.getLang("groups_cancel_application"):this.langs.getLang("groups_apply"):this.isEvent?this.langs.getLang("search_join_event_group_btn"):this.langs.getLang("search_join_group_btn")}get isEvent(){const{item:e}=this.props.current;return"event"===e.type}get isOpen(){const{item:e}=this.props.current;return e.is_closed===c.x.OPEN}get isClosed(){const{item:e}=this.props.current;return e.is_closed===c.x.CLOSED}get isPrivate(){const{item:e}=this.props.current;return e.is_closed===c.x.PRIVATE}get loading(){return!!this.authService.isAuthorized&&(this.groupsSubscribeService.getIsLoading(this.groupId)||this.groupsFavoriteService.getIsLoading(this.groupId)||this.groupsWallSubscribeService.getIsLoading(this.groupId))}get isMember(){return!this.isAnonymous&&this.groupsSubscribeService.getIsMember(this.groupId)}get isMemberOrSentRequest(){return!this.isAnonymous&&this.groupsSubscribeService.getIsMemberOrSentRequest(this.groupId)}get hasPendingJoinRequest(){return this.isMemberOrSentRequest&&!this.isMember}addToRecent(){this.searchApi.addRecents({owner_ids:String(l.z.convertGroupIdToOwnerId(this.groupId))})}leaveClosedGroup(){const{item:e,trackCode:t}=this.props.current;(0,m.NL)(this.langs.getLang("global_warning"),e.is_admin?this.langs.getLang("groups_catalog_leave_confirm_text_admin"):this.langs.getLang("groups_catalog_leave_confirm_text"),this.langs.getLang("groups_unsubscribe"),(()=>{(0,_.kI)().hide(),this.groupsSubscribeService.leave({group_id:this.groupId,track_code:t})}),this.langs.getLang("global_cancel"))}async leaveClosedGroupNewFastBox(){const{item:e,trackCode:t}=this.props.current;await this.dialogsService.fastMessage({title:this.langs.getLang("global_warning"),text:e.is_admin?this.langs.getLang("groups_catalog_leave_confirm_text_admin"):this.langs.getLang("groups_catalog_leave_confirm_text"),yesButtonLabel:this.langs.getLang("groups_unsubscribe"),noButtonLabel:this.langs.getLang("global_cancel")})&&await this.groupsSubscribeService.leave({group_id:this.groupId,track_code:t})}constructor(e,t,s,i,n,o,a,c,l){this.props=e,this.langs=t,this.authService=s,this.userEnv=i,this.searchApi=n,this.groupsSubscribeService=o,this.groupsFavoriteService=a,this.groupsWallSubscribeService=c,this.dialogsService=l,this.toggleMembership=()=>{const{item:e,trackCode:t,onLeaveClick:s,onJoinClick:i}=this.props.current;if(this.isMemberOrSentRequest){if(s?.(e,t),this.isMember&&(this.isClosed||this.isPrivate))return this.userEnv.partConfigEnabled("search_catalog_leaving_private_group_new_fast_box")?void this.leaveClosedGroupNewFastBox():void this.leaveClosedGroup();this.groupsSubscribeService.leave({group_id:this.groupId,track_code:t})}else i?.(e,t),this.groupsSubscribeService.join({group_id:this.groupId,track_code:t})},this.toggleFavorite=()=>{const{item:e,trackCode:t,onUnfaveClick:s,onFaveClick:i}=this.props.current;this.groupsFavoriteService.getIsFavorite(this.groupId)?(s?.(e,t),this.groupsFavoriteService.remove(this.groupId)):(i?.(e,t),this.groupsFavoriteService.add({group_id:this.groupId}))},this.toggleSubscription=()=>{const{item:e,trackCode:t,onNotifyClick:s,onUnnotifyClick:i}=this.props.current;this.groupsWallSubscribeService.getIsSubscribed(this.groupId)?(i?.(e,t),this.groupsWallSubscribeService.unsubscribe(this.groupId)):(s?.(e,t),this.groupsWallSubscribeService.subscribe(this.groupId))},this.onItemClick=()=>{const{item:e,trackCode:t,onItemClick:s}=this.props.current;s?.(e,t),this.addToRecent()},this.openChatWithGroup=()=>{const{item:e,trackCode:t,onChatClick:s}=this.props.current;this.isMember&&e.can_message&&(s?.(e,t),(0,v.f)(-this.groupId,"global_search"))},(0,r.l_)(this)}}S=(0,i.Cg)([d.z8.transient(),(0,i.Sn)("design:type",Function),(0,i.Sn)("design:paramtypes",[void 0===d.Ji?Object:d.Ji,void 0===h.Y?Object:h.Y,void 0===u.u?Object:u.u,void 0===g.J?Object:g.J,void 0===p.J?Object:p.J,void 0===n.Y?Object:n.Y,void 0===o.S?Object:o.S,void 0===a.s?Object:a.s,void 0===f.M?Object:f.M])],S);const{Provider:k,useModel:b}=(0,d.Qd)(S,{initInEffect:!1})},485983:(e,t,s)=>{s.d(t,{f:()=>n});var i=s(740451);const r=()=>Boolean("function"==typeof window?.reforgedME?.selectPeer&&document.querySelector(".FCApp"));function n(e,t){"undefined"!=typeof window?r()?window.reforgedME?.selectPeer?.(e,t):window.nav.go((0,i.P)(e),null,{params:{entrypoint:t}}):console.error("Not supported by this platform")}},600106:(e,t,s)=>{s.d(t,{a:()=>ne});var i=s(221020),r=s(356035),n=s(42107),o=s(939531),a=s(665473),c=s(865940),l=s(187233),d=s(331635),h=s(327813),u=s(486526),g=s(736819),p=s(830443),_=s(705307),m=s(696136);var f=s(928959);class v{update(e){e&&(this.count=e,this.setSelectedIndex(null))}enable(){document.addEventListener("keydown",this.onKeyDown,!0)}disable(){document.removeEventListener("keydown",this.onKeyDown,!0)}constructor(e,t,s){this.onSelect=e,this.withAutoComplete=t,this.checkHasAutocomplete=s,this.count=0,this.selectedIndex=null,this.byKeyboard=!1,this.setSelectedIndex=e=>{this.byKeyboard=!1,this.selectedIndex=e},this.onKeyDown=e=>{switch(e.key){case"ArrowDown":(0,f.T)(e),this.selectedIndex=((this.selectedIndex??-1)+1)%this.count;break;case"ArrowUp":(0,f.T)(e),this.selectedIndex=((this.selectedIndex??0)-1+this.count)%this.count;break;case"ArrowRight":this.withAutoComplete&&this.checkHasAutocomplete()&&(this.selectedIndex=0);break;default:return}this.byKeyboard=!0,this.onSelect(this.selectedIndex)},(0,h.l_)(this)}}let S=n.Ts,k=n.zr;class b{[S](){this.reactions.reaction((()=>this.suggestions),(e=>this.selection.update(e.length))),this.props.current.perfStatsEnabled&&this.reactions.reaction((()=>this.suggestions),(e=>{e.length>0&&(this.searchPerfStatAnalytics.setTimestamp(_.RU.SCREEN_TIMELINE,this.query?_.h5.SUGGESTER_QUERY_CHANGE:_.h5.SUGGESTER_OPEN,_.rI.CONTENT_MARK,performance.now(),!0),this.searchPerfStatAnalytics.setTimestamp(_.RU.UI_RESPONSIVENESS,this.query?_.h5.SUGGESTER_QUERY_CHANGE:_.h5.SUGGESTER_OPEN,_.rI.CONTENT_MARK,performance.now()))}))}[k](){this.reactions.dispose(),this.selection.disable()}get activeSection(){return this.catalog?.activeSection??null}get shown(){return this._shown&&this.suggestions.length>0}get maxHeight(){const{maxLines:e,maxHeight:t}=this.props.current;return e?b.HEADER_HEIGHT+2*b.VERTICAL_PADDING+b.SUGGESTION_HEIGHT*e:t}get autocompleteStyles(){const{offsetByMainAxis:e=0,offsetByCrossAxis:t=0,autocompleteOffsetByMainAxis:s=23.5,autocompleteOffsetByCrossAxis:i=36}=this.props.current;return{fontSize:this.fontSize||void 0,top:`-${s+e}px`,left:`${i+t}px`}}get autocompleteSuggest(){return this.query&&!this.inUpdate&&this.suggestions[0]?this.suggestions[0]:null}get suggestions(){const e=this.activeSection;return e?e.blocks.flatMap((e=>{const t=(e=>{switch(e.data_type){case"search_suggestions":return e.suggestions_ids??[];case"catalog_search_suggestion":return e.search_suggestions_ids??[];default:return[]}})(e.data);return t.map((t=>e.providers.suggestions?.get(t)||e.providers.search_suggestions?.get(t))).filter((e=>Boolean(e)))})):[]}get selectedSuggestion(){return null===this.selection.selectedIndex?null:this.suggestions[this.selection.selectedIndex]}constructor(e,t){this.props=e,this.searchPerfStatAnalytics=t,this._shown=!1,this.params=null,this.inUpdate=!1,this.isFocused=!1,this.fontSize=null,this.catalog=null,this.controller=null,this.query="",this.suggestQuery=null,this.reactions=new p.O,this.onShownChange=e=>{e||this.setShown(!1)},this.hideSuggester=()=>this.setShown(!1),this.onKeyDown=e=>{"Enter"===e.key&&this.setShown(!1)},this.onSuggestionsRender=()=>{this.props.current.perfStatsEnabled&&(this.searchPerfStatAnalytics.setTimestamp(_.RU.UI_RESPONSIVENESS,this.query?_.h5.SUGGESTER_QUERY_CHANGE:_.h5.SUGGESTER_OPEN,_.rI.LCP_FCP_MARK,performance.now()),setTimeout((()=>this.searchPerfStatAnalytics.setTimestamp(_.RU.UI_RESPONSIVENESS,this.query?_.h5.SUGGESTER_QUERY_CHANGE:_.h5.SUGGESTER_OPEN,_.rI.LCP_TTI_MARK,performance.now(),!0)),0))},this.search=e=>{const{searchBySuggestion:t}=this.props.current;this.setShown(!1),this.catalog=null,this.query=e.query,t(e)},this.onFocusSearchInput=e=>{this.isFocused=!0,this.query=e.target.value,this.query||this.suggestions.length||!this.props.current.perfStatsEnabled||(this.searchPerfStatAnalytics.setTimestamp(_.RU.SCREEN_TIMELINE,_.h5.SUGGESTER_OPEN,_.rI.INIT_MARK,performance.now()),this.searchPerfStatAnalytics.setTimestamp(_.RU.UI_RESPONSIVENESS,_.h5.SUGGESTER_OPEN,_.rI.START_MARK,performance.now())),this.fontSize||(this.fontSize=window.getComputedStyle(e.target).getPropertyValue("font-size")),this.shown||this.fetchCatalog({query:this.query,reason:"focus"})},this.onBlurSearchInput=()=>{this.isFocused=!1,this.onSelect(null),this.controller?.abort()},this.updateSuggestions=()=>this.fetchCatalog({query:this.query},!0),this.onInputChange=e=>{if(!this.isFocused)return;const t=e.currentTarget.value;this.query!==t&&(this.query=t,this.inUpdate=!0,this.onSelect(null),this.onChangeDebounced(this.query),this.selection.setSelectedIndex(null))},this.checkHasAutocomplete=()=>Boolean(this.autocompleteSuggest&&!this.suggestQuery),this.setShown=e=>{e||this.controller?.abort(),e!==this._shown&&(this._shown=e,e?this.selection.enable():this.selection.disable())},this.onSelect=e=>{this.suggestQuery=null===e?null:this.suggestions[e]?.title??null},this.onChange=e=>{this.props.current.perfStatsEnabled&&(this.searchPerfStatAnalytics.setTimestamp(_.RU.SCREEN_TIMELINE,_.h5.SUGGESTER_QUERY_CHANGE,_.rI.INIT_MARK,performance.now()),this.searchPerfStatAnalytics.setTimestamp(_.RU.UI_RESPONSIVENESS,_.h5.SUGGESTER_QUERY_CHANGE,_.rI.START_MARK,performance.now())),this.fetchCatalog({query:e})},this.onChangeDebounced=(0,u.s)(this.onChange,b.DEBOUNCE_TIME_SUGGESTER),this.fetchCatalog=async(e,t=!1,s=new AbortController)=>{const{withEmptyQuery:i,isFetching:r,fetchSuggestions:n}=this.props.current;if(e.query=e.query.trimStart(),r||!e.query&&!i||!t&&!e.query&&"focus"===i&&"focus"!==e.reason)this.setShown(!1);else if(t||!(0,g.n)(e,this.params)){this.params=e,this.controller?.abort(),this.controller=s;try{this.props.current.perfStatsEnabled&&this.searchPerfStatAnalytics.setTimestamp(_.RU.SCREEN_TIMELINE,e.query?_.h5.SUGGESTER_QUERY_CHANGE:_.h5.SUGGESTER_OPEN,_.rI.DATA_LOAD_START_MARK,performance.now());const t=await n(e,{signal:s.signal});t&&(this.props.current.perfStatsEnabled&&this.searchPerfStatAnalytics.setTimestamp(_.RU.SCREEN_TIMELINE,e.query?_.h5.SUGGESTER_QUERY_CHANGE:_.h5.SUGGESTER_OPEN,_.rI.DATA_LOADED_MARK,performance.now()),(0,h.h5)((()=>{this.catalog=t,this.controller=null,this.setShown(!0),this.inUpdate=!1})))}catch(e){(0,m.E)(e.error)||(0,h.h5)((()=>{this.catalog=null,this.controller=null,this.setShown(!1),this.inUpdate=!1}))}}else this.catalog&&this.setShown(!0)};const{withAutoComplete:s}=this.props.current;this.selection=new v(this.onSelect,s??!1,this.checkHasAutocomplete),(0,h.l_)(this)}}b.SUGGESTION_HEIGHT=36,b.HEADER_HEIGHT=37,b.VERTICAL_PADDING=4,b.DEBOUNCE_TIME_SUGGESTER=220,b=(0,d.Cg)([n.z8.transient(),(0,d.Sn)("design:type",Function),(0,d.Sn)("design:paramtypes",[void 0===n.Ji?Object:n.Ji,void 0===_.uE?Object:_.uE])],b);const{Provider:E,useModel:y}=(0,n.Qd)(b,{initInEffect:!1}),T="AutocompleteSuggestion__hidden--Scg4H",I="AutocompleteSuggestion__autocomplete--9PvIs",R=(0,r.P)((function(){const e=y(),{query:t,autocompleteStyles:s,autocompleteSuggest:r,suggestQuery:n}=e;return!r||n?null:(0,i.FD)("div",{style:s,id:"autocompleteSuggest",className:I,children:[(0,i.Y)("span",{className:T,children:t}),r.title?.substring(t.length)]})}));var C=s(195649),w=s(577155),L=s(739772),M=s(685441);const A=(0,r.P)((function({block:e}){return(0,i.Y)(M.Y,{size:"large",mode:"tertiary",children:e.data.layout.title})}));var N=s(748805),x=s(377399),Y=s(850013),P=s(793694),G=s(815287),U=s(962514),F=s(946918),O=s(89736),B=s(662087),D=s(380977),z=s(292184),H=s(772812),K=s(982444),q=s(799649),j=s(463882),Q=s(345482);class V{get isRecent(){const{item:e}=this.props.current;return"recent"===e.type}get title(){const{item:e,query:t}=this.props.current;return e.title&&t?e.title.split(new RegExp(`(${(0,j.N)(t)})`,"gi")).map(((e,t)=>t%2?(0,i.Y)("b",{children:e},t):(0,i.Y)(G.Fragment,{children:e},t))):e.title}constructor(e,t){this.props=e,this.searchApi=t,this.onClick=()=>{const{item:e,onClick:t}=this.props.current;t(e)},this.removeRecent=async e=>{const{index:t,item:s,trackCode:i,block:r,onAfterRemove:n}=this.props.current;(0,f.T)(e);const o=r.data.suggestions_ids??r.data.search_suggestions_ids;o&&o.splice(t,1),await this.searchApi.removeSearchRecentQuery({item_id:s.id,track_code:i}),n?.(s)},(0,h.l_)(this)}}V=(0,d.Cg)([n.z8.transient(),(0,d.Sn)("design:type",Function),(0,d.Sn)("design:paramtypes",[void 0===n.Ji?Object:n.Ji,void 0===Q.J?Object:Q.J])],V);const{Provider:W,useModel:J}=(0,n.Qd)(V,{initInEffect:!1,isolatedContext:!1,onlyTransient:!0}),$=(0,r.P)((function(){const e=(0,F.B)(),t=J(),{isRecent:s,title:r,onClick:n,removeRecent:o}=t,{item:a,getRootRef:c,selected:d,onPointerEnter:h,onPointerLeave:u,maxHeight:g}=t.props.current;return(0,G.useLayoutEffect)((()=>{if(!d)return;const e=e=>{"Enter"===e.key&&((0,f.T)(e),n())};return document.addEventListener("keydown",e,!0),()=>document.removeEventListener("keydown",e,!0)}),[d]),r?(0,i.Y)(z.T,{id:a.id,role:"option",autoFocus:!1,onClick:n,hovered:d,hasHover:d,maxHeight:g,getRootRef:c,"data-testid":"search_suggestion",onPointerEnter:h,onPointerLeave:u,before:(0,i.FD)(i.FK,{children:[s?(0,i.Y)(O.r,{className:(0,H.I)("color_icon_secondary")}):(0,i.Y)(B.I,{className:(0,H.I)("color_icon_secondary")}),(0,i.Y)(K.K,{mode:"vertical",size:4})]}),after:s&&(0,i.Y)(l.i,{mode:"horizontal",spacing:0,children:(0,i.Y)(q.K,{size:32,onClick:o,label:e.getLang("search_web_video_suggester_delete_action"),children:(0,i.Y)(D.Y,{className:(0,H.I)("color_icon_secondary")})})}),children:r}):null})),Z=(0,n.jn)(W,$),X=(0,r.P)((function({onItemClick:e,onRemoveRecentClick:t,...s}){const{trackCode:r,item:n,getRootRef:o}=s,a=(0,U.Z)(o),c=y(),{selectedIndex:l,byKeyboard:d,setSelectedIndex:h}=c.selection,{query:u,suggestions:g,maxHeight:p,search:_,updateSuggestions:m}=c,f=(0,G.useMemo)((()=>g.findIndex((e=>e.id===n.id))),[g]),v=l===f,S=(0,G.useCallback)((t=>{const{title:s,context:i}=t;e?.(t,r),s&&_({query:s,context:i,trackCode:r})}),[]),k=(0,G.useCallback)((e=>{t?.(e,r),m()}),[]),E=(0,G.useCallback)((()=>h(f)),[f]),T=(0,G.useCallback)((()=>h(null)),[]);return(0,G.useEffect)((()=>{p&&d&&v&&a.current?.scrollIntoView({block:"center",behavior:"smooth"})}),[p,v,d]),(0,i.Y)(Z,{...s,query:u,getRootRef:a,selected:v,onClick:S,onPointerEnter:E,onPointerLeave:T,onAfterRemove:k,maxHeight:b.SUGGESTION_HEIGHT})})),ee=(0,N.p)(X,{getTrackCode:e=>e.track_code,onItemView:(e,t)=>P.bT.logEvent({track_code:t,type:x.k.SEARCH_SUGGESTION})},{onItemClick:(e,t)=>P.NT.logEvent({track_code:t,action:Y.LB.TAP,type:x.k.SEARCH_SUGGESTION}),onRemoveRecentClick:(e,t)=>P.NT.logEvent({track_code:t,type:x.k.SEARCH_SUGGESTION,action:Y.LB.REMOVE_RECENT})}),te=(0,C.t)(w.t,{},(e=>{switch(e.data.data_type){case"catalog_search_suggestion":case"search_suggestions":return ee;case"groups_items":return L.N;default:return null}})),se=e=>{switch(e.data.layout.name){case"list":return te;case"header":return A;default:return()=>null}},ie="search_suggester_listbox",re=(0,r.P)((function(){const e=y(),{shown:t,maxHeight:s,suggestQuery:r,activeSection:n,selectedSuggestion:d,onKeyDown:h,onShownChange:u,onInputChange:g,hideSuggester:p,onBlurSearchInput:_,onFocusSearchInput:m,onSuggestionsRender:f}=e,{zIndex:v=1,width:S,padding:k,withAutoComplete:b,offsetByMainAxis:E,offsetByCrossAxis:T,renderSearchInput:I}=e.props.current,[C,w]=(0,a.L)();return(0,i.Y)(c.v,{role:"listbox",id:ie,shown:t,zIndex:v,trigger:"manual",autoFocus:!1,sameWidth:!S,restoreFocus:!1,disableFlipMiddleware:!0,padding:k??"s",placement:"bottom-start",onShownChange:u,offsetByMainAxis:E,offsetByCrossAxis:T,...s?{width:S??w.width,maxHeight:s}:{width:S},content:(0,i.FD)(i.FK,{children:[b&&(0,i.Y)(R,{}),(0,i.Y)(l.i,{mode:"vertical",spacing:4,paddingTop:0,paddingBottom:0,children:(0,i.Y)(o.E,{section:n,blockLayoutResolver:se,onRender:f})})]}),children:I({onInput:g,onKeyDownCapture:h,onFindButtonClick:p,onBlurCapture:_,onFocusCapture:m,getRootRef:s?C:null,role:"combobox","aria-controls":ie,"aria-activedescendant":d?.id,"aria-autocomplete":b?"both":"list"},r,p)})})),ne=(0,n.jn)(E,re)},739772:(e,t,s)=>{s.d(t,{N:()=>Q});var i=s(748805),r=s(377399),n=s(850013),o=s(931198),a=s(793694),c=s(221020),l=s(356035),d=s(401623),h=s(876126),u=s(880414),g=s(638945),p=s(180329),_=s(423654),m=s(42107),f=s(331503),v=s(453403),S=s(657842),k=s(786936),b=s(971711),E=s(168325),y=s(845794),T=s(141575),I=s(946918),R=s(409698),C=s(865940),w=s(799649),L=s(772812),M=s(179537);const A=(0,l.P)((function(){const e=(0,I.B)(),t=(0,M.bA)(),{shouldDisplayLeaveGroupButton:s,loading:i,isMember:r,isAnonymous:n,isPrivate:o,isClosed:a,onItemClick:l,toggleFavorite:d,toggleMembership:h,toggleSubscription:u,joinLeaveButtonText:g}=t,{item:p,href:_}=t.props.current,m="event"===p.type,f=Boolean(p.ban_info),v=Boolean(p.deactivated);if(n)return _?(0,c.Y)(R.$,{minWidth:134,mode:"secondary",href:_,onClick:l,"data-testid":"desktop_group_item_button",children:e.getLang("groups_open_from_search")}):null;if(f||v||o&&!r||a&&m)return null;return!r||s&&r?(0,c.Y)(R.$,{minWidth:134,mode:"secondary",loading:i,disabled:i,onClick:h,"data-testid":"desktop_group_item_button",children:g}):(0,c.Y)(C.v,{restoreFocus:!1,placement:"bottom-end",content:[(0,c.Y)(C.v.Item,{disabled:i,onClick:d,before:p.is_favorite?(0,c.Y)(S.Z,{}):(0,c.Y)(k.U,{}),children:p.is_favorite?e.getLang("search_unfave_group_action"):e.getLang("search_fave_group_action")},"fave"),(0,c.Y)(C.v.Item,{disabled:i,onClick:u,before:p.is_subscribed?(0,c.Y)(b.u,{}):(0,c.Y)(E.z,{}),children:p.is_subscribed?e.getLang("search_turn_off_notifications_group_action"):e.getLang("search_turn_on_notifications_group_action")},"subscribe"),(0,c.Y)(C.v.Item,{type:"destructive",disabled:i,onClick:h,before:(0,c.Y)(y.v,{}),children:m?e.getLang("search_leave_event_group_action"):e.getLang("search_leave_group_action")},"leave")],children:(0,c.Y)(w.K,{size:40,"data-testid":"desktop_group_item_button",label:e.getLang("global_more"),children:(0,c.Y)(T.z,{className:(0,L.I)("color_icon_secondary")})})})}));var N=s(418356),x=s(165051),Y=s(355812);const P=(0,l.P)((function(e){const{userStackSize:t="m"}=e,s=(0,I.B)(),i=(0,M.bA)(),{friends:r}=i,{item:n}=i.props.current,o=i.props.current.friends?.count||r.length;if(!o)return n.members_count_text?(0,c.Y)(u.b,{lines:1,children:(0,c.Y)(g.EY,{weight:"3",className:(0,L.I)("color_text_secondary"),children:n.members_count_text})}):null;return(0,c.Y)(N.f,{size:t,photos:r.slice(0,2).map((e=>e.photo_50||"")),children:(0,c.Y)(u.b,{lines:1,children:(0,c.FD)(x.r,{separator:(0,c.Y)(Y.O,{spacing:4}),children:[(()=>{const[e="",t=""]=r.map((e=>e.first_name));switch(o){case 0:return"";case 1:return e;case 2:return s.langReplace(s.getLang("mobile_search_friends_in_group_and"),{first_user:e,second_user:t});default:return s.numeric(o,s.getLang("mobile_search_friends_in_group",!0))}})(),n.members_count_text]})})})}));var G=s(684273),U=s(982444);const F=()=>{const e=(0,I.B)();return(0,c.FD)(p.s,{align:"center",className:(0,L.I)("color_text_secondary"),children:[(0,c.Y)(G.b,{}),(0,c.Y)(U.K,{mode:"vertical",size:5}),(0,c.Y)(g.EY,{weight:"2",children:e.getLang("search_search_government_label")})]})};var O=s(530620),B=s(838772);const D=(0,l.P)((function(){const e=(0,M.bA)(),{item:t}=e.props.current;return t.verified?(0,c.FD)(c.FK,{children:[(0,c.Y)(U.K,{mode:"vertical",size:4}),(0,c.Y)(B.p,{clickable:!0,owner:"group",group:t})]}):t.trust_mark?(0,c.Y)(O.G,{trustMark:t.trust_mark,iconSize:16,tooltipPlacement:"top"}):null})),z=(0,l.P)((function(){const e=(0,M.bA)(),{onItemClick:t,hasLiveBadge:s}=e,{item:i,getRootRef:r,href:n,city:o,description:a}=e.props.current,l=o||a||i.activity;return(0,c.Y)(d.z,{after:(0,c.Y)(A,{}),afterAlign:"center",beforeAlign:"center",contentAlign:"center",getRootRef:r,bottom:(0,c.Y)(P,{}),"data-testid":"group_item_desktop_list",before:(0,c.Y)(h.g,{...f.Lq,size:80,href:n,alt:i.name,"aria-label":i.name,onClick:t,nft:i.is_nft_photo,src:i.photo_200||i.photo_100||i.photo_50,children:s&&(0,c.Y)(v.j,{badgeHeight:20})}),extraSubtitle:i.is_government_organization?(0,c.Y)(F,{}):l&&(0,c.Y)(u.b,{TypographyComponent:g.tW,lines:1,children:l}),children:(0,c.FD)(p.s,{align:"center",noWrap:!0,children:[(0,c.Y)(_.N,{...f.Lq,href:n,mode:"primary",onClick:t,children:(0,c.Y)(u.b,{TypographyComponent:g.$j,level:"1",weight:"2",lines:1,children:i.name})}),(0,c.Y)(D,{})]})})})),H=(0,m.jn)(M.eF,z),K=(e,t)=>(s,i)=>{a.NT.logEvent({...t,action:e,type:r.k.GROUP,track_code:i})},q={attachTrackCodeToUrl:!0,getUrl:e=>(0,o.D)(e),getTrackCode:(e,t)=>t.track_code,onItemView:(e,t)=>a.bT.logEvent({track_code:t,type:r.k.GROUP})},j={onItemClick:K(n.LB.TAP),onJoinClick:K(n.LB.JOIN_GROUP),onLeaveClick:K(n.LB.LEAVE_GROUP),onFaveClick:K(n.LB.FAVE),onUnfaveClick:K(n.LB.UNFAVE),onNotifyClick:K(n.LB.NOTIFY),onUnnotifyClick:K(n.LB.UNNOTIFY),onChatClick:K(n.LB.SEND_MESSAGE)},Q=(0,i.p)(H,q,j)},567983:(e,t,s)=>{s.d(t,{U:()=>r});var i=s(447702);const r=()=>new i.i(new i.f({toKey:e=>e.id}))},705307:(e,t,s)=>{s.d(t,{RU:()=>d,h5:()=>l,rI:()=>c,uE:()=>h});var i=s(331635),r=s(327813),n=s(819674),o=s(42107),a=s(56687),c=function(e){return e.FCP_MARK="fcpMark",e.TTI_MARK="ttiMark",e.DATA_LOAD_START_MARK="dataLoadStartMark",e.DATA_LOADED_MARK="dataLoadedMark",e.LCP_FCP_MARK="lcpFcpMark",e.LCP_TTI_MARK="lcpTtiMark",e.INIT_MARK="initMark",e.START_MARK="startMark",e.CONTENT_MARK="contentMark",e}({}),l=function(e){return e.RECOMMENDATIONS="recommendations",e.SUGGESTER_OPEN="suggester_open",e.SUGGESTER_QUERY_CHANGE="suggester_query_change",e.SEARCH_RESULTS="search_results",e.SEARCH_RESULTS_FILTERED="search_results_filtered",e}({}),d=function(e){return e.SCREEN_TIMELINE="screen_timeline",e.UI_RESPONSIVENESS="ui_responsiveness",e}({});class h{getPerformanceCalculationPoint(e){switch(e){case"fcpMark":case"ttiMark":return"startMark";case"lcpFcpMark":case"lcpTtiMark":return"contentMark";default:return null}}constructor(e){this.customStats=e,this.setTimestamp=(e,t,s,i,r)=>{if(["initMark","startMark"].includes(s))return this.perfomanceTimestamp[e][t]?void(this.perfomanceTimestamp[e]={[t]:{[s]:i}}):void(this.perfomanceTimestamp[e][t]={[s]:i});Object.keys(this.perfomanceTimestamp[e]).includes(t)&&(this.savePerformanceTimestamp(s,i,e,t),r&&this.deletePerformanceScenarioAndLogEvent(t,e))},this.logSearchEvent=e=>{const{key:t,scenario:s,sessionUuid:i,firstViewCreatedMark:r,fcpMark:n,ttiMark:o,dataLoadStartMark:a,dataLoadedMark:c,contentMark:l,lcpFcpMark:d,lcpTtiMark:h}=e,u={key:t,value_str2:s,value_str3:i,value_str:"SEARCH_VIDEO_SERVICE",..."screen_timeline"===t?{value:r,value2:o,value3:a,value4:l,value5:c,value6:n}:{value:n,value3:o,value5:d,value6:h}};this.customStats.send({type:"type_dev_null_item",type_dev_null_item:u})},this.savePerformanceTimestamp=(e,t,s,i)=>{const r=this.perfomanceTimestamp[s][i];if(r)if("screen_timeline"===s)this.perfomanceTimestamp[s][i][e]=t-r.initMark;else{const n=this.getPerformanceCalculationPoint(e);this.perfomanceTimestamp[s][i][e]="contentMark"===e?t:t-(n?r[n]:0)}},this.deletePerformanceScenarioAndLogEvent=(e,t)=>{e&&t&&(this.logSearchEvent({key:t,scenario:e,sessionUuid:this.sessionUuid,firstViewCreatedMark:this.perfomanceTimestamp[t][e].startMark,lcpFcpMark:this.perfomanceTimestamp[t][e].lcpFcpMark,lcpTtiMark:this.perfomanceTimestamp[t][e].lcpTtiMark,contentMark:this.perfomanceTimestamp[t][e].contentMark,dataLoadStartMark:this.perfomanceTimestamp[t][e].dataLoadStartMark,dataLoadedMark:this.perfomanceTimestamp[t][e].dataLoadedMark,fcpMark:this.perfomanceTimestamp[t][e].fcpMark,ttiMark:this.perfomanceTimestamp[t][e].ttiMark}),delete this.perfomanceTimestamp[t][e])},this.sessionUuid=(0,n.A)(),this.perfomanceTimestamp={ui_responsiveness:{},screen_timeline:{}},(0,r.l_)(this)}}h.DEBUG_DATA_MAX_LENGTH=1024,h=(0,i.Cg)([o.z8.global(),(0,i.Sn)("design:type",Function),(0,i.Sn)("design:paramtypes",[void 0===a.z?Object:a.z])],h)},345482:(e,t,s)=>{s.d(t,{J:()=>o});var i=s(331635),r=s(42107),n=s(820282);class o extends n.S{get namespace(){return"search"}constructor(...e){super(...e),this.clearRecents=this.makeMethod("clearRecents"),this.addRecents=this.makeMethod("addRecents"),this.getCoowners=this.makeMethod("getCoowners"),this.getHints=this.makeMethod("getHints"),this.getSearchAll=this.makeMethod("getSearchAllWeb2"),this.removeSearchRecentQuery=this.makeMethod("removeSearchRecentQuery"),this.removeVideoSearchRecentQuery=this.makeMethod("removeVideoSearchRecentQuery")}}o=(0,i.Cg)([r.z8.global()],o)},665473:(e,t,s)=>{s.d(t,{L:()=>n});var i=s(483175),r=s(815287);function n(){const[e,t]=(0,r.useState)({width:0,height:0}),[s,n]=(0,r.useState)(null),o=(0,r.useCallback)((()=>{t((e=>{const{offsetHeight:t=0,offsetWidth:i=0}=s||{};return e.height!==t||e.width!==i?{height:t,width:i}:e}))}),[s]),a=(0,i.Y)(o,50);return(0,r.useEffect)((()=>(window.addEventListener("resize",a),window.screen.orientation?.addEventListener("change",a),()=>{window.removeEventListener("resize",a),window.screen.orientation?.removeEventListener("change",a)})),[a]),(0,r.useEffect)(o),[n,e,o]}},939531:(e,t,s)=>{s.d(t,{E:()=>v});var i=s(221020),r=s(356035),n=s(327813),o=s(815287),a=s(982444),c=s(370633),l=s(140094),d=s(700777);const h=(0,r.P)((function({section:e}){const[t,s]=(0,l.Wx)();return(0,o.useEffect)((()=>{if(!s||e.isNextLoading||!e.nextFrom)return;const t=setTimeout((()=>{e.fetchNext()}),200);return()=>clearTimeout(t)}),[s,e.isNextLoading]),e.nextFrom&&(0,i.Y)(d.q,{getRootRef:t,height:42,size:"small"})}));var u=s(725308);const g=(e,t)=>{if(u.z.isUserId(e)){if(!t.profiles)throw new TypeError('Required provider "profiles" is missing');return t.profiles.get(e)}if(!t.groups)throw new TypeError('Required provider "groups" is missing');return t.groups.get(u.z.convertOwnerIdToGroupId(e))},p=(e,t,s=[])=>{const i=e.findIndex((({block:e})=>"separator"===e.data.layout.name&&("island-only"!==t||"island"===e.data.layout.style)));return-1===i?[...s,e]:p(e.slice(i+1),t,[...s,e.slice(0,i)])},_=(e,t,s,i)=>(t??[]).map((t=>{const r=s(t);if(!r)return null;const n=i?.(r);return{id:t,section:e,item:r,owner:n?g(n,e.providers):void 0}})).filter((e=>Boolean(e))),m=(e,t,s,i,r)=>(t??[]).map((t=>{const n=i(t);if(!n)return null;const o=r?.(n);return{...t,section:e,item:n,id:s(t),owner:o?g(o,e.providers):void 0}})).filter((e=>Boolean(e))),f=(e,t)=>{const s=t,{providers:i}=s;function r(e,t){return(...s)=>{const r=e.filter((e=>!i[e]));if(r.length){const t=e.map((e=>JSON.stringify(e))).join(", ");throw new TypeError(1===r.length?`Required provider ${t} is missing`:`Required providers ${t} are missing`)}return t(...s)}}switch(e.data_type){case"groups":return _(s,e.group_ids,r(["groups"],(e=>i.groups.get(e))));case"groups_items":return m(s,e.group_items,(e=>e.id),r(["groups"],(e=>i.groups.get(e.id))));case"catalog_users":return _(s,e.catalog_users_ids,r(["catalog_users"],(e=>i.catalog_users.get(e))),(e=>e.user_id));case"mini_apps":return _(s,e.mini_app_ids,r(["mini_apps"],(e=>i.mini_apps.get(Number(e)))));case"links":return _(s,e.links_ids,r(["links"],(e=>i.links.get(e))));case"videos":case"catalog_videos":return _(s,e.videos_ids,r(["videos"],(e=>i.videos.get(e))),(e=>e.data.owner_id));case"albums":return _(s,e.albums_ids,r(["albums"],(e=>i.albums.get(e))),(e=>e.data.owner_id));case"search_suggestions":return _(s,e.suggestions_ids,(e=>i.search_suggestions?.get(e)||i.suggestions?.get(e)));case"catalog_search_suggestion":return _(s,e.search_suggestions_ids,(e=>i.search_suggestions?.get(e)||i.suggestions?.get(e)));case"search_authors":return m(s,e.search_author_items,(e=>e.id),(e=>g(e.id,i)));case"search_filter":return _(s,e.search_filters_ids,r(["search_filters"],(e=>i.search_filters.get(e))));case"music_audios":return _(s,e.audios_ids,r(["audios"],(e=>i.audios.get(e))));case"music_playlists":return _(s,e.playlists_ids,r(["playlists"],(t=>i.playlists.get({rawId:t,blockId:e.id}))));case"games":return m(s,e.games_items,(e=>e.id),r(["games"],(e=>i.games.get(e.id))));case"market_items":return _(s,e.market_item_ids,r(["market_items"],(e=>i.market_items.get(e))),(e=>e.data.owner_id));case"search_entity_items":return _(s,e.search_entity_ids,r(["search_entity_items"],(e=>i.search_entity_items.get(e))),(e=>e.owner_id));case"placeholder":return _(s,e.placeholder_ids,r(["placeholders"],(e=>i.placeholders.get(e))));case"radiostations":return _(s,e.radio_stations_ids,r(["radio_stations"],(e=>i.radio_stations.get(e))));case"search_spellchecker":return _(s,e.search_spellcheckers_ids,r(["search_spellcheckers"],(e=>i.search_spellcheckers.get(e))));case"stickers_packs":return _(s,e.stickers_pack_ids,r(["stickers_pack_previews"],(e=>i.stickers_pack_previews.get(e))));case"action":return(e.actions??[]).map((e=>({id:e.id??"",item:e,section:s})));case"search_seo_page":return _(s,e.search_seo_pages_ids,r(["search_seo_pages"],(e=>i.search_seo_pages.get(e))));case"newsfeed_items":return _(s,e.newsfeed_item_ids,(e=>i.newsfeed_items.get(e)));case"community_channels":return m(s,e.channel_items,(e=>e.channel_id),(e=>i.channels.get(e.channel_id)));default:return[]}},v=(0,r.P)((function({section:e,island:t,spacing:s,blockLayoutResolver:r,disableNextFrom:l,onRender:d,getRootRef:u}){const g=(0,o.useMemo)((()=>(0,n.EW)((()=>e?e.blocks.map(((t,s)=>({index:s,block:t,items:f(t.data,e)}))):[]))),[e]).get(),_=(0,o.useMemo)((()=>t&&g.length?p(g,t):[]),[g,t]);if((0,o.useEffect)((()=>{e&&d?.()}),[e]),!e)return null;const m=e=>e.map((({index:t,block:n,items:c})=>{const l=e[t+1],d=r(n)||(()=>null);return s&&(e=>"separator"===e.layout.name||"separator_compact"===e.layout.name)(n.data)&&l&&!(e=>["header","header_large","header_compact","header_extended"].includes(e.layout.name))(l.block.data)?(0,i.FD)(o.Fragment,{children:[(0,i.Y)(d,{index:t,block:n,items:c}),(0,i.Y)(a.K,{size:s})]},n.id):(0,i.Y)(d,{index:t,block:n,items:c},n.id)}));return t?(0,i.Y)("div",{ref:u,children:_.map(((t,s)=>(0,i.FD)(c.Y,{mode:"card",children:[m(t),_.length-1===s&&!l&&(0,i.Y)(h,{section:e})]},t[0].block.id)))}):(0,i.FD)("div",{ref:u,children:[m(g),!l&&(0,i.Y)(h,{section:e})]})}))},195649:(e,t,s)=>{s.d(t,{t:()=>n});var i=s(221020),r=s(356035);function n(e,t,s){const n=({index:r,block:n,items:o})=>{const a=s(n);return o.length&&a?(0,i.Y)(e,{...t,index:r,block:n,items:o,ItemComponent:a}):null};return n.displayName=`${e.displayName}_withCatalogBlock`,(0,r.P)(n)}},748805:(e,t,s)=>{s.d(t,{p:()=>c});var i=s(221020),r=s(356035),n=s(399902),o=s(140094),a=s(645964);function c(e,t={},s){const{attachTrackCodeToUrl:c,getUrl:l,getTrackCode:d,onItemView:h}=t,u=t=>{const{item:r,owner:u,...g}=t,p=l?.(r,t),_=d?.(r,t),{ref:m}=(0,o.Wx)({threshold:.8,skip:!h||!_,onChange:e=>_&&h&&e&&h(r,_)});return(0,i.Y)(e,{...g,...s,item:r,owner:u,getRootRef:m,trackCode:_,group:(0,a.Li)(u)?void 0:u,profile:(0,a.Li)(u)?u:void 0,href:c&&_&&p?(0,n.G)(p,{search_track_code:_}):p})};return u.displayName=`${e.displayName}_withCatalogStore`,(0,r.P)(u)}}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/40546.24c1b1da.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/40546.24c1b1da.js",e),e}