try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[44836],{874903:(e,t,n)=>{n.d(t,{d:()=>_});var o=n(221020),i=n(327813),r=n(822551),a=n(815287),s=n(356035),l=n(554079),p=n(634164),c=n(455356),d=n(257103),u=n(436043);const y="LottiePlayer__wrapper--xti0A",h="LottiePlayer__wrapperClickable--Lokwp",m=(0,s.P)((({layer:e,style:t,onAnimationLoaded:n,onFirstFrameRender:r,onLayerLoopCompleted:s})=>{const{popupStore:m}=(0,u.nj)(),f=(0,a.useRef)(0),g=(0,a.useRef)(!1),{isPlaying:S,onAnimationClick:k,lottiePlayer:{options:P}}=m,{onLottiePlayerError:L}=m.errorHandlers,{lottieContainerRef:v,lottiePlayerRef:E,lottieLoaded:b,lottieRendered:w,lottieErrorMessage:R}=(0,c.X)({group:d.rP,animationUrl:e.url,...P},{play:S}),A=()=>{g.current||(s(),g.current=!0)};return(0,a.useEffect)((()=>{const e=E.current;e&&e.setOptions(P)}),[P]),(0,a.useEffect)((()=>{R&&(e=>{L?.(e),A()})(R)}),[R,L]),(0,a.useEffect)((()=>{const e=E.current;if(e)return n&&e.addEventListener("ready",n,{once:!0}),r&&e.addEventListener("firstFrame",r,{once:!0}),()=>{r&&e.removeEventListener("firstFrame",r),n&&e.removeEventListener("ready",n)}}),[b]),(0,a.useEffect)((()=>{const e=E.current;if(e)return e.addEventListener("destroy",A,{once:!0}),()=>{g.current&&e.removeEventListener("destroy",A)}}),[w]),(0,a.useEffect)((()=>{const t=E.current;if(!t)return;const n=(0,l.wW)(e),o=()=>{if(f.current+=1,f.current===n)return A(),void t.removeEventListener("loopComplete",o)};return t.addEventListener("loopComplete",o),()=>{t.removeEventListener("loopComplete",o)}}),[b]),(0,o.Y)("div",{onClick:e=>{k?.(e)},className:(0,p.$)(y,{[h]:Boolean(k)&&P.speed!==d.$3}),style:(0,i.HO)(t),ref:v})})),f=({layer:e,popUpLayerStyle:t,onAnimationLoaded:n,onFirstFrameRender:i,onLayerLoopCompleted:r})=>(0,o.Y)(m,{layer:e,style:t,onAnimationLoaded:n,onFirstFrameRender:i,onLayerLoopCompleted:r}),g=({layer:e,animationState:t,onAnimationPlayBackAreaLoaded:n,onAnimationPlayBackAreaFinished:i,...r})=>{const s=(0,l.Mh)(e),[p,c]=(0,a.useState)(!1);return p?null:(0,o.Y)(o.FK,{children:s&&(0,o.Y)(f,{layer:e,onFirstFrameRender:()=>{t.markStateAsPlaying()},onAnimationLoaded:()=>{n(),t.markStateAsLoaded()},onLayerLoopCompleted:()=>{p||(i(),t.markStateAsFinished(),c(!0))},...r})})};var S=n(601079),k=n(154767);const P="GradientLayer__wrapperWithLinearGradient--rNUdt",L="GradientLayer__wrapperWithRadialGradient--n6u1k",v=({popUpLayerStyle:e,popUpLayerStyleData:t})=>{const n={...e,"--gradient-color":(0,S.A)()===k.b.DARK?"rgba(0, 0, 0, 0.40)":"var(--white_alpha40)"};return(0,o.Y)("div",{style:n,className:t?.isRadialGradient?L:P})},E="BackgroundLayer__wrapper--CoCfC",b=({popUpLayerStyle:e})=>(0,o.Y)("div",{className:E,style:e}),w=({layer:e,parentState:t,popUpLayerStyle:n,popUpLayerStyleData:i})=>{const r=(0,l.WR)(e),s=(0,l.Sf)(e),[p,c]=(0,a.useState)(!t);return(0,a.useEffect)((()=>{if(!t)return;const e=()=>{c(!1)},n=()=>{c(!0)};return t.listenable.once("onPlaying",n),t.listenable.once("onFinished",e),()=>{t.listenable.off("onPlaying",n),t.listenable.off("onFinished",e)}}),[]),p?(0,o.FD)(o.FK,{children:[r&&(0,o.Y)(v,{popUpLayerStyle:n,popUpLayerStyleData:i}),s&&(0,o.Y)(b,{popUpLayerStyle:n})]}):null},R="PlayBackArea__wrapper--XUYXC",A="PlayBackArea__area--1U9Vu",B=({layer:e,popUpLayerStyle:t,animationState:n,onAnimationPlayBackAreaFinished:r,onAnimationPlayBackAreaLoaded:a,style:s,popUpLayerStyleData:p,...c})=>{const d=(0,l.M_)(e);return(0,o.Y)("div",{className:R,style:(0,i.HO)(s),...c,children:(0,o.FD)("div",{className:A,children:[d&&n&&(0,o.Y)(g,{layer:e,animationState:n,popUpLayerStyle:t,onAnimationPlayBackAreaLoaded:a,onAnimationPlayBackAreaFinished:r}),!d&&(0,o.Y)(w,{layer:e,parentState:n,popUpLayerStyle:t,popUpLayerStyleData:p})]})})},_=(0,s.P)((({portalElement:e=document.body})=>{const t=(0,a.useRef)(0),n=(0,a.useRef)(0),{popupStore:s}=(0,u.nj)(),p=s.playBackAreasProps.filter((({layer:e})=>(0,l.M_)(e))).length,c=()=>{t.current++,t.current===p&&(t.current=0,n.current=0,s.onEndPlay?.())},y=()=>{n.current++,n.current===p&&s.startPlay()};if(!s.playBackAreasProps.length)return null;const h=(0,i.HO)(s.playBackAreasProps).map((({style:e,popUpLayerStyle:t,...n},r)=>(0,o.Y)(B,{onAnimationPlayBackAreaLoaded:y,onAnimationPlayBackAreaFinished:c,popUpLayerStyle:(0,i.HO)(t),style:(0,i.HO)({...e,transition:s.isFinishing?`opacity ${d.RW}ms`:e?.transition??"",opacity:s.isFinishing?"0":e?.opacity??""}),...n},r)));return(0,r.createPortal)(h,e||document.body)}))},17646:(e,t,n)=>{n.d(t,{W:()=>s});var o=n(221020),i=n(815287),r=n(436043),a=n(243256);const s=({popupStore:e,children:t})=>{const n=(0,i.useRef)(e??new a.p);return(0,o.Y)(r.uK.Provider,{value:{popupStore:n.current},children:t})}},436043:(e,t,n)=>{n.d(t,{bl:()=>a,nj:()=>r,uK:()=>i});var o=n(815287);const i=(0,o.createContext)(null);function r(){const e=(0,o.useContext)(i);if(null===e)throw new Error("You have forgotten to wrap your root component with PopupProvider");return e}function a(){const e=(0,o.useContext)(i);return null===e?{popupStore:void 0}:e}},257103:(e,t,n)=>{n.d(t,{cO:()=>u,BA:()=>s,JI:()=>i,RD:()=>a,rK:()=>_,Em:()=>P,vJ:()=>c,oN:()=>d,Lb:()=>v,pp:()=>g,aA:()=>y,zU:()=>b,Gw:()=>w,Jt:()=>E,RW:()=>C,Wn:()=>p,GB:()=>r,Ef:()=>A,Ar:()=>R,rP:()=>B,Hx:()=>m,Vv:()=>h,Ev:()=>l,$4:()=>k,Bf:()=>L,RG:()=>f,$3:()=>S});var o=n(509984);const i="common_container",r="body",a="data-popup-sticker-container-id",s=a.slice(5).split("-").map(((e,t)=>0!==t?e.charAt(0).toUpperCase()+e.slice(1):e)).join("");const l="popup-sticker-im-container",p="data-popup-sticker-full-screen-container",c="data-popup-sticker-deductible",d="data-popup-sticker-deductible-full-screen",u="data-popup-sticker-animation-deductible",y="data-popup-sticker-use-common",h="data-popup-sticker-position",m="fixed",f="screen",g={speed:1,loop:!0,autoplay:!1,cache:!1,lazyLoading:!0,direction:o.m.FORWARD,strictCache:!0},S=3,k={Gradient:"gradient",FullScreen:"animation_fullscreen",Fixed:"animation_fixed"},P={Background:"background"},L={FullScreen:"fullscreen",Fixed:"fixed",TopFullScreen:"topFullScreen"},v=1,E=1,b="center",w="middle",R=384,A=64,B="Popup",_={ChangeModificator:"changeModificator",DontShow:"dontShow"},C=300},177167:(e,t,n)=>{n.d(t,{M:()=>i,o:()=>o});const o=e=>{const t=e=>{document.removeEventListener("wheel",e),document.removeEventListener("touchmove",e),window.removeEventListener("resize",e)},n=()=>{t(n),e()};return{addDestroyListener:()=>{document.addEventListener("wheel",n,{once:!0}),document.addEventListener("touchmove",n,{once:!0}),window.addEventListener("resize",n,{once:!0})},removeDestroyListener:t.bind(void 0,n),handleDestroy:n}},i=(e,t)=>({...e,onEndPlay:()=>{t.removeDestroyListener(),e.onEndPlay?.()},onEndPrepare:n=>{n&&t.addDestroyListener(),e.onEndPrepare?.(n)},onAnimationClick:n=>{t.handleDestroy(),e.onAnimationClick?.(n)}})},729736:(e,t,n)=>{n.d(t,{O6:()=>s,_g:()=>a,nz:()=>i,y3:()=>r,yQ:()=>p});var o=n(257103);const i=e=>{const{popupStickerUseCommon:t="false",popupStickerContainerId:n,popupStickerFullScreenContainer:i,popupStickerPosition:r=o.Hx}=e,a={[o.aA]:t,[o.Vv]:r,[o.RD]:n};return i&&(a[o.Wn]=i),a},r=e=>{let t="";const n=i(e);return Object.entries(n).forEach((([e,n])=>{t+=`${e}='${n}' `})),t.trim()},a=e=>{const{popupStickerDeductible:t,popupStickerDeductibleFullScreen:n}=e,i={};return t&&(i[o.vJ]=t),n&&(i[o.oN]=n),i},s=e=>e.closest(`[${o.RD}]`)||document.body;function l(e,t,n,i,r,a=null){let s=[...document.querySelectorAll(`[${t}=${i}]`)];switch(r&&(s=[...s,...document.querySelectorAll(`[${t}=${o.JI}]`)]),s.push(n),e){case"lower":case"parent":s=s.sort(((e,t)=>e.getBoundingClientRect().top-t.getBoundingClientRect().top));break;case"upper":s=s.sort(((e,t)=>e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom))}const l=s.findIndex((e=>e===n));let p;switch(e){case"upper":case"parent":p=s[l-1]||null;break;case"lower":p=s[l+1]||null;break;default:p=s[0]||null}return p||a}const p=(e,t)=>{const{popupStickerContainerId:n,popupStickerPosition:i,popupStickerUseCommon:r}=(e=>{const{popupStickerUseCommon:t="false",popupStickerPosition:n=o.Hx,popupStickerContainerId:i=o.JI}=e.dataset;return{popupStickerContainerId:i,popupStickerUseCommon:t,popupStickerPosition:n}})(e);let a="true"===r;return{fixedElement:e,headerElement:l("upper",o.vJ,t,n,a),footerElement:l("lower",o.vJ,t,n,a),fullScreenElement:l("parent",o.Wn,t,n,a,document.body),fullScreenHeaderElement:l("upper",o.oN,t,n,a),fullScreenFooterElement:l("lower",o.oN,t,n,a),animationFooterElement:l("lower",o.cO,t,n,a),position:i}}},554079:(e,t,n)=>{n.d(t,{$b:()=>m,Fq:()=>h,JG:()=>g,M_:()=>d,Mh:()=>c,Rs:()=>y,Sf:()=>l,WR:()=>s,b0:()=>S,gc:()=>u,jV:()=>a,mW:()=>f,pD:()=>p,tz:()=>i,wW:()=>r});var o=n(257103);const i=e=>{const{position_x:t,position_y:n}=e;return{position_x:t||o.zU,position_y:n||o.Gw}},r=e=>{const{loops_limit:t=o.Lb}=e;return t},a=e=>{const{scale_ratio:t=o.Jt}=e;return t},s=e=>e.type===o.$4.Gradient,l=e=>e.type===o.Em.Background,p=e=>e.type===o.$4.FullScreen,c=e=>e.type===o.$4.Fixed,d=e=>p(e)||c(e),u=e=>{if(!c(e))return!1;const{position_x:t,position_y:n}=i(e);return!t.includes(o.RG)&&n===`${o.RG} top`},y=e=>{if(l(e)||p(e))return!0;if(s(e))return e.position.includes(o.RG);if(c(e)){const{position_x:t,position_y:n}=i(e);return t.includes(o.RG)&&n.includes(o.RG)}return!1},h=e=>y(e)||u(e),m=e=>{const{position_x:t,position_y:n}=i(e);return h(e)?{...e,position_x:t.replace(`${o.RG} `,""),position_y:n.replace(`${o.RG} `,"")}:{...e,position_x:`${o.RG} ${t}`,position_y:`${o.RG} ${n}`}},f=(e,t)=>d(e)&&d(t)?t.position_y===e.position_y&&e.position_x===t.position_x:!(!s(e)||!s(t))&&t.position===e.position,g=e=>e>=o.Ar,S=e=>e>=o.Ef},243256:(e,t,n)=>{n.d(t,{p:()=>w});var o=n(327813),i=n(257103);class r{constructor(){this.options={...i.pp},this.setOptions=e=>{this.options=e},this.setOption=({key:e,value:t})=>{typeof this.options[e]==typeof t&&(this.options={...this.options,[e]:t})},this.reset=()=>{this.options={...i.pp}},(0,o.l_)(this)}}class a{constructor(){this.blocks=[],this.addConflictBlock=e=>{this.blocks.push(e)},this.removeConflictBlockBySelector=e=>{this.blocks.filter((t=>t.blockSelector===e))},(0,o.l_)(this)}}var s=n(177167),l=n(434518),p=n(763812),c=n(275860);const d="preparing",u="loaded",y="playing",h="finished";var m=(0,p._)("_status");class f extends c.v{get status(){return(0,l._)(this,m)[m]}constructor(){super(),Object.defineProperty(this,m,{writable:!0,value:void 0}),(0,l._)(this,m)[m]=d,this.markStateAsLoaded=()=>{(0,l._)(this,m)[m]=u,this.emit("onLoaded")},this.markStateAsPlaying=()=>{(0,l._)(this,m)[m]=y,this.emit("onPlaying")},this.markStateAsFinished=()=>{(0,l._)(this,m)[m]=h,this.emit("onFinished")}}}var g=n(554079);function S(e){return(0,g.Rs)(e)?i.Bf.FullScreen:(0,g.gc)(e)?i.Bf.TopFullScreen:i.Bf.Fixed}function k(e,{fullScreenHeaderElement:t,fullScreenFooterElement:n,fullScreenElement:o,fixedElement:r,footerElement:a,headerElement:s,animationFooterElement:l,position:p},c=!1){const d=e===i.Bf.FullScreen,{top:u,left:y,bottom:h}=o.getBoundingClientRect(),m=d?o:r,{top:f,bottom:g,left:S,width:k}=m.getBoundingClientRect(),{bottom:P}=s?.getBoundingClientRect()||{bottom:-1/0},{bottom:L}=t?.getBoundingClientRect()||{bottom:-1/0},v=Math.max(P,f)<0,E=e===i.Bf.TopFullScreen||v,b=!d&&!E,w=b?P:L,R=d?n:a,A=R?.getClientRects().length,B=l?.getClientRects().length;let _;_=c&&l&&B?l.getBoundingClientRect().top:R&&A?R.getBoundingClientRect().top:1/0;let C=0;"absolute"===p&&(C=-u);const F=[];w>0&&F.push(C+w),b&&f>=0&&F.push(C+f),u<0&&F.push(C);const U=Math.max(...F,0),x=o===document.body?document.documentElement.clientHeight:function(e){return Math.min(e,document.documentElement.clientHeight)}(h),D=[C+x,m===document.body?document.documentElement.clientHeight:C+g,C+_],$=Math.min(...D)-U,G=function(e){return Math.min(e,document.documentElement.clientWidth)}(k),W=S-y,O={position:p};O.top=`${U}px`,O.left=`${W}px`,O.width=`${G}px`,O.height=`${$}px`;return{playBackAreaStyle:O,topByViewport:U-C}}const P={bottom:"0deg",left:"90deg",top:"180deg",right:"270deg"},L=({position:e},t)=>{const n={position:"absolute"},o=e.replace(`${i.RG} `,"");return"middle"===o?(n.top="50%",n.left="50%",n.transform="translate(-50%, -50%)",{style:{...t,...n},styleData:{isRadialGradient:!0}}):(["top","bottom"].includes(o)?n.width="100%":n.height="100%",n[o]=0,n["--gradient-deg"]=P[o]||P.top,{style:{...t,...n},styleData:{isRadialGradient:!1}})};function v(e,t,n,o){const r=!t.animationFooterElement;if((0,g.WR)(e)&&r){if(!o)return null;const t={...o.popUpLayerStyle,top:"unset",left:"unset",transform:"unset"},n=L(e,t);return{layer:e,style:o.style,animationState:o.animationState,popUpLayerStyle:n.style,popUpLayerStyleData:n.styleData}}const a=S(e),{playBackAreaStyle:s,topByViewport:l}=k(a,t,!(0,g.WR)(e));if((0,g.WR)(e)){if(!o||r)return null;const t=L(e,{height:"100%",width:"100%"});return{layer:e,style:s,animationState:o.animationState,popUpLayerStyle:t.style,popUpLayerStyleData:t.styleData}}if((0,g.Sf)(e))return{layer:e,style:s,popUpLayerStyle:e.style};const p=new f;if((0,g.pD)(e))return null;const c=parseInt(s.width),d=parseInt(s.height);let u=Math.min(c,d);const y=(0,g.jV)(e);if((0,g.JG)(u)&&(u*=y),(0,g.Rs)(e)){const e=.5*Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth);u>e&&(u=e)}if(!(0,g.b0)(u))return null;const h=(({width:e,height:t},n,o)=>{const r={...o},{position_y:a,position_x:s}=(0,g.tz)(n),l=s.replace(i.RG,"").trim(),p=a.replace(i.RG,"").trim();return r.position="absolute","center"===l?(r.left=.5*e,r.transform="translateX(-50%)"):r.left="left"===l?0:e-parseInt(r.width),"middle"===p?(r.top=.5*t,r.transform="translateY(-50%)"):r.top="top"===p?0:t-parseInt(r.height),"middle"===p&&"center"===l&&(r.transform="translate(-50%, -50%)"),r})({width:c,height:d},e,{height:u,width:u}),m=l+parseInt(h.top),P=l+parseInt(h.left),E=((e,{bottom:t,right:n,top:o,left:r},a)=>{const s={...a};for(const l of e){if(l.popUpPositions&&!l.popUpPositions.includes(S(a)))continue;const e=document.querySelector(l.blockSelector);if(!e)continue;const p=e.getBoundingClientRect();if(r<=p.right&&n>=p.left&&o<=p.bottom&&t>=p.top)return l.action===i.rK.DontShow?null:(0,g.$b)(s)}return s})(n,{top:m,left:P,bottom:m+u,right:P+u},e);return E?(0,g.mW)(e,E)?{animationState:p,layer:e,popUpLayerStyle:h,style:s}:v(E,t,[],null):null}var E=n(729736),b=n(377803);class w{constructor(){this.isPlaying=!1,this.isPreparing=!1,this.isFinishing=!1,this.playBackAreasProps=[],this.onAnimationClick=null,this.onEndPlay=null,this.onEndPrepare=null,this.errorHandlers={},this.conflictBlocks=new a,this.lottiePlayer=new r,this.setLottiePlayerOptions=e=>{this.isPlaying&&this.lottiePlayer.setOptions(e)},this.setLottiePlayerOption=e=>{this.isPlaying&&this.lottiePlayer.setOption(e)},this.preparePreview=e=>{const t=e.layers.slice();t.unshift({type:i.Em.Background,style:{opacity:"0.9",background:b.A.colorBackgroundModal.normal.value}}),this.prepare({...e,layers:t})},this.prepareWithDestroyEvent=e=>{const t=(0,s.o)(this.destroyWithFadeOut.bind(this));this.prepare((0,s.M)(e,t))},this.prepare=({layers:e,stickerElement:t,onEndPrepare:n=null,onEndPlay:o=null,onAnimationClick:i=null,errorHandlers:r,mountNode:a,disableHardcodedZIndex:s})=>{if(this.isPlaying||this.isPreparing)throw n?.(!1),new Error("Pop-up stickers are already playing");this.isPreparing=!0;const l=(0,E.O6)(t),p=(({layers:e,popUpElements:t,conflictBlocks:n})=>{const o=[...e].reverse(),i=[];let r=null;for(const e of o){const o=v(e,t,n,r);(0,g.Mh)(e)&&(r=o),(0,g.WR)(e)&&(r=null),o&&i.push(o)}return i.reverse(),i})({layers:e,popUpElements:(0,E.yQ)(l,t),conflictBlocks:this.conflictBlocks.blocks}).map((e=>({...e,style:{...e.style,zIndex:s?"auto":1001}}))),c=Boolean(p.length),d=()=>{this.reset(),o?.()};this.onEndPrepare=n,this.onEndPlay=d,this.onAnimationClick=i,c&&a?.(),this.playBackAreasProps=p,r&&(this.errorHandlers=r),c||(n?.(!1),d())},this.destroyBySpeedIncrement=()=>{this.setLottiePlayerOption({key:"speed",value:i.$3})},this.destroyByRemove=()=>{this.onEndPlay?this.onEndPlay():this.reset()},this.destroyWithFadeOut=()=>{this.isFinishing=!0,setTimeout((()=>{this.destroyByRemove()}),i.RW)},this.startPlay=()=>{this.isPlaying=!0,this.isPreparing=!1,this.onEndPrepare?.(!0)},this.reset=()=>{this.isPlaying=!1,this.isPreparing=!1,this.isFinishing=!1,this.playBackAreasProps=[],this.onEndPlay=null,this.onAnimationClick=null,this.onEndPrepare=null,this.errorHandlers={},this.lottiePlayer.reset()},(0,o.l_)(this)}}}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/44836.66992f44.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/44836.66992f44.js",e),e}