(()=>{"use strict";var e,t,i,r,s,a,n,o,_={959477:(e,t,i)=>{i.d(t,{EasterEggs:()=>u});var r=i(535130),s=i(754866),a=i(898848),n=i(972332),o=i(452223),_=i(314309),d=i(246429),h=i(19589),c=i(342018),l=i(468073);const u={URL:"easter-eggs",ANIMATION_GROUP:"easter_eggs",CLICK_ANIMATION_GROUP:"easter_eggs_click",ACT_POPUP:"getPopup",ACT_FOUND_EGG:"foundEgg",ACT_HIDE_EVENT:"hideEvent",ACT_EASTER_EGGS:"getEasterEggs",ACT_PERFORM_ACTION:"performAction",frames:{},activeAnimations:{},_init:function(e){this.eggs=e,this._checkContainer(),this._setEggs(),this._setCurEvents(),r.LottieManager.observer.ignoreGroup(this.CLICK_ANIMATION_GROUP)},_setCurEvents:function(){this.curSet||(this.curSet=!0,window.cur._back?(window.cur._back.hide&&window.cur._back.hide.push(this._flush.bind(this)),window.cur._back.show&&(window.cur._back.show.push(this._flush.bind(this)),window.cur._back.show.push(this.updateEggs.bind(this)))):(0,c.pushNavDestroy)((()=>this._flush())))},_flush:function(e){if(this.activeAnimations)for(let t in this.activeAnimations)if(this.activeAnimations.hasOwnProperty(t)){const i=t.split("_");(0,a.isNumeric)(e)&&e!==parseInt(i[0])||(this.activeAnimations[t].stop(),this.activeAnimations[t].destroy(),delete this.activeAnimations[t])}if(this.frames)for(let t in this.frames)if(this.frames.hasOwnProperty(t)){const i=t.split("_");(0,a.isNumeric)(e)&&e!==parseInt(i[0])||((0,n.removeEvent)(this.frames[t],"click"),(0,n.removeEvent)((0,s.geByClass)("EasterEggFrame__hideEvent",this.frames[t]),"click"),this.frames[t].parentNode.removeChild(this.frames[t]),delete this.frames[t])}this.container&&(this.container.innerHTML=""),this.frames=[],this.activeAnimations=[]},_checkContainer:function(){this.container||(this.container=document.body.appendChild((0,s.ce)("div",{className:"EasterEggsContainer",innerHTML:""})))},_setEggs:function(){this.eggs&&this.eggs.forEach((e=>{e.positions&&e.positions.length&&e.positions.forEach((t=>{this._validPosition(t.url_regexp)&&this._appendEasterEgg(t,e)}))}))},_validPosition:function(e){if(e=(e||"").replace(/(^#)|(#$)/g,""))try{const t=new RegExp(e),i=this._getNormalizedUrl();return t.test(i)}catch(e){return!1}return!1},_getNormalizedUrl(){switch(window.cur.module){case"profile":return"/id"+(window.cur.oid||0);case"groups":return"/club"+(void 0===window.cur.oid?0:-window.cur.oid);default:return location.pathname}},_appendEasterEgg:function(e,t){t.animation?.url&&this._getAnimation(t.animation?.url).then((async i=>{const _=document.createElement("div");_.className="EasterEggFrame",(0,n.addEvent)(_,"click",function i(){(0,n.removeEvent)(_,"click",i),this.onFrameClick({eggId:t.id,eggEventId:t.event_id,positionId:e.position_id,hash:e.hash,url:t.url,clickAnimation:t.click_animation})}.bind(this));const d=document.createElement("div");d.className="EasterEggFrame__hideEvent",(0,n.addEvent)(d,"click",(i=>{(0,n.stopEvent)(i),this.onHideClick({eventId:t.event_id,eggId:t.id,positionId:e.position_id})})),(0,a.isNumeric)(e.appearance.top)?(0,s.setStyle)(_,{top:e.appearance.top}):(0,a.isNumeric)(e.appearance.bottom)&&(0,s.setStyle)(_,{bottom:e.appearance.bottom}),(0,a.isNumeric)(e.appearance.left)?((0,s.setStyle)(_,{left:e.appearance.left}),(0,s.setStyle)(d,{right:0})):(0,a.isNumeric)(e.appearance.right)&&((0,s.setStyle)(_,{right:e.appearance.right}),(0,s.setStyle)(d,{left:0})),e.appearance.fixed&&(0,s.setStyle)(_,{position:"absolute"}),t.animation?.width&&(0,s.setStyle)(_,{width:t.animation?.width}),t.animation?.height&&(0,s.setStyle)(_,{height:t.animation?.height});let h=null;e.appearance.container&&(h=document.querySelector(e.appearance.container)),h?h.appendChild(_):this.container.appendChild(_),_.style.display="block";const c=await r.LottieManager.loadAnimation({group:this.ANIMATION_GROUP,name:t.animation?.url,animationData:i,containers:[_],width:t.animation?.width,height:t.animation?.height,loop:!0,autoplay:!0}).catch((()=>{_.style.display="none"}));t.hide_close_button||_.appendChild(d);const l=t.id+"_"+e.position_id;this.frames[l]=_,this.activeAnimations[l]=c,this.sendStats(o.IEasterEggsItemEventType.EGG_SHOW,t.id,t.event_id,e.position_id)}))},async _runClickAnimation(e,t,i,a){const n=e+"_"+t,o=this.frames[n],_=this.activeAnimations[n];i?.width&&(0,s.setStyle)(o,{width:i?.width}),i?.height&&(0,s.setStyle)(o,{height:i?.height});const d=await r.LottieManager.loadAnimation({group:this.CLICK_ANIMATION_GROUP,name:i.url,animationData:a,containers:[o],width:i?.width,height:i?.height,loop:!1,autoplay:!0});_&&_.destroy(),this.activeAnimations[n]=d},_getAnimation:function(e){return new Promise(((t,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.send(),r.onreadystatechange=()=>{if(4===r.readyState)try{const e=JSON.parse(r.responseText);t(e)}catch(e){i()}}}))},onFrameClick:function(e){if(!(0,a.isNumeric)(e.eggId)||!(0,a.isNumeric)(e.positionId))return;const t=()=>{this._foundEgg(e.eggId,e.positionId,e.hash,(()=>{if(this._flush(e.eggId),e.url)return window.open(e.url,"_blank");this._showPopup(e.eggId,e.eggEventId,e.positionId)}))};e.clickAnimation&&e.clickAnimation.url?this._getAnimation(e.clickAnimation?.url).then((i=>{this._runClickAnimation(e.eggId,e.positionId,e.clickAnimation,i),setTimeout(t,e.clickAnimation?.duration||0)})):t()},onHideClick:function(e){window.ajax.post(this.URL,{act:this.ACT_HIDE_EVENT,event_id:e.eventId,egg_id:e.eggId,position_id:e.positionId},{onDone:()=>{this.updateEggs()},onFail:()=>!0})},_foundEgg:function(e,t,i,r){window.ajax.post(this.URL,{act:this.ACT_FOUND_EGG,egg_id:e,position_id:t,position_hash:i},{onDone:()=>{this.updateEggs(),r&&r()},onFail:()=>!0})},updateEggs:function(){this._flush(),window.ajax.post(this.URL,{act:this.ACT_EASTER_EGGS,url:window.location.pathname},{onDone:e=>{e&&this._init(e)},onFail:()=>!0})},_showPopup:function(e,t,i){l.Ranges.isUserId(window.vk.id)&&window.ajax.post(this.URL,{act:this.ACT_POPUP,egg_id:e},{onDone:(r,s,a)=>{if(!s)return;if("function"!=typeof window.MessageBox)return;const n=new window.MessageBox({title:r,hideButtons:!0,needShadow:!1,containerClass:"ImageStatusPopup__container",onShow:()=>{this.sendStats(o.IEasterEggsItemEventType.POPUP_SHOW,e,t,i),this.curBoxData={eggId:e,eggEventId:t,positionId:i}},onDestroy:()=>{this.curBoxData={}}});n.content(s),n.show(),setTimeout((()=>{n.evalBox(a,this.URL,{act:this.ACT_POPUP})}))},onFail:()=>!0})},sendStats:function(e,t=0,i=0,r=0){e===o.IEasterEggsItemEventType.POPUP_ACTION&&this.curBoxData&&(t=this.curBoxData.eggId,i=this.curBoxData.eggEventId,r=this.curBoxData.positionId),_.easterEggsItemStat.logEvent(t,i,r,e)},performAction:function(e,t){t.preventDefault(),this.sendStats(o.IEasterEggsItemEventType.POPUP_ACTION),e&&window.ajax.post(this.URL,{act:this.ACT_PERFORM_ACTION,jwt:e},{onDone:()=>((0,d.curBox)()?.hide(),!0),onFail:()=>((0,d.curBox)()?.hide(),!0)})},setLightTheme(e){e.preventDefault(),this.sendStats(o.IEasterEggsItemEventType.POPUP_ACTION),(0,d.curBox)()?.hide(),h.colorScheme.setMode(h.ColorSchemeMode.Light)}}},993016:(e,t,i)=>{try{var r=i(636576),s=i(959477);window.vk?.stDomain&&(i.p=window.vk.stDomain+"/dist/"),i._dG("EasterEggs",s.EasterEggs),(a=window.requestIdleCallback)||(a=e=>setTimeout((()=>e()),1)),a((()=>{try{(0,r.statlogsValueEvent)("entries_requests",1,"easter_eggs","web")}catch{}}),{timeout:5e3}),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/easter_eggs.ed5db349.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/web/easter_eggs.ed5db349.js",e),e}var a},251964:(e,t,i)=>{i.d(t,{LottieDataCache:()=>d});var r=i(434518),s=i(763812),a=(0,s._)("_OUTDATED_CACHE_LIFETIME"),n=(0,s._)("_cache"),o=(0,s._)("_outdated"),_=(0,s._)("_checkOutdated");class d{static set(e,t){(0,r._)(this,n)[n].set(e,t)}static get(e){return(0,r._)(this,o)[o].delete(e),(0,r._)(this,_)[_](),(0,r._)(this,n)[n].get(e)}static delete(e){(0,r._)(this,n)[n].delete(e)}static outdate(e){(0,r._)(this,n)[n].has(e)&&(0,r._)(this,o)[o].set(e,Date.now())}}Object.defineProperty(d,_,{value:function(){for(const[e,t]of(0,r._)(this,o)[o])Date.now()-t<=(0,r._)(this,a)[a]||((0,r._)(this,n)[n].delete(e),(0,r._)(this,o)[o].delete(e))}}),Object.defineProperty(d,a,{writable:!0,value:3e5}),Object.defineProperty(d,n,{writable:!0,value:new Map}),Object.defineProperty(d,o,{writable:!0,value:new Map})},838086:(e,t,i)=>{i.d(t,{AnimationDataLoadError:()=>r});class r extends Error{constructor(){super("Не удалось загрузить данные об анимации")}}},641771:(e,t,i)=>{i.d(t,{EmptyAnimationDataError:()=>r});class r extends Error{constructor(){super("Не переданы данные для загрузки анимации")}}},264508:(e,t,i)=>{i.d(t,{InvalidAnimationSizeError:()=>r});class r extends Error{constructor(){super("Передайте размер анимации, размеры контейнера имеют неявные значения")}}},300712:(e,t,i)=>{i.d(t,{OffscreenCanvasNotSupportedError:()=>r});class r extends Error{constructor(){super("OffscreenCanvas не поддерживается клиентом, проигрывание анимации невозможно")}}},830235:(e,t,i)=>{i.d(t,{AnimationObserver:()=>b});var r=i(434518),s=i(763812),a=i(108193),n=i(342042),o=i(184330),_=i(505471),d=(0,s._)("_observer"),h=(0,s._)("_paused"),c=(0,s._)("_visible"),l=(0,s._)("_primaryGroup"),u=(0,s._)("_groups"),p=(0,s._)("_ignoredGroups"),f=(0,s._)("_checkPlayers"),w=(0,s._)("_checkPlayer"),v=(0,s._)("_removePlayer");class b{static addPlayer(e){var t,i;const{canvas:s,options:{group:a}}=e;(t=(0,r._)(this,u)[u])[i=a]??(t[i]=new Set);(0,r._)(this,u)[u][a].add(e),(0,r._)(this,d)[d]?.observe(s)}static removePlayer(e){const{canvas:t,options:{group:i}}=e,s=(0,r._)(this,u)[u][i];s?.size&&(s.delete(e),s.size||delete(0,r._)(this,u)[u][i]),(0,r._)(this,d)[d]?.unobserve(t),(0,r._)(this,h)[h].delete(e),(0,r._)(this,c)[c].delete(e)}static setPrimaryGroup({group:e,...t}){(0,r._)(this,l)[l]=e,(0,r._)(this,f)[f](t)}static resetPrimaryGroup(){(0,r._)(this,l)[l]=void 0,(0,r._)(this,f)[f]()}static ignoreGroup(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{(0,r._)(this,p)[p].add(e)})),(0,r._)(this,f)[f]()}static removeIgnoredGroup(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{(0,r._)(this,p)[p].add(e)})),(0,r._)(this,f)[f]()}}Object.defineProperty(b,f,{value:function(e={}){const{group:t}=e,i=void 0!==t;if(i&&!(0,r._)(this,u)[u][t])return;const s=i?[t]:Object.keys((0,r._)(this,u)[u]);for(const t of s){const i=(0,r._)(this,u)[u][t];i?.forEach((t=>{(0,r._)(this,w)[w]({player:t,...e})}))}}}),Object.defineProperty(b,w,{value:async function({player:e,idle:t,pause:i,destroy:s,destroyCache:a}){const{canvas:n,options:{group:_}}=e,d=(0,r._)(this,h)[h].has(e),u=(0,r._)(this,c)[c].has(e),f=(0,r._)(this,p)[p].has(_),w=(0,r._)(this,l)[l]&&(0,r._)(this,l)[l]!==_,b=await e.paused();if(s||!f&&!n.isConnected)return void(0,r._)(this,v)[v](e);!1===t&&b&&o.isSafari&&e.redraw();if(f)return;if((i||t||w)&&!b)return e.pause().then((()=>{w&&a&&e.destroyCache()})),void(0,r._)(this,h)[h].add(e);d&&b&&u&&!w&&(e.play(),(0,r._)(this,h)[h].delete(e))}}),Object.defineProperty(b,v,{value:function(e){const{canvas:t,options:{group:i}}=e;e.destroy();const s=(0,r._)(this,u)[u][i];s?.size&&(s.delete(e),s.size||delete(0,r._)(this,u)[u][i]);(0,r._)(this,d)[d]?.unobserve(t),(0,r._)(this,c)[c].delete(e)}}),Object.defineProperty(b,d,{writable:!0,value:void 0}),Object.defineProperty(b,h,{writable:!0,value:new Set}),Object.defineProperty(b,c,{writable:!0,value:new Set}),Object.defineProperty(b,l,{writable:!0,value:void 0}),Object.defineProperty(b,u,{writable:!0,value:{}}),Object.defineProperty(b,p,{writable:!0,value:new Set}),_.isIntersectionObserverSupported&&((0,r._)(b,d)[d]=new IntersectionObserver((e=>{for(const{target:t,isIntersecting:i}of e)for(const e in(0,r._)(b,u)[u]){if(!(0,r._)(b,u)[u].hasOwnProperty(e))continue;const s=[...(0,r._)(b,u)[u][e]]?.find((e=>e.canvas===t));if(!s)continue;const n=(0,r._)(b,p)[p].has(e),{initialized:o,initializing:_,options:{lazyLoading:d}}=s;if(i){if(!d||o||_||a.AnimationObserverLazyLoad.addToQueue(s),n)continue;(0,r._)(b,c)[c].add(s),(0,r._)(b,w)[w]({player:s})}else{if(a.AnimationObserverLazyLoad.removeFromQueue(s),s.canvas.isConnected||s.destroy(),n)continue;(0,r._)(b,c)[c].delete(s),(0,r._)(b,w)[w]({player:s,pause:!0}),s.destroyCache()}break}}))),n.idleManager.addEventListener("change",(e=>{(0,r._)(b,f)[f]({idle:e})}))},108193:(e,t,i)=>{i.d(t,{AnimationObserverLazyLoad:()=>l});var r=i(434518),s=i(763812),a=i(351118),n=(0,s._)("_PROCESSING_LIMIT"),o=(0,s._)("_queue"),_=(0,s._)("_processing"),d=(0,s._)("_processQueue"),h=(0,s._)("_processQueueHandler"),c=(0,s._)("_processPlayer");class l{static addToQueue(e){(0,r._)(this,o)[o].add(e),(0,r._)(this,d)[d]()}static removeFromQueue(e){(0,r._)(this,o)[o].delete(e)}}Object.defineProperty(l,h,{value:function(){if(!(0,r._)(this,o)[o].size||(0,r._)(this,_)[_].size)return;for(;(0,r._)(this,_)[_].size<(0,r._)(this,n)[n]&&(0,r._)(this,o)[o].size;){const e=[...(0,r._)(this,o)[o]].shift();e&&((0,r._)(this,o)[o].delete(e),(0,r._)(this,c)[c](e))}}}),Object.defineProperty(l,c,{value:async function(e){(0,r._)(this,_)[_].add(e);try{await e.init()}catch(e){console.error(e)}(0,r._)(this,_)[_].delete(e),(0,r._)(this,d)[d]()}}),Object.defineProperty(l,n,{writable:!0,value:8}),Object.defineProperty(l,o,{writable:!0,value:new Set}),Object.defineProperty(l,_,{writable:!0,value:new Set}),Object.defineProperty(l,d,{writable:!0,value:(0,a.throttle)((0,r._)(l,h)[h].bind(l),20)})},173086:(e,t,i)=>{i.d(t,{EventDispatcher:()=>r});class r{hasEventListener(e,t){return this.listeners.some((i=>i.type===e&&i.listener===t))}addEventListener(e,t,i={}){return this.hasEventListener(e,t)||this.listeners.push({type:e,listener:t,options:i}),this}removeEventListener(e,t){const i=this.listeners.findIndex((i=>i.type===e&&i.listener===t));return-1!==i&&this.listeners.splice(i,1),this}removeEventListeners(){return this.listeners=[],this}dispatchEvent(e,...t){return this.listeners.filter((t=>t.type===e)).forEach((e=>{const{type:i,listener:r,options:s}=e;r(...t),s?.once&&this.removeEventListener(i,r)})),this}constructor(){this.listeners=[]}}},342042:(e,t,i)=>{i.d(t,{idleManager:()=>p});var r=i(434518),s=i(763812),a=i(173086),n=i(488577),o=(0,s._)("_focusEventName"),_=(0,s._)("_isIdle"),d=(0,s._)("_focusPromise"),h=(0,s._)("_focusResolve"),c=(0,s._)("_setIsIdle");class l extends a.EventDispatcher{get focusPromise(){return(0,r._)(this,d)[d]}get isIdle(){return(0,r._)(this,_)[_]}constructor(){super(),Object.defineProperty(this,c,{value:u}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),(0,r._)(this,_)[_]=!0,(0,r._)(this,d)[d]=Promise.resolve(),(0,r._)(this,h)[h]=()=>{},"undefined"!=typeof window&&(window.addEventListener("blur",(()=>{(0,r._)(this,c)[c](!0),window.addEventListener("focus",(()=>{(0,r._)(this,c)[c](!1)}),{once:!0})})),window.addEventListener((0,r._)(l,o)[o],(()=>{(0,r._)(this,c)[c](!1)}),{once:!0,passive:!0}),this.addEventListener("change",(e=>{e?(0,r._)(this,d)[d]=new Promise((e=>{(0,r._)(this,h)[h]=e})):(0,r._)(this,h)[h]()})))}}function u(e){(0,r._)(this,_)[_]!==e&&((0,r._)(this,_)[_]=e,this.dispatchEvent("change",e))}Object.defineProperty(l,o,{writable:!0,value:n.isTouchSupported?"touchstart":"mousemove"});const p=new l},535130:(e,t,i)=>{i.d(t,{LottieManager:()=>m});var r=i(434518),s=i(763812),a=i(351118),n=i(558137),o=i(542102),_=i(300712),d=i(830235),h=i(415855),c=i(351901),l=(0,s._)("_WORKERS_COUNT"),u=(0,s._)("_observer"),p=(0,s._)("_prevUsedWorkerIndex"),f=(0,s._)("_workers"),w=(0,s._)("_players"),v=(0,s._)("_initialized"),b=(0,s._)("_initializePromise"),g=(0,s._)("_getWorker");class y{static get observer(){return(0,r._)(this,u)[u]}static init(){return h.isOffscreenCanvasSupported?((0,r._)(this,b)[b]||((0,r._)(this,b)[b]=(async()=>{try{const{EsThread:e}=await(0,c.loadThreads)();(0,r._)(this,f)[f]=await Promise.all((0,a.createArray)((0,r._)(this,l)[l]).map((()=>e.Spawn(new Worker(new URL(self.location.origin+"/dist/"+i.u(75477),i.b),{type:void 0})))))}catch(e){throw e}(0,r._)(this,v)[v]=!0})()),(0,r._)(this,b)[b]):Promise.reject(new _.OffscreenCanvasNotSupportedError)}static async loadAnimation(e){(0,r._)(this,v)[v]||await this.init();const t=new o.LottiePlayer((0,r._)(this,g)[g](e),e);return t.options.lazyLoading||await t.init(),(0,r._)(this,w)[w].add(t),(0,r._)(this,u)[u].addPlayer(t),t.addEventListener("destroy",(()=>{(0,r._)(this,w)[w].delete(t),(0,r._)(this,u)[u].removePlayer(t)}),{once:!0}),t}}Object.defineProperty(y,g,{value:function(e){const t=e?.animationUrl,i=e?.animationData;for(const e of(0,r._)(this,w)[w])if(e.options.animationUrl===t||e.options.animationData===i)return e.worker;let s=(0,r._)(this,p)[p]++;s>=(0,r._)(this,f)[f].length&&(s=0,(0,r._)(this,p)[p]=0);return(0,r._)(this,f)[f][s]}}),Object.defineProperty(y,l,{writable:!0,value:4}),Object.defineProperty(y,u,{writable:!0,value:d.AnimationObserver}),Object.defineProperty(y,p,{writable:!0,value:0}),Object.defineProperty(y,f,{writable:!0,value:[]}),Object.defineProperty(y,w,{writable:!0,value:new Set}),Object.defineProperty(y,v,{writable:!0,value:!1}),Object.defineProperty(y,b,{writable:!0,value:void 0});const m=(0,n.makeSharedState)("rlottie",(()=>y),{version:3})()},42459:(e,t,i)=>{i.d(t,{LottiePlayerEventTask:()=>r});class r{constructor(e,t){this.taskUID=e,this.resolve=t}}},542102:(e,t,i)=>{i.d(t,{LottiePlayer:()=>R});var r=i(434518),s=i(763812),a=i(351118),n=i(251964),o=i(42459),_=i(173086),d=i(641771),h=i(264508),c=i(838086),l=i(157951),u=i(150195),p=i(273808),f=i(908575),w=i(351901),v=(0,s._)("_events"),b=(0,s._)("_worker"),g=(0,s._)("_options"),y=(0,s._)("_canvas"),m=(0,s._)("_destroyed"),E=(0,s._)("_initialized"),P=(0,s._)("_startInitialization"),O=(0,s._)("_initializePromise"),k=(0,s._)("_destroy"),I=(0,s._)("_render"),A=(0,s._)("_setOptions"),C=(0,s._)("_createPlayerMethodProxy"),j=(0,s._)("_loadAnimationUrl"),S=(0,s._)("_transferableOptions"),L=(0,s._)("_setName"),T=(0,s._)("_setSize"),q=(0,s._)("_setScale"),D=(0,s._)("_setCanvas"),N=(0,s._)("_attachEventTask"),x=(0,s._)("_destroyHandler");class R extends _.EventDispatcher{init(){if((0,r._)(this,E)[E]||!(0,r._)(this,P)[P])return(0,r._)(this,O)[O];const e=(async()=>{const[{Transfer:e}]=await Promise.all([(0,w.loadThreads)(),(0,r._)(this,j)[j]()]);if(!(0,r._)(this,g)[g].animationData)throw new d.EmptyAnimationDataError;const t=(0,r._)(this,S)[S],i=(0,r._)(this,y)[y].transferControlToOffscreen();await(0,r._)(this,b)[b].methods.createPlayer(e({canvas:i,options:t,id:this.id},[i]))})();return e.then((()=>{(0,r._)(this,E)[E]=!0,(0,r._)(this,g)[g].autoplay&&this.play()})),(0,r._)(this,P)[P](e),(0,r._)(this,P)[P]=void 0,(0,r._)(this,O)[O]}get worker(){return(0,r._)(this,b)[b]}get canvas(){return(0,r._)(this,y)[y]}get options(){return(0,r._)(this,g)[g]}get initialized(){return(0,r._)(this,E)[E]}get initializing(){return!(0,r._)(this,P)[P]&&!(0,r._)(this,E)[E]}show(){(0,r._)(this,y)[y].style.visibility="unset"}hide(){(0,r._)(this,y)[y].style.visibility="hidden"}setOptions(e){Object.assign((0,r._)(this,g)[g],e)}setSpeed(e=1){(0,r._)(this,g)[g].speed!==e&&((0,r._)(this,g)[g].speed=e)}setDirection(e=l.LottiePlayerDirection.FORWARD){(0,r._)(this,g)[g].direction!==e&&((0,r._)(this,g)[g].direction=e)}setCache(e=!0){(0,r._)(this,g)[g].cache=e}setStrictCache(e=!0){(0,r._)(this,g)[g].strictCache=e}setLazyLoading(e=!0){(0,r._)(this,g)[g].lazyLoading=e}setAutoplay(e=!0){(0,r._)(this,g)[g].autoplay=e}setLoop(e=!0){(0,r._)(this,g)[g].loop=e}setColor(e=null){if(Array.isArray(e)){const[t,i,r,s=1]=e;e=`rgba(${t},${i},${r},${s})`}else"currentColor"===e&&(e=getComputedStyle((0,r._)(this,y)[y]).color);(0,r._)(this,g)[g].color=e}setStartFrameIndex(e){void 0!==e&&((0,r._)(this,g)[g].startFrameIndex=e)}async render(...e){const t=await(0,r._)(this,I)[I](...e);if(!t)return;const i=new OffscreenCanvas((0,r._)(this,y)[y].width,(0,r._)(this,y)[y].height),s=i.getContext("2d");return s?(s.drawImage(t,0,0),i):void 0}destroy(){if(this.initialized)return(0,r._)(this,k)[k]();this.dispatchEvent("destroy")}constructor(e,t){super(),Object.defineProperty(this,C,{value:M}),Object.defineProperty(this,j,{value:U}),Object.defineProperty(this,S,{get:z,set:void 0}),Object.defineProperty(this,L,{value:G}),Object.defineProperty(this,T,{value:F}),Object.defineProperty(this,q,{value:B}),Object.defineProperty(this,D,{value:W}),Object.defineProperty(this,N,{value:H}),Object.defineProperty(this,x,{value:$}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),this.id=(0,a.getRandomString)(6),(0,r._)(this,y)[y]=document.createElement("canvas"),(0,r._)(this,m)[m]=!1,(0,r._)(this,E)[E]=!1,(0,r._)(this,O)[O]=new Promise((e=>{(0,r._)(this,P)[P]=e})),this.play=(0,r._)(this,C)[C]("play"),this.playPart=(0,r._)(this,C)[C]("playPart"),this.playTo=(0,r._)(this,C)[C]("playTo"),this.pause=(0,r._)(this,C)[C]("pause"),this.reset=(0,r._)(this,C)[C]("reset"),this.stop=(0,r._)(this,C)[C]("stop"),this.destroyCache=(0,r._)(this,C)[C]("destroyCache"),(0,r._)(this,k)[k]=(0,r._)(this,C)[C]("destroy"),this.paused=(0,r._)(this,C)[C]("paused"),this.state=(0,r._)(this,C)[C]("state"),this.redraw=(0,r._)(this,C)[C]("redraw"),(0,r._)(this,I)[I]=(0,r._)(this,C)[C]("render"),(0,r._)(this,A)[A]=(0,r._)(this,C)[C]("setOptions");const{name:i,loop:s,color:n,width:o,height:_,speed:d,cache:c,autoplay:l,direction:p,strictCache:f,lazyLoading:w,startFrameIndex:K,containers:[Q]}=t;if(!o||!_){const{width:e,height:i}=(0,u.getElementSize)(Q);t.width=e,t.height=i}if(Number(t.width)<=0||Number(t.height)<=0)throw new h.InvalidAnimationSizeError;(0,r._)(this,b)[b]=e,(0,r._)(this,g)[g]={...t},(0,r._)(this,g)[g].containers.forEach((e=>{e.appendChild((0,r._)(this,y)[y])})),(0,r._)(this,L)[L](i),this.setLoop(s),this.setCache(c),this.setColor(n),this.setSpeed(d),(0,r._)(this,T)[T](t),(0,r._)(this,q)[q](t),(0,r._)(this,D)[D](t),this.setAutoplay(l),this.setDirection(p),this.setStrictCache(f),this.setLazyLoading(w),this.setStartFrameIndex(K),(0,r._)(this,g)[g]=new Proxy((0,r._)(this,g)[g],{set:(e,t,i)=>(e[t]=i,(0,r._)(this,A)[A]((0,r._)(this,S)[S]),!0)}),(0,r._)(R,v)[v].forEach((e=>{(0,r._)(this,N)[N](e)})),this.addEventListener("destroy",(0,r._)(this,x)[x].bind(this),{once:!0})}}function M(e){return async(...t)=>{if(!(0,r._)(this,m)[m])return await(0,r._)(this,O)[O],(0,r._)(this,b)[b].methods[e](this.id,...t)}}async function U(){const{animationData:e,animationUrl:t}=(0,r._)(this,g)[g];if(t&&!e){const e=n.LottieDataCache.get(t),i=e||await fetch(t).then((e=>e.blob())).catch((()=>null));if(!i)throw new c.AnimationDataLoadError;e||n.LottieDataCache.set(t,i),(0,r._)(this,g)[g].animationData=i}}function z(){const e={...(0,r._)(this,g)[g]};return delete e.containers,e}function G(e=(0,r._)(this,g)[g].animationUrl||this.id){(0,r._)(this,g)[g].name=e}function F({width:e,height:t}){e&&((0,r._)(this,g)[g].width=Math.trunc(Math.abs(e))),t&&((0,r._)(this,g)[g].height=Math.trunc(Math.abs(t)))}function B({scale:e=1,upscale:t=!0}){(0,r._)(this,g)[g].scale=e,(0,r._)(this,g)[g].upscale=t,t&&window.devicePixelRatio>1&&((0,r._)(this,g)[g].scale+=window.devicePixelRatio-1),(0,r._)(this,y)[y].width=(0,r._)(this,g)[g].width*(0,r._)(this,g)[g].scale,(0,r._)(this,y)[y].height=(0,r._)(this,g)[g].height*(0,r._)(this,g)[g].scale,(0,r._)(this,y)[y].style.width=`${(0,r._)(this,g)[g].width}px`,(0,r._)(this,y)[y].style.height=`${(0,r._)(this,g)[g].height}px`}function W({width:e,height:t,containers:i,className:s}){e&&t&&((0,r._)(this,y)[y].dataset.testid="lottie",(0,r._)(this,g)[g].containers=i,s&&s.split(" ").forEach((e=>{e&&(0,r._)(this,y)[y].classList.add(e)})))}function H(e){const t=(0,p.getPlayerEventId)({event:e,player:this});(0,r._)(this,b)[b].tasks.set(t,new o.LottiePlayerEventTask(t,(t=>{(0,r._)(this,N)[N](e),this.dispatchEvent(e,t)})))}function $(){(0,r._)(this,m)[m]||((0,r._)(this,m)[m]=!0,(0,r._)(this,y)[y].remove(),this.removeEventListeners(),(0,r._)(this,b)[b].tasks.forEach((e=>{(0,f.isPlayerEvent)({event:e,player:this})&&(0,r._)(this,b)[b].tasks.delete(e.taskUID)})),(0,r._)(this,g)[g].strictCache||n.LottieDataCache.outdate((0,r._)(this,g)[g].animationUrl))}Object.defineProperty(R,v,{writable:!0,value:["ready","destroy","firstFrame","loopComplete","enterFrame"]})},157951:(e,t,i)=>{i.d(t,{LottiePlayerDirection:()=>r});var r=function(e){return e[e.FORWARD=1]="FORWARD",e[e.BACKWARD=-1]="BACKWARD",e}({})},273808:(e,t,i)=>{function r({event:e,player:{id:t}}){return`${e}${t}`}i.d(t,{getPlayerEventId:()=>r})},908575:(e,t,i)=>{function r({event:e,player:t}){return e.taskUID.endsWith(t.id)}i.d(t,{isPlayerEvent:()=>r})},150195:(e,t,i)=>{function r(e){const{paddingTop:t,paddingBottom:i,paddingLeft:r,paddingRight:s,borderTopWidth:a,borderBottomWidth:n,borderLeftWidth:o,borderRightWidth:_}=getComputedStyle(e),d=parseInt(r)+parseInt(s),h=parseInt(t)+parseInt(i),c=parseInt(o)+parseInt(_),l=parseInt(a)+parseInt(n);return{width:Math.trunc(parseInt(e.style.width)||e.clientWidth-d-c||e.offsetWidth)||0,height:Math.trunc(parseInt(e.style.height)||e.clientHeight-h-l||e.offsetHeight)||0}}i.d(t,{getElementSize:()=>r})},505471:(e,t,i)=>{i.d(t,{isIntersectionObserverSupported:()=>r});const r="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},184330:(e,t,i)=>{i.d(t,{isSafari:()=>s});var r=i(958396);const s="safari"in globalThis||r.userAgent&&(/\b(iPad|iPhone|iPod)\b/.test(r.userAgent)||r.userAgent.match("Safari")&&!r.userAgent.match("Chrome"))},488577:(e,t,i)=>{i.d(t,{isTouchSupported:()=>r});const r="undefined"!=typeof window&&("ontouchstart"in window||"DocumentTouch"in window)},351901:(e,t,i)=>{i.d(t,{loadThreads:()=>s});var r=i(351118);function s(){return(0,r.asyncImportLoader)((async()=>{const{EsThread:e,Transfer:t}=await Promise.all([i.e(81399),i.e("langs/web/threads-es")]).then(i.bind(i,808849));return{EsThread:e,Transfer:t}}))}},958396:(e,t,i)=>{i.d(t,{userAgent:()=>r});const r="undefined"!=typeof navigator?navigator.userAgent:null}},d={};function __webpack_require__(e){var t=d[e];if(void 0!==t)return t.exports;var i=d[e]={exports:{}};return _[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=_,e=[],__webpack_require__.O=(t,i,r,s)=>{if(!i){var a=1/0;for(d=0;d<e.length;d++){for(var[i,r,s]=e[d],n=!0,o=0;o<i.length;o++)(!1&s||a>=s)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](i[o])))?i.splice(o--,1):(n=!1,s<a&&(a=s));if(n){e.splice(d--,1);var _=r();void 0!==_&&(t=_)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,r,s]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var s=Object.create(null);__webpack_require__.r(s);var a={};t=t||[null,i({}),i([]),i(i)];for(var n=2&r&&e;"object"==typeof n&&!~t.indexOf(n);n=i(n))Object.getOwnPropertyNames(n).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,__webpack_require__.d(s,a),s},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,i)=>(__webpack_require__.f[i](e,t),t)),[])),__webpack_require__.u=e=>61037===e?"web/chunks/grip-lib.e290cff5.js":81399===e?"web/chunks/threads-es.ce40a11c.js":75477===e?"chunks/"+e+".2ff50533.js":void 0,__webpack_require__.miniCssF=e=>{},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},__webpack_require__.l=(e,t,i,s)=>{if(r[e])r[e].push(t);else{var a,n;if(void 0!==i)for(var o=document.getElementsByTagName("script"),_=0;_<o.length;_++){var d=o[_];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+i){a=d;break}}a||(n=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack","vk:"+i),a.src=e),r[e]=[t];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(c);var s=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(i))),t)return t(i)},c=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),n&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",s=__webpack_require__.u,a=__webpack_require__.e,n={},o={},__webpack_require__.u=function(e){return s(e)+(n.hasOwnProperty(e)?"?"+n[e]:"")},__webpack_require__.e=function(e){return a(e).catch((function(t){var i=o.hasOwnProperty(e)?o[e]:3;if(i<1){var r=s(e);throw t.message="Loading chunk "+e+" failed after 3 retries.\n("+r+")",t.request=r,t}return new Promise((function(t){var r,s=3-i+1;setTimeout((function(){var r="cache-bust=true&retry-attempt="+s;n[e]=r,o[e]=i-1,t(__webpack_require__.e(e))}),(r=s,1e3*Math.pow(3,r)))}))}))},(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={26229:0};__webpack_require__.f.j=(t,i)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else if(/^(23592|26229|61037|81399)$/.test(t)){var s=new Promise(((i,s)=>r=e[t]=[i,s]));i.push(r[2]=s);var a=__webpack_require__.p+__webpack_require__.u(t),n=new Error;__webpack_require__.l(a,(i=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",n.name="ChunkLoadError",n.type=s,n.request=a,r[1](n)}}),"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=t=>0===e[t];var t=(t,i)=>{var r,s,[a,n,o]=i,_=0;if(a.some((t=>0!==e[t]))){for(r in n)__webpack_require__.o(n,r)&&(__webpack_require__.m[r]=n[r]);if(o)var d=o(__webpack_require__)}for(t&&t(i);_<a.length;_++)s=a[_],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return __webpack_require__.O(d)},i=self.webpackChunkvkweb=self.webpackChunkvkweb||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{var e={},t={};__webpack_require__.f.vkLangs=(i,r)=>{if("string"==typeof i&&i.startsWith("langs/web/")){var s=t[i.replace("langs/web/","")];if(s){var a=__webpack_require__.o(e,i)?e[i]:void 0;if(0!==a)if(a)r.push(a[2]);else{var n=new Promise(((t,r)=>a=e[i]=[t,r]));r.push(a[2]=n);var o="?v="+(window.vk&&window.vk.cfg?window.vk.cfg.langs_force_version:0)+"&p=web&l="+window.vk.lang||"",_=self.location.origin+/js/+i+"."+s+".js"+o,d=new Error;__webpack_require__.l(_,(t=>{if(__webpack_require__.o(e,i)&&(0!==(a=e[i])&&(e[i]=void 0),a)){a[0]();var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading lang "+i+" failed.\n("+r+": "+s+")",d.name="LangLoadError",d.type=r,d.request=s,setTimeout((()=>{throw d}),0)}}),"lang-"+i)}}}};var i=self.langChunkLoadingGlobal||(e=>self.addLangKeys(e[1]));self.langChunkLoadingGlobal=((t,i)=>{var[r]=i;t&&t(i),__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0}).bind(null,i)})(),self.__declaredGlobals||(self.__declaredGlobals=new Set),self.__usedGlobals||(self.__usedGlobals={buffered:new Set,bufferedErrors:new Set,add(e){this.buffered.add(e)},addError(e){this.bufferedErrors.add(e)},listen(e){(this.buffered.size||this.bufferedErrors.size)&&e(Array.from(this.bufferedErrors),Array.from(this.buffered));const t=this.add.bind(this),i=this.addError.bind(this);this.add=i=>{e([],[i]),t(i)},this.addError=t=>{e([t],[]),i(t)}}}),__webpack_require__._dG=function(e,t){if(self.partConfigEnabled&&self.partConfigEnabled("global_variable_wrapper")&&!self.__declaredGlobals.has(e)){self.__declaredGlobals.add(e);try{let i=t;Object.defineProperty(self,e,{enumerable:!0,configurable:!0,get:()=>(self.__usedGlobals.add(e),i),set(e){i=e}})}catch(i){self.__usedGlobals.addError(e),window[e]=t}}else window[e]=t;return t};var h=__webpack_require__.O(void 0,[23592],(()=>__webpack_require__(993016)));h=__webpack_require__.O(h)})();