/*! For license information please see 5252.fe5be00e.js.LICENSE.txt */
try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[5252],{48265:(e,t,i)=>{var r,o,n;i.d(t,{BS:()=>n,Br:()=>c,IT:()=>r,Le:()=>a,ci:()=>s,g0:()=>d,oB:()=>l}),(o=r||(r={})).Init="VKWebAppInit",o.GetAuthToken="VKWebAppGetAuthToken",o.CallApiMethod="VKWebAppCallAPIMethod",o.GetClientVersion="VKWebAppGetClientVersion",o.Close="VKWebAppClose",o.GetGeodata="VKWebAppGetGeodata",o.StorageGet="VKWebAppStorageGet",o.StorageSet="VKWebAppStorageSet",o.GetUserInfo="VKWebAppGetUserInfo",o.OpenApp="VKWebAppOpenApp",o.AllowNotifications="VKWebAppAllowNotifications",o.DenyNotifications="VKWebAppDenyNotifications",o.GetPhoneNumber="VKWebAppGetPhoneNumber",o.GetEmail="VKWebAppGetEmail",o.StorageGetKeys="VKWebAppStorageGetKeys",o.OpenPayForm="VKWebAppOpenPayForm",o.ActionDone="VKWebAppActionDone",o.AddToFavorites="VKWebAppAddToFavorites",o.AddToMenu="VKWebAppAddToMenu",o.CheckAllowedScopes="VKWebAppCheckAllowedScopes",o.AllowMessagesFromGroup="VKWebAppAllowMessagesFromGroup",o.JoinGroup="VKWebAppJoinGroup",o.LeaveGroup="VKWebAppLeaveGroup",o.GetGroupInfo="VKWebAppGetGroupInfo",o.CreateHash="VKWebAppCreateHash",o.Alert="VKWebAppAlert",o.GetConfig="VKWebAppGetConfig",o.GetLaunchParams="VKWebAppGetLaunchParams",o.RetargetingPixel="VKWebAppRetargetingPixel",o.ScrollTopStart="VKWebAppScrollTopStart",o.ScrollTopStop="VKWebAppScrollTopStop",o.ShowSlidesSheet="VKWebAppShowSlidesSheet",o.SetTitle="VKWebAppSetTitle",o.ShowImages="VKWebAppShowImages",o.SetLocation="VKWebAppSetLocation",o.CopyText="VKWebAppCopyText",o.ConversionHit="VKWebAppConversionHit",o.Scroll="VKWebAppScroll",o.TrackEvent="VKWebAppTrackEvent",o.ResizeWindow="VKWebAppResizeWindow",o.GetSilentToken="VKWebAppGetSilentToken",o.AuthByExchangeToken="VKWebAppAuthByExchangeToken",o.AppForceLogout="VKWebAppForceLogout",o.ScrollTop="VKWebAppScrollTop",o.Translate="VKWebAppTranslate",o.ShowBannerAd="VKWebAppShowBannerAd",o.HideBannerAd="VKWebAppHideBannerAd",o.CheckBannerAd="VKWebAppCheckBannerAd",o.CheckNativeAds="VKWebAppCheckNativeAds",o.ShowNativeAds="VKWebAppShowNativeAds",o.SetSupportedHandlers="SetSupportedHandlers",o.KeyboardLock="VKWebAppKeyboardLock",o.ShowGoodOrderBox="VKWebAppShowGoodOrderBox",o.SendCustomEvent="VKWebAppSendCustomEvent",function(e){e.BannerAdClosedByUser="VKWebAppBannerAdClosedByUser",e.BannerAdUpdated="VKWebAppBannerAdUpdated",e.ScrollTop="VKWebAppScrollTop",e.UpdateConfig="VKWebAppUpdateConfig",e.ChangeFragment="VKWebAppChangeFragment",e.LocationChanged="VKWebAppLocationChanged",e.ViewHide="VKWebAppViewHide",e.ViewRestore="VKWebAppViewRestore"}(n||(n={}));const a=["VKWebAppAlert","VKWebAppAuthByExchangeToken","VKWebAppChangePassword","VKWebAppGetCustomConfig","VKWebAppLogout","VKWebAppOpenLiveCoverCamera","VKWebAppOpenP2P","VKWebAppPrivacyEditSuccess"],s=["VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetSilentToken","VKWebAppAllowMessagesFromGroup","VKWebAppAllowNotifications","VKWebAppShowImages","VKWebAppShowSlidesSheet","VKWebAppAddToFavorites","VKWebAppAddToMenu","VKWebAppJoinGroup","VKWebAppGetAuthToken","VKWebAppAlert"],l=["SetSupportedHandlers"],d=["VKWebAppCheckAllowedScopes","VKWebAppAllowNotifications","VKWebAppDenyNotifications","VKWebAppGetEmail","VKWebAppGetPhoneNumber"],c=["VKWebAppShowNativeAds","VKWebAppShowBannerAd"]},217570:(e,t,i)=>{i.d(t,{IC:()=>c,PN:()=>l,QU:()=>d,_C:()=>n,gU:()=>r,i8:()=>o,sn:()=>a});const r="5.205",o="2.2.2",n="universal_web",a="vk-sak-sdk",s="vk.com",l=`https://login.${s}`,d=`https://api.${s}`,c=["success","failed"]},9663:(e,t,i)=>{function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{t:()=>r})},918918:(e,t,i)=>{i.d(t,{A:()=>o});var r=i(9663);var o={parse:function(e){if("string"!=typeof e)return{};var t=e.trim().replace(/^[?#&]/,"");return t?t.substring(t.indexOf("?")+1).split("&").reduce((function(e,t){var i=t.split("=");return i[1]&&(e[decodeURIComponent(i[0])]=decodeURIComponent(i[1].replace(/\+/g," "))),e}),{}):{}},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e||null===e)return"";t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),o.forEach((function(t){(0,r.t)(e,t,i[t])}))}return e}({encode:!0},t);var i=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(r,o){var n=e[o];return void 0===n?r:null===n?(t.skipNull||r.push([i(o),""].join("=")),r):Array.isArray(n)?(n.map((function(e){r.push("".concat(i(o),"[]=").concat(i(e)))})).join(),r):(r.push([i(o),i(n)].join("=")),r)}),[]).join("&")}}},214367:(e,t,i)=>{function r(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===i&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}i.d(t,{A:()=>r})},405252:(e,t,i)=>{i.d(t,{W:()=>Np});var r=i(221020),o=i(516427),n=function(){};function a(e,t){var i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined"!=typeof window?window:void 0,n=function(){return e.apply(o,r)},a=function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];r=o,clearTimeout(i),i=setTimeout(n,t)};return a.cancel=function(){clearTimeout(i)},a}var s=i(815287),l=i(543273);const d=(0,s.createContext)({lifecycle:l.Bl,handlers:null,ads:null,stats:null,registerHandlersController:n,registerAdsController:n});const c=()=>{const{host:e}=(0,s.useContext)(d);if(!e)return null;const{buildUrl:t,getIframeRef:i}=e,o=i(),{iframePropsState:n}=e?.getMiniAppState()||{},[a]=n,l=t().toString();return(0,r.Y)("iframe",{...a,ref:o,src:l})};var u=i(356643);const h=e=>(0,s.useMemo)((()=>{const{config:t,...i}=e,{config:r,...n}=u.uH,a=t?.scrollTarget||r.scrollTarget,s=t?.scheme||(e=>e===o.zM2.LIGHT?u.Sp.BRIGHT_LIGHT:u.Sp.SPACE_GRAY)(t?.appearance||r.appearance);return{...n,...i,config:{...r,...t,scheme:s,scrollTarget:a}}}),[e]);function p(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=i(9663);var b,f=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,m.t)(this,"data",{}),(0,m.t)(this,"getItem",(function(e){return t.data.hasOwnProperty(e)?t.data[e]:null})),(0,m.t)(this,"keys",(function(){return Object.keys(t.data)}))}return function(e,t,i){t&&p(e.prototype,t),i&&p(e,i)}(e,[{key:"setItem",value:function(e,t){this.data[e]=String(t)}},{key:"removeItem",value:function(e){delete this.data[e]}},{key:"clear",value:function(){this.data={}}},{key:"length",get:function(){return Object.keys(this.data).length}},{key:"key",value:function(e){return Object.keys(this.data)[e]}}]),e}(),v="vk-ls-dummy",g="test";function _(){if(b)return b;try{if(window.localStorage.setItem(v,g),g!==window.localStorage.getItem(v))throw new Error("localStorage is broken");window.localStorage.removeItem(v),b=window.localStorage}catch(e){b=new f}return b}var y={setItem:function(e,t){return _().setItem(e,t)},getItem:function(e){return _().getItem(e)},removeItem:function(e){return _().removeItem(e)},clear:function(){return _().clear()},length:function(){return _().length},key:function(e){return _().key(e)},keys:function(){var e=_();return function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}(e,f)?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return y.keys().filter((function(t){return t.startsWith(e)}))}};function w(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=[];return t.forEach((function(e){if(e)switch(void 0===e?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(e)){case"string":r.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&r.push(t)}));break;default:r.push("".concat(e))}})),r.join(" ")}const k=new Map,x=new WeakMap;let A,C=0;function P(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>`${t}_${"root"===t?function(e){return e?(x.has(e)||(C+=1,x.set(e,C.toString())),x.get(e)):"0"}(e.root):e[t]}`)).toString()}function S(e){let t=P(e),i=k.get(t);if(!i){const r=new Map;let o;const n=new IntersectionObserver((t=>{t.forEach((t=>{var i;const n=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=n),null==(i=r.get(t.target))||i.forEach((e=>{e(n,t)}))}))}),e);o=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:n,elements:r},k.set(t,i)}return i}function M(e,t,i={},r=A){if(void 0===window.IntersectionObserver&&void 0!==r){const o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof i.threshold?i.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:n,elements:a}=S(i);let s=a.get(e)||[];return a.has(e)||a.set(e,s),s.push(t),n.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(a.delete(e),n.unobserve(e)),0===a.size&&(n.disconnect(),k.delete(o))}}function I({threshold:e,delay:t,trackVisibility:i,rootMargin:r,root:o,triggerOnce:n,skip:a,initialInView:l,fallbackInView:d,onChange:c}={}){var u;const[h,p]=s.useState(null),m=s.useRef(),[b,f]=s.useState({inView:!!l,entry:void 0});m.current=c,s.useEffect((()=>{if(a||!h)return;let s;return s=M(h,((e,t)=>{f({inView:e,entry:t}),m.current&&m.current(e,t),t.isIntersecting&&n&&s&&(s(),s=void 0)}),{root:o,rootMargin:r,threshold:e,trackVisibility:i,delay:t},d),()=>{s&&s()}}),[Array.isArray(e)?e.toString():e,h,o,r,n,a,i,d,t]);const v=null==(u=b.entry)?void 0:u.target,g=s.useRef();h||!v||n||a||g.current===v||(g.current=v,f({inView:!!l,entry:void 0}));const _=[p,b.inView,b.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}var T=i(214367),O="BannerImage-module_container__EO-jm",j="BannerImage-module_image__YUruj",L="BannerImage-module_loaded__iwRnu";(0,T.A)(".BannerImage-module_container__EO-jm{background-color:var(--vkui--color_background_content);max-height:100%;overflow:hidden;position:relative}.BannerImage-module_image__YUruj{height:100%;-o-object-fit:contain;object-fit:contain;opacity:0;width:100%}.BannerImage-module_loaded__iwRnu{opacity:1}");const E={isAvailable:!0,position:{top:!0,bottom:!0},heightType:{compact:!0,regular:!0},orientation:{horizontal:!0,vertical:!0},animated:!0,verticalOverlay:!0,verticalRight:!0},N="reward",D="interstitial",B="banner",R=1,z=2,V=3,H=4,W=5,F={REWARD:N,INTERSTITIAL:D},U="https://ad.mail.ru/adp/",Y="rb_sync_id",G={mobile:/iPhone|iPad|iPod|Android/i.test(window.navigator.userAgent),FLASH_BLOCKED:0,FLASH_READY:1,FLASH_UNKNOWN:2,checkFlashStatus:e=>e(G.FLASH_UNKNOWN)},Z={vpaidJsInterface:"https://ad.mail.ru/static/vpaid-js-interface.swf"},X="q",Q="_SITEID",K="vk_id",q="content_id",J="lang",$="sign",ee="test_mode",te="rnd",ie="type_load",re="rewarded",oe="fpid",ne="last_shown_ids",ae="feature_websdk",se="feature_websdk_reward",le="exp_id",de="exp_group",ce="app_name",ue="version",he="flash",pe="req_initial",me="network_no_ad",be="network_error",fe="mini_apps_ads_response",ve=51478948,ge="motion-ads";function _e(e,t){if(!e||!t)return!1;const i=e/t-1.7625;return Math.abs(i)<.2}function ye(e,t){return e&&t?t>e?"vertical":t<e?"horizontal":null:null}function we(e,t){return e&&t?e/t:1}function ke(e){return e.imageLink?{src:e.imageLink,aspectRatio:we(e.imageWidth,e.imageHeight),orientation:ye(e.imageWidth,e.imageHeight),alternativeAnimation:_e(e.imageWidth,e.imageHeight)}:e.iconLink?{src:e.iconLink,aspectRatio:we(e.iconWidth,e.iconHeight),orientation:ye(e.iconWidth,e.iconHeight),alternativeAnimation:_e(e.iconWidth,e.iconHeight)}:null}function xe(e,t){const{isBannerAlign:i,isBannerSlim:r,isBannerVertical:o,isDesktop:n}=t;let a=80;i&&(a=60),r&&(a=56),o&&(a=n?200:160);const s={width:a,height:a};if(e){const t=s.width;let i=t*e;o?(i=t/e,s.height=Math.min(i,a)):s.width=i}return s}const Ae=({data:e,className:t,badge:i,isBannerVertical:o,isBannerAlign:n,isBannerSlim:a,isDesktop:l})=>{const d=ke(e),[c,u]=(0,s.useState)(!1),h=xe(d?.aspectRatio??null,{isBannerVertical:o,isBannerAlign:n,isBannerSlim:a,isDesktop:l});return(0,r.FD)("div",{className:w(O,t),"data-testid":"adsBannerImageBox",style:{width:h.width,height:h.height},children:[i,(0,r.Y)("img",{className:w(j,c&&L),"data-testid":"adsBannerImage",src:d?.src,onLoad:()=>{u(!0)},alt:"adsBannerImage"})]})};var Ce="BannerImageRich-module_box__9mG1w",Pe="BannerImageRich-module_inner__HbcEl",Se="BannerImageRich-module_animated__bFxjp",Me="BannerImageRich-module_animatedAlt__9ZZIx";(0,T.A)(".BannerImageRich-module_box__9mG1w{height:80px;overflow:hidden;position:relative;width:141px}.BannerImageRich-module_inner__HbcEl{height:100%;left:0;position:absolute;top:0;width:100%}.BannerImageRich-module_animated__bFxjp{-webkit-animation:b 20s linear 0s infinite backwards;-moz-animation:b 20s linear 0s infinite backwards;animation:b 20s linear 0s infinite backwards;-webkit-animation-duration:20s;-moz-animation-duration:20s;animation-duration:20s;background-repeat:no-repeat;-webkit-background-size:cover;background-size:cover;height:100%;width:100%}.BannerImageRich-module_animatedAlt__9ZZIx{-webkit-animation:c 20s linear 0s infinite backwards;-moz-animation:c 20s linear 0s infinite backwards;animation:c 20s linear 0s infinite backwards;background-position-x:center;-webkit-background-size:130% 130%;background-size:130%}@-webkit-keyframes b{0%{background-position:50% 50%}25%{background-position:100% 100%}50%{background-position:50% 50%}75%{background-position:0 0}to{background-position:50% 50%}}@-moz-keyframes b{0%{background-position:50% 50%}25%{background-position:100% 100%}50%{background-position:50% 50%}75%{background-position:0 0}to{background-position:50% 50%}}@keyframes b{0%{background-position:50% 50%}25%{background-position:100% 100%}50%{background-position:50% 50%}75%{background-position:0 0}to{background-position:50% 50%}}@-webkit-keyframes c{0%{background-position-x:50%}25%{background-position-x:100%}50%{background-position-x:50%}75%{background-position-x:0}to{background-position-x:50%}}@-moz-keyframes c{0%{background-position-x:50%}25%{background-position-x:100%}50%{background-position-x:50%}75%{background-position-x:0}to{background-position-x:50%}}@keyframes c{0%{background-position-x:50%}25%{background-position-x:100%}50%{background-position-x:50%}75%{background-position-x:0}to{background-position-x:50%}}");const Ie=({data:e,getRef:t})=>{const i=ke(e);return(0,r.Y)("div",{className:Ce,"data-testid":"adsBannerImageBox",children:(0,r.Y)("div",{className:Pe,children:i&&(0,r.Y)("div",{ref:t,style:{backgroundImage:`url("${i.src}")`},className:w(Se,i.alternativeAnimation&&Me)},i.src)})})};var Te=i(110577);const Oe=e=>(0,r.Y)(Te.u,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"logo_vk_ads_16",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,r.Y)("path",{fillRule:"evenodd",d:"M1.5 7.74c0-2.942 0-4.412.914-5.326S4.798 1.5 7.74 1.5h.52c2.942 0 4.412 0 5.326.914s.914 2.384.914 5.326v.52c0 2.942 0 4.412-.914 5.326s-2.384.914-5.326.914h-.52c-2.942 0-4.412 0-5.326-.914S1.5 11.202 1.5 8.26zm11.27-3.515a.52.52 0 0 1 .333.886l-1.22 1.22a.65.65 0 0 1-.534.186l-.837-.068-1.039 1.039q.085.241.086.51a1.56 1.56 0 1 1-.985-1.45L9.593 5.53l-.101-.87a.65.65 0 0 1 .186-.535l1.22-1.22a.52.52 0 0 1 .886.333l.04.931zm-4.423-.37a4.16 4.16 0 1 0 3.797 3.783l-1.387-.117A2.798 2.798 0 1 1 8.509 5.25z",clipRule:"evenodd"})});var je=i(876427),Le=i(286347),Ee="TextClamp-module_root__2klDA",Ne="TextClamp-module_rootSingleLine__SVfeL";(0,T.A)(".TextClamp-module_root__2klDA{display:block;overflow:hidden;white-space:pre-wrap}.TextClamp-module_root__2klDA:not(.TextClamp-module_rootSingleLine__SVfeL){--lines:1;display:-webkit-box;white-space:normal;-webkit-line-clamp:1;-webkit-line-clamp:var(--lines,1);line-clamp:1;line-clamp:var(--lines,1);-webkit-box-orient:vertical;word-break:break-word}.TextClamp-module_rootSingleLine__SVfeL{text-overflow:ellipsis;white-space:nowrap}.TextClamp-module_rootPreserveWhitespaces__Upzna{white-space:pre-wrap}");const De=({lines:e,children:t,testLocator:i,className:o})=>(0,r.Y)("div",{"data-testid":i,className:w(Ee,1===e&&Ne,o),style:{"--lines":e},children:t}),Be=(0,s.createContext)({getLang:()=>""});function Re(e){const t={getLang:e.getLang};return(0,r.Y)(Be.Provider,{value:t,children:e.children})}function ze(){return(0,s.useContext)(Be)}var Ve="AdvertisingLabel-module_label__69QNd",He="AdvertisingLabel-module_labelMobile__jvzx6",We="AdvertisingLabel-module_labelSlim__EbNtG",Fe="AdvertisingLabel-module_animated__jjvGh",Ue="AdvertisingLabel-module_animatedMobile__a0-Lb",Ye="AdvertisingLabel-module_labelBottom__q81Sv",Ge="AdvertisingLabel-module_icon__D7zm4",Ze="AdvertisingLabel-module_iconAnimated__wR-qL",Xe="AdvertisingLabel-module_domainIcon__TrWoL",Qe="AdvertisingLabel-module_favorite__6d7R1",Ke="AdvertisingLabel-module_favoriteSlim__SiASy",qe="AdvertisingLabel-module_favoriteAnimated__9Gw-k",Je="AdvertisingLabel-module_favoriteBefore__5J4V0",$e="AdvertisingLabel-module_item__fmLNv";(0,T.A)(".AdvertisingLabel-module_label__69QNd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;color:var(--vkui--color_text_secondary);height:12px;margin-bottom:2px}.AdvertisingLabel-module_label__69QNd.AdvertisingLabel-module_labelMobile__jvzx6{color:var(--vkui--color_text_tertiary)}.AdvertisingLabel-module_label__69QNd.AdvertisingLabel-module_labelSlim__EbNtG{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-bottom:0;margin-top:0}.AdvertisingLabel-module_animated__jjvGh{color:var(--vkui--color_text_tertiary)}.AdvertisingLabel-module_animated__jjvGh.AdvertisingLabel-module_animatedMobile__a0-Lb{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;overflow:hidden;right:10px;text-overflow:ellipsis;white-space:nowrap}.AdvertisingLabel-module_label__69QNd.AdvertisingLabel-module_labelBottom__q81Sv{margin-bottom:0}.AdvertisingLabel-module_icon__D7zm4{color:var(--vkui--color_icon_tertiary);height:12px;margin-right:4px;width:12px}.AdvertisingLabel-module_icon__D7zm4.AdvertisingLabel-module_iconAnimated__wR-qL{height:12px;width:12px}.AdvertisingLabel-module_domainIcon__TrWoL{margin-right:4px}.AdvertisingLabel-module_favorite__6d7R1{color:var(--vkui--color_accent_orange);margin-left:2px}.AdvertisingLabel-module_favoriteSlim__SiASy{margin-left:0;margin-right:2px}.AdvertisingLabel-module_favoriteAnimated__9Gw-k{margin-right:4px}.AdvertisingLabel-module_favorite__6d7R1.AdvertisingLabel-module_favoriteBefore__5J4V0{margin-left:0;margin-right:2px}.AdvertisingLabel-module_item__fmLNv{border:.5px solid var(--vkui--color_separator_primary2x);border-radius:6px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:var(--vkui--color_text_tertiary);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:20px;margin-right:4px;padding:0 6px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center}");const et=" · ";function tt(e,t){let i=e;return t.ageRestrictions&&(i+=` ${t.ageRestrictions}`),i}function it(e,t,i){const r=e.advertisingLabel??t;return i?tt(r,e):function(e,t){let i=tt(e,t);if(e.length<=10&&(t.domain||t.rating)){const e=t.rating||t.domain;i+=`${et}${e}`}return i}(r,e)}const rt=({data:e,noMargin:t,className:i,isBannerAnimated:n,isDesktop:a})=>{const{getLang:s}=ze(),l=it(e,s("apps_ad_subtitle_prefix"),n),d=tt(e.advertisingLabel??s("apps_ad_subtitle_prefix"),e),c=a?16:12;return(0,r.Y)(o.HLL,{level:"1",className:w(Ve,!a&&He,t&&Ye,n&&Fe,n&&!a&&Ue,i),"data-testid":"adsBannerAdvertisingLabel",children:n?(0,r.FD)(r.FK,{children:[!a&&(0,r.Y)("div",{className:w(Ge,Ze),children:(0,r.Y)(Oe,{width:c,height:c})}),l,e.domain&&(0,r.FD)(r.FK,{children:[et,(0,r.Y)("div",{className:Xe,children:(0,r.Y)(o.euF,{src:e.iconLink,size:c})}),e.domain]}),e.rating&&(0,r.FD)(r.FK,{children:[et,(0,r.Y)(je.x,{className:w(Qe,qe),width:c,height:c}),e.rating]})]}):(0,r.FD)(r.FK,{children:[(0,r.Y)("div",{className:Ge,children:(0,r.Y)(Oe,{width:12,height:12})}),!e.rating&&l,e.rating&&(0,r.FD)(r.FK,{children:[d,et,(0,r.Y)(Le.j,{className:w(Qe,Je),width:c,height:c}),e.rating]})]})})},ot=({data:e})=>{const{getLang:t}=ze(),i=it(e,t("apps_ad_subtitle_prefix"),!0),n=i.length>=14;return(0,r.Y)(o.HLL,{level:"1",className:w(Ve,We),"data-testid":"adsBannerAdvertisingLabel",children:(0,r.FD)(r.FK,{children:[(0,r.Y)("div",{className:$e,children:i}),!n&&e.domain&&!e.rating&&(0,r.Y)("div",{className:$e,children:e.domain}),!n&&e.rating&&(0,r.FD)("div",{className:$e,children:[(0,r.Y)(Le.j,{className:w(Qe,Ke)}),e.rating]}),(0,r.Y)(De,{lines:1,children:e.disclaimer??e.description??""})]})})};var nt="BannerMiddle-module_box__KSeCt",at="BannerMiddle-module_scroll__cvOoq",st="BannerMiddle-module_scrollMobile__LlF50",lt="BannerMiddle-module_inner__wg6JA",dt="BannerMiddle-module_innerShort__TeHE4",ct="BannerMiddle-module_innerMobile__xwvaA",ut="BannerMiddle-module_bottomBadge__rViIi",ht="BannerMiddle-module_bottomBadgeMobile__5Pz-U",pt="BannerMiddle-module_gradient__-UGl4",mt="BannerMiddle-module_subtitle__Sv3bk",bt="BannerMiddle-module_subtitleMoblie__xlyZU",ft="BannerMiddle-module_title__OqHCs",vt="BannerMiddle-module_titleMoblie__JqAc0",gt="BannerMiddle-module_label__Emx4x";(0,T.A)(".BannerMiddle-module_box__KSeCt{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:80px;position:relative;text-align:left;width:100%}.BannerMiddle-module_scroll__cvOoq{bottom:2px;left:0;overflow:hidden;overflow-y:scroll;position:absolute;top:2px;width:100%}.BannerMiddle-module_scroll__cvOoq.BannerMiddle-module_scrollMobile__LlF50{overflow:hidden;padding-right:10px}.BannerMiddle-module_scroll__cvOoq::-webkit-scrollbar{width:6px}.BannerMiddle-module_scroll__cvOoq::-webkit-scrollbar-thumb{background:#babfc4;border-radius:12px;display:none}.BannerMiddle-module_scroll__cvOoq:hover::-webkit-scrollbar-thumb{display:unset}.BannerMiddle-module_inner__wg6JA{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;position:absolute;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;left:0;padding-bottom:6px;padding-right:10px;padding-top:6px;top:0;white-space:break-spaces;width:100%}.BannerMiddle-module_innerShort__TeHE4{max-height:-webkit-calc(100% - 28px);max-height:-moz-calc(100% - 28px);max-height:calc(100% - 28px);overflow:hidden}.BannerMiddle-module_innerMobile__xwvaA{max-height:-webkit-calc(100% - 26px);max-height:-moz-calc(100% - 26px);max-height:calc(100% - 26px);padding-right:0;padding-top:4px;right:10px;width:unset}.BannerMiddle-module_bottomBadge__rViIi{bottom:6px;left:0;position:absolute}.BannerMiddle-module_bottomBadge__rViIi.BannerMiddle-module_bottomBadgeMobile__5Pz-U{bottom:4px}.BannerMiddle-module_gradient__-UGl4{background:-webkit-gradient(linear,left top,left bottom,from(var(--vkui--gradient_tint)));background:-webkit-linear-gradient(top,var(--vkui--gradient_tint));background:-moz-linear-gradient(top,var(--vkui--gradient_tint));background:linear-gradient(to bottom,var(--vkui--gradient_tint));bottom:0;height:16px;left:0;position:absolute;right:10px;z-index:1}.BannerMiddle-module_subtitle__Sv3bk{color:var(--vkui--color_text_subhead);margin-top:3px}.BannerMiddle-module_subtitle__Sv3bk.BannerMiddle-module_subtitleMoblie__xlyZU{font-size:12px;line-height:14px;margin-top:1px}.BannerMiddle-module_title__OqHCs{color:var(--vkui--color_text_primary)}.BannerMiddle-module_title__OqHCs.BannerMiddle-module_titleMoblie__JqAc0{font-size:14px;line-height:18px}.BannerMiddle-module_label__Emx4x{margin-bottom:4px}");function _t(e){const t=e.title??"",i=e.description??"";return t.length<=60&&i.length<=65}const yt=({data:e,isDesktop:t})=>{const i=!t||_t(e);return(0,r.FD)("div",{className:nt,children:[!i&&(0,r.Y)("div",{className:pt}),(0,r.FD)("div",{className:w(at,!t&&st),children:[(0,r.Y)("div",{className:w(lt,i&&dt,!t&&ct),children:(0,r.Y)(o.ZAh,{sizeY:"compact",children:i?(0,r.FD)(r.FK,{children:[(0,r.Y)(o.$ji,{level:"1",weight:"2",className:w(ft,!t&&vt),useAccentWeight:!0,children:(0,r.Y)(De,{lines:1,children:e.title})}),(0,r.Y)(o.LEX,{weight:"3","data-testid":"adsBannerSubtitle",className:w(mt,!t&&bt),children:(0,r.Y)(De,{lines:t?1:2,children:e.description})})]}):(0,r.FD)(r.FK,{children:[(0,r.Y)(rt,{data:e,className:gt,isBannerAnimated:!0,isDesktop:t}),(0,r.Y)(o.$ji,{level:"1",weight:"2",className:ft,useAccentWeight:!0,children:e.title}),(0,r.Y)(o.LEX,{weight:"3","data-testid":"adsBannerSubtitle",className:mt,children:e.description})]})})}),i&&(0,r.Y)(rt,{data:e,className:w(ut,!t&&ht),isBannerAnimated:!0,isDesktop:t})]})]})};var wt={button:"AdChoices-module_button__rYVkD",buttonLarge:"AdChoices-module_buttonLarge__pGja3",icon:"AdChoices-module_icon__h-unN",item:"AdChoices-module_item__r6wG9",text:"AdChoices-module_text__KzBVq",hidden:"AdChoices-module_hidden__ZrnjU",popup:"AdChoices-module_popup__uUiy-",popupFullscreen:"AdChoices-module_popupFullscreen__z2XDs"};(0,T.A)(".AdChoices-module_button__rYVkD{height:auto}.AdChoices-module_buttonLarge__pGja3{height:24px;padding-left:4px;width:24px}.AdChoices-module_icon__h-unN.AdChoices-module_icon__h-unN{padding:initial}.AdChoices-module_item__r6wG9.AdChoices-module_item__r6wG9{min-height:32px;padding:0 20px}.AdChoices-module_text__KzBVq{color:var(--vkui--color_text_primary);font-size:13px;font-weight:600;text-align:center}.AdChoices-module_hidden__ZrnjU{display:none}.AdChoices-module_popup__uUiy-{max-width:unset}.AdChoices-module_popupFullscreen__z2XDs{z-index:1;z-index:var(--vkui--z-index-popup,5)}");const kt=({fitParent:e,toggleRef:t,popupOffsetDistance:i,onClose:n,options:a})=>{const s=(0,o.wmp)();return(0,r.Y)(o.EeU,{"data-testid":"adsBannerAdChoicesContainer",className:w(!1===e&&wt.popup,wt.popupFullscreen),popupOffsetDistance:i,onClickCapture:e=>{e.preventDefault()},onClose:n,toggleRef:t,iosCloseItem:(0,r.Y)("div",{className:wt.hidden}),children:a.map((({name:e,onClick:t})=>(0,r.Y)(o.Lzf,{"data-testid":"adsBannerAdChoicesOption",className:w(s.isDesktop&&wt.item),onImmediateClick:e=>{e.preventDefault(),t(),n()},children:(0,r.Y)(o.EYj,{weight:"1",className:w(s.isDesktop&&wt.text),useAccentWeight:!0,children:e})},e)))})};var xt=i(382996),At=i(264593);const Ct="AdChoicesPopup",Pt={info:xt.H,more:At.I},St=({options:e,className:t,popupOffsetDistance:i,fitParent:n,icon:a,size:l})=>{const{getLang:d}=ze(),[c,u]=(0,s.useState)(!1),h=(0,s.useRef)(null),p=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),u((e=>!e))}),[]),m=()=>{u(!1)};if(e&&e.length){const s=Pt[a];return(0,r.FD)(r.FK,{children:[(0,r.Y)("div",{className:t,onClick:p,ref:h,"data-testid":"adsBannerAdChoicesButton",children:(0,r.Y)(o.K0,{className:w(wt.button,"l"===l&&wt.buttonLarge),"aria-label":d("apps_ad_options"),children:(0,r.Y)(s,{className:wt.icon})})}),(0,r.Y)("div",{className:wt.popupBox,id:Ct,onClick:e=>{e.preventDefault(),e.stopPropagation()},children:c&&(0,r.Y)(kt,{onClose:m,options:e,fitParent:n,popupOffsetDistance:i,toggleRef:h})})]})}return null};function Mt(e,t,i=10,r=400){if("function"==typeof window.AdManSDK)e();else if(i)if(document.getElementById("adman3-instance")||"function"==typeof window.AdManSDK)"function"!=typeof window.AdManSDK?setTimeout((()=>{Mt(e,t,--i,r+200)}),r):e();else{const i=document.createElement("script");i.src="//ad.mail.ru/static/vk-adman.js?sdk=1",i.type="application/javascript",i.id="adman3-instance",i.async=!0,i.onload=e,i.onerror=t;const r=document.getElementsByTagName("script")[0];r.parentNode?.insertBefore(i,r)}}var It=i(42032),Tt="BannerVideo-module_video__srKu6",Ot="BannerVideo-module_inner__3Kuwy";(0,T.A)(".BannerVideo-module_video__srKu6{background-color:var(--vkui--color_background_content);height:80px;overflow:hidden;position:relative;width:142px}.BannerVideo-module_inner__3Kuwy{height:100%;width:100%}");const jt=({banner:e,className:t,badge:i,isBannerVertical:o,isBannerSlim:n,isBannerAlign:a,isDesktop:l})=>{const d=(0,s.useRef)(null),c=(0,s.useMemo)((()=>`video${Math.floor(1e4*Math.random())+Math.floor(1e5*Math.random())+(e.bannerID??"")}`),[e.bannerID]),{ctaText:u,video:h,trackingLink:p}=e,m=parseInt(e.bannerID??"0"),b=function(e,t){const{width:i,height:r}=function(e){let t=null;return e.video?.mediafiles.forEach((({width:e,height:i})=>{e&&i&&(null===t||e<t.width)&&(t={width:e,height:i})})),t}(e)??{width:1,height:1};return xe(we(i,r),t)}(e,{isBannerVertical:o,isBannerSlim:n,isBannerAlign:a,isDesktop:l});return(0,s.useEffect)((()=>{let t;const i=async()=>{if(await new Promise(Mt),!window.AdManSDK||null===d.current)return;t=new window.AdManSDK;const i={container:"#"+c,debug:!1,iframe:!0,controls:{progressBar:!0,skip:!1,volume:"leftBottom",cta:!1,replay:!1,playPause:!1,allowClose:!1,disclaimer:!1},controlsSize:"small",slot:"preload",initMode:"preload",autoStart:!0,visit:{settings:{preroll:{allowClose:!1}},sections:{preroll:[{bannerID:m,doOnEmptyResponseFromId:!1,ctaText:u,allowClose:!1,type:"video",isStatByAPI:!0,mediafiles:h?.mediafiles??[],duration:h?.duration??0,hasPause:!1,hasVolume:!0,statistics:e.video?.statistics??[],urlToNavigateOnClick:p,allowReplay:!0,autoReplay:!0,openLinkInPopup:!1}]}}};t.init(i)};try{i()}catch(t){(0,It.Fk)("Failed to init adman player",t)}}),[e]),(0,r.FD)("div",{className:w(Tt,t),style:b,children:[i,(0,r.Y)("div",{className:Ot,children:(0,r.Y)("div",{id:c,ref:d})})]})};function Lt(e){return new Promise((function(t,i){var r=document.createElement("textarea"),o=document.createRange();r.value=e,r.style.position="fixed",r.contentEditable="true",document.body.appendChild(r),r.focus(),r.select(),o.selectNodeContents(r);var n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(o)),r.setSelectionRange(0,999999);try{document.execCommand("copy")?t(!0):i(new Error("copy failed"))}catch(e){i(e)}n&&n.removeAllRanges(),document.body.removeChild(r)}))}function Et(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e).then((function(){return!0}))}(e).catch((function(){return Lt(e)})):Lt(e)}function Nt(e){e?.forEach((e=>{(new Image).src=e}))}function Dt(e,t){let i=e;const r=t?.ageRestrictions??t?.age_restrictions;return r&&(i+=` · ${r}`),i}function Bt(e){let t="";return e.image&&(t=e.image),e.image_600x600&&(t=e.image_600x600),e.imageLink&&(t=e.imageLink),t}function Rt(e,t){return e?.statistics?.filter((e=>e.type===t)).map((({url:e})=>e))}function zt(e){let t=null;try{t=e.split("#")[1]}catch(e){(0,It.Fk)("Failed to extract LeadAds hash",e)}return t}function Vt(e,t){return e.map((e=>({name:e.name,onClick:()=>{"default"===e.type?e.clickLink?window.open(e.clickLink,"_blank")?.focus():e.url&&((new Image).src=e.url):"copy"===e.type&&Et(e.copyText),e.shouldCloseAd&&t()}})))}function Ht(e){return e.map((({slot:e})=>e))}function Wt(e){return e.map((({reason:e})=>e))}function Ft(e){return e.data.type===ge}function Ut(e){return e.type===ge}function Yt(e){return e.clientHeight>1.5*document.documentElement.clientHeight}const Gt=[-90,90],Zt=["landscape-secondary","landscape-primary"],Xt=()=>{if(void 0!==window.orientation)return Gt.includes(Number(window.orientation));const{screen:e}=window,t=(e.orientation||{}).type||e.mozOrientation||e.msOrientation;return Zt.includes(t)};const Qt=()=>{const[e,t]=(0,s.useState)(Xt()),i=()=>{t(Xt())};return(0,s.useEffect)((()=>(function(e){window.screen?.orientation?window.screen.orientation.addEventListener("change",e):window.addEventListener("orientationchange",e)}(i),()=>function(e){window.screen?.orientation?window.screen.orientation.removeEventListener("change",e):window.removeEventListener("orientationchange",e)}(i))),[]),e};var Kt={root:"AdBannerV2-module_root__iLAc7",rootMaxWidth:"AdBannerV2-module_rootMaxWidth__Rfly-",withBorder:"AdBannerV2-module_withBorder__RI-W7",image:"AdBannerV2-module_image__yHZzJ",before:"AdBannerV2-module_before__IclWQ",beforeVertical:"AdBannerV2-module_beforeVertical__8Wqs7",bannerContainer:"AdBannerV2-module_bannerContainer__uh23a",bannerTop:"AdBannerV2-module_bannerTop__ftw6f",bannerBottom:"AdBannerV2-module_bannerBottom__xLNmC",bannerAlign:"AdBannerV2-module_bannerAlign__A1cBk",bannerAlignMobile:"AdBannerV2-module_bannerAlignMobile__V-slu",bannerMobile:"AdBannerV2-module_bannerMobile__7atur",bannerVertical:"AdBannerV2-module_bannerVertical__40yBE",bannerRight:"AdBannerV2-module_bannerRight__JNJ89",bannerLeft:"AdBannerV2-module_bannerLeft__giBVw",blur:"AdBannerV2-module_blur__YcFkD",after:"AdBannerV2-module_after__otE6y",afterSlim:"AdBannerV2-module_afterSlim__eqMOJ",content:"AdBannerV2-module_content__8SA6z",contentVertical:"AdBannerV2-module_contentVertical__ciUBy",info:"AdBannerV2-module_info__WEkWS",infoAlignMobile:"AdBannerV2-module_infoAlignMobile__r-Pct",infoVertical:"AdBannerV2-module_infoVertical__9eq66",infoAnimated:"AdBannerV2-module_infoAnimated__Ro4g8",infoAnimatedMobile:"AdBannerV2-module_infoAnimatedMobile__ThMwQ",infoSlim:"AdBannerV2-module_infoSlim__4iYat",roundBorder:"AdBannerV2-module_roundBorder__8j6a8",roundBorderMobile:"AdBannerV2-module_roundBorderMobile__uK0WR",roundBorderTop:"AdBannerV2-module_roundBorderTop__IdACu",middle:"AdBannerV2-module_middle__aO5gQ",middleAlign:"AdBannerV2-module_middleAlign__AS0xn",middleVertical:"AdBannerV2-module_middleVertical__r3rg0",middleVerticalMobile:"AdBannerV2-module_middleVerticalMobile__bHp8q",middleSlim:"AdBannerV2-module_middleSlim__u6r4V",overflowFix:"AdBannerV2-module_overflowFix__2xxFh",bannerVerticalResize:"AdBannerV2-module_bannerVerticalResize__vrJ4j",bannerSlim:"AdBannerV2-module_bannerSlim__zYQuk",titleSlim:"AdBannerV2-module_titleSlim__hlGBE",subtitle:"AdBannerV2-module_subtitle__Era4x",bannerVerticalBottom:"AdBannerV2-module_bannerVerticalBottom__Jc2gN",bannerVerticalBottomMobile:"AdBannerV2-module_bannerVerticalBottomMobile__0HXwL",animated:"AdBannerV2-module_animated__TAeHi",animatedMobile:"AdBannerV2-module_animatedMobile__7NXQ8",animatedButton:"AdBannerV2-module_animatedButton__MLDAV",animatedButtonMobile:"AdBannerV2-module_animatedButtonMobile__5mTIp",animatedAfter:"AdBannerV2-module_animatedAfter__mlvh1",animatedAfterMobile:"AdBannerV2-module_animatedAfterMobile__Yr8vQ"};(0,T.A)(".AdBannerV2-module_root__iLAc7{background-color:var(--vkui--color_background_content);border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;position:relative}.AdBannerV2-module_rootMaxWidth__Rfly-{margin:0 auto;max-width:1065px}.AdBannerV2-module_withBorder__RI-W7{border-bottom:var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha);border-top:var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha)}.AdBannerV2-module_root__iLAc7.AdBannerV2-module_root__iLAc7.AdBannerV2-module_root__iLAc7{text-decoration:none}.AdBannerV2-module_image__yHZzJ{overflow:hidden}.AdBannerV2-module_image__yHZzJ>img{-o-object-fit:contain;object-fit:contain}.AdBannerV2-module_before__IclWQ{position:relative}.AdBannerV2-module_beforeVertical__8Wqs7{border-bottom:var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha);border-right:unset;z-index:1}.AdBannerV2-module_bannerContainer__uh23a{position:absolute;width:100%;z-index:1}.AdBannerV2-module_bannerTop__ftw6f{top:0}.AdBannerV2-module_bannerBottom__xLNmC{bottom:0;bottom:var(--banner-bottom-offset,0)}.AdBannerV2-module_bannerAlign__A1cBk{border-radius:8px;-webkit-box-shadow:0 0 2px rgba(0,0,0,.08);box-shadow:0 0 2px rgba(0,0,0,.08);-webkit-box-shadow:var(--vkui--elevation3,0 0 2px rgba(0,0,0,.08));box-shadow:var(--vkui--elevation3,0 0 2px rgba(0,0,0,.08));left:0;margin:auto;right:0;width:320px}.AdBannerV2-module_bannerAlign__A1cBk.AdBannerV2-module_bannerAlignMobile__V-slu{border-radius:12px}.AdBannerV2-module_bannerAlign__A1cBk.AdBannerV2-module_bannerBottom__xLNmC{bottom:12px;bottom:-webkit-calc(var(--vkui_internal--safe_area_inset_bottom,0) + 12px);bottom:-moz-calc(var(--vkui_internal--safe_area_inset_bottom,0) + 12px);bottom:calc(var(--vkui_internal--safe_area_inset_bottom, 0) + 12px)}.AdBannerV2-module_bannerMobile__7atur.AdBannerV2-module_bannerAlign__A1cBk.AdBannerV2-module_bannerBottom__xLNmC{bottom:8px;bottom:-webkit-calc(var(--vkui_internal--safe_area_inset_bottom,0) + var(--vkui_internal--safe_area_inset_bottom,0) + 8px);bottom:-moz-calc(var(--vkui_internal--safe_area_inset_bottom,0) + var(--vkui_internal--safe_area_inset_bottom,0) + 8px);bottom:calc(var(--vkui_internal--safe_area_inset_bottom, 0) + var(--vkui_internal--safe_area_inset_bottom, 0) + 8px)}.AdBannerV2-module_bannerAlign__A1cBk.AdBannerV2-module_bannerTop__ftw6f{top:12px}.AdBannerV2-module_bannerMobile__7atur.AdBannerV2-module_bannerAlign__A1cBk.AdBannerV2-module_bannerTop__ftw6f{top:8px}.AdBannerV2-module_bannerVertical__40yBE.AdBannerV2-module_bannerRight__JNJ89{left:unset;right:0}.AdBannerV2-module_bannerAlign__A1cBk.AdBannerV2-module_bannerRight__JNJ89{left:unset;margin:unset;right:12px}.AdBannerV2-module_bannerVertical__40yBE.AdBannerV2-module_bannerLeft__giBVw{left:0;margin:unset}.AdBannerV2-module_bannerVertical__40yBE.AdBannerV2-module_bannerMobile__7atur{border:unset;border-radius:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:100%;outline:var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha);padding:0;width:160px}.AdBannerV2-module_bannerAlign__A1cBk.AdBannerV2-module_bannerLeft__giBVw{left:12px;margin:unset}.AdBannerV2-module_blur__YcFkD{-webkit-filter:blur(20px);filter:blur(20px);height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);width:100%;z-index:-2}.AdBannerV2-module_after__otE6y{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:70px;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;justify-content:flex-end;padding-bottom:10px}.AdBannerV2-module_after__otE6y.AdBannerV2-module_afterSlim__eqMOJ{height:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;padding-bottom:0;padding-left:12px;padding-right:40px}.AdBannerV2-module_content__8SA6z{border-left:var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;max-width:-webkit-calc(100% - 80px);max-width:-moz-calc(100% - 80px);max-width:calc(100% - 80px);max-width:-webkit-calc(100% - var(--banner-image-size,80px));max-width:-moz-calc(100% - var(--banner-image-size,80px));max-width:calc(100% - var(--banner-image-size, 80px));width:100%}.AdBannerV2-module_content__8SA6z.AdBannerV2-module_contentVertical__ciUBy{max-width:100%;--vkui--spacing_size_l:0;padding-top:5px;--vkui--spacing_size_2xs:3px;border-left:unset}.AdBannerV2-module_info__WEkWS{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:24px;position:absolute;right:6px;top:6px;width:24px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;color:var(--vkui--color_icon_secondary)}.AdBannerV2-module_info__WEkWS.AdBannerV2-module_infoAlignMobile__r-Pct{right:4px;top:4px}.AdBannerV2-module_infoVertical__9eq66{background-color:var(--vkui--color_overlay_primary);border-radius:50%;color:var(--vkui--color_icon_contrast);height:20px;right:4px;top:4px;width:20px;z-index:2}.AdBannerV2-module_infoAnimated__Ro4g8{height:24px;width:24px}.AdBannerV2-module_infoAnimatedMobile__ThMwQ{right:3px;top:4px}.AdBannerV2-module_infoSlim__4iYat{height:32px;right:4px;top:12px;width:32px}.AdBannerV2-module_roundBorder__8j6a8{border-bottom-left-radius:8px;border-top-left-radius:8px}.AdBannerV2-module_roundBorder__8j6a8.AdBannerV2-module_roundBorderMobile__uK0WR{border-bottom-left-radius:12px;border-top-left-radius:12px}.AdBannerV2-module_roundBorderTop__IdACu{border-top-left-radius:12px;border-top-right-radius:12px}.AdBannerV2-module_middle__aO5gQ{cursor:pointer;max-height:80px;text-align:left}.AdBannerV2-module_middle__aO5gQ.AdBannerV2-module_middleAlign__AS0xn{max-height:60px;min-height:60px;padding-left:8px;padding-right:32px}.AdBannerV2-module_middle__aO5gQ.AdBannerV2-module_middleAlign__AS0xn>div{-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:60px;justify-content:space-between;padding:7px 8px 9px 0}.AdBannerV2-module_middle__aO5gQ.AdBannerV2-module_middleVertical__r3rg0{padding-left:12px;padding-right:12px}.AdBannerV2-module_middle__aO5gQ.AdBannerV2-module_middleVertical__r3rg0.AdBannerV2-module_middleVerticalMobile__bHp8q{padding-left:8px;padding-right:8px}.AdBannerV2-module_middle__aO5gQ.AdBannerV2-module_middleSlim__u6r4V{max-height:56px;min-height:56px;padding-left:8px;padding-right:0;--vkui--spacing_size_2xs:0}.AdBannerV2-module_middle__aO5gQ.AdBannerV2-module_middleSlim__u6r4V.AdBannerV2-module_overflowFix__2xxFh{overflow:hidden}.AdBannerV2-module_bannerVertical__40yBE{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;border-radius:12px;height:324px;width:200px}.AdBannerV2-module_bannerVerticalResize__vrJ4j{padding:0}.AdBannerV2-module_bannerSlim__zYQuk{height:56px;outline:var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha)}.AdBannerV2-module_bannerSlim__zYQuk .AdBannerV2-module_root__iLAc7{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:56px}.AdBannerV2-module_titleSlim__hlGBE{margin-bottom:4px}.AdBannerV2-module_subtitle__Era4x{font-size:12px;font-weight:400;line-height:14px}.AdBannerV2-module_bannerVertical__40yBE .AdBannerV2-module_root__iLAc7{height:100%;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column}.AdBannerV2-module_bannerVerticalBottom__Jc2gN{bottom:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;padding:6px 12px 12px;position:absolute;width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center}.AdBannerV2-module_bannerVerticalBottom__Jc2gN.AdBannerV2-module_bannerVerticalBottomMobile__0HXwL{border-radius:0;padding:12px 8px;position:relative;--vkui--font_subhead--font_size--regular:13px;--vkui--font_subhead--line_height--regular:16px}.AdBannerV2-module_animated__TAeHi{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:var(--vkui--color_text_primary);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:80px;padding-left:12px;position:relative;text-decoration:none;width:100%}.AdBannerV2-module_animatedMobile__7NXQ8{padding-left:8px}.AdBannerV2-module_animatedButton__MLDAV{--vkui--size_button_base_small_padding_horizontal--regular:12px}.AdBannerV2-module_animatedButton__MLDAV.AdBannerV2-module_animatedButtonMobile__5mTIp{border-radius:10px;width:40px}.AdBannerV2-module_animatedAfter__mlvh1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;align-items:flex-end;padding:8px 12px 12px 4px}.AdBannerV2-module_animatedAfter__mlvh1.AdBannerV2-module_animatedAfterMobile__Yr8vQ{padding-bottom:8px;padding-right:8px}");var qt="AdsBadge-module_badge__H90AB",Jt="AdsBadge-module_icon__ajsrR";(0,T.A)(".AdsBadge-module_badge__H90AB{background-color:var(--vkui--color_overlay_primary);border-radius:16px;color:var(--vkui--color_text_contrast);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;left:5px;position:absolute;top:4px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:20px;justify-content:center;padding:2px 4px 2px 6px}.AdsBadge-module_icon__ajsrR{color:var(--vkui--color_icon_contrast);height:12px;margin-right:4px;width:12px}");const $t=({advertisingLabel:e,ageRestrictions:t})=>{const{getLang:i}=ze();let n=function(e,t){if(!e||e.length>10)return t;return e}(e,i("apps_ad_subtitle_prefix"));return t&&(n+=` ${t}`),(0,r.FD)(o.HLL,{level:"1",className:w(qt),children:[(0,r.Y)("div",{className:Jt,children:(0,r.Y)(Oe,{width:12,height:12})}),n]})};var ei=i(668764),ti="BannerButton-module_buttonSmall__BRT8C",ii="BannerButton-module_buttonSlim__BPUoT";(0,T.A)(".BannerButton-module_buttonSmall__BRT8C{width:40px}.BannerButton-module_buttonSlim__BPUoT{border-radius:10px}");const ri=({isDesktop:e,isBannerVertical:t,isBannerSlim:i,className:n,children:a})=>{const{getLang:s}=ze();return(0,r.Y)(o.$nd,{mode:"secondary",size:"s",stretched:t,appearance:"accent",className:w(!e&&!i&&ti,i&&ii,n),before:!e&&!i&&!t&&(0,r.Y)(ei.Y,{}),"data-testid":"adsBannerCtaButton","aria-label":s("apps_ad_go_to_site"),children:a})},oi=({bannerAdParams:e,onAdReady:t,onAdShown:i,bannerData:n,onUserClick:a,bannerAnimationEnabled:l,onUpdateDimensions:d,leadAdsSupport:c,onShowLeadads:u,onHideLeadads:h})=>{const{isDesktop:p}=(0,o.wmp)(),m=(0,s.useRef)(null),b=Qt(),f=(0,s.useRef)(!1),v=(0,s.useRef)(!1),g=(0,s.useRef)(null),_=n.bannerData,[y,k]=(0,s.useState)("0px"),x=(0,s.useMemo)((()=>_.statistics?_.statistics.reduce(((e,t)=>({...e,[t.type]:[...e[t.type]||[],t.url]})),{}):{}),[_.statistics]),{inView:A,ref:C}=I({threshold:.5,fallbackInView:!0});(0,s.useEffect)((()=>{d?.({banner_height:m?.current?.clientHeight??0,banner_width:m?.current?.clientWidth??0})}),[b,d,p]),(0,s.useEffect)((()=>{t({banner_height:m?.current?.clientHeight??0,banner_width:m?.current?.clientWidth??0})}),[_,e]),(0,s.useEffect)((()=>{v.current=!1,f.current=!1;const e=m.current?.parentElement;e&&k(getComputedStyle(e).paddingBottom)}),[_]),(0,s.useEffect)((()=>{A&&!v.current&&(i?.(),Nt(x.playbackStarted),v.current=!0)}),[_,A]);const P=(0,s.useCallback)((e=>{if(ai(e.target,Ct))return void e.preventDefault();if(Nt(x.click),f.current||(f.current=!0,a?.()),!c||"leadads"!==_.type||!_.trackingLink)return;const t=zt(_.trackingLink);t&&(e.preventDefault(),e.stopPropagation(),u(),n.showMiniAppModal({appId:ve,hash:t},(()=>{h()})))}),[x.click,n]),{containerClass:S,isBannerAlign:M,imageSize:T,isBannerVertical:O,isBannerAnimated:j,isBannerSlim:L}=ni(e,{isDesktop:p,isLandscape:b,bannerAnimationEnabled:l}),E=ke(_),N={isDesktop:p,isBannerAlign:M,isBannerSlim:L,isBannerVertical:O},D=E?xe(E.aspectRatio??null,N):null,B=D?.width??T,R=w(O&&p&&Kt.roundBorderTop,M&&!O&&Kt.roundBorder,M&&!O&&!p&&Kt.roundBorderMobile);(0,s.useEffect)((()=>{const e=g.current,t=m.current;if(!j||!e||!t)return;const i=()=>{const t=g.current?.getAnimations()[0];if(!t)return;const i=Number(t.currentTime);e.style.animationDuration="7s";t.currentTime=.35*i},r=()=>{const t=g.current?.getAnimations()[0];if(!t)return;const i=Number(t.currentTime);e.style.animationDuration="20s";const r=20/7;t.currentTime=i*r};return t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",r),()=>{t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",r)}}),[j,_]);const z=!(p||L||O||M),V=(0,s.useMemo)((()=>{if(j||z)return(0,r.Y)(yt,{data:_,isDesktop:p});const e=(0,r.Y)(De,{lines:L?1:2,testLocator:"adsBannerTitle",children:_.title});return O?(0,r.Y)(o.LEX,{weight:"2",children:e}):L?(0,r.Y)(o.tWn,{weight:"2",className:w(L&&Kt.titleSlim),useAccentWeight:!0,children:e}):(0,r.Y)(o.HLL,{level:"1",weight:"2",useAccentWeight:!0,children:e})}),[_,j,O,L,z,p]);const H=j||M||L||O||z?{}:{subhead:(0,r.Y)(rt,{data:_,isBannerAnimated:j,isDesktop:p})},W=O&&(0,r.Y)($t,{advertisingLabel:_.advertisingLabel,ageRestrictions:_.ageRestrictions});return(0,r.Y)("div",{className:S,ref:m,"data-testid":"adsBanner","data-test-height":e.height_type,style:{"--banner-bottom-offset":y},children:(0,r.FD)("a",{ref:C,className:w(Kt.root,!M&&!L&&Kt.withBorder,Kt.rootMaxWidth),target:"_blank",href:_.trackingLink,rel:"nofollow noopener noreferrer",onClick:P,children:[(0,r.Y)("div",{className:w(Kt.before,O&&Kt.beforeVertical),children:"outstream"===_.type?(0,r.Y)(jt,{banner:_,className:R,badge:W,isDesktop:p,isBannerVertical:O,isBannerAlign:M,isBannerSlim:L}):!p||O?(0,r.Y)(Ae,{className:R,data:_,isBannerSlim:L,isBannerAlign:M,isBannerVertical:O,isDesktop:p,badge:W}):j?(0,r.Y)(Ie,{data:_,getRef:g}):(0,r.FD)(o.vOX,{noBorder:!0,className:w(Kt.image,R),size:T,src:_.iconLink||_.imageLink,"data-testid":"adsBannerImageBox",children:[W,(0,r.Y)("img",{src:_.iconLink,alt:"",className:Kt.blur,"data-testid":"adsBannerImage"})]})}),(0,r.Y)("div",{className:w(Kt.content,O&&Kt.contentVertical),style:{"--banner-image-size":B+"px"},children:j||z?(0,r.FD)("div",{className:w(Kt.animated,!p&&Kt.animatedMobile),children:[V,(0,r.Y)("div",{className:w(Kt.animatedAfter,!p&&Kt.animatedAfterMobile),children:(0,r.Y)(ri,{className:w(Kt.animatedButton,!p&&Kt.animatedButtonMobile),isDesktop:p,isBannerVertical:O,isBannerSlim:L,children:p?_.ctaText:""})})]}):(0,r.Y)(o.T6P,{...H,className:w(Kt.middle,M&&!O&&Kt.middleAlign,O&&Kt.middleVertical,O&&!p&&Kt.middleVerticalMobile,L&&Kt.middleSlim,L&&Kt.overflowFix),hasHover:!1,hasActive:!1,after:!M&&!O&&(0,r.Y)("div",{className:w(Kt.after,L&&Kt.afterSlim),children:(0,r.Y)(ri,{isDesktop:p,isBannerVertical:O,isBannerSlim:L,children:p||L?_.ctaText:""})}),subtitle:(0,r.Y)((()=>{if(!j&&!z)return M&&!O?(0,r.Y)(rt,{data:_,noMargin:!0,isBannerAnimated:j,isDesktop:p}):L?(0,r.Y)(ot,{data:_}):O&&!p?(0,r.Y)(o.HLL,{weight:"3",children:(0,r.Y)(De,{lines:2,testLocator:"adsBannerSubtitle",children:_.description})}):(0,r.Y)(De,{lines:O?2:1,testLocator:"adsBannerSubtitle",className:Kt.subtitle,children:_.description})}),{}),children:V})}),O&&(0,r.Y)("div",{className:w(Kt.bannerVerticalBottom,!p&&Kt.bannerVerticalBottomMobile),children:(0,r.Y)(ri,{isDesktop:p,isBannerVertical:O,isBannerSlim:L,children:_.ctaText})}),(0,r.Y)(St,{options:n.adChoices?.options,className:w(Kt.info,!p&&M&&!O&&Kt.infoAlignMobile,O&&Kt.infoVertical,j&&Kt.infoAnimated,z&&!p&&Kt.infoAnimatedMobile,L&&Kt.infoSlim),popupOffsetDistance:12,fitParent:!O,icon:"more",size:j?"l":void 0})]})})};function ni({layout_type:e,banner_location:t,banner_align:i,orientation:r,height_type:o},{isLandscape:n,isDesktop:a,bannerAnimationEnabled:s}){const l="overlay"===e&&void 0!==i,d="vertical"===r,c=a?l:l&&n,u=a?d:d&&n,h=!a&&!c&&!u&&n&&"compact"===o,p=!(!s||u||c||h);let m,b=80;return c&&(b=60,u||(m=60)),p&&(b=141),u&&(b=a?200:160),h&&(b=56,m=56),c||u||h||(m=80),{containerClass:w(Kt.bannerContainer,{[Kt.bannerTop]:"top"===t,[Kt.bannerBottom]:"bottom"===t,[Kt.bannerAlign]:c,[Kt.bannerAlignMobile]:c&&!a,[Kt.bannerLeft]:"left"===i,[Kt.bannerRight]:"right"===i,[Kt.bannerMobile]:!a,[Kt.bannerVertical]:u,[Kt.bannerVerticalResize]:u&&"resize"===e,[Kt.bannerAnimated]:p,[Kt.bannerSlim]:h}),containerHeight:m,isBannerAlign:c,isBannerVertical:u,isBannerAnimated:p,isBannerSlim:h,imageSize:b}}function ai(e,t){return null!==e.parentElement&&(e.parentElement.id===t||ai(e.parentElement,t))}var si="admanStyles-module_AdmanPlayerLayer__D8C7Y",li="admanStyles-module_AdmanContent__xd8fM",di="admanStyles-module_AdmanContentAbsolute__-QMvV",ci="admanStyles-module_AdmanContentSticky__5qdoN",ui="admanStyles-module_AdmanVideoContainer__xGEmQ",hi="admanStyles-module_AdmanControlsMute__RiBHm",pi="admanStyles-module_hidden__F0r1t";(0,T.A)(".admanStyles-module_AdmanPlayerLayer__D8C7Y{background:rgba(0,0,0,.8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;bottom:0;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:1}.admanStyles-module_AdmanContent__xd8fM{height:360px;max-height:100%;max-width:100%;width:640px}.admanStyles-module_AdmanContentAbsolute__-QMvV{bottom:0;margin:auto;position:absolute;top:0}.admanStyles-module_AdmanContentSticky__5qdoN{position:-webkit-sticky;position:sticky;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.admanStyles-module_AdmanContent--fluid__o98Au{height:100%;width:100%}.admanStyles-module_AdmanVideoContainer__xGEmQ{background:rgba(0,0,0,.8);height:100%;left:0;position:absolute;top:0;width:100%}@media screen and (min-width:640px){.admanStyles-module_AdmanVideoContainer__xGEmQ{border-radius:8px}}.admanStyles-module_AdmanControlsMute__RiBHm{background:rgba(0,0,0,.6);border:0;border-radius:8px;bottom:10px;color:#fff;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;left:10px;outline:0;padding:10px;position:absolute;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center}.admanStyles-module_AdmanControlsMute__RiBHm.admanStyles-module_hidden__F0r1t{display:none}.admanStyles-module_AdmanControlsMute__RiBHm:hover{background-color:rgba(34,34,34,.6)}");class mi{get getPlayer(){return this.player}get getContent(){return this.content}get getVideoContainer(){return this.videoContainer}addStickyClass(){this.content.classList.remove(di),this.content.classList.add(ci)}changeMuteState(e){e?(this.setMuteIcon(),this.buttonMute.dataset.muted="muted"):(this.setVolumeIcon(),delete this.buttonMute.dataset.muted)}setVolumeIcon(){this.buttonMute.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.25 4c.9 0 1.75.7 1.75 1.69V18.3c0 1-.85 1.69-1.75 1.69-.76 0-1.5-.28-2.06-.8l-4.24-3.93H6.14A2.1 2.1 0 0 1 4 13.22v-2.44a2.1 2.1 0 0 1 2.14-2.05h1.8L12.2 4.8a3.04 3.04 0 0 1 2.06-.8Zm-.05 1.8a1.23 1.23 0 0 0-.79.32l-4.5 4.17a.9.9 0 0 1-.61.24H6.14c-.14 0-.34.09-.34.25v2.44c0 .16.2.25.34.25H8.3a.9.9 0 0 1 .61.24l4.5 4.17c.2.19.48.3.79.32V5.8Zm7.34.47C23.06 7.79 24 9.79 24 12s-.94 4.2-2.46 5.74a.9.9 0 1 1-1.28-1.27A6.31 6.31 0 0 0 22.2 12a6.3 6.3 0 0 0-1.94-4.46.9.9 0 1 1 1.28-1.27Zm-2.55 3.05C19.6 10.06 20 10.98 20 12s-.39 1.94-1.01 2.68a.9.9 0 0 1-1.38-1.16c.39-.45.59-.98.59-1.52s-.2-1.07-.59-1.52A.9.9 0 0 1 19 9.32Z"/></svg>'}setMuteIcon(){this.buttonMute.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M6.26 4.26a.9.9 0 0 1 1.28 0l12.2 12.2a.9.9 0 1 1-1.28 1.28L16 15.27v3.04c0 1-.85 1.69-1.75 1.69-.76 0-1.5-.28-2.06-.8l-4.24-3.93H6.14A2.1 2.1 0 0 1 4 13.22v-2.44a2.1 2.1 0 0 1 2.14-2.05h1.8l.8-.73-2.48-2.46a.9.9 0 0 1 0-1.28Zm3.76 5.03-1.1 1a.9.9 0 0 1-.62.24H6.14a.39.39 0 0 0-.27.1.2.2 0 0 0-.07.15v2.44a.21.21 0 0 0 .07.15c.06.05.15.1.27.1H8.3a.9.9 0 0 1 .61.24l4.5 4.17c.2.19.48.3.79.32v-4.73L10.02 9.3ZM14.25 4c.9 0 1.75.7 1.75 1.69V8a.9.9 0 1 1-1.8 0V5.8a1.23 1.23 0 0 0-.79.32l-.13.12a.9.9 0 1 1-1.22-1.32l.13-.12a3.04 3.04 0 0 1 2.06-.8Z"/></svg>'}onClickMute(e){const t=this.buttonMute.dataset.muted;e.setVolume(t?1:0),this.videoContainer.muted=!t,this.changeMuteState(!t)}onVolumeChange(){let e=this.videoContainer.muted||!this.videoContainer.volume;this.changeMuteState(e)}hideControls(){this.videoContainer.controls=!1}admanStart(e){this.hideControls(),this.videoContainer.onvolumechange=()=>this.onVolumeChange(),this.buttonMute.onclick=()=>this.onClickMute(e),this.onVolumeChange()}hideMutedButton(){this.buttonMute.classList.add(pi)}constructor(){this.player=document.createElement("div"),this.player.dataset.testid="adsRewardContainer",this.player.classList.add(si),this.content=document.createElement("div"),this.content.classList.add(li),this.content.classList.add(di),this.player.appendChild(this.content),this.videoContainer=document.createElement("video"),this.videoContainer.dataset.testid="adsRewardVideo",this.videoContainer.classList.add(ui),this.videoContainer.playsInline=!0,this.content.appendChild(this.videoContainer),this.controls=document.createElement("div"),this.buttonMute=document.createElement("button"),this.buttonMute.dataset.testid="adsRewardMuteButton",this.buttonMute.classList.add(hi),this.controls.appendChild(this.buttonMute),this.content.appendChild(this.controls)}}var bi="InterstitialSmall-module_root__hZYDY",fi="InterstitialSmall-module_rootFullscreen__tFTr3",vi="InterstitialSmall-module_rootFullscreenLandscape__ZioDO",gi="InterstitialSmall-module_imageBox__UsZeZ",_i="InterstitialSmall-module_image__KWZWQ",yi="InterstitialSmall-module_bottom__BC4YF",wi="InterstitialSmall-module_domain__SMUtV",ki="InterstitialSmall-module_title__tfGns";(0,T.A)(".InterstitialSmall-module_root__hZYDY{background-color:var(--vkui--color_background_content);border-radius:var(--vkui--size_border_radius_paper--regular);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;position:relative;text-decoration:none;width:100%}.InterstitialSmall-module_root__hZYDY:hover{text-decoration:none}.InterstitialSmall-module_rootFullscreen__tFTr3{max-width:100%}.InterstitialSmall-module_rootFullscreenLandscape__ZioDO{max-width:100%;width:50%}.InterstitialSmall-module_root__hZYDY:not(:last-child){margin-bottom:var(--vkui--size_base_padding_vertical--regular)}.InterstitialSmall-module_imageBox__UsZeZ{border-radius:inherit;overflow:hidden;padding-top:40%;position:relative;z-index:1}.InterstitialSmall-module_image__KWZWQ{height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;width:100%}.InterstitialSmall-module_bottom__BC4YF{text-align:center}.InterstitialSmall-module_domain__SMUtV{color:var(--vkui--color_text_subhead);margin-bottom:4px;min-height:16px}.InterstitialSmall-module_title__tfGns{color:var(--vkui--color_text_primary);margin-bottom:4px}");const xi=({href:e,adChoice:t,title:i,headerLabel:n,image:a,domainName:s,onClick:l,isFullScreen:d,isLandscape:c})=>{const{getLang:u}=ze();return(0,r.FD)("a",{href:e,target:"_blank",rel:"noreferrer",className:w(bi,d&&fi,d&&c&&vi),onClick:l,children:[t,(0,r.FD)("div",{className:gi,children:[(0,r.Y)("img",{src:a,className:_i,alt:""}),(0,r.Y)($t,{advertisingLabel:n,ageRestrictions:""})]}),(0,r.FD)(o.iau,{className:yi,children:[(0,r.Y)(o.LEX,{className:wi,"data-testid":"adsInterstitialHeaderLabel",children:s??""}),(0,r.Y)(o.hEb,{className:ki,level:"2","data-testid":"adsInterstitialTitle",children:(0,r.Y)(De,{lines:d?1:2,children:i})}),(0,r.Y)(o.$nd,{stretched:!0,size:"l","data-testid":"adsInterstitialButton",children:u("apps_ad_go_to_site")})]})]})};var Ai=i(574857);var Ci="ProgressCircle-module_box__dHXQZ",Pi="ProgressCircle-module_wrapper__PEu-K",Si="ProgressCircle-module_svg__H2q1-",Mi="ProgressCircle-module_circle__hJ-R-";(0,T.A)(".ProgressCircle-module_box__dHXQZ{color:var(--vkui--color_text_primary);position:relative}.ProgressCircle-module_box__dHXQZ,.ProgressCircle-module_wrapper__PEu-K{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center}.ProgressCircle-module_wrapper__PEu-K{height:100%;left:0;position:absolute;top:0;width:100%}.ProgressCircle-module_svg__H2q1-{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.ProgressCircle-module_circle__hJ-R-{stroke-width:2px;stroke:var(--vkui--color_track_buffer);fill:transparent;stroke-linecap:round}");const Ii=({value:e,min:t,max:i,size:n})=>{const a=n/2-1,s=n/2,l=`${function(e,t){const i=Ti(t),r=Math.round(i*((100-e)/100));return r}(Math.round(e/(i-t)*100),n)}px`,d=`${Ti(n)}px`;return(0,r.FD)("div",{className:Ci,style:{width:n,height:n},"data-testid":"adsInterstitialCloseProgress",children:[(0,r.Y)("div",{className:Pi,children:(0,r.Y)("svg",{className:Si,width:n,height:n,viewBox:`0 0 ${n} ${n}`,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.Y)("circle",{className:Mi,r:a,cx:s,cy:s,strokeDashoffset:l,strokeDasharray:d})})}),(0,r.Y)(o.fzL,{weight:"2",useAccentWeight:!0,children:e})]})};function Ti(e){return Math.PI*e}var Oi="CloseTimer-module_icon__-WKIH";(0,T.A)(".CloseTimer-module_icon__-WKIH{color:var(--vkui--vkontakte_color_icon_outline_medium)}");const ji=({onClose:e,timerPaused:t})=>{const{getLang:i}=ze(),[n,a]=(0,s.useState)(5);(0,s.useEffect)((()=>{const e=setInterval((()=>{"hidden"===document.visibilityState||t?.current||a((t=>{const i=t-1;return!i&&clearInterval(e),i}))}),1e3);return()=>{clearInterval(e)}}),[]);const l=t=>{t.stopPropagation(),t.preventDefault(),e(t)};return 0===n?(0,r.Y)(o.K0,{onClick:l,"data-testid":"adsInterstitialCloseButton","aria-label":i("apps_ad_interstitial_close"),children:(0,r.Y)(Ai.u,{className:Oi})}):(0,r.Y)(Ii,{value:n,min:0,max:5,size:28})};var Li="BannerInfo-module_infoVertical__b1ilC",Ei="BannerInfo-module_subtitleBox__6Jyqq",Ni="BannerInfo-module_icon__QYz3I",Di="BannerInfo-module_head__7ibOw",Bi="BannerInfo-module_adsIcon__wGq9Q";(0,T.A)(".BannerInfo-module_infoVertical__b1ilC{margin-bottom:unset;max-width:100%;padding:4px 0 0;width:100%}.BannerInfo-module_subtitleBox__6Jyqq{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;color:var(--vkui--color_text_subhead)}.BannerInfo-module_icon__QYz3I{color:var(--vkui--color_icon_tertiary);margin-left:4px}.BannerInfo-module_head__7ibOw{z-index:1}.BannerInfo-module_head__7ibOw>div{overflow:unset}.BannerInfo-module_head__7ibOw .BannerInfo-module_adsIcon__wGq9Q{color:var(--vkui--color_icon_secondary);margin-right:-4px;padding-right:0}");const Ri={vertical:Li,horizontal:void 0},zi={horizontal:10,vertical:4},Vi=({direction:e,headerLabel:t,iconAfterHeaderLabel:i,title:n,subtitle:a,closeIcon:s})=>(0,r.FD)("div",{className:Ri[e],children:[(0,r.Y)(o.T6P,{className:Di,hasHover:!1,hasActive:!1,before:(0,r.Y)(Oe,{className:Bi,"data-testid":"adsInterstitialIcon"}),after:s,children:(0,r.FD)("div",{className:Ei,children:[(0,r.Y)(o.LEX,{"data-testid":"adsInterstitialHeaderLabel",children:t}),i&&(0,r.Y)("div",{className:Ni,children:i})]})}),(0,r.Y)(o.T6P,{multiline:!0,hasHover:!1,hasActive:!1,subtitle:(0,r.Y)(o.$ji,{level:"1",weight:"3","data-testid":"adsInterstitialSubtitle",children:(0,r.Y)(De,{lines:zi[e],children:a})}),children:(0,r.Y)(o.hEb,{level:"2","data-testid":"adsInterstitialTitle",children:(0,r.Y)(De,{lines:2,children:n})})})]});var Hi="InterstitialBanner-module_root__ZCwnQ",Wi="InterstitialBanner-module_rootMulti__WxhvK",Fi="InterstitialBanner-module_rootVertical__egaqY",Ui="InterstitialBanner-module_rootFullscreen__-fSW3",Yi="InterstitialBanner-module_banner__53h-N",Gi="InterstitialBanner-module_roundBorder__Ya-2X",Zi="InterstitialBanner-module_bannerFullscreen__edB9q",Xi="InterstitialBanner-module_bannerCentered__HF6cX",Qi="InterstitialBanner-module_bannerVertical__FIrGB",Ki="InterstitialBanner-module_buttonVertical__H5y-3",qi="InterstitialBanner-module_buttonHorizontal__vY7c1",Ji="InterstitialBanner-module_right__FuswD",$i="InterstitialBanner-module_bannerCenteredScroll__N4LMW";(0,T.A)(".InterstitialBanner-module_root__ZCwnQ{background-color:var(--vkui--color_avatar_overlay);bottom:0;bottom:var(--vkui_internal--safe_area_inset_bottom,0);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;left:0;position:absolute;top:0;width:100%;z-index:1;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;text-align:left;text-decoration:none}.InterstitialBanner-module_root__ZCwnQ.InterstitialBanner-module_rootMulti__WxhvK{background-color:unset;position:unset}.InterstitialBanner-module_root__ZCwnQ.InterstitialBanner-module_root__ZCwnQ:hover{text-decoration:none}.InterstitialBanner-module_rootVertical__egaqY{-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;align-items:flex-start}.InterstitialBanner-module_banner__53h-N,.InterstitialBanner-module_rootFullscreen__-fSW3{background-color:var(--vkui--color_background_content)}.InterstitialBanner-module_banner__53h-N{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;max-height:100%}.InterstitialBanner-module_roundBorder__Ya-2X{border-radius:var(--vkui--size_border_radius_paper--regular)}.InterstitialBanner-module_bannerFullscreen__edB9q{border-radius:0;max-width:100%}.InterstitialBanner-module_bannerCentered__HF6cX{bottom:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin:auto;position:absolute;top:0}.InterstitialBanner-module_bannerVertical__FIrGB{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;justify-content:flex-start}.InterstitialBanner-module_buttonVertical__H5y-3{bottom:var(--vkui--size_base_padding_horizontal--regular);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;left:0;position:absolute;width:100%}.InterstitialBanner-module_buttonHorizontal__vY7c1{padding-bottom:0;padding-top:0}.InterstitialBanner-module_right__FuswD{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;max-height:320px;max-width:320px;padding:4px 4px 20px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}.InterstitialBanner-module_bannerCenteredScroll__N4LMW{position:-webkit-sticky;position:sticky;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.InterstitialBanner-module_bannerCentered__HF6cX.InterstitialBanner-module_bannerCenteredScroll__N4LMW{bottom:unset;margin:unset}");var er="MainImage-module_box__ZYwd-",tr="MainImage-module_boxVertical__pDglL",ir="MainImage-module_blur__eSsWK",rr="MainImage-module_image__6rZ4g",or="MainImage-module_icon__D8-W3",nr="MainImage-module_caption__YL-5g",ar="MainImage-module_captionNoImage__KFwYU",sr="MainImage-module_disclaimer__RwZTa";(0,T.A)(".MainImage-module_box__ZYwd-{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:20px 0 20px 20px}.MainImage-module_boxVertical__pDglL{max-width:360px;padding:var(--vkui--size_base_padding_horizontal--regular);width:100%}.MainImage-module_blur__eSsWK{-webkit-filter:blur(20px);filter:blur(20px);height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);width:100%;z-index:-2}.MainImage-module_image__6rZ4g{border-radius:8px;max-height:100%;max-width:100%;overflow:hidden}.MainImage-module_image__6rZ4g>img{-o-object-fit:contain;object-fit:contain}.MainImage-module_icon__D8-W3{border-radius:4px;margin-right:4px}.MainImage-module_pixel__OL7IK{height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.MainImage-module_caption__YL-5g{background-color:var(--vkui--color_overlay_primary);border-radius:6px;color:var(--vkui--color_text_contrast);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;left:8px;padding:4px 6px 4px 4px;position:absolute;top:8px;z-index:1;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center}.MainImage-module_captionNoImage__KFwYU{padding-left:6px}.MainImage-module_disclaimer__RwZTa{background-color:var(--vkui--color_overlay_primary);bottom:0;color:var(--vkui--color_text_contrast);left:0;padding:8px;position:absolute;right:0;z-index:1}");const lr={vertical:tr,horizontal:void 0},dr={vertical:328,horizontal:280},cr=({direction:e,captionBadge:t,captionBadgeIconUrl:i,disclaimer:n,url:a,imageSize:s})=>(0,r.Y)(o.iau,{className:w(er,lr[e]),children:(0,r.FD)(o.vOX,{className:rr,size:s??dr[e],src:a,"data-testid":"adsInterstitialImageContainer",children:[(0,r.Y)("img",{src:a,className:ir,alt:"","data-testid":"adsInterstitialImage"}),(i||t)&&(0,r.FD)("div",{className:w(nr,!i&&ar),children:[i&&(0,r.Y)(o.vOX,{size:16,className:or,src:i}),t&&(0,r.Y)(o.HLL,{level:"1","data-testid":"adsInterstitialImageCaption",children:t})]}),n&&(0,r.Y)(o.HLL,{level:"1",className:sr,"data-testid":"adsInterstitialImageDisclaimer",children:n})]})}),ur={vertical:Qi,horizontal:void 0},hr={vertical:Fi,horizontal:void 0},pr=({href:e,direction:t,image:i,captionBadge:n,captionBadgeIconUrl:a,disclaimer:l,headerLabel:d,iconAfterHeaderLabel:c,title:u,subtitle:h,buttonText:p,onClick:m,getRef:b,closeIcon:f,mode:v,isFullScreen:g,imageSize:_})=>{const y=(0,s.useRef)(null),[k,x]=(0,s.useState)(!1),A={url:i,captionBadge:n,captionBadgeIconUrl:a,disclaimer:l,direction:t,imageSize:_},C={direction:t,headerLabel:d,iconAfterHeaderLabel:c,title:u,subtitle:h,closeIcon:f};return(0,s.useLayoutEffect)((()=>{const e=y.current;e&&Yt(e)&&x(!0)}),[]),(0,r.Y)("a",{target:"_blank",ref:y,href:e,className:w(Hi,g&&Ui,hr[t],"multi"===v&&Wi),onClick:m,rel:"noreferrer","data-testid":"adsInterstitialContainer",children:(0,r.Y)("div",{ref:b,className:w(Yi,"interstitial"===v&&Gi,ur[t],g&&Zi,"interstitial"===v&&"vertical"!==t&&Xi,"interstitial"===v&&k&&$i),children:"horizontal"===t?(0,r.FD)(r.FK,{children:[(0,r.Y)(cr,{...A}),(0,r.FD)("div",{className:Ji,children:[(0,r.Y)(Vi,{...C}),(0,r.Y)(o.iau,{className:qi,children:(0,r.Y)(o.$nd,{stretched:!0,size:"l","data-testid":"adsInterstitialButton",children:p})})]})]}):(0,r.FD)(r.FK,{children:[(0,r.Y)(Vi,{...C}),(0,r.Y)(cr,{...A}),(0,r.Y)(o.iau,{className:Ki,children:(0,r.Y)(o.$nd,{stretched:!0,size:"l","data-testid":"adsInterstitialButton",children:p})})]})})})},mr=({interstitialAdParams:e,mode:t,onClose:i,leadAdsSupport:n,imageSize:a,skipSendStats:l,adChoice:d,onShowLeadads:c,onHideLeadads:u})=>{const h=e.data,{getLang:p}=ze(),m=Qt(),{viewWidth:b}=(0,o.wmp)(),f=(0,s.useRef)(!1),v=(0,s.useRef)(!1),g=(0,s.useRef)(!1),{inView:_,ref:y}=I({threshold:.5,fallbackInView:!0}),w=b<=o.Gcd.MOBILE;if((0,s.useEffect)((()=>{v.current=!1,f.current=!1,g.current=!1}),[e]),(0,s.useEffect)((()=>{h&&_&&!v.current&&!l&&(Nt(Rt(h,"impression")),e.onImpression(),v.current=!0)}),[e,_,l]),!h)return null;const k=b>o.Gcd.MOBILE||m?"horizontal":"vertical",x={href:h.url,headerLabel:Dt(p("apps_ad_subtitle_prefix"),h),buttonText:p("apps_ad_go_to_site"),title:h.title,image:Bt(h),onClick:t=>{if(f.current||(f.current=!0,Nt(Rt(h,"click")),e.onClick()),!n||"leadads"!==h.type)return;const i=zt(h.url);i&&(t.preventDefault(),t.stopPropagation(),g.current=!0,c?.(),e.showMiniAppModal({appId:ve,hash:i},(()=>{g.current=!1,u?.()})))},isFullScreen:w},A=Vt(h.adChoices?.options??[],i);return"small"===t?(0,r.Y)(xi,{...x,adChoice:d,domainName:h.domainName,isLandscape:m}):(0,r.Y)(pr,{...x,iconAfterHeaderLabel:d??(0,r.Y)(St,{options:A,icon:"info"}),getRef:y,direction:k,captionBadge:h.domainName,disclaimer:h.disclaimer,subtitle:h.description,closeIcon:"interstitial"===t?(0,r.Y)(ji,{onClose:i,timerPaused:g}):void 0,mode:t,imageSize:a})};var br={d:(e,t)=>{for(var i in t)br.o(t,i)&&!br.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},fr={};br.d(fr,{A:()=>pd});var vr=function(e,t){return vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},vr(e,t)};function gr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}vr(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var _r=function(){return _r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_r.apply(this,arguments)};function yr(e,t,i,r){return new(i||(i=Promise))((function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function wr(e,t){var i,r,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(l){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(a=0)),a;)try{if(i=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{i=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function kr(e,t,i){if(i||2===arguments.length)for(var r,o=0,n=t.length;o<n;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function xr(e){return e&&"object"==typeof e}function Ar(e){return e instanceof HTMLIFrameElement}function Cr(e){return e instanceof HTMLElement}function Pr(e){return e&&"function"==typeof e}function Sr(e){return Array.isArray(e)&&e.length>0}function Mr(e,t){Sr(e)&&e.forEach((function(e){return t(e)}))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Ir=Object.create(null);function Tr(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return Object.assign.apply(Object,kr([Object.create(Ir),e],t,!1))}function Or(){return Object.create(Ir)}function jr(e){return xr(e)&&"motion-ads"===e.type}function Lr(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function Er(e){return e&&"string"==typeof e}function Nr(e){return e&&"number"==typeof e||0===e}function Dr(e){return e&&"number"==typeof e}function Br(e){return e instanceof HTMLVideoElement&&(Er(e.src)||e.children&&Array.prototype.find.call(e.children,(function(e){return"SOURCE"===e.tagName&&e.src})))}function Rr(e){return"number"==typeof e?e:parseFloat(String(e))}function zr(e,t,i,r){void 0===r&&(r=!0),Object.defineProperty(e,t,{value:i,enumerable:r,writable:!0,configurable:!0})}function Vr(e){return Er(e)&&/^\s*http[s]?:\/\//i.test(e)}var Hr,Wr,Fr,Ur,Yr=function(){function e(e){Object.defineProperty(this,"engine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modules",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.engine=e,this.store=e.store,this.disposables=[],this.modules=Or(),this.elements=Or()}return Object.defineProperty(e.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(e.prototype,"makeClasses",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,r=Sr(e)?e.map((function(e){return i.store.classMap[e]||e})):[];if(1===this.store.meta.classMode&&Er(t)){var o=this.store.classPrefix+t;r.push(this.store.classMap[o]||o)}return r}}),Object.defineProperty(e.prototype,"getClass",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.engine.getClass(e)}}),Object.defineProperty(e.prototype,"setClasses",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r=this;Cr(e)&&Sr(t)&&Lr(t).forEach((function(t){return Er(i=r.store.classMap[t]||t)&&e.classList.add(i)}))}}),Object.defineProperty(e.prototype,"getVar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.engine.getVar(e)}}),Object.defineProperty(e.prototype,"setCssVars",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.engine.setCssVars(e)}}),Object.defineProperty(e.prototype,"setProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.isDestroyed||this.store.setProps(e,t,i)}}),Object.defineProperty(e.prototype,"sendData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.store.sendData(e)}}),Object.defineProperty(e.prototype,"isDestroyed",{get:function(){return!this.engine||this.engine.isDestroyed||!xr(this.store)||this.store.isDestroyed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sendEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!this.isDestroyed&&e&&this.engine.eventBus.sendEvent(e)}}),Object.defineProperty(e.prototype,"subscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(this.isDestroyed||!e)return!0;var r="function"==typeof t?function(e){var r=t.call(i,e);r&&i.onUpdate(e,r)}:function(e){return i.onUpdate(e)};this.store.subscribe(e,r),this.disposables.push([Lr(e),r])}}),Object.defineProperty(e.prototype,"unSubscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this.isDestroyed||!e)return!0;this.disposables.forEach((function(i){i[0].includes(e)&&(t.store.unSubscribe(e,i[1]),i[0]=i[0].filter((function(t){return t!==e})))}))}}),Object.defineProperty(e.prototype,"disposeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;!this.isDestroyed&&Array.isArray(this.disposables)&&this.disposables.forEach((function(t){var i;return(i=e.store).unSubscribe.apply(i,t)})),this.disposables=[]}}),Object.defineProperty(e.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.destroy()}}),Object.defineProperty(e.prototype,"append",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(e.prototype,"run",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null}}),Object.defineProperty(e.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation()}}),Object.defineProperty(e.prototype,"raiseCoreEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.isDestroyed||this.engine.raiseCoreEvent(e,t)}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.disposeAll(),this.element instanceof HTMLElement&&this.element.remove(),xr(this.modules)&&Object.values(this.modules).forEach((function(e){return e.remove()})),xr(this.elements)&&Object.values(this.elements).forEach((function(e){return e.remove()}));for(var e=0,t=Object.keys(this);e<t.length;e++)delete this[t[e]]}}),e}();!function(e){e.close="close",e.skipWithClose="skipWithClose",e.skipAndNothing="skipAndNothing"}(Hr||(Hr={})),function(e){e.large="L",e.medium="M",e.small="S",e.tiny="XS"}(Wr||(Wr={})),function(e){e.desktop="desktop",e.mobile="mobile",e.tablet="tablet"}(Fr||(Fr={})),function(e){e.default="default",e.fullscreen="fullscreen",e.extendable="extendable",e.watch="watch"}(Ur||(Ur={}));var Gr=function(){function e(e){Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),xr(e)&&(e.error||e.status)?e.isError?this.error=e.status||e.error:e.error?this.error=e.error:this.status=e.status:this.error=700,this.error||delete this.error,this.status||delete this.status}return Object.defineProperty(e.prototype,"setParams",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(xr(e)){e.error,e.status;var t=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["error","status"]);Object.assign(this,t)}return this}}),Object.defineProperty(e,"success",{get:function(){return new e({status:2e3})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(t,i){return new e({error:t}).setParams(i)}}),e}();function Zr(e,t,i,r){if(e instanceof HTMLElement){if(xr(i))for(var o in i)e.style.setProperty(o,i[o],r);if(xr(t))for(var o in t)e.style[o]=t[o]}}function Xr(e,t){if(e instanceof HTMLElement&&xr(t))for(var i in t)e.setAttribute(i,t[i])}function Qr(e,t){var i;if(void 0===t&&(t=Or()),e instanceof HTMLElement){var r=t.classes,o=t.text,n=t.styles,a=t.vars,s=t.src,l=t.onClick,d=t.attrs,c=t.dattrs;Xr(e,d);var u=Lr(r);if(u.length&&(i=e.classList).add.apply(i,u),Zr(e,n,a),Er(o)&&(e.innerHTML=o),xr(c))for(var h in c)void 0!==c[h]&&(e.dataset[h]=c[h]);["img","video"].includes(e.tagName)&&s&&"src"in e&&(e.src=s),"function"==typeof l&&(e.onclick=l)}}function Kr(e,t){void 0===t&&(t=Or());var i=document.createElement(e);return Qr(i,t),t.appendTo instanceof HTMLElement&&"function"==typeof t.appendTo.appendChild&&t.appendTo.appendChild(i),i}var qr={timeupdate:function(e){return{currentTime:e.currentTime,duration:e.duration,remainTime:e.duration-e.currentTime,progress:e.currentTime/e.duration||0}},ended:function(e){return Tr({state:6})},canplay:function(){return{state:2,isReady:!0}},loadeddata:function(e){var t=e.muted,i=e.volume,r=e.videoWidth,o=e.videoHeight,n=e.duration,a={muted:t,volume:i,videoWidth:r,videoHeight:o,addon:.3/e.duration||0};return n&&(a.duration=n),a},volumechange:function(e){return{volume:e.volume,muted:e.muted}}};function Jr(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent)||(null===screen||void 0===screen?void 0:screen.width)<=480}function $r(){var e=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipod|blackberry|iemobile|opera mini/.test(e)||(null===screen||void 0===screen?void 0:screen.width)<=480?Fr.mobile:/tablet|ipad|playbook|silk/.test(e)||(null===screen||void 0===screen?void 0:screen.width)<=1080?Fr.tablet:Fr.desktop}var eo=Jr();function to(e){if(!(e instanceof HTMLElement))return Or();var t=getComputedStyle(e),i=parseInt(t.width),r=parseInt(t.height);if(!i||!r){var o=e.getBoundingClientRect();i=Math.round(o.width),r=Math.round(o.height)}return{width:i,height:r}}var io=function(e){var t,i;return Er(e=null===(i=null===(t=window.screen)||void 0===t?void 0:t.orientation)||void 0===i?void 0:i.type)&&e.includes("landscape")}();function ro(e,t){switch($r()){case Fr.tablet:return io?{width:1200,height:600}:{width:800,height:1e3};case Fr.desktop:return e<1200||t<850?{width:1e3,height:600}:e<1480||t<850?{width:1200,height:600}:{width:1400,height:800};case Fr.mobile:return{width:e,height:t}}}function oo(e,t,i){var r;void 0===i&&(i=!0),Er(t)&&e instanceof HTMLElement&&("function"==typeof window.CustomEvent?r=new CustomEvent(t,{bubbles:i}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,i,!1,null),e.dispatchEvent(r))}function no(e,t,i){if(xr(t)&&e instanceof HTMLElement){if(Mr(t.rmClasses,(function(t){return e.classList.remove(t)})),Mr(t.rmAttrs,(function(t){e.getAttribute(t)&&e.removeAttribute(t)})),Sr(t.idStart)&&Er(i)&&!Er(e.getAttribute("id")))return;e.style.display.startsWith("none")&&(e.style.display=""),e.parentElement instanceof HTMLElement&&e.parentElement.style.display.startsWith("none")&&(e.parentElement.style.display="")}}var ao=function(){for(var e=window,t=frameElement;t;){try{t=e.parent.frameElement}catch(e){break}e=e.parent}return e}().document;function so(e){if(!e)throw Gr.error(333);var t=e;if(Er(e)){t=document.querySelector(e);try{t||e.startsWith(".")||(t=document.querySelector(".".concat(e)))}catch(e){}if(t||(t=document.getElementById(e)),!t)throw Gr.error(311)}if(!(t instanceof HTMLElement))throw Gr.error(317);return t}function lo(e,t){void 0===t&&(t="none"),Cr(e)&&(e.style.display=t)}function co(e){Cr(e)&&"none"==e.style.display&&(e.style.display="")}var uo="100";try{uo=window.localStorage.getItem("MKDeveloper")}catch(p){}var ho,po,mo=231143056===(ho=Number(uo),Math.abs(((ho*ho^ho)<<3|ho)>>3)),bo=[],fo={log:"#068587",info:"#0177ff",error:"#FC5B3F",warn:"#FCB03C",table:"#6FB07F",debug:"#66FFFF"},vo=window.console,go=Object.assign({},fo),_o=function(e){var t=e,i="error"===t?vo.error:vo.log;go[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];mo&&i.apply(void 0,kr(["%c MoKit:","color:".concat(fo[t],";font-weight:bold;background:#FFFACD22;padding:2px;border-radius:8px")],e,!1))}};for(var yo in go)_o(yo);function wo(e){return Sr(e)?e[0]:e}function ko(e){var t=bo.findIndex((function(t){return t[0]===e}));return~t||(t=bo.length,bo.push([e,!1])),t}function xo(e){Nr(e)&&Sr(bo[e])&&(bo[e][1]=!0)}function Ao(e){if(Vr(e)){var t=ko(e),i=new Image;i.onload=function(){return xo(t)},i.src=e}}function Co(e,t,i,r){var o=wo(e);if(Vr(o)){Er(i)&&(o=o.replace(/[/?]*$/,"")+"?"+i);var n=ko(o);if(r){go.warn("Force pixel:",o);try{return void(navigator.sendBeacon(o)||Co(e,t,i,!1))}catch(e){}}var a=new Image,s=setTimeout((function(){go.warn("Resend pixel by timeout:",o),navigator.sendBeacon(o)}),7500);a.onerror=function(i){if(go.warn("Resend pixel by error:",i,o),clearTimeout(s),Sr(e)&&e[1]&&Er(t)){var r="?";try{r="?host="+new URL(o).host.replace(/\./g,"_")}catch(e){}go.warn("Check pixel for:",r,e[1]),navigator.sendBeacon(t+encodeURI(Er(e[1])?"?"+e[1]:""))}else navigator.sendBeacon(o)},a.onload=function(){clearTimeout(s),xo(n)},a.src=o}}uo&&!mo&&console.info("%c MoKit: Debug not authorized ","color: violet; font-weight:bol;background:#FFFACD55;padding:2px 4px;border-radius:8px"),function(e){e.Ready="Ready",e.MediaReady="MediaReady",e.Error="Error",e.Showed="Showed",e.Started="Started",e.VideoStarted="VideoStarted",e.VideoCompleted="VideoCompleted",e.Paused="Paused",e.Played="Played",e.Resumed="Resumed",e.Replayed="Replayed",e.VolumeChanged="VolumeChanged",e.Completed="Completed",e.Closed="Closed",e.Skipped="Skipped",e.Clicked="Clicked",e.TimeRemained="TimeRemained",e.DurationChanged="DurationChanged",e.ItemShowed="ItemShowed",e.Pixel="Pixel",e.ClosedByUser="ClosedByUser",e.UserAction="UserAction",e.PostView="PostView",e.FullScreenOn="FullScreenOn",e.FullScreenOff="FullScreenOff",e.Restored="Restored"}(po||(po={}));var Po={click:!0,view:{type:"playheadViewabilityValue",duration:0,viewablePercent:"50"},longview:{type:"playheadViewabilityValue",duration:1,viewablePercent:"50"}};function So(e,t,i,r){if(Er(e)&&xr(t)){var o=e.split(".");for(r=0;r<o.length-1;r++)if(!xr(t=t[o[r]]))return i;return t[o[r]]}}function Mo(e,t){return Tr({event:po.Error,code:e instanceof Error?700:xr(e)&&e.error?e.error:701},t)}var Io={appendChild:function(){}};function To(e,t,i,r,o,n){if(void 0===t&&(t=Or()),void 0===i&&(i=Or()),xr(e)&&xr(e.root))return xr(t)||(t=Or()),xr(i)||(i=Or()),xr(o)||(o=Or()),e.root.mixRoot&&r&&Sr(e.root.ch)?(e.root.ch.forEach((function(e){return a(e,r)})),r):a("root",r instanceof HTMLElement?r:Io);function a(r,s){var l,d;if(xr(e[r])){var c=e[r],u=document.createElement(c.tg||"div");if(o[r]=u,Sr(c.cl)&&c.cl.forEach((function(e){return u.classList.add(xr(i.classMap)&&i.classMap[e]||e)})),xr(i.classes)&&Sr(i.classes[r])&&(l=u.classList).add.apply(l,i.classes[r]),xr(null===(d=i.methods)||void 0===d?void 0:d[r]))for(var h in i.methods[r])u[h]=i.methods[r][h];if(c.html&&(u.innerHTML=c.html),xr(c.ha))for(var p in c.ha)t[c.ha[p]]?u.setAttribute(p,t[c.ha[p]]):u.setAttribute(p,c.ha[p]);if(xr(c.fn))for(var p in c.fn)u[p]=c.fn[p];var m=So(c.TXT,t)||c.txt;return m&&(u.innerHTML=String(m)),Er(m=So(c.SRC,t)||c.src)&&u.setAttribute("src",m),Sr(c.ch)&&c.ch.forEach((function(i){var r=e[i];r.iif&&n&&!Lr(r.iif).every((function(e){var i,r;return null===(r=(i=n.handlers.enforcers)[e.e])||void 0===r?void 0:r.call(i,e,t,n.store)}))||a(i,u)})),s.appendChild(u),u}}}var Oo=function(){return String.fromCharCode(97+Math.round(25*Math.random()))+Math.round(2147483648*Math.random()).toString(36)},jo=Oo();function Lo(e,t){return xr(e)&&Er(t)&&Object.prototype.hasOwnProperty.call(e,t)}var Eo=function(e){function t(t){var i=e.call(this,t)||this;return Object.defineProperty(i,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"currentTab",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"selectId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"action",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isOpen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"data",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"closeInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"balloonTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"balloonNodeId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"finishTab",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"closeTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.closeMenu=i.closeMenu.bind(i),!xr(i.config=i.store.adChoices||i.store.meta.adChoices||un.adChoices)||i.config.noMenu||(i.config.preRender&&(i.render(),i.resetMenu()),i.config.actions.resolveIcons.call(i),i.config.mouseOverShow&&i.store.vDOM[i.config.mouseOverShow]&&(i.store.vDOM[i.config.mouseOverShow].element.onmouseenter=function(){i.closeTimeout&&(clearTimeout(i.closeTimeout),i.closeTimeout=null),i.run()},i.store.vDOM[i.config.mouseOverShow].element.onmouseleave=function(){i.closeTimeout=setTimeout((function(){return i.config.actions.onAction.call(i,"closeMenu")}),150)})),i}return gr(t,e),Object.defineProperty(t.prototype,"closeMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isOpen&&!this.config.mouseOverShow&&this.config.actions.onAction.call(this,"closeMenu")}}),Object.defineProperty(t.prototype,"resetMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;this.action="",this.isOpen=!0,null===(e=this.currentTab)||void 0===e||e.remove(),this.element.style.display="block",this.store.rootNode.setCssAttr({menu:"open"}),this.elements.host.appendChild(this.elements.main),this.currentTab=this.elements.main}}),Object.defineProperty(t.prototype,"run",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.config.preRender&&!this.config.noMenu){if(this.isOpen&&!this.config.mouseOverShow)return this.config.actions.onAction.call(this,"closeMenu");this.element||this.render(),this.resetMenu(),this.engine.pause(!0)}}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,i=this;this.balloonTree=this.store.serviceForest[this.store.meta.balloonTree],this.balloonNodeId=this.store.meta.balloonNodeId;var r=(null===(t=this.store.vDOM[this.config.appendTo])||void 0===t?void 0:t.element)||this.store.proxyNode;this.store.isFullscreen&&(r=Jr()?this.store.rootNode.element:this.store.vDOM.workArea.element),this.element=Kr("div",{classes:this.getClass(this.config.wrapCl||"_mk_adChoicesWrap"),appendTo:r}),this.elements.host=Kr("div",{classes:this.getClass(this.config.cl||"_mk_adChoices"),onClick:this.onClick,appendTo:this.element}),this.config.actions.initTabs.call(this),this.config.closeBtn&&(this.elements.closeBtn=Kr("div",{classes:this.getClass("_mk_adChoices_close_button"),onClick:function(t){e.prototype.onClick.call(i,t),i.config.actions.onAction.call(i,"closeMenu")},text:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.41 6.41c.3-.3.8-.3 1.1 0L11 9.91l3.49-3.5a.78.78 0 0 1 1.1 1.1L12.09 11l3.5 3.49a.78.78 0 0 1-1.1 1.1L11 12.09l-3.49 3.5a.78.78 0 0 1-1.1-1.1L9.91 11 6.4 7.51c-.3-.3-.3-.8 0-1.1Z" fill="#fff"/>\n</svg>',appendTo:this.store.isFullscreen?this.elements.host:this.element}))}}),Object.defineProperty(t.prototype,"unmount",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,i,r=this.elements.closed;this.isDestroyed||(r.classList.add(this.getClass("_mk_adChoicesClosed")),this.copyCssProps(this.config.finalProps,this.element,r),this.store.proxyNode.remove(),this.store.closedByUser=!0,this.store.servicePause=!0,null===(t=this.elements.closeBtn)||void 0===t||t.remove(),this.store.hostNode.appendChild(this.elements.closed),this.element=null,this.elements=null);var o=this.engine;this.notify(this.config.tabs[this.action]),null===(i=this.engine)||void 0===i||i.destroy(),e.prototype.destroy.call(this),o.closeTab=r}}),Object.defineProperty(t.prototype,"copyCssProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r=this;if(Array.isArray(e)&&t instanceof HTMLElement&&i instanceof HTMLElement){var o=getComputedStyle(t);e.forEach((function(e){var t=r.getVar(e);i.style.setProperty(t,o.getPropertyValue(t))}))}}}),Object.defineProperty(t.prototype,"notify",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!function(e,t,i){if(Er(e)&&xr(t)&&xr(i)){var r=document.getElementById(e);if(r instanceof HTMLElement){var o=To(t,i,void 0,r);setTimeout((function(){o.style.opacity="0",setTimeout((function(){o.remove()}),400)}),7e3)}}}(this.balloonNodeId,this.balloonTree,e)}}),Object.defineProperty(t.prototype,"sendReason",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r;9==e&&Er(un.links.complainLink)?fetch(un.links.complainLink,{method:"POST",body:JSON.stringify({banner_id:String(null===(r=null===(i=this.store)||void 0===i?void 0:i.data)||void 0===r?void 0:r.id),reason:9,sitename:this.store.hostname,text:t})}).catch((function(){})):xr(this.config)&&Er(this.config.closeUrl)&&Ao(this.config.closeUrl+e),this.raiseCoreEvent(9,{reason:e})}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),t}(Yr),No=Tr({acMenu:Eo});function Do(e,t){for(var i=0,r=t.length;++i<r&&!(t[i][0]>e););return t[i-1][1]}function Bo(e,t){Sr(e)&&"number"==typeof t&&!isNaN(t)||(t=4095);var i=Or();return e.forEach((function(e,r){return i[e]=!!(t&1<<r)})),i}function Ro(e){var t,i=Math.ceil(e.length/2),r=i;return e.replace(/\s/g,(function(e,o){var n=Math.abs(i-o);return n<r&&(r=n,t=o)," "})),t?[[0,t-("."==e[t-1]?1:0),0],[t+1,0,0]]:[[0,0,0]]}var zo=function(e){return e+.5|0};function Vo(e,t,i,r){return"number"!=typeof i||isNaN(i)?null:r?zo(Math.max(e,Math.min(t,i))):Math.max(e,Math.min(t,i))}function Ho(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}function Wo(e){navigator.clipboard?navigator.clipboard.writeText(e).catch((function(){Ho(e)})):Ho(e)}function Fo(e,t){return t<64?Wr.tiny:t<110?Wr.small:e<330&&t>200||t<200?Wr.medium:t>200&&e>330?Wr.large:void 0}var Uo={RUR:"₽",RUB:"₽",KZT:"₸",USD:"$"};function Yo(e,t){var i=Math.abs(parseInt(e));if(!i)return"";t=Er(t)?Uo[t]:"₽";var r=i/100,o=i%100;if(r<1e3)return"".concat(r.toFixed(o?2:0),"&nbsp;&#8381;");var n=[],a=String(Math.floor(r)),s=a.length%3;s&&(n.push(a.substring(0,s)),a=a.substring(s));for(var l=0;l<a.length;l+=3)n.push(a.substring(l,l+3));var d=n.join("&nbsp;");return o?"".concat(d,".").concat(o,"&nbsp;").concat(t):"".concat(d,"&nbsp;").concat(t)}function Go(e){var t=[];3===e.length?e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2):6!==e.length&&(e="#555555");for(var i=0;i<=2;i++)t[i]=parseInt(e.slice(2*i,2*i+2),16);return.2126*t[0]+.7152*t[1]+.0722*t[2]}function Zo(e){void 0===e&&(e=10);for(var t=Math.round(25*Math.random()+10).toString(36),i=e;i--;)t+=Math.round(36*Math.random()).toString(36);return t}function Xo(e){var t=e%60;return Math.floor(e/60)+":"+(t<10?"0".concat(t):t)}var Qo={initTabs:function(){var e,t,i=this;Object.entries(this.config.tabs).forEach((function(e){var t=e[0],r=e[1];i.elements[t]=Kr("div",{classes:i.getClass(r.tabCl||"_mk_adChoices_tab"),dattrs:{tab:t}}),["header","body","footer"].forEach((function(e){("body"===e||r[e])&&(i.elements["".concat(t,"_").concat(e)]=Kr("div",{classes:i.getClass(r["".concat(e,"Cl")]||"_mk_adChoices_".concat(e)),appendTo:i.elements[t],text:r[e]}))}));var o=r.items;Sr(o)&&o.forEach((function(e){var o,n=e.id||e.name,a=e.iconText||(null===(o=i.store.meta.icons)||void 0===o?void 0:o[e.name]);i.elements[n]=Kr(e.tg||"div",{classes:i.getClass(e.classNames||r.itemCl||"_mk_adChoices_menuLine"),text:a?a+"<span>".concat(e.text,"</span>"):e.text,onClick:e.action?function(t){return i.config.actions.onAction.call(i,e.action,n,e.actionValue,t)}:void 0,appendTo:i.elements["".concat(t,"_body")],dattrs:{action:e.action}})}))})),xr(t=this.config.tabs.main)&&"*"===t.header&&(this.elements.main_header.innerHTML=((null===(e=this.store.data.adLabel)||void 0===e?void 0:e.text)||"Реклама")+" "+(this.store.data.ageRestrictions||"0+"));var r=this.store.data.aboutCompany;r&&Kr("div",{classes:this.getClass("_mk_adChoices_about"),text:r,appendTo:this.elements.main_header})},resolveIcons:function(){return yr(this,void 0,void 0,(function(){function e(e){return yr(this,void 0,void 0,(function(){return wr(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch(e)];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))}var t=this;return wr(this,(function(i){return Object.entries(this.config.tabs).forEach((function(i){i[0];var r=i[1].items;Sr(r)&&r.forEach((function(i){return yr(t,void 0,void 0,(function(){var t,r;return wr(this,(function(o){switch(o.label){case 0:return t=/<svg[\s\S]*?>[\s\S]*?<\/svg>/i,i.iconUrl?t.test(i.iconUrl)?(i.iconText=i.iconUrl,[3,3]):[3,1]:[3,3];case 1:return r=i,[4,e(i.iconUrl)];case 2:r.iconText=o.sent(),o.label=3;case 3:return[2]}}))}))}))})),[2]}))}))},onAction:function e(t,i,r,o){var n,a;switch(null==o||o.preventDefault(),null==o||o.stopPropagation(),t){case"showTab":this.elements.host.replaceChild(this.elements[i],this.currentTab),this.currentTab=this.elements[i],"closed"===r&&(this.sendEvent(po.ClosedByUser),this.sendEvent(po.Closed),this.raiseCoreEvent(9),e.call(this,"destroy"));break;case"closeMenu":this.closeTimeout=null,this.isOpen&&(this.element.style.display="none",this.store.rootNode.setCssAttr({menu:"close"}),this.store.isServiceHidden=!1,this.elements.hideForm=void 0,this.engine.resume(!0),this.isOpen=!1);break;case"hide":case"complain":Ko.call(this,t),e.call(this,"showTab",i,r);break;case"sendOther":this.sendReason(9,this.elements.textArea.value||""),e.call(this,"showTab","closed","closed");break;case"reasonItem":9!=i&&this.sendReason(i);var s=null===(a=null===(n=this.store)||void 0===n?void 0:n.proxyNode)||void 0===a?void 0:a.getAttribute("adChoiceSize"),l=(null==s?void 0:s.includes(Wr.tiny))||(null==s?void 0:s.includes(Wr.small))?"closed":r;e.call(this,"showTab",l,l,o);break;case"copy":if(Wo(r||"Not defined"),this.elements[i]instanceof HTMLElement){var d=this.elements[i].getElementsByTagName("span")[0]||this.elements[i];if(d instanceof HTMLElement){var c=d.innerText;d.innerText="Скопировано",setTimeout((function(){return d.innerText=c}),2e3)}}break;case"redirect":Er(r)&&window.open(r,"_blank");break;case"destroy":this.unmount()}}};function Ko(e){var t;this.elements.closeTitle.innerHTML=this.config.tabs[e].closeTitle,this.elements.closeInfo.innerHTML=this.config.tabs[e].closeInfo,null===(t=this.elements.textArea)||void 0===t||t.setAttribute("placeholder",this.config.tabs[e].otherPlaceholder),this.action=e}var qo,Jo={closeBtn:!0,tabs:{main:{header:"*",items:[{name:"VKAds",classNames:["_mk_vkAds","_mk_adChoices_menuLine"]}]},hide:{},other:{header:"Другое:",items:[{tg:"textarea",name:"textArea",classNames:["_mk_freeTextArea"]},{text:"Отправить",name:"sendButton",classNames:["_mk_freeButton"],action:"sendOther"}],footer:!0},complain:{},closed:{items:[{name:"closeTitle",classNames:["_mk_closeTitle"]},{name:"closeInfo",classNames:["_mk_closeInfo"]}]}},finalProps:["--mk-cSubhead","--mk-сPrimary","--mk-bgContent","--mk-cBorder","--mkext-bRadius","--mkext-bRadius-tl","--mkext-bRadius-tr","--mkext-bRadius-bl","--mkext-bRadius-br"],actions:Qo},$o={fraction:.055,config:(qo={},qo[6]={text:"ЕСТЬ ПРОТИВОПОКАЗАНИЯ. НЕОБХОДИМА КОНСУЛЬТАЦИЯ СПЕЦИАЛИСТА",ratio:[521/24,7.75,218/72],lines:[[[0,0,521,526]],[[0,21,188,190],[22,0,327,330]],[[0,21,188,190],[22,46,218,220],[47,0,106,106]]]},qo[9]={text:"БАД. НЕ ЯВЛЯЕТСЯ ЛЕКАРСТВЕННЫМ СРЕДСТВОМ",size:2,ratio:[349/24,4.4375],lines:[[[0,0,349,354]],[[0,16,132,134],[17,0,213,217]]]},qo[10]={text:"Проектная декларация на сайте наш.дом.рф",ratio:[356/24,3.875],allowSimple:!0,lines:[[[0,0,356,360]],[[0,20,186,187],[21,0,166,169]]]},qo[11]={text:"ИЗУЧИТЕ ВСЕ УСЛОВИЯ КРЕДИТА (ЗАЙМА) НА САЙТЕ. ОЦЕНИВАЙТЕ СВОИ ФИНАНСОВЫЕ ВОЗМОЖНОСТИ И РИСКИ",size:2,ratio:[787/24,407/48,301/72,233/96,170/120],lines:[[[0,0,787,798]],[[0,44,374,377],[46,0,407,414]],[[0,35,301,303],[36,61,209,211],[62,0,271,276]],[[0,19,164,166],[20,44,207,208],[45,72,233,237],[72,0,170,173]],[[0,19,164,166],[20,38,157,158],[39,56,146,147],[57,72,137,140],[72,0,170,173]]]},qo[12]={text:"БАНКРОТСТВО ВЛЕЧЕТ НЕГАТИВНЫЕ ПОСЛЕДСТВИЯ, В ТОМ ЧИСЛЕ ОГРАНИЧЕНИЯ НА ПОЛУЧЕНИЕ КРЕДИТА И ПОВТОРНОЕ БАНКРОТСТВО В ТЕЧЕНИЕ ПЯТИ ЛЕТ. ПРЕДВАРИТЕЛЬНО ОБРАТИТЕСЬ К СВОЕМУ КРЕДИТОРУ И В МФЦ.",size:1.4,ratio:[65,811/48,564/72,4.75,170/120],lines:[[[0,0,1560,1580]],[[0,87,745,755],[88,0,811,820]],[[0,66,564,572],[67,131,533,539],[132,0,455,460]],[[0,42,365,370],[43,86,377,381],[88,131,352,356],[132,0,456,460]],[[0,29,256,259],[30,69,328,333],[70,111,357,360],[112,146,283,287],[147,0,322,325]]]},qo[13]={text:"18+ ЧРЕЗМЕРНОЕ УПОТРЕБЛЕНИЕ БЕЗАЛКОГОЛЬНЫХ ТОНИЗИРУЮЩИХ НАПИТКОВ (В ТОМ ЧИСЛЕ ЭНЕРГЕТИЧЕСКИХ) ВРЕДИТ ВАШЕМУ ЗДОРОВЬЮ",size:1.4,ratio:[1015/24,519/48,367/72,311/96],lines:[[[0,0,1015,1030]],[[0,55,492,500],[56,0,519,526]],[[0,42,367,374],[43,77,301,305],[78,0,339,344]],[[0,27,231,235],[28,55,257,261],[56,93,311,315],[94,0,204,207]]]},qo)};$o.config[8]=$o.config[6];var en,tn,rn=function(){function e(){Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),zr(this,"listeners",Or(),!1),zr(this,"isDestroyed",!1,!1),this.runListeners=this.runListeners.bind(this),this.state=1}return Object.defineProperty(e.prototype,"bulkPropsInit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;Sr(e)&&!this.isDestroyed&&e.forEach((function(e){return i[e]=t}))}}),Object.defineProperty(e.prototype,"copyPropsInit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r=this;!this.isDestroyed&&xr(e)&&Sr(t)&&(t.forEach((function(t){var i;return r[t]=null!==(i=e[t])&&void 0!==i?i:r[t]})),i&&"object"==typeof i&&Object.entries(i).forEach((function(t){var i=t[0],o=t[1];i in e&&(e[i]||!1===e[i]||0===e[i])||(r[i]=o)})))}}),Object.defineProperty(e.prototype,"sendData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!this.isDestroyed&&xr(e)&&Object.entries(e).forEach((function(e){var i=e[0],r=e[1];Sr(t.listeners[i])&&t.listeners[i].forEach((function(e){return e(r)}))}))}}),Object.defineProperty(e.prototype,"setProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r=this;if(!this.isDestroyed&&xr(e)){var o=Or();try{Object.entries(e).forEach((function(e){var i=e[0],n=e[1];r[i]!==n&&(t&&go.log("update prop: ".concat(i," to ").concat(n," from ").concat(r[i])),o[i]=[n,r[i]],r[i]=n)}))}catch(e){}setTimeout((function(){return r.runListeners(o,t,i)}),0)}}}),Object.defineProperty(e.prototype,"pushValues",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r=Lr(t),o=this[e];if(Array.isArray(o))o.push.apply(o,r);else{if(void 0!==o)return;this[e]=kr([],r,!0)}this.runListeners(((i={})[e]=[this[e],void 0],i))}}),Object.defineProperty(e.prototype,"subscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;"function"!=typeof t||this.isDestroyed||Lr(e).forEach((function(e){"string"==typeof e&&(Sr(i.listeners[e])?i.listeners[e].includes(t)||i.listeners[e].push(t):i.listeners[e]=[t])}))}}),Object.defineProperty(e.prototype,"unSubscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;"function"!=typeof t||this.isDestroyed||Lr(e).forEach((function(e){if("string"==typeof e&&e in i.listeners){var r=i.listeners[e].findIndex((function(e){return e===t}));~r&&i.listeners[e].splice(r,1)}}))}}),Object.defineProperty(e.prototype,"delProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(!this.isDestroyed){var i=Lr(e),r=Or();i.forEach((function(e){e in t&&(r[e]=[void 0,t[e]],delete t[e])})),this.runListeners(r)}}}),Object.defineProperty(e.prototype,"runListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r=this;void 0===t&&(t=!1),void 0===i&&(i=!1),this.isDestroyed||Object.keys(e).forEach((function(o){var n;t&&go.log("runListeners (".concat((null===(n=r.listeners[o])||void 0===n?void 0:n.length)||0,") for prop: ").concat(o,".")),Sr(r.listeners[o])&&r.listeners[o].length&&r.listeners[o].forEach((function(t,n){(r[o]===e[o][0]||i)&&t(e)}))}))}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.runListeners({$$destroy:[!0,!1]},!1,!0),this.listeners=null,this.prevState=null;for(var e=0,t=Object.keys(this);e<t.length;e++)delete this[t[e]];this.isDestroyed=!0}}),e}(),on=function(e){function t(t,i){var r=e.call(this)||this;return Object.defineProperty(r,"engine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"muted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(r,"volume",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(r,"currentTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"remainTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"duration",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"progress",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"addon",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"visibility",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"manualPause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"servicePause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isMobileSafari",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isReady",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isMediaReady",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isStarted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"errors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"colors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"css",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"cssVars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.engine=t,r.node=i,r}return gr(t,e),t}(rn),nn=function(e){function t(t,i,r){var o,n=e.call(this,t)||this;Object.defineProperty(n,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"nStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"textNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"children",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"builders",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"triggers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"workers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"animators",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"manager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n.parent=i,n.current=r;try{n.config=n.store.workTree[r],n.id=null===(o=n.config.a)||void 0===o?void 0:o.id}catch(e){go.error("MANode. config:",n.config,r)}return xr(n.config)?(n.store.vDOM[r]=n,n.init(),n):(n.destroy(),n)}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,i=this.config,r=i.bl,o=i.tr,n=i.wr,a=i.ch,s=(i.an,i.role);this.builders=this.makeHandlers(r||0,this.engine.handlers.builders),this.workers=this.makeHandlers(n,this.engine.handlers.workers),this.triggers=this.makeHandlers(o,this.engine.handlers.triggers),Er(s)&&this.store.roleMap.set(this.element,s),this.children=a?Lr(a).filter((function(t){var i;return!xr(null===(i=e.store.workTree[t])||void 0===i?void 0:i.iif)||Lr(e.store.workTree[t].iif).every((function(t){var i,r;return null===(r=(i=e.engine.handlers.enforcers)[t.e])||void 0===r?void 0:r.call(i,t,e.store.data,e.store)}))})).map((function(i){return new t(e.engine,e,i)})):[],this.nStore&&this.nStore.setProps(Tr({ready:!0}))}}),Object.defineProperty(t.prototype,"firstRender",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;this.children.forEach((function(e){return e.firstRender()})),this.triggers.forEach((function(e){return e.handle()})),this.workers.forEach((function(e){return e.handle()})),null===(e=this.animators)||void 0===e||e.forEach((function(e){return e.handle()}))}}),Object.defineProperty(t.prototype,"makeHandlers",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,r=Lr(e).map((function(e){return xr(e)?e:{e}}));return r.forEach((function(e){if("function"!=typeof t[e.e])throw go.warn("Handler is not function or not found. Node:",i.current),Gr.error(564)})),r.map((function(e){return new t[e.e](i.engine,i,e)}))}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||(Sr(this.triggers)&&this.triggers.forEach((function(e){return e.destroy()})),Sr(this.children)&&this.children.forEach((function(e){return e.destroy()})),this.nStore instanceof on&&this.nStore.destroy(),e.prototype.destroy.call(this))}}),Object.defineProperty(t.prototype,"setCssStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Zr(this.element,e,t)}}),Object.defineProperty(t.prototype,"setCssAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(e){Xr(this.element,e)}}),Object.defineProperty(t.prototype,"toggleVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.nStore&&(xr(e)?this.nStore.setProps(e):this.nStore.setProps({muted:!this.nStore.muted}))}}),Object.defineProperty(t.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i;null===(i=this.manager)||void 0===i||i.play(e,t)}}),Object.defineProperty(t.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r;null===(r=this.manager)||void 0===r||r.pause(e,t,i)}}),Object.defineProperty(t.prototype,"useStore",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.nStore||(this.nStore=new on(this.engine,this)),this.nStore}}),t}(Yr),an=function(e){function t(t){var i=e.call(this,t)||this;return i.subscribe("state",i.onState),i.store.masterVideoNode||i.subscribe("currentTime",i.onTime),i.init(),i}return gr(t,e),Object.defineProperty(t.prototype,"onState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDestroyed&&Sr(e.state)){var t,i=e.state,r=i[0],o=i[1],n=this.store;switch(r){case 3:n.isStarted||(this.sendEvent(po.Started),n.isStarted=!0),4===o&&n.manualPause?(this.sendEvent(po.Resumed),n.manualPause=!1):4!==o&&this.sendEvent(po.Played),n.servicePause=!1;break;case 4:3===o&&n.manualPause&&this.sendEvent({event:po.Paused,manualPause:n.manualPause,servicePause:n.servicePause});break;case 6:if(this.setProps({isCompleted:!0}),n.postViewMode&&xr(t=this.engine.modules.postView)&&8!==o)return this.setProps({state:8}),void setTimeout((function(){return t.run()}),5);if(n.closeOnCompleted)return this.engine.close(!0);this.sendEvent(po.Completed),n.allowReplay&&this.store.masterVideoNode&&(n.autoReplay&&n.replayCount?(n.replayCount--,this.engine.repeat()):n.controls.flow&&this.setProps({state:5}))}}}}),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,i,r=this;this.isDestroyed||((null===(t=this.store.rootNode)||void 0===t?void 0:t.element)instanceof HTMLElement&&this.store.rootNode.element.remove(),this.rootNode=new nn(this.engine,{},"root"),xr(this.store.meta.adChoices)&&Er(this.store.meta.adChoices.size)&&this.store.proxyNode.setAttribute("adChoiceSize","".concat(null===(i=this.store.meta.adChoices)||void 0===i?void 0:i.size," ").concat(this.store.view)),this.store.rootNode=this.rootNode,this.store.proxyNode.appendChild(this.store.rootNode.element),this.store.roleMap.set(this.store.proxyNode,this.store.isFullscreen?"closeBanner":"background"),this.store.isFullscreen&&this.store.roleMap.set(this.store.rootNode.element,"background"),this.adjust(),e.prototype.init.call(this),setTimeout((function(){return r.setProps(Tr({currentTime:.3}))}),300))}}),Object.defineProperty(t.prototype,"playNextScene",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.rootNode.firstRender(),this.store.masterVideoNode||this.setProps(Tr({state:2,isReady:!0}),!1,!0)}}),Object.defineProperty(t.prototype,"adjust",{enumerable:!1,configurable:!0,writable:!0,value:function(){Sr(this.store.noData)&&(this.rootNode.element.dataset.notGiven=this.store.noData.join(" "))}}),Object.defineProperty(t.prototype,"onTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store,t=e.currentTime,i=e.duration,r=e.id,o=e.fullTime;t>=i&&!this.store.isCompleted&&!this.store.masterVideoNode&&this.setProps({state:6,isCompleted:!0}),this.sendEvent({event:po.TimeRemained,currentTime:t,fullTime:o,duration:i,remainTime:Math.min(0,i-t),progress:Math.min(1,t/i),id:r})}}),t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"rootNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return gr(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||this.rootNode.render()}}),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.engine.disclaimer&&this.rootNode.setCssAttr({disclaimer:String(this.store.data.disclaimer_id||3)})}}),Object.defineProperty(t.prototype,"playNextScene",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),t}(Yr)),sn={base:an},ln=["viewin","check","render","click","ctaClick","clickPrettyCard","closedByUser","viewabilityDuration","viewabilityMeasurable","viewabilityUnmeasurable","error","adContainerCovered","playbackStarted","playbackCompleted","playbackPaused","playbackResumed","playbackDuration","volumeOff","volumeOn","playVideoVolumeOn","playVideoVolumeOff","playheadReachedValue","playheadViewabilityValue","sharePost","likePost","clickPostOwner","clickPostLink","audioClick","showOff","showOff","isBot","isCold","impression","fullscreenOn","fullscreenOff"],dn=((en={})[1]="render",en[2]="playbackStarted",en[3]="playbackStarted",en[4]="playbackPaused",en[5]="playbackResumed",en[6]="playbackCompleted",en[8]="closedByUser",en[9]="closedByUser",en[11]=["volumeOn","playVideoVolumeOn"],en[12]=["volumeOff","playVideoVolumeOff"],en[13]="click",en[14]="ctaClick",en[28]="clickPrettyCard",en[19]="error",en[15]="viewin",en[20]="isBot",en[21]="isCold",en[25]="adContainerCovered",en),cn=[25,50,75,100].map((function(e){return"playheadReachedValue".concat(e)})).concat("trackingLink","ctaLink","ctaUrl").concat(ln).map((function(e){return[e,e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(function(e,t){return(t?"-":"")+e.toLowerCase()}))]})),un=Tr({methods:["start","pause","resume","skip","stop","setVolume","destroy","getVolume","getState","useTheme","raiseEvent","restore"],components:No,producers:sn,adChoices:Jo,disclaimer:$o,pixels:ln,multiplePixels:["playbackResumed","playbackPaused","volumeOn","volumeOff","playVideoVolumeOn","playVideoVolumeOff","error","click","ctaClick","clickPrettyCard","check"],defaultPixelTarget:{video:["playbackStarted","playbackCompleted","playbackPaused","playbackResumed","volumeOff","volumeOn","playVideoVolumeOn","playVideoVolumeOff","playbackDuration","playheadReachedValue","playheadViewabilityValue"],banner:["viewin","check","render","click","ctaClick","clickPrettyCard","closedByUser","viewabilityDuration","viewabilityMeasurable","viewabilityUnmeasurable","adContainerCovered","sharePost","likePost","clickPostOwner","clickPostLink","audioClick","showOff","error","isBot","isCold"]},eventToPixel:dn,engine:{defaultTag:"div",classPrefix:"_mk_"},clickAreas:["title","description","icon","image","rating","votes","ctabutton","agerestrictions","label","domain","appcategory","background","wholeview"],serviceRoles:["acMenu"],oneShotCallback:[po.Completed],links:{VKAds:"https://ads.vk.com/",complainLink:"https://ad.mail.ru/complain/",rules:"https://ads.vk.com/documents/recommendation"},eventToDispatch:(tn={},tn[13]="mrg-click",tn[14]="mrg-click",tn[28]="mrg-click",tn[17]="mrg-showed",tn[8]="mrg-skip",tn[9]="mrg-closed",tn[15]="mrg-viewable",tn[1]="mrg-render-init",tn[26]="mrg-fullscreen-on",tn[27]="mrg-fullscreen-off",tn[19]="mrg-error",tn[29]="mrg-restored",tn),multipleEvents:["mrg-click","mrg-fullscreen-on","mrg-fullscreen-off","mrg-restored"],webErrorMapping:{lib_init:[315,333,317,311],lib_render:[555,552,558,700,701],warn:[702]},sharedProps:{allowAnimation:!1,allowReplay:!0,autoReplay:!0,autoPause:!0,autoStart:!0,openLinkInPopup:!1,checkBot:!0,allowClose:!0,allowCloseDelay:0,autoCloseDelay:0,closeOnClick:!1,closeOnCompleted:!1,forcePixels:!1,notDestroyOnDisconnect:!1,skipMode:void 0,popupCfg:void 0},defaults:{ageRestrictions:"16+",ctaText:"Перейти"}}),hn=function(e){function t(t){var i=e.call(this)||this;Object.defineProperty(i,"engine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"vDOM",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"branch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"erid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"localId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"initConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"globalInitConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"parentElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"hostNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"proxyNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"rootNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"hostSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"meta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"rootSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"bannerSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isReady",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"mediaWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"fixSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"media",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"aspectRatio",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"classPrefix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"hostname",{enumerable:!0,configurable:!0,writable:!0,value:"*"}),Object.defineProperty(i,"styles",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(i,"clickArea",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"clickAreaRaw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isUserBeenActive",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isMobileSafari",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"videos",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"masterVideoNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"servicePause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"closedByUser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"firstRenderTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"animators",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"producer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"hasIObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"noSendPixel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"duration",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"visibility",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"currentTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"fullTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"remainTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"progress",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"volume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"muted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"activeSlideIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"inFocus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isPopupOpen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"popupCfg",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"errors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"noData",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(i,"isTouchListening",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isTouched",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"fullMedia",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"mediafiles",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(i,"_root_size",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"_proxy_size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_cs_size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_cs_slide_size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_cs_direction",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(i,"_infoArea_size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"controls",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"allowAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"autoReplay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"autoPause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"autoStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"allowReplay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"closeOnCompleted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isShown",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isHidden",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"videoShowed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"viewin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"inViewport",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"serviceClick",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"proxyNodeInitRect",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"mediaInitRect",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isPageUnload",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isDeveloper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"skipResize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"pathname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"search",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"signs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"checkPixel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isLocalHost",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isFramed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"workTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"serviceForest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isServiceHidden",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"roleMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"hasExtPlayer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"disclaimerPaddings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"stylesToken",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"calcText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"manualPause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isFullscreen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"allowClose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"allowCloseDelay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"autoCloseDelay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"closeOnClick",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"clickZoneFullscreenCloseButton",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"mediaAutoScroll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"disableClickArea",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"notDestroyOnDisconnect",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"noUnobserve",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"forcePixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"classMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"varMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"upSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"virtualization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"videoControlNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"asmProp",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"refs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"extStatEngine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"dataset",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"isCompleted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"replayCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"refNodes",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"postViewMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"renderMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"pixelSendTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"skipMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"asmConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"adChoices",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"restoreCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.engine=t;try{i.version="1.0.381",i.pathname=location.pathname,i.search=location.search}catch(e){}return i.isDeveloper=mo,i.signs=Or(),i.roleMap=new Map,i}return gr(t,e),Object.defineProperty(t.prototype,"getDataProp",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(Er(e)){if(!(e in this.data))return t||this.meta.defaults[e]||un.defaults[e];var i=this.data[e];return Sr(i)?i[0]:i}}}),Object.defineProperty(t.prototype,"regAnimator",{enumerable:!1,configurable:!0,writable:!0,value:function(e){xr(e)&&this.pushValues("animators",e)}}),t}(rn);function pn(e,t){void 0===t&&(t=1.01);var i=Or();for(var r in e)for(var o=parseInt(r),n=e[r].length;n--;)i[o+n]=e[r][n]*t;var a=Object.values(i);return i[0]=a.reduce((function(e,t){return e+t}),0)/a.length,i}function mn(e,t){if(!Er(e))return 0;for(var i=0,r=e.length;r--;)i+=t[e.charCodeAt(r)]||t[0];return i}function bn(e,t){if(Er(e))return e.split(" ").map((function(e){return{word:e,l:e.length,w:mn(e,t)}}))}function fn(e,t,i,r,o){if(void 0===o&&(o=999),!Sr(e))return Tr({cnt:0,lengths:[],wordCnt:[],fullCnt:0,widths:[]});var n=i/24,a=r[32]*n,s=0,l=0,d=0,c=[],u=[],h=[];return e.forEach((function(i,r){var o;l=l+i.w*n+(l?a:0),d+=i.l;var p=(null===(o=e[r+1])||void 0===o?void 0:o.w)*n||0;(i.word.endsWith("\n")||l+(p+(p&&a))>=t)&&(c.push(d+(i.word.match(/\n/g)||[]).length-1),u.push(r),h.push(l),s++,l=0)})),l&&(s++,c.push(d)),Tr({cnt:Math.min(s,o),lengths:c,fullCnt:s,wordCnt:u,widths:h})}function vn(e){if(!xr(e)||!Sr(e.lines))return Or();var t=e.lines.map((function(t){return[t,fn(t.words,e.width,t.fontSize,e.charMap)]})),i=Or(),r=e.height;return t.forEach((function(t){var o=Math.floor(r/t[0].lineHeight);o>=t[1].cnt?(i[t[0].name]=t[1].cnt,r=Math.max(0,r-t[1].cnt*t[0].lineHeight-(e.gap||0))):(i[t[0].name]=o,r=0)})),i}var gn,_n,yn,wn,kn,xn="7px 12px",An="8px 16px",Cn="9.5px 16px",Pn="12.5px 28px",Sn={root:{size:{minWidthOnCol:[0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,300,400,400,550,550],maxWidthOnCol:[240,320,145,160,9999,9999,9999,9999,9999,9999,340,380,440,500,500,550,850,1100,1400,1700,1920,9999],minHeightOnCol:[199,199,0,0,129,101,0,50,69,99,199,199,199,199,199,199,199,199,199,199,199,199],maxHeightOnCol:[9999,9999,9999,9999,199,129,49,69,99,128,9999,9999,9999,9999,9999,9999,9999,9999,9999,9999,9999,9999],minWidthOnRow:[0,0,0,145,0,0,0,0,0,0,0,0,160,160,180,200,200,250,320,400,470,550],maxWidthOnRow:[240,200,145,160,9999,9999,9999,9999,9999,9999,210,245,290,340,340,390,500,590,1920,9999,9999,9999],minHeightOnRow:[199,199,0,0,129,101,0,50,69,99,199,199,199,199,199,199,199,199,199,199,199,199],maxHeightOnRow:[9999,9999,9999,9999,199,129,49,69,99,101,9999,9999,9999,9999,9999,9999,9999,9999,9999,9999,9999,9999],vars:{titleFs:[12,12,14,16,12,11,11,11,15,16,13,14,15,16,17,18,20,22,24,26,28,32],rowGap:[2,2,2,2,2,2,1,1,2,2,3,4,4,4,4,4,4,6,6,8,8,12],columnGap:[2,2,2,2,2,2,2,2,2,2,3,4,4,6,6,8,8,8,8,8,10,12],buttonFs:[12,12,12,12,12,12,12,12,12,12,12,13,13,14,14,14,14,15,15,16,16,16],buttonSize:[28,28,28,28,28,28,26,28,28,32,28,32,32,36,36,36,36,40,40,44,44,44],logoSize:[12,12,12,12,12,12,12,12,12,12,12,12,16,16,16,18,18,18,18,20,20,21],domainFs:[10,10,10,10,10,9,9,9,9,9,10,11,12,12,12,14,14,14,14,15,15,16],logoVertSize:[12,12,12,12,12,12,12,12,12,12,12,12,12,12,16,22,32,34,36,40,44,48],padX:[8,8,8,8,8,8,8,8,8,8,8,8,12,12,12,16,16,20,20,24,32,32],descFs:[10,10,11,12,10,10,10,10,12,11,11,11,12,13,14,14,14,15,15,16,16,17],padY:[8,8,7,8,6,8,0,3,8,8,8,8,8,12,12,16,16,20,20,24,24,32],buttonRadius:[10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,16],buttonPadding:[xn,xn,xn,xn,xn,xn,xn,xn,xn,An,xn,xn,An,An,An,Cn,Cn,Cn,"11px 24px",Pn,Pn,Pn]}}}},Mn=function(e,t){return t(e)},In=((gn={})[1]=function(e,t){return Lr(e.prop).reduce((function(e,i){return e&&Mn(So(i,t),(function(e){return!!e||0===e}))}),!0)},gn[2]=function(e,t){return Lr(e.prop).reduce((function(e,i){return e&&Mn(So(i,t),(function(e){return!e&&0!==e}))}),!0)},gn[3]=function(e,t){return So(e.prop,t)!==e.value},gn[4]=function(e,t){return So(e.prop,t)===e.value},gn[7]=function(e,t,i){return e.prop in i&&void 0!==i[e.prop]},gn[8]=function(e,t,i){return!i[e.prop]},gn[5]=function(e,t,i){return So(e.prop,i)===e.value},gn[6]=function(e,t,i){return So(e.prop,i)!==e.value},gn[9]=function(e,t){return Lr(e.prop).reduce((function(e,i){return e||Mn(So(i,t),(function(e){return!!e||0===e}))}),!1)},gn[10]=function(e,t){return Lr(e.prop).reduce((function(e,i){return e||Mn(So(i,t),(function(e){return!e&&0!==e}))}),!1)},gn),Tn=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t)||this;return Object.defineProperty(a,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"nStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"meta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isActive",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isClickArea",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"mainProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"listenProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"listenGlobalProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.node=i,a.nStore=i.nStore,a.meta=xr(r)?r:Or(),a.args=o,a.data=Or(),a.mainProp=a.getPropName(a.mainPropPostfix),a.init(),a}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(t.prototype,"initSubscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.listenProp=this.meta.LISTEN,this.listenGlobalProp=this.meta.LISTENGLOBAL,Er(this.listenProp)&&(this.isActive=!0,this.nStore=this.node.useStore(),this.nStore.subscribe(this.listenProp,this.handle.bind(this,"local"))),Er(this.listenGlobalProp)&&(this.isActive=!0,this.node.subscribe(this.listenGlobalProp,this.handle.bind(this,"global")))}}),Object.defineProperty(t.prototype,"getPropName",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.meta[e.toUpperCase()];return Er(t)?t:"_".concat(this.node.current,"_").concat(e)}}),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(t.prototype,"loadData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;(e=Lr(e)).forEach((function(e){Er(e)&&(t.data[e]=t.getData(e))}))}}),Object.defineProperty(t.prototype,"mainPropPostfix",{get:function(){return"base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(Er(e)){var t=e.toUpperCase(),i=this.meta[t];if(Er(i)){var r=i.split("."),o=this.store.data[r[0]];if(1===r.length)return o;if(xr(o))return o[r[1]]}return xr(this.node.data)&&e in this.node.data?this.node.data[e]:e in this.meta?this.meta[e]:void 0}}}),Object.defineProperty(t.prototype,"inject",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.node.element=e,this.node.parent.element.appendChild(e)}}),Object.defineProperty(t.prototype,"setNodeProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){xr(this.nStore)&&Pr(this.nStore.setProps)&&this.nStore.setProps(e,t,i)}}),Object.defineProperty(t.prototype,"nSubscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this.nStore.subscribe(e,(function(e){return t.call(i,e)}))}}),Object.defineProperty(t.prototype,"buildLcbComponent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return To(e,this.store.data,{classMap:this.store.classMap},this.node.parent.element,this.elements)}}),Object.defineProperty(t.prototype,"handleClickArea",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=null===(e=this.node.config)||void 0===e?void 0:e.role;Er(t)&&un.clickAreas.includes(t)&&this.node.element instanceof HTMLElement&&(this.isClickArea=this.store.clickArea.wholeview||this.store.clickArea[t],this.node.element.classList.add(this.getClass(this.isClickArea?"_mk_clickArea":"_mk_noClickArea")))}}),t}(Yr),On=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handle()}}),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.node.element instanceof HTMLElement&&this.node.element.remove();var i=this.node.config,r=i.tg||un.engine.defaultTag,o={classes:this.makeClasses(i.cl,this.node.current),attrs:i.ha,dattrs:i.a,styles:i.st,text:i.txt,appendTo:null===(e=this.node.parent)||void 0===e?void 0:e.element};i.join?(this.node.element=null===(t=this.node.parent)||void 0===t?void 0:t.element,Qr(this.node.element,o)):this.node.element=Kr(r,o),this.handleClickArea()}}),t}(Tn),jn=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return Object.defineProperty(a,"ratioProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isVideo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.nStore=a.node.useStore(),a.onLoadedMetadata=a.onLoadedMetadata.bind(a),a.onError=a.onError.bind(a),"media"===a.node.current||"$$media"===r.SRC?a.data=a.store.media:a.loadData(["src","poster","type","duration","width","height"]),a.ratioProp=a.getPropName("ratio"),a.handle(),a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(xr(this.data)){this.node.element instanceof HTMLElement&&this.node.element.remove();var e=this.data,t=e.type,i=e.src,r=e.poster,o=e.duration,n=e.format,a=void 0===n?"":n;if(Er(i)){this.nStore.duration=o||this.engine.store.duration;var s=Kr(["img","video","iframe"].includes(t)?t:i.endsWith("mp4")||i.endsWith("m3u8")||"mp4"===a||"hls"===a?"video":"img",{classes:this.makeClasses(this.node.config.cl,this.node.current),dattrs:this.node.config.a,styles:this.node.config.st});if(this.data.width&&this.data.height){var l=this.data.width/this.data.height||16/9;s.style.aspectRatio=String(l)}s instanceof HTMLVideoElement&&this.prepareVideo(s,r),"video"===t&&(this.node.player=s,this.player=s),s.onloadedmetadata=this.onLoadedMetadata,s.onload=this.onLoadedMetadata,s.src=i,s.onerror=this.onError,this.inject(s),this.handleClickArea()}}}}),Object.defineProperty(t.prototype,"prepareVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.isVideo=!0,this.nStore.volume=1,this.nStore.muted=!0,e.setAttribute("width","100%"),e.setAttribute("playsinline","playsinline"),e.setAttribute("muted","muted"),e.disablePictureInPicture=!0,e.preload="auto",e.volume=1,e.muted=!0,e.playsInline=!0,Er(t)&&(e.poster=t),this.store.pushValues("videos",this.node)}}),Object.defineProperty(t.prototype,"onLoadedMetadata",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this,i=this.node.element;if(i instanceof HTMLVideoElement||i instanceof HTMLImageElement){var r={width:i.videoWidth||i.naturalWidth,height:i.videoHeight||i.naturalHeight},o=r.width/r.height||16/9;if(this.node.element.style.aspectRatio=String(o),this.setProps(Tr(((e={})[this.ratioProp]=o,e["_".concat(this.node.current,"_size")]=r,e))),"feedWidth"===this.meta.size&&r.width&&r.height&&i.parentElement instanceof HTMLElement){var n=this.store.meta.mediaWidth,a=n/o;a&&(i.parentElement.style.width="".concat(Math.round(n),"px"),i.parentElement.style.height="".concat(Math.round(a),"px"))}setTimeout((function(){var e=to(t.store.hostNode);e.height&&e.width&&t.setProps(Tr({hostSize:e}))}),251)}}}),Object.defineProperty(t.prototype,"onError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.node.element;if(t instanceof HTMLVideoElement||t instanceof HTMLImageElement){var i={node:this.node.current,src:this.data.src};t instanceof HTMLVideoElement?(i.type="video",i.code=t.error.code,i.message=t.error.message):i.type="image",go.error("Error of media. e, data:",e,i),this.meta.sendError&&(this.store.sendData({coreEvent:{event:19,data:i}}),this.sendEvent(po.Error)),this.meta.destroyOnError&&this.engine.destroy()}}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;this.player instanceof HTMLVideoElement||"function"!=typeof(null===(t=this.player)||void 0===t?void 0:t.destroy)||this.player.destroy(),e.prototype.destroy.call(this)}}),t}(Tn),Ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.loadData(["src"]);var e=this.meta.view;if(e&&this.engine.disclaimer){this.node.element=Kr("div",{classes:this.getClass("_mk_disclaimer_place"),appendTo:this.node.parent.element,dattrs:this.node.config.a,styles:this.node.config.st});var t=this.data.src,i=xr(t)?Er(t.poster)?t.poster:"img"===t.type&&Er(t.src)?t.src:"":"";Er(i)&&(Kr("div",{classes:this.getClass("_mk_disclaimer_place_bg"),appendTo:this.node.element,styles:{backgroundImage:"url(".concat(i,")")}}),this.node.element.style.setProperty(this.getVar("--mk-cDisclaimer"),"#FFF")),this.engine.disclaimer.registerPlace(e,this.node.element),"row"===e&&this.engine.disclaimer.registerPlace("fullMedia",this.node.element),this.node.element.classList.add(this.getClass(this.store.clickArea.wholeview?"_mk_clickArea":"_mk_noClickArea"))}}}),t}(Tn),En=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;if(Object.defineProperty(a,"target",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"targetProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"ro",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isResizing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.store.fixSize&&"root"===i.current)return a;a.handle=a.handle.bind(a);var s=(xr(r)?r:{}).SIZE,l=void 0===s?"_".concat(i.current,"_size"):s;return a.targetProp=l,a.target="root"===i.current?a.store.proxyNode:i.element,"function"==typeof window.ResizeObserver&&a.target instanceof HTMLElement&&(a.ro=new ResizeObserver(a.handle),a.ro.observe(a.target)),a.target.isConnected&&a.handle(),a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;if(this.isResizing||this.isDestroyed||this.store.skipResize)this.store.skipResize=!1;else{this.isResizing=!0;var t=to(this.target),i=this.store[this.targetProp];xr(i)&&t.width===i.width&&t.height===i.height||this.setProps(Tr(((e={})[this.targetProp]=t,e))),"root"===this.node.current&&!this.store._proxy_size&&xr(i)&&i.height&&i.width&&(this.store._proxy_size=t),this.isResizing=!1}}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.ro&&(this.ro.unobserve(this.target),this.ro.disconnect(),this.ro=null),e.prototype.destroy.call(this)}}),t}(Tn),Nn=function(e){function t(t,i){var r,o,n=e.call(this,t)||this;if(Object.defineProperty(n,"io",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"target",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"threshold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"workStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!(null===(o=null===(r=n.engine)||void 0===r?void 0:r.store)||void 0===o?void 0:o.hasIObserver))return n;n.workStore=xr(i)?i:n.store,n.handler=n.handler.bind(n),n.threshold=new Array(21).fill(0).map((function(e,t){return t/20})),n.threshold.push(.01,.51),n.threshold.sort((function(e,t){return e-t}));try{n.io=new IntersectionObserver(n.handler,{threshold:n.threshold})}catch(e){}return n}return gr(t,e),Object.defineProperty(t.prototype,"observe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.io&&e instanceof HTMLElement&&(this.target&&this.io.unobserve(this.target),this.io.observe(e),this.target=e)}}),Object.defineProperty(t.prototype,"handler",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.isDestroyed||this.store.isHidden||e.forEach((function(e){if(xr(e)&&"isIntersecting"in e&&"intersectionRatio"in e){var i=e.isIntersecting||e.intersectionRatio>0;!t.workStore.viewin&&i&&t.raiseCoreEvent(15),!t.workStore.isShown&&e.intersectionRatio>=.5&&t.workStore.setProps({isShown:!0}),t.workStore.setProps(Tr({visibility:Math.ceil(100*e.intersectionRatio),inViewport:i,viewin:t.workStore.viewin||i}))}}))}}),Object.defineProperty(t.prototype,"disconnect",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.io&&this.io instanceof IntersectionObserver&&(this.io.disconnect(),this.io=null)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.disconnect(),e.prototype.destroy.call(this)}}),t}(Yr),Dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"viewability",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.onVisibility=this.onVisibility.bind(this),this.nStore=this.node.useStore(),this.src=this.src.bind(this),this.store.hasIObserver?(this.viewability=new Nn(this.engine,this.nStore),this.viewability.observe(this.node.element),xr(this.meta.mrc)&&this.meta.mrc.p&&"d"in this.meta.mrc&&this.nStore.subscribe("visibility",this.onVisibility)):this.nStore.visibility=100}}),Object.defineProperty(t.prototype,"onVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||(this.nStore.visibility>=this.meta.mrc.p?this.timeout||setTimeout(this.src,1e3*this.meta.mrc.d):this.timeout&&clearTimeout(this.timeout))}}),Object.defineProperty(t.prototype,"src",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;if(!this.isDestroyed){this.meta.mrc.unobserve&&this.viewability.disconnect();var t=Er(this.meta.mrc.prop)?this.meta.mrc.prop:"mrcShow";this.nStore.setProps(Tr(((e={})[t]=!0,e)))}}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;null===(t=this.viewability)||void 0===t||t.destroy(),e.prototype.destroy.call(this)}}),t}(Tn),Bn=[[0,140],[400,150],[500,200],[800,250],[1400,400],[1600,550]],Rn=[[0,69,152],[300,69,212],[400,69,312],[0,101,120],[300,101,122],[400,101,222],[500,101,322],[600,101,422],[0,129,112]],zn=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return Object.defineProperty(a,"targetProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isMediaUpdated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.handle=a.handle.bind(a),a.targetProp=(null==r?void 0:r.SIZE)||"_".concat(i.current,"_size"),a.subscribe([a.targetProp,r.RATIO],a.handle),a}return gr(t,e),Object.defineProperty(t.prototype,"setSizes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,r,o){var n=this.store.rootNode;n.setCssAttr({view:e}),n.setCssStyle(void 0,{"--media-width":"".concat(t,"px"),"--media-height":"".concat(i,"px"),"--info-width":"".concat(r,"px"),"--info-height":"".concat(o,"px"),"--original-media-width":"".concat(t,"px"),"--original-media-height":"".concat(t/this.store._media_ratio||this.store.aspectRatio||16/9,"px")}),this.setProps(Tr({_media_size:{width:t,height:i},_info_size:{width:r,height:o},view:e}))}}),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r,o,n,a=null===(e=this.store)||void 0===e?void 0:e[this.targetProp];if(xr(a)&&a.width&&a.height&&(null===(t=this.store)||void 0===t?void 0:t.rootNode)){var s=this.store._media_ratio||this.store.aspectRatio||16/9,l=a.width,d=a.height;if(this.store.isFullscreen){var c=ro(l,d);if(l=c.width,d=this.store.autoCloseDelay?c.height-48:c.height,this.store.fullMedia){var u="type".concat(94);this.store.rootNode.setCssAttr({layout:u}),this.setProps({layout:u})}}var h=Fo(null===(i=this.store._root_size)||void 0===i?void 0:i.width,null===(r=this.store._root_size)||void 0===r?void 0:r.height),p=(null===(o=this.store._root_size)||void 0===o?void 0:o.height)>=200,m=!!this.store.media;this.store.proxyNode.setAttribute("needControls","".concat(p)),this.store.proxyNode.setAttribute("adChoiceSize","".concat(h," ").concat(this.store.view)),this.store.proxyNode.setAttribute("isFullscreen","".concat(this.store.isFullscreen)),this.store.proxyNode.setAttribute("isMobile","".concat(Jr()));var b=this.engine.disclaimer?this.engine.disclaimer.resize(l,d).height:0;if(this.store.mediaWidth)return this.setSizes("row",this.store.mediaWidth,d-b,l-this.store.mediaWidth,d-b);if(this.store.fullMedia)return this.setSizes("fullMedia",l,d-b,0,0);var f=45+7*Math.round((d>=190&&l>=160?d-200:d)/40),v=d<200&&this.mapCustomMinInfoWidth(l,d,Rn)||Do(l,Bn);if("img"===(null===(n=this.store.media)||void 0===n?void 0:n.type)&&this.store.mediaAutoScroll&&d<128&&l>240){var g=l<600?160:300;return this.store.vDOM.media.element.style.height="unset",this.store.vDOM.media.element.classList.add(this.getClass("_mk_autoScroll")),this.setSizes("row",g,d-b,l-g,d-b)}if(this.store.vDOM.media.element.style.height="100%",this.store.vDOM.media.element.classList.remove(this.getClass("_mk_autoScroll")),d<200&&d>100&&l<=240)return d<194?this.setSizes("row",l-v,d-b,v,d-b):this.setSizes("column",l,d-f-b,l,f);var _=Math.ceil(l/s);if(_<=d-f-b&&m)return _=Math.min(_,d-f-b),this.setSizes("column",l,_,l,d-_-b);var y=Math.ceil((d-b)*s);if(y<=l-v&&m)return y=Math.min(y,l-v),this.setSizes("row",y,d-b,l-y,d-b);var w=d-f-b,k=l-v;m||(w=20,k=0);var x=w*Math.round(w*s),A=k*Math.round(k/s);if(this.store.isFullscreen)switch($r()){case Fr.desktop:return this.setSizes("row",k,d-b,l-k,d-b);case Fr.tablet:case Fr.mobile:return io?this.setSizes("row",k,d-b,l-k,d-b):this.setSizes("column",l,w,l,d-w-b)}return x>=A?this.setSizes("column",l,w,l,d-w-b):this.setSizes("row",k,d-b,l-k,d-b)}}}),Object.defineProperty(t.prototype,"mapCustomMinInfoWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){for(var r=0,o=i.length;++r<o&&!(i[r][0]>e&&i[r][1]>t););return i[r-1][2]}}),t}(Tn),Vn=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;Object.defineProperty(a,"targetProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"content",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(a,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0});var s=(null==r?void 0:r.TEXT)||i.current;if(a.content=So(s,a.store.data)||a.store.meta.defaults[s]||(null==r?void 0:r.default)||un.defaults[s]||"",Sr(a.content)&&(a.content=a.content[0]),Er(a.content)&&"clearEscSeq"===r.action&&(a.content=a.content.replace(/[\r\n]+/g," ")),Er(a.content)&&"split"===r.action){var l=Math.round(Math.random()*(a.content.length-2))+1,d=Math.round(2147483648*Math.random()).toString(36);a.content="".concat(a.content.slice(0,l),'<span class="').concat(a.getClass("_mk_hidden"),'">').concat(d,"</span>").concat(a.content.slice(l))}return a.targetProp=null==r?void 0:r.onChange,a.targetProp&&a.subscribe(a.targetProp,a.handle),a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i=String(Sr(this.content)?this.content[0]:null!==(e=this.content)&&void 0!==e?e:"").trim().replace(/(\n+)/g,"$1 ").replace(/ +/g," ").replace(/ (\n+)/g,"$1 ");if(this.meta.initLinesShow&&(null===(t=this.store.meta.serviceForest)||void 0===t?void 0:t.splitContent)&&(!this.meta.fullIfNoMedia||this.store.media||this.store.data.cards||this.store.data.items)){this.width=this.store.meta.contentWidth||to(this.node.element).width||510;var r=bn(i.replace(/(&#x*[0-9A-F]{3,4};)/gi,"в"),this.store.meta.charWidths),o=parseFloat(getComputedStyle(this.node.element).fontSize)||13,n=fn(r,this.width,o,this.store.meta.charWidths);if(n.cnt>this.meta.initLinesShow+1)return this.splitContent(i.replace(/\n/g,this.meta.replaceValue||"<br>"),n,this.meta.maxFirstLinesShow||this.meta.initLinesShow)}if(i=i.replace(/\n/g,this.meta.replaceValue||"<br>"),this.node.element.hasChildNodes())if(this.node.textNode)this.node.textNode instanceof Text?this.node.textNode.data=i:this.node.textNode.innerHTML=i;else{this.node.textNode="split"===this.meta.action?Kr("span",{text:i,classes:"sO36#fFH"}):document.createTextNode(i);var a=this.meta.before;Dr(a)&&this.meta.before<=this.node.element.childElementCount?this.node.element.insertBefore(this.node.textNode,this.node.element.childNodes[a-1]):this.node.element.appendChild(this.node.textNode)}else this.node.element.innerHTML=i}}),Object.defineProperty(t.prototype,"splitContent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){void 0===i&&(i=2);var r=/[\s\n]+/g;r.lastIndex=t.lengths[i-1]+(t.wordCnt[i-1]||0)-(t.widths[i-1]+110<this.width?0:14);var o=r.exec(e),n=o?o.index:-1,a={first:e.slice(0,n),more:"Показать ещё",rest:e.slice(n)},s=a.first.match(/(<br>)*$/)[0].length/4;if(s){var l=Math.floor(a.first.length-4*s);a.rest=a.first.slice(l)+a.rest,a.first=a.first.slice(0,l)}To(this.store.meta.serviceForest.splitContent,a,void 0,this.node.element)}}),t}(Tn),Hn=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return Object.defineProperty(a,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"oldValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.listenProp=null==r?void 0:r.LISTEN,a.map=xr(a.meta.map)?a.meta.map:void 0,a.isActive=Er(a.listenProp),a.isActive&&a.subscribe(a.listenProp,a.handle),a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isActive){var e=String(this.store[this.listenProp]);if(e!==this.oldValue){this.oldValue=e;var t=this.map?this.store.fullMedia&&this.map._fullMedia?this.map._fullMedia:e in this.map?this.map[e]:this.map._default:e;if(void 0!==t){var i=this.store.vDOM[String(t)];i instanceof nn&&i.element instanceof HTMLElement?i.element.appendChild(this.node.element):this.map||"none"!==e||this.node.element.remove()}}}}}),t}(Tn),Wn=function(){function e(e){var t,i=this;Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pos",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.node=e,this.nStore=e.nStore,this.onClick=this.onClick.bind(this);var r=(null===(t=this.node.store.meta.controls)||void 0===t?void 0:t[this.type])||un.controls[this.type];if(xr(r)){var o=r.classes,n=r.renderBy,a=r.pos,s=r.order;r.noElemCreate||(this.pos="".concat(a,"Wrap"),this.element=Kr("div",{classes:e.makeClasses(o),onClick:this.onClick,styles:{order:s}})),n&&Lr(n).forEach((function(e){i.nStore.subscribe(e,(function(e){i.isDestroyed||i.render(e)}))}))}}return Object.defineProperty(e.prototype,"type",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(e.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(e.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.stopPropagation(),e.preventDefault()}}),Object.defineProperty(e.prototype,"setState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.element.dataset.state=e}}),Object.defineProperty(e.prototype,"append",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.element instanceof HTMLElement&&(this.element.style.removeProperty("display"),(e||(this.pos&&this.node.elements[this.pos]instanceof HTMLElement?this.node.elements[this.pos]:this.node.parent.element)).appendChild(this.element))}}),Object.defineProperty(e.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.element.style.setProperty("display","none"),this.element.remove()}}),Object.defineProperty(e.prototype,"setProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.node.setProps(e)}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.remove(),this.isDestroyed=!0}}),e}(),Fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype.init.call(this),this.node.toggleVolume({muted:!0}),this.render()}}),Object.defineProperty(t.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.onClick.call(this,t),this.node.toggleVolume()}}),Object.defineProperty(t.prototype,"type",{get:function(){return"volume"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.nStore,t=e.muted,i=e.volume;this.setState(t?"volume-off":i<=.5?"volume-on":"volume-on-high");var r=this.node.element;r&&(r.muted=t,t?r.setAttribute("muted","muted"):r.removeAttribute("muted"))}}),t}(Wn),Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype.init.call(this),this.nStore.progressbar=Kr("div",{appendTo:this.element})}}),Object.defineProperty(t.prototype,"type",{get:function(){return"progress"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.nStore.progressbar instanceof HTMLElement&&(this.nStore.progressbar.style.width="".concat((100*(this.nStore.progress+this.nStore.addon)||0).toFixed(2),"%"))}}),t}(Wn),Yn=((_n={})[8]="replay",_n[5]="replay",_n[3]="pause",_n[6]="ended",_n),Gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var i=this;switch(e.prototype.onClick.call(this,t),this.nStore.state){case 8:case 5:this.node.element instanceof HTMLVideoElement&&(this.node.element.currentTime=0);case 7:case 4:setTimeout((function(){return i.node.play(void 0,!0)}),5);break;case 3:this.node.pause(!1,!0)}}}),Object.defineProperty(t.prototype,"type",{get:function(){return"flow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setState(Yn[this.nStore.state]||"play")}}),t}(Wn),Zn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"bar",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"k",{enumerable:!0,configurable:!0,writable:!0,value:2}),t}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.nStore.engine.store.meta.serviceForest;xr(t)&&xr(t.volumeBar)&&xr(t.volumeTooltip)&&(this.handleChange=this.handleChange.bind(this),this.elements=Or(),this.bar=To(t.volumeBar,void 0,void 0,this.element,this.elements),this.tooltip=To(t.volumeTooltip,void 0,void 0,this.element,this.elements),this.bar&&(this.bar.onmousemove=this.handleChange,this.bar.onmousedown=function(t){e.nStore.engine.store.serviceClick=!0,e.handleChange(t)},this.bar.onmouseup=function(t){var i;e.nStore.engine.store.serviceClick=!1,e.offsetX=0,null===(i=e.tooltip)||void 0===i||i.style.setProperty("display","none")},this.bar.onmouseout=function(t){var i;null===(i=e.tooltip)||void 0===i||i.style.setProperty("display","none")}))}}),Object.defineProperty(t.prototype,"handleChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDestroyed&&this.nStore.engine.store.serviceClick&&this.node.element instanceof HTMLVideoElement){if(!this.offsetX){var t=this.bar.getBoundingClientRect();this.offsetX=t.x,this.k=1/t.width||.02}var i=Vo(0,1,(e.x-this.offsetX)*this.k),r=0===i;this.tooltip&&(this.tooltip.style.setProperty("display","block"),this.tooltip.style.setProperty("left","".concat(Vo(0,50,e.x-this.offsetX)+this.tooltip.offsetWidth/-2,"px")),this.elements.vText.textContent="".concat(Math.round(100*i),"%")),this.bar.style.setProperty("--mkit-volume","".concat(Math.round(100*i),"%")),this.node.element.volume=i,this.node.element.muted=r,this.nStore.setProps({volume:i,muted:r})}}}),Object.defineProperty(t.prototype,"type",{get:function(){return"volumeBar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDestroyed&&Sr(null==e?void 0:e.muted)){var t=e.muted[0]?0:this.nStore.volume;this.bar.style.setProperty("--mkit-volume","".concat(Math.round(100*t),"%"))}}}),t}(Wn),Xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;"video"===(null===(e=this.nStore.engine.store.media)||void 0===e?void 0:e.type)&&(this.element=To(this.nStore.engine.store.meta.serviceForest.prePlay,void 0,void 0,this.node.element.parentElement.parentElement),null===(t=this.element)||void 0===t||t.addEventListener("click",this.onClick))}}),Object.defineProperty(t.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.onClick.call(this,t),4!==this.nStore.state&&3!==this.nStore.state&&(this.node.play(void 0,!0),this.setState("play"),this.element.style.display="none")}}),Object.defineProperty(t.prototype,"type",{get:function(){return"prePlay"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;Sr(null==e?void 0:e.state)&&2!==e.state[0]&&(null===(t=this.element)||void 0===t||t.remove())}}),t}(Wn),Qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.element=To(this.nStore.engine.store.meta.serviceForest.videoLoading,void 0,void 0)}}),Object.defineProperty(t.prototype,"type",{get:function(){return"loading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r;!this.isDestroyed&&Sr(null==e?void 0:e.state)&&this.element&&(7===e.state[0]?null===(r=null===(i=null===(t=this.node.element)||void 0===t?void 0:t.parentElement)||void 0===i?void 0:i.parentElement)||void 0===r||r.appendChild(this.element):this.element.remove())}}),t}(Wn),Kn={volume:Fn,volumeBar:Zn,progress:Un,flow:Gn,prePlay:Xn,loading:Qn},qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"listenNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"place",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;xr(this.store.media)&&"video"!==(null===(e=this.store.media)||void 0===e?void 0:e.type)||(this.listenNode=Er(this.meta.LISTEN)?this.store.vDOM[this.meta.LISTEN]:this.node,this.meta.TARGET&&this.store.vDOM[this.meta.TARGET]instanceof HTMLElement?this.place=this.store.vDOM[this.meta.TARGET].element:"*"!==this.meta.TARGET&&this.meta.TARGET||(this.place=this.node.element),this.nStore=this.listenNode.useStore(),this.buildControls(),this.store.videoControlNode=this.node)}}),Object.defineProperty(t.prototype,"buildControls",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;xr(this.store.meta.wrappers)&&(this.node.elements=Object.entries(this.store.meta.wrappers).reduce((function(t,i){var r=i[0],o=i[1];return t[r]=Kr("div",{classes:e.makeClasses(o),appendTo:e.node.parent.element}),t}),{}));var t,i=this.store.meta.controls;if(xr(i)&&xr(this.store.controls))for(var r in Kn)if(xr(t=i[r])&&this.store.controls[r]){var o=new Kn[r](this.listenNode);this.node.modules[r]=o;var n=this.node.elements[t.pos]||this.place;o.append(n),o.init()}}}),t}(Tn),Jn=function(e){function t(t,i,r,o){var n=e.call(this,t)||this;return Object.defineProperty(n,"pixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"mrcMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"ovvMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"mrcTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"vdTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"vdPerc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isVdSent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isStarted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isCompleted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"servicePause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"statistics",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"target",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"pixelsOnTarget",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isViewin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"sentPixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Sr(i)?(n.vdPerc=0,n.pixels=Tr({ovv:{on:{},off:{}},mrc:{on:{},off:{}}}),xr(o)&&(n.store=o),n.statistics=i,xr(n.store.pixelSendTime)||(n.store.pixelSendTime={}),n.target=r,n.sentPixels=[],n.pixelsOnTarget=un.defaultPixelTarget[r]||[],n.duration=n.store.duration,n.parsePixels(),n.subscribe("currentTime",n.onCurrentTime),n.subscribe("visibility",n.onVisibility),n.subscribe("duration",n.onDuration),"watch"===n.engine.store.renderMode&&n.engine.store.subscribe("coreEvent",n.sendSimplePixel.bind(n)),n.subscribe("coreEvent",n.sendSimplePixel),n.subscribe("$$destroy",n.onDestroy),n.subscribe("inFocus",n.onFocus),n.subscribe("muted",n.onMuted),n.subscribe("state",n.onState),n.engine.store.subscribe("$$destroy",n.onDestroy.bind(n)),n.engine.store.subscribe("".concat(n.target,"Showed"),(function(){return n.checkShow(50,!0)})),n.sendSimplePixel(n.engine.store.hasIObserver?"viewabilityMeasurable":"viewabilityUnmeasurable"),Sr(n.store.errors)&&n.sendSimplePixel("error"),setTimeout((function(){return n.onCurrentTime()}),600),n):n}return gr(t,e),Object.defineProperty(t.prototype,"onDestroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.engine.store.closedByUser&&this.sendSimplePixel("closedByUser"),this.handleVBD(!0),this.handlePlaybackDuration()}}),Object.defineProperty(t.prototype,"onState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDestroyed&&xr(e)){var t=e.state,i=t[0];switch(t[1],i){case 3:this.isStarted?this.servicePause=!1:this.sendSimplePixel("playbackStarted"),this.isStarted=!0,this.mrcTime||(this.mrcTime=Date.now());break;case 4:this.mrcMap&&(this.mrcTime=void 0,Object.entries(this.mrcMap).forEach((function(e){return e[0],e[1][0]=0}))),this.servicePause=this.store.servicePause;break;case 6:this.engine.store.postViewMode||this.sendSimplePixel("playbackCompleted"),this.store.currentTime=this.duration+.1,this.onCurrentTime(),this.isCompleted=!0}}}}),Object.defineProperty(t.prototype,"onVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store,t=e.visibility,i=e.state;isNaN(+t)||(this.mrcTime||3!==i||(this.mrcTime=Date.now()),this.isVdSent||(this.vdPerc<t&&(this.vdPerc=t),!this.vdTime&&t>=50&&(this.vdTime=Date.now())),!this.isViewin&&t>0&&(this.isViewin=!0,this.sendSimplePixel(15)),this.onCurrentTime())}}),Object.defineProperty(t.prototype,"onFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!this.store.inFocus&&e.inFocus&&this.handleVBD(!0)}}),Object.defineProperty(t.prototype,"onMuted",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"boolean"==typeof e.muted[1]&&this.sendSimplePixel({event:this.store.muted?12:11})}}),Object.defineProperty(t.prototype,"onCurrentTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||(this.checkShow(),this.checkOvv("on"),this.checkOvv("off"),this.handleVBD())}}),Object.defineProperty(t.prototype,"onDuration",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isCompleted||!this.store.duration||Math.abs(this.store.duration-(this.duration||0))<1||(this.duration=this.store.duration,this.pixels.ovv=Object.assign(Or(),{on:{},off:{}}),this.pixels.mrc=Object.assign(Or(),{on:{},off:{}}),this.parsePixels(!0))}}),Object.defineProperty(t.prototype,"checkOvv",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i=this,r=this.store,o=r.visibility,n=r.currentTime,a=null===(t=this.ovvMap)||void 0===t?void 0:t[e];if(a&&n){var s="on"===e?o:100-o;Object.entries(a).forEach((function(t){var r=t[0],o=t[1];+r<=s&&(i.engine.store.hasIObserver||0==+r)&&o[1].filter((function(e){return e<=n})).forEach((function(t){i.sendPixels(i.pixels.ovv[e][+r][t])})),o[1]=o[1].filter((function(e){return e>n})),o[1].length||delete a[+r]})),Object.keys(a).length||(this.ovvMap[e]=void 0)}}}),Object.defineProperty(t.prototype,"checkShow",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(this.mrcMap&&(this.engine.store.hasIObserver||t)){var r=e?Math.max(e,this.store.visibility):this.store.visibility,o=Date.now();if(this.mrcTime||t){var n=this.mrcTime?o-this.mrcTime:t?350:0;Object.entries(this.mrcMap).forEach((function(e){var t=e[0],o=e[1];+t<=r?(o[0]=o[0]+n/1e3,i.handleMrcPixels(t,o)):o[0]=0})),this.mrcTime=o}else 3!==this.store.state&&"banner"!==this.target||(this.mrcTime=o)}}}),Object.defineProperty(t.prototype,"handleVBD",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(!this.isVdSent)if(!this.vdTime&&this.store.visibility>=50)this.vdTime=Date.now();else if(this.vdTime&&(Date.now()-this.vdTime>3e4||e||this.vdPerc>=50&&this.store.visibility<50)){this.isVdSent=!0,this.checkShow(50,!0);var i=Math.round((Date.now()-this.vdTime)/1e3);this.vdTime=0;var r="viewability_duration=".concat(i,"&viewability_percent=").concat(this.vdPerc);this.pixels.viewabilityDuration.forEach((function(e){return Co(e,t.engine.store.checkPixel,r)})),delete this.pixels.viewabilityDuration}}}),Object.defineProperty(t.prototype,"handlePlaybackDuration",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i=this,r="duration=".concat(this.engine.store.fullTime>this.store.duration?Math.round(this.store.duration):Math.round(this.store.currentTime));null===(t=null===(e=this.pixels)||void 0===e?void 0:e.playbackDuration)||void 0===t||t.forEach((function(e){return Co(e,i.engine.store.checkPixel,r)})),delete this.pixels.playbackDuration}}),Object.defineProperty(t.prototype,"handleMrcPixels",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(!this.isDestroyed&&this.mrcMap){var r=t[1].filter((function(e){return t[0]>=e}));Sr(r)&&(r.forEach((function(t){var r=i.pixels.mrc.on[+e][t];i.sendPixels(r),go.table("Send mrc pixel. vp, point, pixels:",e,t,i.pixels.mrc.on[+e][t]),delete i.pixels.mrc.on[+e][t]})),(r=t[1].filter((function(e){return t[0]<e}))).length?this.mrcMap[+e][1]=r:delete this.mrcMap[+e],Object.keys(this.mrcMap).length||(this.mrcMap=void 0))}}}),Object.defineProperty(t.prototype,"sendSimplePixel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r,o=this;if(xr(e)){if(r=e.event,t||(t=e.data),16==r)return this.handleVBD(!0);9==r&&this.handleVBD(!0),13==r&&this.engine.store.data.strong&&this.handleMrcPixels("50",[.2,[0]])}var n=Lr(Er(e)?e:un.eventToPixel[r||e]),a=this.store.pixelSendTime[n[0]];if(!(a&&Date.now()-a<250)){this.store.pixelSendTime[n[0]]=Date.now();var s=!1;return n.forEach((function(e){Er(e)&&Sr(o.pixels[e])&&(s=!0,o.sendPixels(o.pixels[e],t),un.multiplePixels.includes(e)||i||delete o.pixels[e])})),s&&go.debug("SendSimplePixel. name:",n,t),s}}}),Object.defineProperty(t.prototype,"sendPixels",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(Sr(e)&&!this.store.noSendPixel){var r,o=xr(t)?encodeURI(Object.entries(t).map((function(e){var t=e[0],i=e[1];return"".concat(t,"=").concat(i)})).join("&")):void 0;e.forEach((function(e){var t;xr(e[2])&&Pr(r=null===(t=i.engine.modules.stats)||void 0===t?void 0:t.sendStatEvent)?r(e[2]):(Co(e,i.engine.store.checkPixel,o),i.sentPixels.push(Sr(e)?e[0]:e))}))}}}),Object.defineProperty(t.prototype,"addPixel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){Array.isArray(e[t])?e[t].push(i):e[t]=[i]}}),Object.defineProperty(t.prototype,"parsePixels",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i=this,r="watch"===this.engine.store.initConfig.renderMode;if(this.pixels=this.statistics.reduce((function(t,o){var n,a,s;if(!xr(o)||!Er(o.url)||i.target&&o.target&&o.target!==i.target||!o.target&&!i.pixelsOnTarget.includes(o.type))return t;var l="playheadReachedValue"===o.type,d=[o.sign&&i.engine.store.signs[o.type+(l?o.pvalue:"")]?o.url+(-1!==o.url.indexOf("?")?"&":"?")+i.engine.store.signs[o.type+(l?o.pvalue:"")]:o.url,o.check,o.props];if("playheadViewabilityValue"===o.type||l){var c="ovv"in o||l?"ovv":"mrc",u=o.ovv||o.mrc||!("mrc"in o)&&!("ovv"in o)?"on":"off",h=l?0:parseInt(o.viewablePercent),p=isNaN(h)?50:h,m=parseInt(null!==(s=null!==(a=o.pvalue)&&void 0!==a?a:o.value)&&void 0!==s?s:o.duration)*(o.pvalue?i.duration/100:1);if(isNaN(m)||-1!==i.sentPixels.indexOf(d[0])||o.pvalue&&!i.duration)return t;t[c][u][p]?i.addPixel(t[c][u][p],m,d):t[c][u][p]=Object.assign(Or(),((n={})[m]=[d],n))}else(un.pixels.includes(o.type)&&!e||r&&"banner"===i.target)&&i.addPixel(t,o.type,d);return t}),this.pixels),this.isVdSent=!("viewabilityDuration"in this.pixels),this.mrcMap=this.buildMap(this.pixels.mrc.on,e),this.ovvMap={on:this.buildMap(this.pixels.ovv.on,e),off:this.buildMap(this.pixels.ovv.off,e)},this.ovvMap.on||this.ovvMap.off||(this.ovvMap=void 0),Sr(null===(t=this.pixels)||void 0===t?void 0:t.check)){var o=wo(this.pixels.check[0]);Er(o)&&(this.engine.store.checkPixel=o)}}}),Object.defineProperty(t.prototype,"buildMap",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(Object.keys(e).length){var i=Or();return Object.entries(e).forEach((function(e){var t=e[0],r=e[1];return i[+t]=[0,Object.keys(r)]})),i}}}),t}(Yr),$n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"pixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.node.element instanceof HTMLVideoElement){this.nStore=this.node.useStore();var e=this.node.data,t=xr(e)&&Sr(e.statistics)?e.statistics:this.store.data.statistics;Sr(t)&&(this.pixels=new Jn(this.engine,t,"video",this.nStore)),this.nSubscribe(["muted","volume"],this.onVolume),this.nSubscribe("currentTime",this.onTime),this.nSubscribe("state",this.onState)}}}),Object.defineProperty(t.prototype,"onState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.nStore,i=t.progress,r=t.manualPause,o=t.servicePause,n=e.state,a=n[0],s=n[1];switch(a){case 2:this.nStore.isMediaReady||(this.nStore.isMediaReady=!0,this.sendEvent(po.MediaReady));break;case 4:3===s&&i<.95&&this.sendEvent({event:po.Paused,manualPause:r,servicePause:o});break;case 6:this.sendEvent(po.VideoCompleted);break;case 3:this.nStore.isStarted||(this.nStore.isStarted=!0),4===s&&this.sendEvent(po.Resumed)}}}),Object.defineProperty(t.prototype,"onVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.nStore,t=e.volume,i=e.muted;this.sendEvent({event:po.VolumeChanged,volume:t,muted:i,id:this.node.id})}}),Object.defineProperty(t.prototype,"onTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;null===(t=this.pixels)||void 0===t||t.destroy(),e.prototype.destroy.call(this)}}),t}(Tn),ea=[6,5,8],ta=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return Object.defineProperty(a,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"masterVideo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isLoaded",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"autoReplay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isTouchListening",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.player?(a.player=i.player,a.nStore=a.node.useStore(),a.setNodeProps({state:7}),a.autoPlay=a.autoPlay.bind(a),a.onMasterStateForSlave=a.onMasterStateForSlave.bind(a),a.node.manager=a,"master"===a.meta.mode?(a.bindActions(),a.initMasterMode()):"slave"===a.meta.mode&&a.initSlaveMode(),a.autoReplay=a.meta.replay&&a.store.allowReplay&&a.store.autoReplay,a):a}return gr(t,e),Object.defineProperty(t.prototype,"initMasterMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.store.masterVideoNode=this.node,this.subscribe(["inFocus","isPopupOpen"],this.autoPlay),this.nSubscribe(["visibility","isReady","isTouched"],this.autoPlay),this.store.isMobileSafari&&this.player.play().then((function(){e.player.pause(),e.setNodeProps({state:2})})).catch((function(t){return e.onPlayError(t)}))}}),Object.defineProperty(t.prototype,"initSlaveMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.vDOM[String(this.meta.LISTEN)];xr(e)&&Br(e.element)&&(this.masterVideo=e.element,e.nStore.subscribe("state",this.onMasterStateForSlave))}}),Object.defineProperty(t.prototype,"onMasterStateForSlave",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(xr(e)&&Sr(e.state))switch(e.state[0]){case 3:this.syncSlaveVideo(),setTimeout((function(){t.play()}),5);break;case 5:case 6:this.player.duration&&(this.player.currentTime=this.player.duration-.1),this.pause();break;case 4:this.syncSlaveVideo(),this.pause()}}}),Object.defineProperty(t.prototype,"syncSlaveVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=null===(e=this.masterVideo)||void 0===e?void 0:e.currentTime;"number"==typeof t&&Math.abs(this.player.currentTime-t)>.5&&(this.player.currentTime=t)}}),Object.defineProperty(t.prototype,"bindActions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=function(t){i.player.addEventListener(t,(function(){e.eventHandler(t)}))},i=this;for(var r in qr)t(r)}}),Object.defineProperty(t.prototype,"eventHandler",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i=this;if(!(this.isDestroyed||"canplay"===e&&this.nStore.isReady)){var r=xr(e)?e:null===(t=qr[e])||void 0===t?void 0:t.call(qr,this.player);if(this.setNodeProps(r,!1,!0),"timeupdate"!==e&&this.setProps(r,!1,!0),"ended"===e&&this.store.closeOnCompleted)return setTimeout((function(){i.engine.destroy()}),5);if("ended"!==e||!this.store.postViewMode)if("ended"===e&&this.meta.replay){if(this.autoReplay&&this.store.replayCount)return setTimeout((function(){i.player.currentTime=0,i.node.play()}),5);this.store.controls.flow&&this.store.allowReplay&&(this.setNodeProps({state:5}),this.setProps({state:5}),this.player.currentTime=this.player.duration-.1)}else"timeupdate"!==e||7!==this.nStore.state||this.isLoaded||(this.isLoaded=!0,this.setNodeProps({state:3}))}}}),Object.defineProperty(t.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(!(this.nStore.manualPause&&!t||e&&!this.nStore.servicePause))return this.player.play().then((function(){"slave"!==i.meta.mode&&(i.setNodeProps({state:3}),i.setProps({state:3}),i.nStore.manualPause&&i.nStore.sendData({coreEvent:{event:5}}),i.nStore.servicePause=!1,i.store.servicePause=!1,t&&(i.store.manualPause=!1,i.nStore.manualPause=!1))})).catch((function(e){return i.onPlayError(e)}))}}),Object.defineProperty(t.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r;if(void 0===i&&(i=4),this.player.pause(),"slave"!==this.meta.mode){var o={servicePause:e};void 0!==t&&(o.manualPause=t),o.state=i,this.setNodeProps(o),t&&(null===(r=this.nStore)||void 0===r||r.sendData({coreEvent:{event:4}}))}}}),Object.defineProperty(t.prototype,"autoPlay",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed&&!ea.includes(this.nStore.state)){var e=this.store,t=e.isPopupOpen,i=e.autoStart,r=e.autoPause,o=this.store.isFramed||this.store.inFocus,n=this.nStore,a=n.visibility,s=n.state,l=n.servicePause,d=n.manualPause,c=n.isReady,u=n.isStarted,h=i&&!u&&c&&a>=50&&o,p=r&&(a<50||!o)||d||t||l;p&&3===s?this.pause(void 0,void 0,4):p||!(h||c&&u)||4!==s&&2!==s||this.play()}}}),Object.defineProperty(t.prototype,"onPlayError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDestroyed&&xr(e)&&Er(e.message))return/user denied permission/i.test(e.message)||/user didn't interact/i.test(e.message)?(this.node.element.pause(),void this.waitUserAction()):void 0}}),Object.defineProperty(t.prototype,"waitUserAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.isTouchListening||(window.addEventListener("touchstart",this.playOnTouch),window.addEventListener("scroll",this.playOnTouch),this.store.isTouchListening=!0,this.isTouchListening=!0)}}),Object.defineProperty(t.prototype,"playOnTouch",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||this.store.isTouched||3===this.nStore.state||(this.setProps({isTouched:!0}),this.removeTouchListeners())}}),Object.defineProperty(t.prototype,"removeTouchListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(){window.removeEventListener("touchstart",this.playOnTouch),window.removeEventListener("scroll",this.playOnTouch),this.isTouchListening=!1}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isTouchListening&&this.removeTouchListeners(),e.prototype.destroy.call(this)}}),t}(Tn),ia=function(e){function t(t,i,r){var o,n=e.call(this,t,i,r)||this;return Object.defineProperty(n,"cardsElem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"cta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"cards",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"currentIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"prevIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"cWrap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isDS",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isHorizontal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"cBtnPrev",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"cBtnNext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"threshold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n.isDS=!("vkFeed_carousel"===n.store.data.creativeType||"okFeed_carousel"===n.store.data.creativeType||"vkSideBar_carousel"===n.store.data.creativeType||"vkFeed_miniappCarousel"===n.store.data.creativeType),n.node.element=To(n.store.meta.serviceForest.carousel,n.store.data,{classMap:n.store.classMap},n.node.parent.element,n.elements),n.store.data.cards.map((function(e,t){e.ctaText=e.ctaText||(n.store.data.ctaText?n.store.data.ctaText:"Перейти"),"vkFeed_miniappCarousel"===n.store.data.creativeType?(e.price="",e.oldPrice=""):e.price&&!(null==e?void 0:e.price.includes("&nbsp;"))&&(e.price=Yo(e.price,e.currency),e.oldPrice=Yo(e.oldPrice,e.currency),e.description=""),n.cardsElem=To(n.store.meta.serviceForest.card,e,{classMap:n.store.classMap},n.elements.wrapper,n.elements,n.engine),n.store.roleMap.set(n.elements.root,"card_"+t),n.store.data.disclaimer_id||n.elements.cta.classList.add("cs__slide__cta__mrg"),n.isDS?n.elements.image.onload=function(e){var t,i;null===(i=null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.querySelector(".cs__slide__skeleton"))||void 0===i||i.remove(),e.currentTarget.classList.remove("cs__slide__hide")}:n.elements.imageWrap.setAttribute("style","background-image: url(".concat(e.image.url,")")),n.cardsElem.onclick=function(i){var r,o;if(i.stopPropagation(),i.preventDefault(),"cta"===i.target.getAttribute("role")&&e.ctaLink?window.open(e.ctaLink,"_blank"):window.open(e.trackingLink,"_blank"),e.statistics.filter((function(e){return"click"===e.type})).forEach((function(e){Ao(e.url),o=!0})),!o&&xr(n.engine.pixels)){var a=(null===(r=n.engine.pixels.pixels)||void 0===r?void 0:r.clickPrettyCard)?28:13;n.raiseCoreEvent(a,{card_id:t}),n.sendEvent({event:po.Clicked,role:"card",card_id:t,id:n.store.id,isClickArea:!0})}n.store.isFullscreen&&n.store.closeOnClick&&n.engine.destroy()}})),n.cards=n.store.data.cards,n.cWrap=n.elements.wrapper,n.carousel=n.elements.cs,n.cBtnPrev=n.elements.prev,n.cBtnNext=n.elements.next,n.currentIndex=0,n.setProps({activeSlideIndex:n.currentIndex}),n.prevIndex=0,n.isHorizontal=n.store._cs_direction,n.isStart=!0,n.isEnd=!1,n.offsetX=0,n.offsetY=0,n.settings={isPlayed:!1,isAutoplay:null===(o=n.store.data)||void 0===o?void 0:o.carouselAutoPlay},n.threshold=new Array(21).fill(0).map((function(e,t){return t/20})),n.subscribe("_cs_slide_size",n.calcOffset),n.subscribe("_cs_direction",n.changeDirection),n.createCarousel(),n.calcOffset(),n}return gr(t,e),Object.defineProperty(t.prototype,"createCarousel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r=this;this.cBtnPrev.addEventListener("click",(function(e){r.onClick(e),r.prev()})),this.cBtnNext.addEventListener("click",(function(e){r.onClick(e),r.next()})),this.cWrap.addEventListener("scroll",(function(){r.carouselScroll()})),this.settings.isAutoplay&&(this.settings.dingTimer=setTimeout(this.ding.bind(this),0));for(var o=null===(e=this.cWrap)||void 0===e?void 0:e.children,n=function(e){null===(t=o[e].querySelector(".cs__slide__title"))||void 0===t||t.setAttribute("style","".concat(a.getVar("--mk-csSlideTitleLine"),":").concat((null===(i=o[e].querySelector(".cs__slide__prices"))||void 0===i?void 0:i.clientHeight)>20?1:2)),new IntersectionObserver((function(t,i){return r.observeHandler(t,r.cards[e].statistics,i,o[e])}),{threshold:a.threshold}).observe(o[e])},a=this,s=0;s<o.length;s++)n(s)}}),Object.defineProperty(t.prototype,"carouselScroll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;this.isHorizontal&&Math.trunc(this.cWrap.scrollWidth-this.cWrap.offsetWidth)-Math.trunc(this.cWrap.scrollLeft)<2||!this.isHorizontal&&Math.trunc(this.cWrap.scrollHeight-this.cWrap.offsetHeight)-Math.trunc(this.cWrap.scrollTop)<2?(this.isEnd=!0,this.isStart=!1,this.currentIndex=this.isHorizontal?Math.floor(this.cWrap.scrollWidth/this.cWrap.offsetWidth)-1:Math.floor(this.cWrap.scrollHeight/this.cWrap.offsetHeight)-1,this.setProps({activeSlideIndex:this.currentIndex}),this.cBtnNext.classList.add(this.isDS?"cs__btn__hide":this.getClass("_mk_cards__scroller_hidden_right")),this.cBtnPrev.classList.remove(this.isDS?"cs__btn__hide":this.getClass("_mk_cards__scroller_hidden_left"))):this.isHorizontal&&0===this.cWrap.scrollLeft||!this.isHorizontal&&0===this.cWrap.scrollTop?(this.isStart=!0,this.isEnd=!1,this.currentIndex=0,this.setProps({activeSlideIndex:this.currentIndex}),this.cBtnPrev.classList.add(this.isDS?"cs__btn__hide":this.getClass("_mk_cards__scroller_hidden_left"))):(this.isStart=!1,this.isEnd=!1,this.cBtnNext.classList.remove(this.isDS?"cs__btn__hide":this.getClass("_mk_cards__scroller_hidden_right")),this.cBtnPrev.classList.remove(this.isDS?"cs__btn__hide":this.getClass("_mk_cards__scroller_hidden_left"))),(null===(e=this.settings)||void 0===e?void 0:e.autoplayInterval)&&(clearInterval(this.settings.autoplayInterval),this.settings.autoplayInterval=setInterval(this.next.bind(this),6e3))}}),Object.defineProperty(t.prototype,"prev",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r;if(!this.isStart){(null===(e=this.settings)||void 0===e?void 0:e.autoplayInterval)&&(clearInterval(this.settings.autoplayInterval),this.settings.autoplayInterval=null),this.prevIndex=this.currentIndex,this.currentIndex=(this.currentIndex-1+this.cards.length)%this.cards.length,this.setProps({activeSlideIndex:this.currentIndex});var o=this.isHorizontal?this.cWrap.scrollLeft-((null===(t=this.store.meta)||void 0===t?void 0:t.slideWidth)?(null===(i=this.store.meta)||void 0===i?void 0:i.slideWidth)+8:null===(r=this.cWrap)||void 0===r?void 0:r.offsetWidth):0,n=this.isHorizontal?0:this.cWrap.scrollTop-this.cWrap.offsetHeight;this.updateCarousel(o,n)}}}),Object.defineProperty(t.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r;if(this.isEnd)(null===(e=this.settings)||void 0===e?void 0:e.autoplayInterval)&&(clearInterval(this.settings.autoplayInterval),this.settings.autoplayInterval=null);else{this.prevIndex=this.currentIndex,this.currentIndex=(this.currentIndex+1)%this.cards.length,this.setProps({activeSlideIndex:this.currentIndex});var o=this.isHorizontal?((null===(t=this.store.meta)||void 0===t?void 0:t.slideWidth)?(null===(i=this.store.meta)||void 0===i?void 0:i.slideWidth)+8:null===(r=this.cWrap)||void 0===r?void 0:r.offsetWidth)+this.cWrap.scrollLeft:0,n=this.isHorizontal?0:this.cWrap.scrollTop+this.cWrap.offsetHeight;this.updateCarousel(o,n)}}}),Object.defineProperty(t.prototype,"calcOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i;this.offsetX=null===(e=this.store._cs_slide_size)||void 0===e?void 0:e.width,this.offsetY=null===(t=this.store._cs_size)||void 0===t?void 0:t.height,this.isHorizontal=null===(i=this.store)||void 0===i?void 0:i._cs_direction,this.updateCarousel(0,0)}}),Object.defineProperty(t.prototype,"updateCarousel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.isDS&&(this.cWrap.scrollWidth===this.cWrap.offsetWidth&&this.cWrap.scrollHeight===this.cWrap.offsetHeight?(this.cBtnPrev.classList.add("cs__btn__hide"),this.cBtnNext.classList.add("cs__btn__hide")):(this.cBtnPrev.classList.remove("cs__btn__hide"),this.cBtnNext.classList.remove("cs__btn__hide")),0===this.cWrap.scrollLeft&&0===this.cWrap.scrollTop&&this.cBtnPrev.classList.add("cs__btn__hide")),this.cWrap[this.isHorizontal?"scrollLeft":"scrollTop"]=this.isHorizontal?e:t}}),Object.defineProperty(t.prototype,"changeDirection",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isHorizontal=this.store._cs_direction,this.isHorizontal&&(this.offsetY=this.cWrap.clientHeight),this.carousel.classList.add(this.isHorizontal?"cs__horizontal":"cs__vertical"),this.carousel.classList.remove(this.isHorizontal?"cs__vertical":"cs__horizontal"),this.cWrap.classList.add(this.isHorizontal?"cs__wrap__horizontal":"cs__wrap__vertical"),this.cWrap.classList.remove(this.isHorizontal?"cs__wrap__vertical":"cs__wrap__horizontal")}}),Object.defineProperty(t.prototype,"ding",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.cWrap[this.isHorizontal?"scrollLeft":"scrollTop"]=0,setTimeout((function(){e.cWrap[e.isHorizontal?"scrollLeft":"scrollTop"]=0}),200),this.settings.dingTimer=!1,this.settings.autoplayInterval=setInterval(this.next.bind(this),6e3)}}),Object.defineProperty(t.prototype,"observeHandler",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,r){var o,n=this;e.forEach((function(e){xr(e)&&"isIntersecting"in e&&"intersectionRatio"in e&&e.intersectionRatio>=.5&&(t.filter((function(e){return"show"===e.type||"impression"===e.type})).forEach((function(e){var t;xr(e.props&&Pr(o=null===(t=n.engine.modules.stats)||void 0===t?void 0:t.sendStatEvent))?o(e.props,r):Ao(e.url)})),i.disconnect())}))}}),t}(Tn),ra=function(e){function t(t,i,r){for(var o,n,a,s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];var d=e.call(this,t,i,r,s)||this;if(Object.defineProperty(d,"targetProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"mapping",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"cnt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"maxTitleLines",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(d,"maxDescLines",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(d,"titleWords",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"descWords",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(d,"noData",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(d,"hasDomain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"hasIcon",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"ctaText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"vars",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(d,"size",{enumerable:!0,configurable:!0,writable:!0,value:{width:-1,height:-1}}),d.targetProp=(null==r?void 0:r.SIZE)||"_".concat(i.current,"_size"),d.mapping=null===(a=null===(n=null===(o=d.store.meta)||void 0===o?void 0:o.mapping)||void 0===n?void 0:n[d.node.current])||void 0===a?void 0:a.size,d.isActive=xr(d.mapping)&&xr(d.mapping.vars)&&!d.store.fullMedia,!d.isActive)return d;d.subscribe(d.targetProp,d.handle),Sr(d.store.noData)&&d.store.noData.forEach((function(e){return d.noData[e]=1})),d.hasDomain=d.noData.domain?0:1,d.hasIcon=d.noData.icon?0:1,d.ctaText=d.store.getDataProp("ctaText");var c=d.store.meta.charWidths,u=d.store.getDataProp("title");if(d.maxTitleLines=Math.ceil(u.length/14)+1,d.titleWords=bn(u,c),!d.noData.description){var h=d.store.getDataProp("description");d.maxDescLines=Math.ceil(h.length/18)+2,d.descWords=bn(h,c)}d.cnt=d.mapping.vars.titleFs.length;for(var p=function(e){m.vars[e]=Or(),Object.entries(m.mapping.vars).forEach((function(t){var i=t[0],r=t[1];return d.vars[e][i]=r[e]}))},m=this,b=d.cnt;b--;)p(b);return d}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store[this.targetProp];if(this.isActive&&xr(e)&&e.width&&e.height&&(this.size.width!==e.width||this.size.height!==e.height)){this.size=e;for(var t=e.width,i=e.height,r={rate:0,index:0,type:999,titleLines:1,descLines:0},o=this.cnt;o--;){var n="row"===this.store.view?this.mapping.maxWidthOnRow[o]:this.mapping.maxWidthOnCol[o],a="row"===this.store.view?this.mapping.minWidthOnRow[o]:this.mapping.minWidthOnCol[o],s="row"===this.store.view?this.mapping.maxHeightOnRow[o]:this.mapping.maxHeightOnCol[o],l="row"===this.store.view?this.mapping.minHeightOnRow[o]:this.mapping.minHeightOnCol[o];if(!(t<a||t>n||i<l||i>s)){var d=this.getLayout(o,t,i);xr(d)&&(d.rate=((d.titleLen<<3)+d.descLen<<10)+d.titleFs+d.type,d.rate>r.rate&&(r=d))}}999===r.type&&(r.type=this.store.isFullscreen?92:10),this.setStyle(r),this.setLayout(r)}}}),Object.defineProperty(t.prototype,"setStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;Object.entries(this.mapping.vars).forEach((function(i){var r,o=i[0],n=i[1],a=null!==(r=n[e.index])&&void 0!==r?r:n[n.length-1];Sr(n)&&t.node.element.style.setProperty("--".concat(o),"string"==typeof a?a:"".concat(a,"px"))}))}}),Object.defineProperty(t.prototype,"setLayout",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i=e.type,r=e.descLines,o=e.titleLines,n=e.buttonWidth,a="type".concat(i);this.store.rootNode.setCssAttr({layout:a,"desc-view":r?"show":"hide",isMobile:"".concat(Jr())}),this.store.rootNode.setCssStyle(void 0,{"--titleLines":String(o),"--descLines":String(r),"--buttonWidth":"".concat(n,"px"),"--clickZoneFullscreenCloseButton":"".concat(null!==(t=this.store.clickZoneFullscreenCloseButton)&&void 0!==t?t:15,"px")}),this.setProps({layout:a})}}),Object.defineProperty(t.prototype,"getLayout",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r=this.store.meta.charWidths,o=this.vars[e],n=function(e){for(var t=0;t<c.cnt;t++)for(var i=0;i<=u.cnt;i++)if(h-t*l-i*d<=s){var r=c.cnt-t,o=u.cnt-i;return Tr({type:e,titleLines:r,descLines:o,titleLen:5===r||r===c.cnt?999:c.lengths[r-1],descLen:6===o||o===u.cnt?999:u.lengths[o-1]||0})}},a=Math.min(t-2*o.padX-2,600),s=i-2*o.padY;if(!(s<o.buttonSize&&i>50)){var l=1.2*o.titleFs,d=1.3*o.descFs,c=fn(this.titleWords,a,o.titleFs,r,5),u=fn(this.descWords,a,o.descFs,r,6);if(!(c.cnt>this.maxTitleLines||u.cnt>this.maxDescLines)){var h,p={titleLines:c.cnt,descLines:u.cnt,titleLen:999,descLen:999,titleFs:o.titleFs,buttonWidth:0,type:91,index:e},m=o.buttonSize;if(this.store.isFullscreen){if(p.titleFs<18)return;h=c.cnt*l+u.cnt*d+m+6*o.columnGap;var b=n(f=this.store.autoCloseDelay>0?93:92);return Tr(_r({titleFs:p.titleFs,index:p.index,buttonWidth:p.buttonWidth},b))}if(this.checkIsThinBanner(t,this.store._root_size.height)){if(h=c.cnt*l+u.cnt*d+3*o.rowGap+1.3*o.domainFs*this.hasDomain+(this.store._root_size.width<=160?m:0),40===(f=this.getLayoutTypeForCustomThinBanner(t))&&14!==p.titleFs||42===f&&16!==p.titleFs)return;if(!(b=n(f)))return;return Tr(_r({titleFs:p.titleFs,index:p.index,buttonWidth:p.buttonWidth},b))}if(o.titleFs>=20&&i>=260){if((h=c.cnt*l+u.cnt*d+m+6*o.columnGap)+o.logoVertSize*this.hasIcon+1.3*o.domainFs*this.hasDomain<=s)return p;if(h+o.logoSize*this.hasIcon-o.columnGap<=s)return p.type=90,p}if(a=t-2*o.padX,t>600&&(c=fn(this.titleWords,a,o.titleFs,r,5),p.titleLines=c.cnt,u=fn(this.descWords,a,o.descFs,r,6),p.descLines=u.cnt),i<=128&&"row"===this.store.view){var f;if(33===(f=this.getLayoutTypeForCustomShortBanner(this.store._root_size.width,i))&&(a=t-2*o.padX-this.getButtonWidth(o,r),c=fn(this.titleWords,a,o.titleFs,r,5),u=fn(this.descWords,a,o.descFs,r,6),p.titleLines=c.cnt,p.descLines=u.cnt),h=Math.max(c.cnt*l+u.cnt*d+2*o.rowGap,this.store._root_size.width>400?m:0),s=i-2*o.padY-d,!(b=n(f)))return;return Tr(_r(_r({titleFs:p.titleFs,index:p.index,buttonWidth:p.buttonWidth},b),{descLines:b.descLines}))}var v=[];if("row"===this.store.view||i>=160){if((h=c.cnt*l+u.cnt*d+m+(this.hasIcon?o.logoSize:o.domainFs*this.hasDomain)+5*o.columnGap)<=s)return p.type=t<200?70:71,p;if(v.push(n(t<200?70:71)),t>=300){if(p.type=69,h=c.cnt*l+u.cnt*d+m+3*o.rowGap,m=this.getButtonWidth(o,r),p.buttonWidth=m,h<=s)return p;v.push(n(69))}if("row"===this.store.view){if(!v[0]&&!v[1])return;var g=v[0]&&v[1]?1024*(v[0].titleLen-v[1].titleLen)+v[0].descLen-v[1].descLen>=0?v[0]:v[1]:v[0]||v[1];return Object.assign(p,g)}}if(t<400?(p.type=10,m=o.buttonSize):(p.type=11,m=this.getButtonWidth(o,r)),p.buttonWidth=m,h=c.cnt*l+u.cnt*d+o.rowGap,a=t-2*o.padX-m-Vo(12,20,2.3*o.columnGap),c=fn(this.titleWords,a,o.titleFs,r,5),u=fn(this.descWords,a,o.descFs,r,6),!(c.cnt>this.maxTitleLines||u.cnt>this.maxDescLines)){p.titleLines=c.cnt,p.descLines=u.cnt;var _=s-c.cnt*l;return _<=0?(p.titleLines=Math.floor(s/l),p.titleLen=c.lengths[p.titleLines-1]||0,p.descLines=0,p.descLen=0,p):(_-(h=u.cnt*d+o.rowGap)<0&&(p.descLines=Math.floor((_-o.rowGap)/d),p.descLen=u.lengths[p.descLines-1]||0),p)}}}}}),Object.defineProperty(t.prototype,"getButtonWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=parseFloat(e.buttonPadding.split(" ")[1]);return mn(this.ctaText,t)*e.buttonFs/24+2*i}}),Object.defineProperty(t.prototype,"checkIsThinBanner",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(e<=240&&t<200||e<=160)&&"column"===this.store.view}}),Object.defineProperty(t.prototype,"getLayoutTypeForCustomShortBanner",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return t>100?30:e>499&&t>75?33:e>399&&t>75?32:e>400?31:34}}),Object.defineProperty(t.prototype,"getLayoutTypeForCustomThinBanner",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e>160?41:160===e?42:40}}),t}(Tn),oa=function(e){function t(t,i,r){for(var o,n,a,s,l=[],d=3;d<arguments.length;d++)l[d-3]=arguments[d];var c=e.call(this,t,i,r,l)||this;Object.defineProperty(c,"targetProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"mapping",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"vars",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(c,"heightBreakpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"widthBreakpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),c.handle=c.handle.bind(c),c.targetProp=(null==r?void 0:r.SIZE)||"_".concat(i.current,"_size"),c.widthBreakpoint=null===(o=c.store.meta.mapping)||void 0===o?void 0:o.root.size.widthBreakpoint,c.heightBreakpoint=null===(n=c.store.meta.mapping)||void 0===n?void 0:n.root.size.heightBreakpoint,c.subscribe([c.targetProp,"_infoArea_size"],c.handle),c.mapping=null===(s=null===(a=c.store.meta)||void 0===a?void 0:a.mapping)||void 0===s?void 0:s.root.size;for(var u=function(e){h.vars[e]=Or(),Object.entries(h.mapping.vars).forEach((function(t){var i=t[0],r=t[1];return c.vars[e][i]=r[e]}))},h=this,p=c.mapping.vars.titleFs.length;p--;)u(p);return c}return gr(t,e),Object.defineProperty(t.prototype,"setSizes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,r,o){var n,a,s,l,d,c=this.store.rootNode,u=this.calcSlideSize(t,i,null===(s=this.store._root_size)||void 0===s?void 0:s.height).width,h=this.calcSlideSize(t,i,null===(l=this.store._root_size)||void 0===l?void 0:l.height).height,p=this.store.isFullscreen?this.store.autoCloseDelay?"autoCloseFullscreen":"fullscreen":"default";c.setCssAttr({view:e,isMobile:"".concat(Jr()),mode:p}),c.setCssStyle(void 0,((n={})[this.getVar("--mk-cswidth")]="".concat(t,"px"),n[this.getVar("--mk-csheight")]="".concat(i,"px"),n[this.getVar("--mk-csslideWidth")]=u,n["--clickZoneFullscreenCloseButton"]="".concat(null!==(d=this.store.clickZoneFullscreenCloseButton)&&void 0!==d?d:15,"px"),n)),"smart"===this.store.data.creativeType&&c.setCssStyle(void 0,((a={})[this.getVar("--mk-viewHeight")]="".concat(i/2,"px"),a[this.getVar("--mk-slideHeight")]="".concat(i/3,"px"),a[this.getVar("--mk-mgrContent")]="".concat(this.store.data.disclaimer_id?0:20,"px"),a)),this.setProps({_cs_size:{width:t,height:i},_cs_slide_size:{width:parseInt(u),height:parseInt(h)},_info_size:{width:r,height:o},view:e,mode:p})}}),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r,o,n,a,s=null===(e=this.store)||void 0===e?void 0:e[this.targetProp];if(xr(s)&&s.width&&s.height&&(null===(t=this.store)||void 0===t?void 0:t.rootNode)){var l=s.width,d=s.height,c=Fo(null===(i=this.store._root_size)||void 0===i?void 0:i.width,null===(r=this.store._root_size)||void 0===r?void 0:r.height),u=(null===(o=this.store._root_size)||void 0===o?void 0:o.height)>180?"column":"row";if(this.store.isFullscreen){var h=ro(l,d);l=h.width,d=this.store.autoCloseDelay?h.height-48:h.height}this.store.proxyNode.setAttribute("adchoicesize","".concat(c," ").concat(u)),this.store.proxyNode.setAttribute("isMobile","".concat(Jr())),this.store.proxyNode.setAttribute("isFullscreen","".concat(this.store.isFullscreen));var p=this.engine.disclaimer?this.engine.disclaimer.resize(l,d).height:0,m=d-(null===(a=null===(n=this.store)||void 0===n?void 0:n._infoArea_size)||void 0===a?void 0:a.height)-p;return this.setSizes("column",l,m,l,d-m-p)}}}),Object.defineProperty(t.prototype,"calcSlideSize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){for(var r={width:"".concat(.623*t,"px"),height:"".concat(t,"px")},o=0;o<this.heightBreakpoint.length;o++)if(i<this.heightBreakpoint[o]||o===this.heightBreakpoint.length-1){for(var n=0;n<this.widthBreakpoint.length;n++)if(e>=this.widthBreakpoint[n][0]&&e<this.widthBreakpoint[n][1]){this.setCalcStyles(n,o,r);break}break}return r}}),Object.defineProperty(t.prototype,"setCalcStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r,o,n,a,s,l=this;if(null===(o=this.store)||void 0===o?void 0:o.rootNode){var d=this.store.rootNode,c=this.vars[4*t+e];if(d.setCssAttr({size:0===t?"low":"middle"}),d.setCssStyle(void 0,((r={})[this.getVar("--mk-csdomain")]=(null==c?void 0:c.domainGC)?"block":"none",r[this.getVar("--mk-cstitleHide")]=(null==c?void 0:c.titleGC)?"block":"none",r[this.getVar("--mk-cstitleLine")]=0===e&&2===t?"2":"1",r[this.getVar("--mk-csiconHide")]=(null==c?void 0:c.iconFs)?"block":"none",r[this.getVar("--mk-csdotHide")]="4"===(null==c?void 0:c.adLabelGC)&&this.store.data.domain?"block":"none",r[this.getVar("--mk-csctaHide")]=(null==c?void 0:c.ctaSlideFs)?"flex":"none",r[this.getVar("--mk-csctaSlideHide")]=c.ctaSlideHide?"block":"none",r[this.getVar("--mk-csvkAdIconOrd")]="4"===(null==c?void 0:c.adLabelGC)&&this.store.data.domain?"1":"0",r[this.getVar("--mk-csrowH")]=0===t?null==i?void 0:i.height:"unset",r[this.getVar("--mk-prevMrg")]=e>1?"center":"flex-start",r)),"4"!==(null==c?void 0:c.adLabelGC)||this.store.data.domain||(c.adLabelGC="auto"),!c.direction&&(null===(n=this.store.meta.mapping.root.size)||void 0===n?void 0:n.carouselVSlideRatio)){if(!(null===(a=this.store)||void 0===a?void 0:a._cs_size))return;var u=parseInt(null==i?void 0:i.width)*(null===(s=this.store.meta.mapping.root.size)||void 0===s?void 0:s.carouselVSlideRatio);u>this.store._cs_size.height?i.height=this.store._cs_size.height+"px":i.height=u+"px",i.width=this.store._root_size.width<600?"50%":"33%"}else i.height="100%";this.setProps(Tr({_cs_direction:!!(null==c?void 0:c.direction)})),Object.entries(c).forEach((function(e){var t=e[0],i=e[1];d.element.style.setProperty(l.getVar("--mk-cs".concat(t)),"string"==typeof i?i:"".concat(i,"px"))}))}}}),t}(Tn),na=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return xr(r)&&("function"==typeof r.action||xr(a.store.meta.actions)&&"function"==typeof a.store.meta.actions[r.action])?(a.initSubscribe(),a):a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDestroyed&&this.isActive){if("function"==typeof this.meta.action)return this.meta.action.call(this.node);e&&"local"!==e||!this.listenProp||"value"in this.meta&&this.meta.value!==this.nStore[this.listenProp]||this.store.meta.actions[this.meta.action].call(this.node,this.meta),e&&"global"!==e||!this.listenGlobalProp||"gValue"in this.meta&&this.meta.gValue!==this.store[this.listenGlobalProp]||this.store.meta.actions[this.meta.action].call(this.node,this.meta)}}}),t}(Tn),aa=function(e){function t(t,i,r){var o,n,a,s=e.call(this,t,i,r)||this;return Object.defineProperty(s,"cardsElements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"autoplayInterval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"idx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"threshold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"setPixel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),s.idx=0,s.setPixel=Array(null===(o=s.store.data)||void 0===o?void 0:o.cards.length).fill(!1),s.cardsElements=[],s.threshold=new Array(21).fill(0).map((function(e,t){return t/20})),s.node.element=To(s.store.meta.serviceForest.smart,s.store.data.cards[0],{classMap:s.store.classMap},s.node.parent.element,s.elements),s.items=Kr("div",{classes:s.getClass("_mk_sm_smartCards"),appendTo:s.node.parent.element}),s.createSmart(),null===(n=s.cardsElements[s.idx])||void 0===n||n.classList.add("isActive"),s.setData(null===(a=s.store.data)||void 0===a?void 0:a.cards[s.idx]),s}return gr(t,e),Object.defineProperty(t.prototype,"createSmart",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this;this.elements.image.onload=function(e){var i,r;t.autoplayInterval||(null===(r=null===(i=e.currentTarget.parentElement)||void 0===i?void 0:i.querySelector(".sm_skeleton"))||void 0===r||r.remove(),e.currentTarget.classList.remove("sm_hide"),t.autoplayInterval=setInterval(t.next.bind(t),6e3))},null===(e=this.store.data)||void 0===e||e.cards.map((function(e,i){var r=To(t.store.meta.serviceForest.products,e,{classMap:t.store.classMap},t.items,t.elements);r.id="".concat(i),r.onclick=function(i){var r,o,n;i.stopPropagation();var a=i.currentTarget;t.idx=Number(a.id),t.autoplayInterval&&(clearInterval(t.autoplayInterval),t.autoplayInterval=null),a.classList.contains("isActive")&&(e.statistics.filter((function(e){return"click"===e.type})).forEach((function(e){Ao(e.url)})),t.store.isFullscreen&&t.store.closeOnClick&&t.engine.destroy(),window.open(t.store.data.cards[t.idx].trackingLink)),t.setData(null===(o=null===(r=t.store)||void 0===r?void 0:r.data)||void 0===o?void 0:o.cards[t.idx]),null===(n=a.parentElement.querySelector(".isActive"))||void 0===n||n.classList.remove("isActive"),a.classList.add("isActive")},t.cardsElements.push(r)})),this.elements.wrapper.onclick=function(e){var i;null===(i=t.store.data)||void 0===i||i.cards[t.idx].statistics.filter((function(e){return"click"===e.type})).forEach((function(e){Ao(e.url)}))}}}),Object.defineProperty(t.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r;Math.trunc(this.items.scrollWidth-this.items.offsetWidth)-Math.trunc(this.items.scrollLeft)<2&&this.idx>=this.cardsElements.length-1?(this.items.scrollLeft=0,this.idx=0):(this.items.scrollLeft+=this.elements.imageSlide.clientWidth+8,this.idx+=1),this.items.scrollLeft=null===(e=this.cardsElements[this.idx])||void 0===e?void 0:e.offsetLeft,this.setData(null===(t=this.store.data)||void 0===t?void 0:t.cards[this.idx]),null===(i=this.items.querySelector(".isActive"))||void 0===i||i.classList.remove("isActive"),null===(r=this.cardsElements[this.idx])||void 0===r||r.classList.add("isActive")}}),Object.defineProperty(t.prototype,"setData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e&&(this.setPixel[this.idx]||(this.setPixel[this.idx]=!0,e.statistics.filter((function(e){return"show"===e.type||"impression"===e.type})).forEach((function(e){Ao(e.url)}))),this.elements.image.setAttribute("src","".concat(e.image.url)),this.elements.title.textContent="".concat(e.title),this.elements.description.textContent="".concat(e.description),e.price&&!e.price.includes("&nbsp;")&&(this.elements.price.innerHTML=Yo(e.price,e.currency),this.elements.oldPrice.innerHTML=Yo(e.oldPrice,e.currency),this.elements.discount.textContent="".concat(e.discount),this.elements.description.textContent=""))}}),t}(Tn),sa=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return a.handle(),a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.node.element instanceof HTMLElement&&this.node.element.remove();var i=this.node.config,r=i.tg||un.engine.defaultTag,o={classes:this.makeClasses(i.cl,this.node.current),attrs:i.ha,dattrs:i.a,styles:i.st,text:i.txt,appendTo:null===(e=this.node.parent)||void 0===e?void 0:e.element};i.join?(this.node.element=null===(t=this.node.parent)||void 0===t?void 0:t.element,Qr(this.node.element,o)):this.node.element=Kr(r,o);for(var n=this.store.data.cards.length>4?4:this.store.data.cards.length,a=0;a<n;a++){var s=document.createElement("div");s.classList.add(this.store.classPrefix+this.node.current+"_dot"),this.node.element.appendChild(s)}}}),t}(Tn),la=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"prevTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),t}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscribe("isReady",this.onReady)}}),Object.defineProperty(t.prototype,"onReady",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.store.isReady&&(null===(t=null===(e=this.engine.pixels)||void 0===e?void 0:e.pixels)||void 0===t?void 0:t.adContainerCovered)&&this.subscribe("currentTime",this.onTimer)}}),Object.defineProperty(t.prototype,"onTimer",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){var e=Math.floor(this.store.currentTime);e>this.prevTime&&(this.prevTime=e,this.calcOverlap()>50&&(this.unSubscribe("currentTime"),this.raiseCoreEvent(25)))}}}),Object.defineProperty(t.prototype,"calcOverlap",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e&&(e=25),this.isDestroyed)return-1;try{var t=this.node.element;if(!(t instanceof HTMLElement))return;var i=0,r=this.node.element.getBoundingClientRect();if(!xr(r)||!r.width||!r.height)return-1;for(var o=Math.floor(r.width/e),n=Math.floor(r.height/e),a=o*n,s=r.x+Math.floor(o/2),l=r.x+r.width;s<l;s+=o)for(var d=r.y+Math.floor(n/2),c=r.y+r.height;d<c;d+=n){var u=document.elementFromPoint(s,d);u&&!t.contains(u)&&u!==t&&(i+=a)}return Vo(0,100,i/(r.width*r.height)*100)}catch(e){}return-1}}),t}(Tn),da=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return Object.defineProperty(a,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"link",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"inited",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Er(r.action)&&xr(a.config=So(r.CONFIG,a.store.data))?(a.event=r.event||"click",a.isActive=Er(a.link=a.config.mainLink)||Pr(a.callback=a.config.callback||a.store.initConfig[r.action]),a):a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;!this.inited&&this.isActive&&!this.isDestroyed&&Cr(e=this.node.element)&&(this.inited=!0,"click"===this.event)&&(e.onclick=this.onClick.bind(this))}}),Object.defineProperty(t.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.onClick.call(this,t),Er(this.link)?function(e){if(e){var t=eo&&(e.deeplink||e.deeplink_fallback_url)||e.url;t&&window.open(t,"_blank")}}({url:this.link}):this.callback(this.config.props)}}),t}(Tn),ca={postInjector:function(){var e,t=this;this.store.proxyNode.setAttribute(this.store.localId,""),this.store.disableClickArea&&(this.store.clickArea=Bo(un.clickAreas,4096));try{var i=null===(e=this.element)||void 0===e?void 0:e.closest('[data-mkit-role="meta"]');if(i){var r=null==i?void 0:i.querySelector('[data-mkit-role="closeBanner"]');r&&r.addEventListener("click",(function(){return t.engine.close()}))}}catch(e){}},enforcers:In,builders:(yn={},yn[0]=On,yn[1]=jn,yn[5]=ia,yn[20]=aa,yn[3]=Ln,yn[21]=sa,yn),triggers:(wn={},wn[1]=En,wn[3]=Dn,wn[4]=la,wn),workers:(kn={},kn[1]=zn,kn[2]=Vn,kn[3]=ra,kn[10]=oa,kn[5]=Hn,kn[6]=qn,kn[7]=$n,kn[8]=ta,kn[9]=na,kn[11]=da,kn)},ua={onTimerForCloseDelay:function(){var e;if(this.element instanceof HTMLElement){var t=Math.max(0,this.store.allowCloseDelay-this.store.fullTime)||0;if(t>0){var i=String(Math.ceil(t));this.element.style.setProperty(this.getVar("--mk-dasharray"),"".concat(((this.store.fullTime+.35)/this.store.allowCloseDelay).toFixed(2)," 1")),this.element.dataset.restDelay=i}else{this.element.remove();var r=null===(e=this.store.vDOM.closeBtn)||void 0===e?void 0:e.element;r instanceof HTMLElement&&(r.style.display="flex"),this.unSubscribe("fullTime")}}},onTimerForAutoCloseDelay:function(){if(this.element instanceof HTMLElement&&this.store.autoCloseDelay&&this.store.isFullscreen){var e=Math.max(0,this.store.autoCloseDelay-this.store.fullTime+.2)||0;if(e>0){var t=String(Math.round(e));this.element.style.setProperty("--restDelay",t),this.element.dataset.restDelay=t}else this.element.remove(),this.unSubscribe("fullTime"),this.sendEvent(po.Closed),this.engine.destroy()}},dotPagination:function(){var e=this,t=this.element.querySelectorAll("."+this.store.classPrefix+this.current+"_dot"),i=this.store.activeSlideIndex>3?3:this.store.activeSlideIndex;t.forEach((function(t,r){t.classList.remove(e.store.classPrefix+e.current+"_dot_active"),r===i&&t.classList.add(e.store.classPrefix+e.current+"_dot_active")}))}},ha={10:[0],32:[5.94,6.18,6.44,14.78,13.48,17.58,14.92,2.96,8.2,8.34,10.34,13.6,4.72,6.62,6.32,7.32,13.48,13.48,13.48,13.48,13.48,13.48,13.48,13.48,13.48,13.48,5.82,5.08,12.2,13.18,12.54,11.34,21.56,15.66,14.94,15.62,15.74,13.64,13.26,16.34,17.1,6.52,13.24,15.04,12.92,20.96,17.1,16.5,15.14,16.5,14.78,14.24,14.5,15.56,15.26,21.3,15.04,14.62,14.36,6.36,9.84,6.36,10.04,10.82,7.42,13.06,13.46,12.56,13.54,12.72,8.34,13.46,13.22,5.82,5.74,12.16,5.82,21.04,13.24,13.68,13.46,13.64,8.12,12.38,7.84,13.24,11.62,18.04,11.9,11.36,11.9,8.02,6.24,8.02],1040:[15.66,15.12,14.94,13.34,18.28,13.64,21.78,14.24,17.1,17.1,15.42,17.18,20.96,17.1,16.5,17.12,15.14,15.62,14.5,15.08,18.52,15.04,17.54,16.1,22.58,23.26,18.22,20.76,14.36,16.18,21.46,15.28,13.06,13.26,13.72,10.06,14.72,12.72,18.38,12.18,13.86,13.86,12.96,13.88,17.8,13.84,13.68,13.86,13.46,12.56,11.54,11.36,17.4,11.9,14.22,13.04,19.4,19.86,14.9,18.64,13.04,12.9,19.58,13.18,12.72,12.72,13.22],1025:[13.64]},pa=_r({},Qo),ma={classMode:1,producer:"base",useThemes:["light","dark"],icons:{hide:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.96 5.5a.75.75 0 0 1 0-1.5c2.04 0 4.14.55 5.92 1.58C17.57 6.56 19 8.07 19 10c0 1-.4 1.9-1 2.66a.75.75 0 1 1-1.17-.94c.44-.55.67-1.13.67-1.72 0-1.13-.86-2.24-2.38-3.12A10.41 10.41 0 0 0 9.96 5.5ZM4.12 14.42C5.84 15.42 8.04 16 10 16c1.6 0 3.36-.39 4.87-1.07l.85.85a.75.75 0 1 0 1.06-1.06L5.28 3.22a.75.75 0 0 0-1.06 1.06l.82.82a8.95 8.95 0 0 0-2.57 1.72A4.5 4.5 0 0 0 1 10c0 1.93 1.43 3.44 3.12 4.42ZM8.5 10a1.5 1.5 0 0 0 2.53 1.1L8.91 8.96c-.25.27-.41.63-.41 1.03ZM7 10a3 3 0 0 0 5.1 2.15l1.63 1.64c-1.2.45-2.53.71-3.73.71-1.7 0-3.64-.51-5.12-1.38C3.36 12.24 2.5 11.13 2.5 10c0-.73.35-1.45 1.03-2.12a7.93 7.93 0 0 1 2.66-1.63L7.85 7.9A2.99 2.99 0 0 0 7 10Z" fill="#99A2AD"/></svg>',complain:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" fill="#99A2AD"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.38 3.36a2.76 2.76 0 0 0-4.76 0l-6.1 10.5A2.76 2.76 0 0 0 3.92 18h12.17a2.76 2.76 0 0 0 2.39-4.15l-6.1-10.49Zm3.7 13.14a1.26 1.26 0 0 0 1.1-1.9l-6.1-10.48s-.33-.63-1.08-.63-1.08.63-1.08.63L2.82 14.6a1.26 1.26 0 0 0 1.1 1.9h12.17Z" fill="#99A2AD"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10 6c.41 0 .75.33.75.75v4.5a.75.75 0 0 1-1.5 0v-4.5c0-.42.34-.75.75-.75Z" fill="#99A2AD"/></svg>',about:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.1 3H8.9c-1.14 0-1.91 0-2.5.05-.58.05-.85.13-1.03.22a2.5 2.5 0 0 0-1.1 1.1c-.09.18-.17.45-.22 1.02C4 6 4 6.76 4 7.9v4.2c0 1.14 0 1.91.05 2.5.05.58.13.85.22 1.04.24.47.62.85 1.1 1.09.18.09.45.17 1.02.22C7 17 7.76 17 8.9 17h2.2c1.14 0 1.91 0 2.5-.05.58-.05.85-.13 1.04-.22a2.5 2.5 0 0 0 1.09-1.1c.09-.18.17-.45.22-1.03.05-.59.05-1.36.05-2.5V7.9c0-1.14 0-1.91-.05-2.5a2.72 2.72 0 0 0-.22-1.03 2.5 2.5 0 0 0-1.1-1.1c-.18-.09-.45-.17-1.03-.22C13.02 3 12.25 3 11.1 3Zm-8.16.68c-.44.86-.44 1.98-.44 4.22v4.2c0 2.24 0 3.36.44 4.22a4 4 0 0 0 1.74 1.74c.86.44 1.98.44 4.22.44h2.2c2.24 0 3.36 0 4.22-.44a4 4 0 0 0 1.74-1.74c.44-.86.44-1.98.44-4.22V7.9c0-2.24 0-3.36-.44-4.22a4 4 0 0 0-1.74-1.74c-.86-.44-1.98-.44-4.22-.44H8.9c-2.24 0-3.36 0-4.22.44a4 4 0 0 0-1.74 1.74Z" fill="#99A2AD"/><path d="M12 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM6 11.25c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75ZM6 14.25c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#99A2AD"/></svg>',copyUrl:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.52 4.18c.9-.9 2.39-.9 3.3 0 .9.9.9 2.34 0 3.24l-.69.68a.75.75 0 0 0 1.06 1.06l.68-.68a3.77 3.77 0 0 0 0-5.37 3.86 3.86 0 0 0-5.4 0L8.12 6.4a3.77 3.77 0 0 0 0 5.37.75.75 0 1 0 1.05-1.06c-.9-.9-.9-2.35 0-3.25l3.34-3.3Z" fill="#99A2AD"/><path d="M7.48 15.82c-.9.9-2.39.9-3.3 0-.9-.9-.9-2.34 0-3.24l.69-.68a.75.75 0 0 0-1.06-1.06l-.68.68a3.77 3.77 0 0 0 0 5.37 3.86 3.86 0 0 0 5.4 0l3.34-3.3a3.77 3.77 0 0 0 0-5.37.75.75 0 0 0-1.05 1.06c.9.9.9 2.35 0 3.25l-3.34 3.3Z" fill="#99A2AD"/></svg>',copyErid:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9.2 3C7.91513 3 7.04169 3.00117 6.36656 3.05633C5.70893 3.11006 5.37263 3.20745 5.13803 3.32698C4.57354 3.6146 4.1146 4.07354 3.82698 4.63803C3.70745 4.87263 3.61006 5.20893 3.55633 5.86656C3.50117 6.54169 3.5 7.41513 3.5 8.7V11.3C3.5 11.8848 3.50117 12.2332 3.52227 12.4914C3.53128 12.6017 3.5423 12.6673 3.55 12.7028V12.8C3.55 13.5611 3.55 14.0636 3.61838 14.4418C3.41332 14.4096 3.24429 14.3596 3.09202 14.282C2.71569 14.0903 2.40973 13.7843 2.21799 13.408C2 12.9802 2 12.4201 2 11.3V8.7C2 6.17976 2 4.91965 2.49047 3.95704C2.9219 3.11031 3.61031 2.4219 4.45704 1.99047C5.41965 1.5 6.67976 1.5 9.2 1.5H11.2C12.3201 1.5 12.8802 1.5 13.308 1.71799C13.6843 1.90973 13.9903 2.21569 14.182 2.59202C14.2519 2.72915 14.2994 2.87986 14.3316 3.05824C13.9605 3 13.4714 3 12.75 3H9.2Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.1 7.7C5.1 6.5799 5.1 6.01984 5.31799 5.59202C5.50973 5.21569 5.81569 4.90973 6.19202 4.71799C6.61984 4.5 7.17989 4.5 8.3 4.5H14.3C15.4201 4.5 15.9802 4.5 16.408 4.71799C16.7843 4.90973 17.0903 5.21569 17.282 5.59202C17.5 6.01984 17.5 6.5799 17.5 7.7V15.3C17.5 16.4201 17.5 16.9802 17.282 17.408C17.0903 17.7843 16.7843 18.0903 16.408 18.282C15.9802 18.5 15.4201 18.5 14.3 18.5H8.3C7.1799 18.5 6.61984 18.5 6.19202 18.282C5.81569 18.0903 5.50973 17.7843 5.31799 17.408C5.1 16.9802 5.1 16.4201 5.1 15.3V7.7ZM8.3 6H14.3C14.8848 6 15.2332 6.00117 15.4914 6.02227C15.6491 6.03514 15.7153 6.05214 15.7331 6.05765C15.8224 6.10469 15.8953 6.17765 15.9424 6.26693C15.9479 6.28468 15.9649 6.35094 15.9777 6.50855C15.9988 6.76681 16 7.1152 16 7.7V15.3C16 15.8848 15.9988 16.2332 15.9777 16.4914C15.9649 16.6491 15.9479 16.7153 15.9424 16.7331C15.8953 16.8224 15.8224 16.8953 15.7331 16.9424C15.7153 16.9479 15.6491 16.9649 15.4914 16.9777C15.2332 16.9988 14.8848 17 14.3 17H8.3C7.7152 17 7.36681 16.9988 7.10855 16.9777C6.95094 16.9649 6.88469 16.9479 6.86693 16.9424C6.77765 16.8953 6.70469 16.8224 6.65765 16.7331C6.65214 16.7153 6.63514 16.6491 6.62227 16.4914C6.60117 16.2332 6.6 15.8848 6.6 15.3V7.7C6.6 7.1152 6.60117 6.76681 6.62227 6.50855C6.63514 6.35093 6.65214 6.28468 6.65765 6.26693C6.70469 6.17765 6.77765 6.10469 6.86693 6.05765C6.88468 6.05214 6.95094 6.03514 7.10855 6.02227C7.36681 6.00117 7.7152 6 8.3 6ZM15.7383 6.05945L15.7352 6.05833C15.7374 6.05904 15.7383 6.05943 15.7383 6.05945ZM15.9405 6.26175C15.9406 6.26169 15.941 6.26264 15.9417 6.26478L15.9405 6.26175ZM15.9405 16.7383L15.9417 16.7352C15.941 16.7373 15.9406 16.7383 15.9405 16.7383ZM15.7382 16.9405C15.7383 16.9406 15.7374 16.9409 15.7353 16.9417L15.7382 16.9405ZM6.86175 16.9405L6.86478 16.9417C6.86265 16.941 6.86169 16.9406 6.86175 16.9405ZM6.65945 16.7383C6.65943 16.7383 6.65904 16.7374 6.65833 16.7352L6.65945 16.7383ZM6.65945 6.26175L6.65833 6.26478C6.65904 6.26264 6.65943 6.26169 6.65945 6.26175ZM6.86214 6.05927C6.86185 6.05938 6.86212 6.05926 6.86214 6.05927L6.86478 6.05833C6.86347 6.05877 6.8626 6.05908 6.86214 6.05927Z" fill="#99A2AD"/>\n</svg>\n',rules:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10 9.25C10.4142 9.25 10.75 9.58579 10.75 10V14C10.75 14.4142 10.4142 14.75 10 14.75C9.58579 14.75 9.25 14.4142 9.25 14V10C9.25 9.58579 9.58579 9.25 10 9.25Z" fill="#99A2AD"/>\n<path d="M11 7C11 7.55228 10.5523 8 10 8C9.44772 8 9 7.55228 9 7C9 6.44772 9.44772 6 10 6C10.5523 6 11 6.44772 11 7Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.98959 3.98959C5.52697 2.45222 7.653 1.5 10 1.5C12.347 1.5 14.473 2.45222 16.0104 3.98959C17.5478 5.52697 18.5 7.653 18.5 10C18.5 12.347 17.5478 14.473 16.0104 16.0104C14.473 17.5478 12.347 18.5 10 18.5C7.653 18.5 5.52697 17.5478 3.98959 16.0104C2.45222 14.473 1.5 12.347 1.5 10C1.5 7.653 2.45222 5.52697 3.98959 3.98959ZM10 3C8.0668 3 6.31782 3.78268 5.05025 5.05025C3.78268 6.31782 3 8.0668 3 10C3 11.9332 3.78268 13.6822 5.05025 14.9497C6.31782 16.2173 8.0668 17 10 17C11.9332 17 13.6822 16.2173 14.9497 14.9497C16.2173 13.6822 17 11.9332 17 10C17 8.0668 16.2173 6.31782 14.9497 5.05025C13.6822 3.78268 11.9332 3 10 3Z" fill="#99A2AD"/>\n</svg>\n',VKAds:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 9.55712C1 5.52373 1 3.50308 2.25351 2.25351C3.50703 1.00395 5.52373 1 9.55712 1H10.4429C14.4763 1 16.493 1 17.7465 2.25351C19 3.50703 19 5.52373 19 9.55712V10.4429C19 14.4763 19 16.493 17.7465 17.7465C16.493 19 14.4763 19 10.4429 19H9.55712C5.52373 19 3.50703 19 2.25351 17.7465C1 16.493 1 14.4763 1 10.4429V9.55712Z" fill="#0077FF"/>\n<path d="M10.0002 16.2992C13.4796 16.2992 16.3002 13.4786 16.3002 9.99922C16.3002 6.51983 13.4796 3.69922 10.0002 3.69922C6.5208 3.69922 3.7002 6.51983 3.7002 9.99922C3.7002 13.4786 6.5208 16.2992 10.0002 16.2992Z" fill="#00D3E6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5829 3.25729V4.4128H16.7463C16.8939 4.41196 17.0384 4.45382 17.1618 4.53313C17.2852 4.61244 17.3819 4.72568 17.4399 4.85863C17.4978 4.99157 17.5143 5.13832 17.4874 5.28044C17.4605 5.42257 17.3914 5.55374 17.2886 5.65751L15.6947 7.27928C15.6247 7.35109 15.5405 7.40823 15.4473 7.44726C15.3541 7.48628 15.2537 7.50638 15.1524 7.50633H13.6454L12.0846 9.16053C12.2038 9.43906 12.2644 9.73832 12.2626 10.0403C12.2626 10.4774 12.1303 10.9046 11.8824 11.268C11.6344 11.6313 11.2821 11.9146 10.8698 12.0818C10.4575 12.249 10.0038 12.2928 9.56613 12.2075C9.12845 12.1223 8.72641 11.9118 8.41086 11.6028C8.09531 11.2938 7.88042 10.9001 7.79336 10.4714C7.7063 10.0428 7.75098 9.5985 7.92175 9.19474C8.09253 8.79098 8.38172 8.44588 8.75277 8.20308C9.12382 7.96027 9.56006 7.83068 10.0063 7.83068C10.2133 7.83065 10.4194 7.85793 10.619 7.91177L12.4117 5.98592V4.76959C12.4118 4.66937 12.4328 4.57023 12.4734 4.47821C12.514 4.3862 12.5733 4.30325 12.6476 4.23441L14.3037 2.69778C14.4107 2.60017 14.5445 2.53519 14.6887 2.51078C14.8328 2.48638 14.9811 2.5036 15.1155 2.56035C15.2498 2.6171 15.3644 2.71092 15.4452 2.83036C15.526 2.9498 15.5695 3.0897 15.5705 3.23297L15.5829 3.25729Z" fill="white"/>\n</svg>\n',turnOffAds:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n<path d="M8.99998 5.25C8.41856 5.25 7.92812 5.64765 7.78931 6.18694C7.68607 6.58808 7.27718 6.82957 6.87604 6.72633C6.4749 6.62308 6.23341 6.2142 6.33666 5.81306C6.6419 4.62712 7.71756 3.75 8.99998 3.75C10.5188 3.75 11.75 4.98121 11.75 6.5C11.75 7.71116 11.0961 8.34041 10.6055 8.79829L10.5973 8.80593C10.1193 9.25203 9.82526 9.52648 9.74246 10.1061C9.68388 10.5161 9.30398 10.801 8.89393 10.7425C8.48388 10.6839 8.19896 10.304 8.25754 9.89393C8.41621 8.78322 9.06062 8.18547 9.51443 7.76451L9.58199 7.70171C10.0289 7.28459 10.25 7.03884 10.25 6.5C10.25 5.80965 9.69034 5.25 8.99998 5.25Z" fill="#99A2AD"/>\n<path d="M9 14C9.55229 14 10 13.5523 10 13C10 12.4477 9.55229 12 9 12C8.44772 12 8 12.4477 8 13C8 13.5523 8.44772 14 9 14Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9 0.5C4.30558 0.5 0.5 4.30558 0.5 9C0.5 13.6944 4.30558 17.5 9 17.5C13.6944 17.5 17.5 13.6944 17.5 9C17.5 4.30558 13.6944 0.5 9 0.5ZM2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9Z" fill="#99A2AD"/>\n</svg>'},tree:{root:{ch:["closeHeader","workArea","logoDomainWrap","disclaimerRow","header","menu"],role:"background",tr:[1,4],wr:{e:3,SIZE:"_info_size"}},workArea:{ch:["mediaWrap","disclaimerColumn","infoArea","closeBtnWrap","adDisable"],role:"background"},mediaWrap:{wr:{e:1,SIZE:"_root_size",RATIO:"_media_ratio"},ch:["media","mediaBackground","controlsWrap"],role:"image"},media:{bl:1,tr:3,wr:[7,{e:8,replay:!0,mode:"master"}]},mediaBackground:{bl:{e:1,SRC:"$$media"},wr:{e:8,LISTEN:"media",mode:"slave"}},controlsWrap:{wr:{e:6,LISTEN:"media",TARGET:"*"}},infoArea:{ch:["infoWrap"]},infoWrap:{ch:["textArea","buttonWrap"]},textArea:{ch:["title","description"],tr:1},title:{cl:["_mk_textBlock"],role:"title",wr:{e:2,action:"clearEscSeq"},an:1},description:{cl:["_mk_textBlock"],role:"description",wr:{e:2,action:"clearEscSeq"},iif:{e:1,prop:"description"}},buttonWrap:{ch:["ctaButton"],an:2,wr:{e:5,LISTEN:"layout",map:{type31:"infoArea",default:"infoWrap"}}},ctaButton:{role:"ctabutton",ch:["ctaText","ctaButtonIcon"],an:4},ctaText:{wr:{e:2,default:"Перейти"}},ctaButtonIcon:{tg:"span",txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16"><path d="M7.23 8 3.86 4.64a.9.9 0 0 1 1.28-1.28l4 4a.9.9 0 0 1 0 1.28l-4 4a.9.9 0 1 1-1.28-1.28L7.23 8Z" fill="#fff"/></svg>'},logoDomainWrap:{wr:{e:5,LISTEN:"layout",map:{type10:"mediaWrap",type11:"mediaWrap",type69:"buttonWrap",type31:"header",type32:"header",type33:"header",type34:"header",type41:"textArea",_fullMedia:"mediaWrap",_default:"infoWrap"}},ch:["icon","domain"],iif:[{e:1,prop:"domain"}]},icon:{bl:{e:1,SRC:"icon.src"},role:"icon",an:3,iif:[{e:1,prop:"icon"}]},domain:{wr:2,role:"domain"},header:{wr:{e:5,LISTEN:"layout",map:{type30:"infoArea",type31:"infoWrap",type32:"infoArea",type33:"infoArea",type34:"infoWrap",type92:"workArea",type93:"workArea",type94:"workArea",_default:"root"}},ch:["vkAdIcon","vkAdIconImg","headerText","ageRestrictions"],role:"label",iif:{e:3,prop:"adLabel.show",value:!1}},vkAdIcon:{txt:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path d="M0 7.2c0-3.4 0-5.1 1.05-6.15C2.11 0 3.8 0 7.2 0h.6c3.4 0 5.1 0 6.15 1.05C15 2.11 15 3.8 15 7.2v.6c0 3.4 0 5.1-1.05 6.15C12.89 15 11.2 15 7.8 15h-.6c-3.4 0-5.1 0-6.15-1.05C0 12.89 0 11.2 0 7.8Zm13-4.06a.6.6 0 0 1 .39 1.03l-1.41 1.4a.75.75 0 0 1-.62.22l-.96-.08-1.2 1.2a1.8 1.8 0 1 1-1.04-1.09l1.18-1.17-.12-1a.74.74 0 0 1 .22-.62l1.4-1.4a.6.6 0 0 1 1.03.37l.04 1.08Zm-5.1-.43a4.82 4.82 0 0 0-5.15 5.51 4.8 4.8 0 0 0 9.53-1.14l-1.6-.13a3.23 3.23 0 1 1-2.6-2.63Zm0 0" fill-rule="evenodd" fill="#fff"/></svg>',iif:{e:2,prop:"adChoices.iconLink"}},vkAdIconImg:{bl:{e:1,SRC:"adChoices.iconLink"},iif:{e:1,prop:"adChoices.iconLink"},cl:["_mk_vkAdIcon"],st:{width:"10px",height:"10px"}},headerText:{wr:{e:2,TEXT:"adLabel.text",default:"РЕКЛАМА"}},ageRestrictions:{wr:{e:2,default:"0+"},role:"agerestrictions"},menu:{wr:{e:5,LISTEN:"layout",map:{type31:"infoArea",type92:"workArea",type93:"workArea",type94:"workArea",_default:"root"}},role:"acMenu",txt:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 16a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm7 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0ZM23 18.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z" fill="white"/></svg>'},closeHeader:{ch:["closeTextWrap"]},closeTextWrap:{ch:["closeText","autoCloseCountDown"]},closeText:{wr:{e:2,default:"Реклама закроется через"}},autoCloseCountDown:{role:"nothing",wr:{e:9,LISTENGLOBAL:"currentTime",action:"onTimerForAutoCloseDelay"},iif:{e:4,prop:"isFullscreen",value:!0}},closeBtnWrap:{wr:{e:5,LISTEN:"layout",map:{type92:"workArea",type93:"closeHeader",type94:"workArea"}},role:"closeBanner",ch:["closeBtn","allowCloseCountDown"]},allowCloseCountDown:{role:"nothing",wr:{e:9,LISTENGLOBAL:"fullTime",action:"onTimerForCloseDelay"}},closeBtn:{txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.41 6.41c.3-.3.8-.3 1.1 0L11 9.91l3.49-3.5a.78.78 0 0 1 1.1 1.1L12.09 11l3.5 3.49a.78.78 0 0 1-1.1 1.1L11 12.09l-3.49 3.5a.78.78 0 0 1-1.1-1.1L9.91 11 6.4 7.51c-.3-.3-.3-.8 0-1.1Z" fill="#fff"/></svg>'},adDisable:{iif:[{e:5,prop:"isFullscreen",value:!0},{e:1,prop:"settings.disableAds"},{e:6,prop:"data.settings.disableAds.show",value:!1}],wr:[{e:2,TEXT:"settings.disableAds.text",default:"Убрать рекламу за 1₽"},{e:11,CONFIG:"settings.disableAds",action:"onDisableAds"}]},disclaimerColumn:{bl:{e:3,view:"column",SRC:"media",minHeight:90},role:"disclaimer"},disclaimerRow:{bl:{e:3,view:"row",minHeight:90},role:"disclaimer"}},controls:{progress:{show:!0,classes:["_mk_control_progress"],renderBy:"progress"},volume:{show:!0,pos:"leftbottom",order:"3",classes:["_mk_control_volume","_mk_control_icon"],renderBy:"muted"},flow:{show:!0,pos:"leftbottom",order:"1",classes:["_mk_control_flow","_mk_control_icon"],renderBy:"state"},volumeBar:{show:!1},cta:{show:!0,classes:["_mk_control_cta","_mk_control_icon"]},skip:{show:!0,pos:"rightbottom",order:"2",classes:["_mk_control_skip","_mk_control_icon"]},adLabel:{show:!0,pos:"lefttop",order:"1"}},wrappers:{leftbottom:["_mk_control_wrapper","_mk_control_wrapper_left"],rightbottom:["_mk_control_wrapper","_mk_control_wrapper_right"]},handlers:ca,mapping:Sn,adChoices:{closeBtn:!0,tabs:{main:{header:"*",items:[{name:"VKAds",classNames:["_mk_vkAds","_mk_adChoices_menuLine"]}]},hide:{},other:{header:"Другое:",items:[{tg:"textarea",name:"textArea",classNames:["_mk_freeTextArea"]},{text:"Отправить",name:"sendButton",classNames:["_mk_freeButton"],action:"sendOther"}],footer:!0},complain:{},closed:{items:[{name:"closeTitle",classNames:["_mk_closeTitle"]},{name:"closeInfo",classNames:["_mk_closeInfo"]}]}},finalProps:["--mk-cSubhead","--mk-сPrimary","--mk-bgContent","--mk-cBorder","--mkext-bRadius","--mkext-bRadius-tl","--mkext-bRadius-tr","--mkext-bRadius-bl","--mkext-bRadius-br"],actions:pa},adChoicesFallback:{iconLink:"https://r.mradx.net/imgs/2a/38/fda5014ca5824c9a.svg",closeUrl:"",marker:"",closeBtn:!0,tabs:{main:{header:"*",items:[{text:"Скрыть объявление",iconUrl:"https://r.mradx.net/imgs/63/8e/d4b28cc0b905374f.svg",name:"hide",action:"hide"},{text:"Пожаловаться",iconUrl:"https://r.mradx.net/imgs/cf/aa/a8655ac54f10b068.svg",name:"complain",action:"complain"},{text:"О рекламодателе",iconUrl:"https://r.mradx.net/imgs/ee/63/84ed4e4a5ae73316.svg",name:"about",action:"redirect",actionValue:""},{text:"Скопировать ссылку",name:"copyUrl",action:"copy",actionValue:"",iconUrl:"https://r.mradx.net/imgs/b6/09/93a837dc06183017.svg"},{text:"Скопировать ERID ",iconUrl:"https://r.mradx.net/imgs/cf/e5/32db22916648f14d.svg",name:"copyErid",action:"copy",actionValue:""},{text:"Правила рекомендаций",name:"rules",action:"redirect",actionValue:"",iconUrl:"https://r.mradx.net/imgs/37/c0/ca37933876686dcd.svg"},{text:"VK Реклама",name:"VKAds",action:"redirect",classNames:["_mk_vkAds","_mk_adChoices_menuLine"],actionValue:"https://ads.vk.com/",iconUrl:"https://r.mradx.net/imgs/df/92/6fb16c27a25e2c38.svg"}]},hide:{header:"Уточните причину:",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",items:[{id:1,text:"Не интересно",action:"reasonItem",actionValue:"closed"},{id:2,text:"Уже приобретено",action:"reasonItem",actionValue:"closed"},{id:3,text:"Вижу слишком часто",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"other"}]},complain:{header:"Уточните причину:",closeInfo:"Модератор скоро проверит объявление",closeTitle:"Жалоба отправлена",otherPlaceholder:"Напишите причину",items:[{id:4,text:"Оскорбительное содержание",action:"reasonItem",actionValue:"closed"},{id:5,text:"Сексуальный подтекст",action:"reasonItem",actionValue:"closed"},{id:6,text:"Нарушение закона",action:"reasonItem",actionValue:"closed"},{id:7,text:"Мошеннический сайт",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"other"}]},closed:{items:[{id:"closeTitle",classNames:["_mk_closeTitle"]},{id:"closeInfo",classNames:["_mk_closeInfo"]}]},other:{header:"Другое:",items:[{tg:"textarea",name:"textArea",classNames:["_mk_freeTextArea"]},{text:"Отправить",name:"sendButton",classNames:["_mk_freeButton"],action:"sendOther"}],footer:!0}},finalProps:["--mk-cSubhead","--mk-сPrimary","--mk-bgContent","--mk-cBorder","--mkext-bRadius","--mkext-bRadius-tl","--mkext-bRadius-tr","--mkext-bRadius-bl","--mkext-bRadius-br"],actions:pa},actions:ua,toCheck:["title","description","domain","icon","aboutCompany"],defaults:{ageRestrictions:"0+",ctaText:"Перейти"},autoPause:!1,dontUseAdtViewability:!0,canUseWithoutMedia:!0,disclaimerWeight:100,charWidths:pn(ha),noObfuscate:!0},ba="<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none'><path fill-rule='evenodd' clip-rule='evenodd' d='M8 4h1l5 5a1 1 0 0 1 0 2l-5 5a1 1 0 0 1-1-2l4-4-4-4V4Z' fill='#fff'/></svg>",fa={card:{root:{cl:["cs__slide__wrap"],ch:[1]},1:{tg:"a",ha:{target:"_blank",href:"trackingLink"},cl:["cs__slide"],ch:["imageWrap","body","cta"]},imageWrap:{cl:["cs__slide__image"],ch:["image","discount","skeleton"]},image:{tg:"img",cl:["cs__slide__image","cs__slide__hide"],SRC:"image.url"},skeleton:{cl:["cs__slide__skeleton"]},body:{cl:["cs__slide__body"],ch:["prices","title","description"]},discount:{TXT:"discount",cl:["cs__slide__discount"]},prices:{cl:["cs__slide__prices"],ch:["price","oldPrice"]},price:{TXT:"price",cl:["cs__slide__price"]},oldPrice:{TXT:"oldPrice",cl:["cs__slide__oldprice"]},title:{TXT:"title",cl:["cs__slide__title"]},description:{TXT:"description",cl:["cs__slide__desc"]},cta:{TXT:"ctaText",cl:["cs__slide__cta"]}},carousel:{root:{ch:["cs"]},cs:{cl:["cs"],ch:["wrapper","prev","next"]},wrapper:{cl:["cs__wrap"]},prev:{tg:"button",cl:["cs__btn","cs__btn__prev","cs__btn__hide"],txt:ba},next:{tg:"button",cl:["cs__btn","cs__btn__next"],txt:ba}},smart:{root:{cl:["_mk_sm_wrap"],ch:["wrapper"]},wrapper:{cl:["_mk_sm_link"],ch:["imageWrap","body"]},imageWrap:{cl:["_mk_sm_imageWrap"],ch:["image","discount","skeleton"]},image:{tg:"img",cl:["_mk_sm_prevImage","sm_hide"],SRC:"image.url"},skeleton:{cl:["sm_skeleton"]},body:{cl:["_mk_sm_body"],ch:["title","description","prices","cta"]},title:{TXT:"title",cl:["_mk_sm_slideTitle"]},description:{TXT:"description",cl:["_mk_sm_slideDesc"]},discount:{TXT:"discount",cl:["_mk_sm_discount"]},prices:{cl:["_mk_sm_prices"],ch:["price","oldPrice"]},price:{TXT:"price",cl:["_mk_sm_price"]},oldPrice:{TXT:"oldPrice",cl:["_mk_sm_oldPrice"]},cta:{TXT:"ctaText",cl:["_mk_sm_cta"]}},products:{root:{ha:{style:"position:relative"},ch:["imageSlide"]},imageSlide:{tg:"img",cl:["_mk_sm_imgSlide"],SRC:"image.url"},skeleton:{cl:["_mk_sm_skeleton"]}}},va={mapping:{root:{size:{widthBreakpoint:[[0,400],[400,600],[600,900],[900,1e4]],heightBreakpoint:[199,300,400,600],vars:{direction:[1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1],titleFs:[0,10,10,10,0,12,12,12,13,13,13,13,13,14,14,14],titleH:[0,10,10,10,0,14,14,14,15,15,15.6,15.6,16,16.8,16.8,16.8],titleLines:[0,1,1,1,0,1,1,1,1,1,1,1,2,1,1,1],iconFs:[12,12,12,12,0,16,16,16,28,28,28,28,0,28,32,32],btnFs:[28,28,28,28,36,36,36,36,36,44,44,44,36,44,52,52],svgFs:[16,16,16,16,20,20,20,20,20,20,20,20,20,20,24,24],titleSlideFs:[12,12,12,12,12,12,12,12,13,13,13,13,12,14,14,14],titleSlideH:[13,13,13,13,13,13,13,13,14,14,14,14,13,15,15.6,15.6],descSlideFs:[11,11,11,11,11,11,11,11,12,12,12,12,11,13,13,13],descSlideH:[12,12,12,12,12,12,12,12,13,13,13,13,12,14,14.6,14.6],priceSlideFs:[11,11,11,11,11,11,11,11,12,12,12,12,11,13,13,13],priceSlideH:[13,13,13,13,13,13,13,13,14,14,14,14,13,15,15.6,15.6],ctaSlideFs:[0,0,0,0,0,0,0,0,12,12,12,12,0,13,13,13],ctaSlideH:[0,0,0,0,0,0,0,0,28,28,28,28,0,32,32,32],gridItem:[4,4,4,4,4,4,4,4,4,6,6,6,6,6,8,8],titleGC:[0,0,0,0,0,"2","2","2","2/7","2/7","2/7","2/7","1/5","2/7","2/7","2/7"],titleGR:[0,0,0,0,0,"1","1","1","1","1","1","1","2","1","1","1"],domainGC:["2","2","2","2","2",0,0,0,"2","2","2","2","2","2","2","2"],domainGR:["1","1","1","1","1",0,0,0,"2","2","2","2","1","2","2","2"],iconGC:["1","1","1","1",0,"1","1","1","1","1","1","1",0,"1","1","1"],iconGR:["1","1","1","1",0,"1","1","1","span 2","span 2","span 2","span 2",0,"span 2","span 2","span 2"],adLabelGC:["3","3","3","3","1","3","3","3","4","4","4","4","1","4","4","4"],adLabelGR:["1","1","1","1","1","1","1","1","2","2","2","2","1","2","2","2"]},carouselVSlideRatio:1.5}}},tree:{root:{ch:["closeHeader","workArea","disclaimerRow"],role:"background",tr:[1]},workArea:{wr:{e:10,SIZE:"_root_size",RATIO:"_carousel_ratio"},ch:["infoArea","carousel","disclaimerColumn","disclaimerRow","closeBtnWrap"],role:"background"},carousel:{bl:5,tr:[1]},infoArea:{ch:["infoWrap","menu"],tr:[1]},dot:{role:"label"},adLabel:{ch:["vkAdIcon","advertisingLabel","ageRestrictions"]},infoWrap:{ch:["icon","textArea","adLabel","domain","dot"]},textArea:{ch:["title"]},title:{cl:["_mk_textBlock"],role:"title",wr:{e:2},an:[1]},icon:{bl:{e:1,SRC:"icon.src"},role:"icon",an:3,iif:[{e:1,prop:"icon"}]},domain:{wr:[2],role:"domain",iif:[{e:1,prop:"domain"}]},vkAdIcon:{},ageRestrictions:{wr:{e:2,default:"0+"},role:"agerestrictions"},advertisingLabel:{wr:{e:2,default:"Реклама"},role:"label"},menu:{role:"acMenu",txt:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 16a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm7 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0ZM23 18.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z" fill="#99A2AD"/></svg>'},closeHeader:{ch:["closeTextWrap"]},closeTextWrap:{ch:["closeText","autoCloseCountDown"]},closeText:{wr:{e:2,default:"Реклама закроется через"}},autoCloseCountDown:{role:"nothing",wr:{e:9,LISTENGLOBAL:"currentTime",action:"onTimerForAutoCloseDelay"},iif:{e:4,prop:"isFullscreen",value:!0}},closeBtnWrap:{wr:{e:5,LISTEN:"mode",map:{autoCloseFullscreen:"closeHeader",fullscreen:"workArea"}},role:"closeBanner",ch:["closeBtn","allowCloseCountDown"]},allowCloseCountDown:{role:"nothing",wr:{e:9,LISTENGLOBAL:"fullTime",action:"onTimerForCloseDelay"}},closeBtn:{txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.41 6.41c.3-.3.8-.3 1.1 0L11 9.91l3.49-3.5a.78.78 0 0 1 1.1 1.1L12.09 11l3.5 3.49a.78.78 0 0 1-1.1 1.1L11 12.09l-3.49 3.5a.78.78 0 0 1-1.1-1.1L9.91 11 6.4 7.51c-.3-.3-.3-.8 0-1.1Z" fill="#fff"/></svg>'},disclaimerColumn:{bl:{e:3,view:"column",SRC:"media"},role:"disclaimer"},disclaimerRow:{bl:{e:3,view:"row"},role:"disclaimer"}},useThemes:["light","dark"],actions:ua,classPrefix:"_mk_cs_",serviceForest:fa};Object.setPrototypeOf(va,ma);var ga=_r(_r({},Qo),{onAction:_a});function _a(e,t,i,r){var o,n;switch(null==r||r.preventDefault(),null==r||r.stopPropagation(),e){case"showTab":this.elements.host.replaceChild(this.elements[t],this.currentTab),this.currentTab=this.elements[t],"closed"===i&&(this.sendEvent(po.ClosedByUser),this.sendEvent(po.Closed),this.raiseCoreEvent(9),_a.call(this,"destroy"));break;case"closeMenu":this.closeTimeout=null,this.isOpen&&(this.element.style.display="none",this.store.rootNode.setCssAttr({menu:"close"}),this.store.isServiceHidden=!1,this.elements.hideForm=void 0,this.engine.resume(!0),this.isOpen=!1);break;case"hide":case"complain":ya.call(this,e,t);break;case"select":this.selectId&&this.elements[this.selectId].classList.remove("on"),this.selectId=t,null===(o=this.elements[t])||void 0===o||o.classList.add("on"),null===(n=this.elements.okButton)||void 0===n||n.classList.remove("__disabled");break;case"reasonItem":if(!t)return;if(this.sendReason(t),this.closeInfo){var a=To(this.finishTab,this);this.engine.closeTab.parentElement.replaceChild(a,this.engine.closeTab),this.engine.closeTab=a,this.notify(this.config.tabs[this.action]),this.elements=null,Eo.prototype.destroy.call(this)}else{var s=this.engine.closeTab.parentElement.parentElement;s.classList.contains("feed_row")?s.remove():s.innerHTML="",this.destroy()}break;case"copy":if(Wo(i||"Not defined"),this.elements[t]instanceof HTMLElement){var l=this.elements[t].getElementsByTagName("span")[0]||this.elements[t];if(l instanceof HTMLElement){var d=l.innerText;l.innerText="Скопировано",setTimeout((function(){return l.innerText=d}),2e3)}}break;case"redirect":Er(i)&&window.open(i,"_blank");break;case"destroy":this.destroy()}}function ya(e,t){var i=this,r=this.elements[e],o=this.config.tabs[e];this.action=e,this.finishTab=this.store.serviceForest.adChoiceFinal,_a.call(this,o.items[0].action,o.items[0].id),this.closeInfo=o.closeInfo;var n=this.engine,a=this.store.hostNode;!this.elements.sendButton&&this.store.serviceForest.acSendButton&&(this.elements.sendButton=To(this.store.serviceForest.acSendButton,o,{},r),this.elements.sendButton.onclick=function(e){return _a.call(i,o.ctaAction,i.selectId)}),"add"===t&&this.elements.hideForm?this.elements.hideForm.appendChild(r):(this.copyCssProps(this.config.finalProps,this.element,a),null==n||n.destroy(),a.appendChild(r)),n.closeTab=r,this.engine=n}var wa={appendTo:"adChoicesMenu",preRender:!0,wrapCl:["ui_actions_menu","ui_actions_menu--actionSheet","_ui_menu"],cl:[jo],mouseOverShow:Jr()?void 0:"adChoicesMenu",tabs:{main:{body:!0,tabCl:["ui_actions_menu_tab__"],itemCl:["ui_actions_menu_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["ui_actions_menu_body__"],footerCl:["ui_actions_menu_footer__"],items:[{text:"Скрыть объявление",name:"hide",action:"hide"},{text:"Пожаловаться",name:"complain",action:"complain"},{text:"О рекламодателе",name:"about",action:"redirect"},{text:"Скопировать ссылку",name:"copyUrl",action:"copy"},{name:"copyErid",action:"copy"},{text:"Правила рекомендаций",name:"rules",action:"redirect"}]},hide:{tabCl:["dld","feed_ignore_item"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"],header:"Причина скрытия:",ctaText:"Отправить",ctaAction:"reasonItem",closeInfo:"Эта запись не будет показываться в ленте.",items:[{id:2,text:"Товар уже куплен или услуга найдена",action:"select"},{id:3,text:"Показывается слишком часто",action:"select"},{id:1,text:"Не интересуюсь этой темой",action:"select"},{id:8,text:"Не хочу видеть объявление этого рекламодателя",action:"select"}]},complain:{tabCl:["dld","feed_ignore_item"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"],header:"Причина жалобы:",closeInfo:"Ваша жалоба будет рассмотрена модераторами.",balloonText:"Ваша жалоба отправлена и будет рассмотрена в ближайшее время.",ctaText:"Пожаловаться",ctaAction:"reasonItem",items:[{id:4,text:"Оскорбительное содержание",action:"select"},{id:5,text:"Сексуальный подтекст",action:"select"},{id:6,text:"Нарушение закона",action:"select"},{id:7,text:"Мошеннический сайт",action:"select"},{id:11,text:"Не соответствующая возрасту реклама",action:"select"},{id:9,text:"Прочее",action:"select"}]}},actions:ga,finalProps:["--mkext-bRadius"]},ka={appendTo:"adChoicesMenu",preRender:!0,wrapCl:["ui_actions_menu","ui_actions_menu--actionSheet","_ui_menu"],cl:[jo],mouseOverShow:Jr()?void 0:"adChoicesMenu",tabs:{main:{body:!0,tabCl:["ui_actions_menu_tab__"],itemCl:["ui_actions_menu_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["ui_actions_menu_body__"],footerCl:["ui_actions_menu_footer__"]},hide:{tabCl:["dld","feed_ignore_item"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"]},complain:{tabCl:["dld","feed_ignore_item"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"]}},actions:ga,finalProps:["--mkext-bRadius"]},xa='<svg fill="none" height="16" viewBox="0 0 12 16" width="12" xmlns="http://www.w3.org/2000/svg"><path d="m4.77 8 3.37 3.36a.9.9 0 1 1-1.28 1.28l-4-4a.9.9 0 0 1 0-1.28l4-4a.9.9 0 1 1 1.28 1.28z" fill="currentColor"></path></svg>',Aa='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" fill="none" viewBox="0 0 12 16"><path fill="currentColor" d="M7.23 8 3.86 4.64a.9.9 0 0 1 1.28-1.28l4 4a.9.9 0 0 1 0 1.28l-4 4a.9.9 0 0 1-1.28-1.28L7.23 8Z"></path></svg>',Ca={splitContent:{root:{mixRoot:!0,ch:[1,2,5]},1:{tg:"span",TXT:"first"},2:{tg:"button",cl:["PostTextMore"],fn:{onclick:function(e){e.preventDefault(),e.stopPropagation(),this.nextSibling.style.display="inline",this.remove()}},ch:[3,4]},3:{tg:"span",cl:["PostTextMore__gradient"]},4:{tg:"span",cl:["PostTextMore__content"],TXT:"more"},5:{tg:"span",ha:{style:"display:none"},TXT:"rest"}},balloon:{root:{ha:{style:"visibility: visible;opacity:1; transition: opacity 500ms ease-out;"},cl:["notifier_baloon_wrap"],ch:[1]},1:{cl:["notifier_baloon","notifier_type_done_box"],ch:[2,5]},2:{cl:["notifier_baloon_head","clear_fix"],ch:[4]},4:{cl:["notifier_baloon_title"],TXT:"balloonTitle"},5:{cl:["notifier_baloon_body","clear_fix"],ch:[6]},6:{cl:["notifier_baloon_msg","wrapped"],TXT:"balloonText"}},volumeBar:{root:{ha:{role:"slider",tabindex:"0",style:"--mkit-volume: 0%"},cl:["videoplayer_slider","videoplayer_volume_slider"],ch:[1,4]},1:{cl:["_bars_wrap"],ch:[2,3]},2:{cl:["_loaded"]},3:{ha:{style:"transform: translateX(var(--mkit-volume));"},cl:["_filled"]},4:{ha:{style:"transform: translateX(var(--mkit-volume));"},cl:["_handle_wrap"],ch:["bubble"]},bubble:{cl:["_handle"]}},volumeTooltip:{root:{cl:["videoplayer_tooltip"],ha:{style:"bottom: 40px"},ch:["vText",1]},vText:{cl:["_text"],txt:"0%"},1:{cl:["_arrow"]}},prePlay:{root:{cl:["page_post_video_play_inline"],ha:{style:"cursor: pointer"},txt:'<svg aria-hidden="true" fill="white" display="block" width="36" height="36" viewBox="0 0 36 36" style="width: 36px; height: 36px; margin:7px;">\n  <path d="M26.775 15.908c1.213.714 1.213 2.47 0 3.184l-12.99 7.65c-1.231.725-2.785-.163-2.785-1.593V9.851c0-1.43 1.554-2.318 2.786-1.593z"></path>\n</svg>'}},videoLoading:{root:{cl:["pr","videoplayer_waiting","pr_big"],ch:[1,1,1]},1:{cl:["pr_bt"]}},adChoiceFinal:{root:{cl:["post"],ch:[1]},1:{cl:["dld","feed_ignore_item"],ch:[2]},2:{cl:["feed_post_report"],TXT:"closeInfo"}},acSendButton:{root:{cl:["wall_reasons_actions"],ch:[1]},1:{tg:"button",ha:{id:"ad_report_-211141010_25483_send",type:"button"},cl:["FlatButton","FlatButton--primary","FlatButton--size-m"],ch:[2]},2:{tg:"span",cl:["FlatButton__in"],ch:[3]},3:{tg:"span",cl:["FlatButton__content"],TXT:"ctaText"}},card:{root:{cl:["_mk_card","_mk_spec_card"],ch:[1,"cta"]},1:{tg:"a",ha:{target:"_blank",href:"trackingLink"},cl:["_mk_card__wrapper"],ch:["imageWrap","body"]},imageWrap:{cl:["_mk_card__photo","_mk_spec_card__photo"],ch:["discount","fader","border"]},discount:{TXT:"discount",cl:["_mk_discount"],iif:{e:1,prop:"discount"}},fader:{cl:["_mk_card__photoFader"]},border:{cl:["_mk_card__photoBorder"]},body:{cl:["_mk_card__content","_mk_card__content_button_yes","_mk_spec_card__content"],ch:["title","prices","description"]},title:{TXT:"title",cl:["_mk_card__title","_mk_spec_card__title"]},prices:{cl:["_mk_card__priceContainer"],ch:["oldPrice","price"]},price:{TXT:"price",cl:["_mk_card__price","_mk_spec_card__price"]},oldPrice:{TXT:"oldPrice",cl:["_mk_card__price_old","_mk_card__price","_mk_spec_card__price"]},description:{TXT:"description",cl:["_mk_card__price","_mk_spec_card__price"]},cta:{tg:"a",ha:{target:"_blank",href:"trackingLink",role:"cta"},TXT:"ctaText",cl:["_mk_flat_button","_mk_card__button","_mk_spec_flat_button"]}},carousel:{root:{cl:["_mk_cards__container","_mk_cards_slider"],ch:["prev","next","wrapper"]},prev:{cl:["_mk_cards__scroller","_mk_cards__scroller_position_left","_mk_cards__scroller_type_scroller","_mk_cards__scroller_hidden_left","_mk_scroll_left"],ch:["2"]},2:{txt:xa},next:{cl:["_mk_cards__scroller","_mk_cards__scroller_position_right","_mk_cards__scroller_type_scroller","_mk_scroll_right"],ch:["3"]},3:{txt:Aa},wrapper:{cl:["_mk_cards__wrapperOuter","_mk_cards__wrapper","_mk_wrap_scroll"]}},collage:{root:{ch:["wrapper"]},wrapper:{cl:["_mk_Grid"]}},items:{root:{cl:["_mk_GridItem"],ch:["image"]},image:{tg:"img",cl:["_mk_ColImg"],SRC:"image.url"}},playIcon:{root:{cl:["_mk_ColLabel"],ch:["play","duration"]},play:{ha:{"data-state":"play"},cl:["_mk_control_flow","_mk_Play"]},duration:{tg:"span",cl:["_mk_playDuration"]}},slider:{root:{cl:["_mk_SliderWrap"],ch:["prev","next","wrapper"]},wrapper:{cl:["_mk_Slider"]},prev:{cl:["_mk_cards__scroller","_mk_cards__scroller_position_left","_mk_cards__scroller_type_scroller","_mk_cards__scroller_hidden_left","_mk_scroll_left","_mk_slideControls"],ha:{style:"display: none;"},ch:["2"]},2:{ha:{style:"top: 40%;"},txt:xa},next:{cl:["_mk_cards__scroller","_mk_cards__scroller_position_right","_mk_cards__scroller_type_scroller","_mk_scroll_right","_mk_slideControls"],ch:["3"]},3:{ha:{style:"top: 40%;"},txt:Aa}},slide:{root:{cl:["_mk_SlideItem"],ch:["image"]},image:{tg:"img",cl:["_mk_ColImg"],SRC:"image.url"}},counter:{root:{tg:"span",cl:["_mk_slideCounter"],ch:["count"]},count:{tg:"span",cl:["_mk_slideCount"]}}};function Pa(e,t){for(var i=document.getElementById("spa_root");e instanceof HTMLElement&&e!==i;){if(e.hasAttribute("data-index"))return t.dataset.feedsNode=e.parentElement,+e.dataset.index;e=e.parentElement}return-1}var Sa,Ma,Ia,Ta=function(e){function t(t,i,r){var o=e.call(this,t,i,r)||this;return Object.defineProperty(o,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"collage"===o.store.data.format?o.createCollage():o.createSlider(),o}return gr(t,e),Object.defineProperty(t.prototype,"createCollage",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.node.element=To(this.store.meta.serviceForest.collage,this.store.data,{classMap:this.store.classMap},this.node.parent.element,this.elements);var t=this.store.data.items.length,i=[["1","1","1","span 3","1","span 5","span 3","1","span 4"],["2","2","2","span 3","2","span 5","span 3","2","span 4"],["0","2","1","span 2","3","span 2","1","3","1"],["0","0","2","span 2","1","span 2","2","1","2"],["0","0","0","span 2","2","span 2","3","2","3"],["0","0","0","0","3","span 2","4","3","4"],["0","0","0","0","0","span 2","5","1","5"],["0","0","0","0","0","0","6","2","6"],["0","0","0","0","0","0","0","3","7"],["0","0","0","0","0","0","0","0","8"]],r=[["1","1/3","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1"],["0","2","2","2","1","2","2","1","2"],["0","0","2","2","2","2","2","2","2"],["0","0","0","2","2","2","2","2","2"],["0","0","0","0","2","2","2","2","2"],["0","0","0","0","0","2","2","3","2"],["0","0","0","0","0","0","2","3","2"],["0","0","0","0","0","0","0","3","2"],["0","0","0","0","10","10","10","0","2"]];this.store.data.items.forEach((function(o,n){var a;To(e.store.meta.serviceForest.items,o,{classMap:e.store.classMap},e.elements.wrapper,e.elements),e.elements.image.onclick=function(){e.setPixel(o.statistics)},e.store.roleMap.set(e.elements.root,"card_"+n),e.elements.root.setAttribute("style","grid-column: ".concat(i[n][t-2],"; grid-row: ").concat(r[n][t-2])),o.video&&(To(null===(a=e.store.meta.serviceForest)||void 0===a?void 0:a.playIcon,void 0,{classMap:e.store.classMap},e.elements.root,e.elements),(t<5||6===t||9===t||n<2)&&(e.elements.duration.innerHTML=Xo(o.video.duration)),e.elements.image.setAttribute("src",o.video.preview.url))}))}}),Object.defineProperty(t.prototype,"createSlider",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.node.element=To(this.store.meta.serviceForest.slider,this.store.data,{classMap:this.store.classMap},this.node.parent.element,this.elements),To(this.store.meta.serviceForest.counter,void 0,{classMap:this.store.classMap},this.node.parent.element,this.elements),this._id=0,this.elements.count.innerHTML="".concat(this._id+1,"/").concat(this.store.data.items.length),this.store.data.items.forEach((function(t,i){var r;To(e.store.meta.serviceForest.slide,t,{classMap:e.store.classMap},e.elements.wrapper,e.elements),e.elements.image.onclick=function(){e.setPixel(t.statistics)},e.store.roleMap.set(e.elements.root,"card_"+i),t.video&&(To(null===(r=e.store.meta.serviceForest)||void 0===r?void 0:r.playIcon,void 0,{classMap:e.store.classMap},e.elements.root,e.elements),e.elements.duration.innerHTML=Xo(t.video.duration),e.elements.image.setAttribute("src",t.video.preview.url))})),this.elements.prev.onclick=function(t){return e.evClick(t,-1)},this.elements.next.onclick=function(t){return e.evClick(t,1)}}}),Object.defineProperty(t.prototype,"evClick",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.onClick(e),this._id=this._id+t,this.checkViewBtn(),this.elements.count.innerHTML="".concat(this._id+1,"/").concat(this.store.data.items.length),this.elements.wrapper.setAttribute("style","transform: translate3d(-".concat(this.elements.wrapper.clientWidth*this._id,"px, 0px, 0px);"))}}),Object.defineProperty(t.prototype,"setPixel",{enumerable:!1,configurable:!0,writable:!0,value:function(e){null==e||e.filter((function(e){return"click"===e.type})).forEach((function(e){Ao(e.url)}))}}),Object.defineProperty(t.prototype,"checkViewBtn",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.elements.prev.style.display=this._id?"block":"none",this.elements.next.style.display=this._id===this.store.data.items.length-1?"none":"block"}}),t}(Tn),Oa=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return a.handle(),a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;if(!this.isDestroyed){var i,r=this.meta.ref||this.node.current;(i=null===(e=this.store.refs)||void 0===e?void 0:e[r])instanceof HTMLElement&&(null===(t=this.node.parent)||void 0===t?void 0:t.element)instanceof HTMLElement&&(this.node.parent.element.appendChild(i),this.node.element=i,this.store.refNodes[r]=this.node)}}}),t}(Tn),ja={injector:function(){var e,t,i,r,o,n=this,a=this.store.data;try{var s=null!==(e=a.directContainer)&&void 0!==e?e:this.store.globalInitConfig.directContainer;o=s||(null===(t=a.props)||void 0===t?void 0:t.isOldCab)&&!1!==s?this.store.hostNode:this.store.hostNode.parentElement.parentElement,this.store.hostSize=to(o),o.innerHTML="",this.store.hostNode=o,this.store.signs=function(e,t){var i=Or();if(Sr(e)&&t instanceof HTMLElement)for(var r=e.length;r--;){var o="data-".concat(e[r][1],"-sign");t.hasAttribute(o)&&(i[e[r][0]]=t.getAttribute(o),t.removeAttribute(o))}return i}(cn,o)||{}}catch(e){throw Gr.error(318)}var l=function(){return"post-"+Math.ceil(899999998*Math.random()+1e8)+"_"+Math.ceil(8998*Math.random()+1e3)},d=function(){for(var e=l();document.getElementById(e);)e=l();return e},c=d();if(this.store.id=c,["rev2025","rev2025mvk"].includes(this.store.branch)||xr(a.props)&&a.props.isOldCab?(this.store.dataset.extRefs=!0,null===(i=this.engine.dispatcher)||void 0===i||i.initGlobalStyles(this.store.globalInitConfig)):(o.setAttribute("class","_post post page_block post--with-likes deep_active"),o.setAttribute("id",c),o.setAttribute("data-post-id",c),o.setAttribute("data-post-author-id",d()),o.setAttribute("data-post-track-code",d()),this.store.stylesToken="#".concat(c)),this.store.parentElement=o.parentElement,this.store.asmProp.section=xr(window.cur)&&window.cur.section||"news",this.store.hostSize.width||(this.store.hostSize.width=550),this.store.clickArea.snippetdescarea=!1,this.store.clickArea.snippetdesctitle=!0,cn.forEach((function(e){var t=e[0],i=(e[1],a[t]);t in n.store.signs&&Er(i)&&(a[t]=i+(-1!==i.indexOf("?")?"&":"?")+n.store.signs[t])})),xr(null===(r=this.store.globalInitConfig)||void 0===r?void 0:r.appApi)){var u=this.store.globalInitConfig.appApi.extractColor;Pr(u)&&(this.store.meta.handlers.colorExtractor=u)}},postInjector:function(){var e,t,i,r,o,n,a=this.store.data,s=this.store.branch;if(this.engine.disclaimer){var l=a.cards||2===this.engine.disclaimer.size||"rev2024"===s?"row-double":"stable";a.cards&&"rev2024"!==s&&"rev2025"!==s&&"rev2025mvk"!==s?this.store.disclaimerPaddings=0:"stable"===l&&(this.store.disclaimerPaddings=6),this.setProps(Tr({view:l}))}if("rev2025"===s||"rev2025mvk"===s?(this.store.proxyNode.setAttribute(this.store.localId,""),this.store.proxyNode.style.setProperty("--vkui--size_border2x--regular","0")):"rev2024"===s?(this.setClasses(this.element,["_mk_rootNode","_mk_rootNode2024"]),this.store.hostNode.classList.add("Post--redesign")):this.setClasses(this.element,["_mk_rootNode"]),this.store.virtualization){var d=this.store,c=d.hostNode;if(c instanceof HTMLElement&&!~(d.dataset.index=Pa(c,d)))var u=10,h=setTimeout((function(){go.debug("postInjector. attempt get index...",c),c.isConnected&&u--&&!~(d.dataset.index=Pa(c,d))||(go.debug("postInjector. get slow index:",d.dataset.index),clearTimeout(h))}),475);go.debug("postInjector. get fast index:",d.dataset.index)}var p=a.promoteCfg;if(xr(p)&&Er(p.postInject))try{new Function(p.postInject).call(this,un)}catch(e){go.error("PostInject directions error:",e),this.engine.sendWebLog(707,e)}"vkFeed_vkFeed_lead_form"!==a.creativeType&&"vkFeed_survey"!==a.creativeType&&(a.openLinkInPopup=!1),"vkFeed_miniappCarousel"===a.creativeType&&(this.store.proxyNode.setAttribute("carouselView","miniapp"),this.store.proxyNode.setAttribute("isMobile",Jr()?"true":"false"));var m,b=function(e){if(xr(e)){var t={};for(var i in e)t[i.replace("_","-")]=e[i];return t}};"rev2024"!==s&&"rev2025"!==s||!xr(m=(null===(t=null===(e=this.store.data.props)||void 0===e?void 0:e.adsData)||void 0===t?void 0:t.attrs)||(null===(i=this.store.initConfig.adsData)||void 0===i?void 0:i.attrs))||(Xr(this.store.proxyNode,b(m.post)),(null===(r=this.store.vDOM[10])||void 0===r?void 0:r.element)&&Xr(this.store.vDOM[10].element,b(m.author)),(null===(o=this.store.vDOM[6])||void 0===o?void 0:o.element)&&Xr(this.store.vDOM[6].element,b(m.avatar)),this.store.extStatEngine=!0),(null===(n=this.store.data.props)||void 0===n?void 0:n.isOldCab)&&this.store.proxyNode.classList.add("_ads_block_data_w")},promoter:function(e,t,i,r){var o,n;try{if(no.call(this,e,t,i),xr(this.store.data.promoteCfg)){var a=this.store.data.promoteCfg,s=a.directions,l=a.css;if(Er(l))try{go.warn("Promoter styles processed"),null===(n=null===(o=this.store.globalInitConfig)||void 0===o?void 0:o.dispatcher)||void 0===n||n.setStyles("banner",{promoCss:l})}catch(e){}if(Er(s)){go.warn("Promoter directions start");try{new Function(s).call(this,un,r)}catch(e){go.error("Promoter directions error:",e),this.engine.sendWebLog(706,e)}}}}catch(e){go.error("Promoter general error:",e),this.engine.sendWebLog(703,e)}},clicker:function(e,t,i){var r,o=null===(r=this.store.globalInitConfig.appApi)||void 0===r?void 0:r.showModalAttachments;go.log("Clicker. role, hasExtViewer:",t,Pr(o)),Pr(o)&&t.startsWith("card_")?o({banner:Tr(this.store.data),options:{attachmentIndex:t.startsWith("image")?+t.replace("image",""):+t.replace("card_","")}}):window.open(i,"_blank")},checkVirtualization:function(e){var t,i;if(this.isDestroyed||!(e instanceof HTMLElement)||e.isConnected||this.store.asmProp.section!==(xr(window.cur)&&window.cur.section||"news"))return!1;var r=this.store.dataset.index;if(go.debug("CheckVirt. index:",r),!~r)return!1;var o,n=this.store.dataset.feedsNode;if(n instanceof HTMLElement||!(o=document.getElementById("spa_root"))||!(o=o.querySelector("div[data-index]"))||(n=o.parentElement),!(n instanceof HTMLElement))return!1;var a=+(null===(t=n.firstElementChild)||void 0===t?void 0:t.dataset.index),s=+(null===(i=n.lastElementChild)||void 0===i?void 0:i.dataset.index);return go.debug("firstIndex, lastIndex:",a,s),!isNaN(a)&&!isNaN(s)&&(r<=a||r>=s)},enforcers:In,builders:(Sa={},Sa[0]=On,Sa[1]=jn,Sa[5]=ia,Sa[6]=Ta,Sa[3]=Ln,Sa[8]=Oa,Sa),triggers:(Ma={},Ma[1]=En,Ma[2]=En,Ma[3]=Dn,Ma),workers:(Ia={},Ia[2]=Vn,Ia[6]=qn,Ia[7]=$n,Ia[8]=ta,Ia[9]=na,Ia)},La=Tr({root:{cl:["_post_content"],ch:[5,"postInfo"],tr:1,role:"background"},5:{cl:["PostHeader","PostHeader--compact","PostHeader--inPost","js-PostHeader"],ch:[6,9,"adChoicesMenu"]},6:{cl:["AvatarRichContainer","PostHeader__avatar"],ch:7},7:{tg:"span",role:"icon",cl:["AvatarRich","AvatarRich--sz-40","AvatarRich--shadow"],ch:8},8:{bl:{e:1,SRC:"icon.src"},cl:["AvatarRich__img"]},9:{cl:["PostHeaderInfo--inHeader"],ch:[10,15]},10:{cl:["PostHeaderTitle"],ch:11,role:"title"},11:{cl:["PostHeaderTitle__authorBlock"],ch:12},12:{tg:"h5",cl:["PostHeaderTitle__author","_mk_spec_header_title"],ch:13},13:{tg:"span",cl:["PostHeaderTitle__authorLink"],ch:14},14:{tg:"span",cl:["PostHeaderTitle__authorName","_mk_spec_header_name"],wr:{e:2,TEXT:"title"}},15:{cl:["_mk_subtitle"],ch:16,iif:{e:3,prop:"adLabel.show",value:!1}},16:{tg:"span",ch:17},17:{cl:["PostHeaderSubtitle"],role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},ch:["headerDomain","headerAge"]},postInfo:{cl:["post_content","Post--redesignFooterV3"],ch:18},18:{cl:["post_info"],ch:[25]},headerDomain:{tg:"span",cl:["_mk_explain_domain"],wr:{e:2,TEXT:"domain"},iif:[{e:1,prop:"cards"},{e:3,prop:"creativeType",value:"vkFeed_miniappCarousel"}]},headerAge:{cl:["format_edit","inline"],role:"agerestrictions",wr:{e:2,TEXT:"ageRestrictions",role:"ageRestrictions"},iif:{e:1,prop:"ageRestrictions"}},adChoicesMenu:{cl:["PostContextMenuReact__root","PostContextMenu","_mk_action_menu_new"],role:"acMenu",ch:20},20:{cl:["vkui__root"],ch:21},21:{cl:["PvkuiFlex","vkuiFlex--align-center","vkuiFlex--justify-center","vkuiRootComponent"],ch:22},22:{tg:"button",cl:["vkuiIconButton","vkuiIconButton--sizeY-compact","vkuiTappable","vkuiTappable--hasPointer-none","vkuiClickable__resetButtonStyle","vkuiClickable__host","vkuiClickable__realClickable","vkui-focus-visible","vkuiRootComponent"],txt:'<svg xmlns="http://www.w3.org/2000/svg" style="width: 24px; height: 24px;" class="vkuiIcon--more_horizontal_24 vkitgetColorClass__colorIconTertiary" fill="currentColor" viewBox="0 0 24 24"><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"></path></svg>'},25:{cl:["wall_text"],ch:["collage","mediaArea","carousel","disclaimer","description","simpleDisclaimer"]},mediaArea:{cl:["_mk_snippet_container"],ch:[27,"ctaButton"],iif:{e:7,prop:"media"}},27:{cl:["_mk_snippet_top"],ch:32},32:{cl:["inline_video_wrap"],tr:2,ch:["media","controls"],role:"image"},media:{bl:{e:1,SRC:"$$media",size:"feedWidth"},tr:3,role:"image",wr:[7,{e:8,replay:!0,mode:"master"}],st:{width:"100%",height:"100%"},cl:["videoplayer_media_provider"]},controls:{cl:["videoplayer_ui","_feed","no_gradient"],ch:300},300:{cl:["videoplayer_controls"],ch:[301,302],st:{bottom:"var(--controls-bOffset, 0px)"}},301:{cl:["videoplayer_controls_item","videoplayer_timecode"]},302:{cl:["videoplayer_controls_item","videoplayer_btn","videoplayer_btn_mute"],wr:{e:6,LISTEN:"media",TARGET:"*"},st:{gap:"8px"}},carousel:{cl:["_mk_cards"],ch:["cards"],iif:{e:1,prop:"cards"}},cards:{bl:{e:5},tr:1},collage:{cl:["_mk_collage"],ch:["items","ctaButton"],iif:[{e:1,prop:"items"},{e:4,prop:"creativeType",value:"vkFeed_collage"}]},items:{bl:{e:6},tr:1},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},simpleDisclaimer:{cl:["footer_text"],ha:{style:"pointer-events: none; margin: 4px 20px"},wr:{e:2,TEXT:"disclaimer"},iif:{e:4,prop:"isSimpleDisclaimer",value:!0}},ctaButton:{tg:"span",role:"ctabutton",ch:169},169:{tr:{e:3,mrc:{p:50,d:3}},wr:[{e:9,LISTEN:"ready",action:"getMediaPalette",value:!0},{e:9,LISTEN:"mrcShow",action:"setCss",value:!0}],cl:["_mk_adaptive_button"],ch:170},170:{cl:["_mk_adaptive_button_content"],ch:[171,172]},171:{wr:{e:2,TEXT:"ctaText",action:"split"}},172:{tg:"span",txt:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"> <path fill-rule="evenodd" d="M7.3 4.3a1 1 0 0 1 1.4 0l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l4.29-4.3-4.3-4.3a1 1 0 0 1 0-1.4Z" clip-rule="evenodd"/> </svg>'},description:{cl:["wall_post_text"],role:"description",wr:{e:2,TEXT:"description",initLinesShow:2,fullIfNoMedia:!0},iif:{e:3,prop:"creativeType",value:"vkFeed_miniappCarousel"}}}),Ea=_r(_r({},Qo),{onAction:Na});function Na(e,t,i,r){var o,n,a;switch(null==r||r.preventDefault(),null==r||r.stopPropagation(),e){case"undo":this.elements.hideForm.remove(),this.store.proxyNode.appendChild(this.store.vDOM.root.element),Na.call(this,"closeMenu",i,r);break;case"showTab":this.elements.host.replaceChild(this.elements[t],this.currentTab),this.currentTab=this.elements[t],"closed"===i&&(this.sendEvent(po.Closed),this.sendEvent(po.ClosedByUser),this.raiseCoreEvent(9),Na.call(this,"destroy",i,r));break;case"closeMenu":this.closeTimeout=null,this.isOpen&&(this.element.style.display="none",this.store.rootNode.setCssAttr({menu:"close"}),this.store.isServiceHidden=!1,this.elements.hideForm=void 0,this.engine.resume(!0),this.isOpen=!1);break;case"hide":Ba.call(this,"newHideForm"),this.sendReason(1);break;case"complain":this.store.closedByUser=!0,Da.call(this,e,t);break;case"select":this.selectId&&this.elements[this.selectId].classList.remove("on"),this.selectId=t,null===(o=this.elements[t])||void 0===o||o.classList.add("on"),null===(n=this.elements.okButton)||void 0===n||n.classList.remove("__disabled");break;case"reasonItem":if(!t)return;if(this.sendReason(t),this.closeInfo){var s=To(this.finishTab,this);this.engine.closeTab.parentElement.replaceChild(s,this.engine.closeTab),this.engine.closeTab=s,this.notify(this.config.tabs[this.action]),this.elements=null,Eo.prototype.destroy.call(this)}else{var l=this.engine.closeTab.parentElement.parentElement;l.classList.contains("feed_row")?l.remove():l.innerHTML="",this.destroy()}break;case"reasonItem2":if(this.elements.hideForm){var d=this.elements.hideForm,c=this.store.hostNode;null===(a=this.engine)||void 0===a||a.destroy(),c.appendChild(d),this.engine.closeTab=d}Na.call(this,"reasonItem",t,t,r);break;case"copy":if(Wo(i||"Not defined"),this.elements[t]instanceof HTMLElement){var u=this.elements[t].getElementsByTagName("span")[0]||this.elements[t];if(u instanceof HTMLElement){var h=u.innerText;u.innerText="Скопировано",setTimeout((function(){return u.innerText=h}),2e3)}}break;case"redirect":Er(i)&&window.open(i,"_blank");break;case"destroy":this.destroy()}}function Da(e,t){var i=this,r=this.elements[e],o=this.config.tabs[e];this.action=e,this.finishTab=this.store.serviceForest.adChoiceFinal,Na.call(this,o.items[0].id,o.items[0].action),this.closeInfo=o.closeInfo;var n=this.engine,a=this.store.hostNode;!this.elements.sendButton&&this.store.serviceForest.acSendButton&&(this.elements.sendButton=To(this.store.serviceForest.acSendButton,o,{},r),this.elements.sendButton.onclick=function(e){return Na.call(i,o.ctaAction,i.selectId,i.selectId,e)}),"add"===t&&this.elements.hideForm?this.elements.hideForm.appendChild(r):(this.copyCssProps(this.config.finalProps,this.element,a),null==n||n.destroy(),a.appendChild(r)),n.closeTab=r,this.engine=n}function Ba(e){if(xr(this.store.serviceForest)&&e in this.store.serviceForest){var t=Ra.call(this,[[12,"undo"],[29,"complain","add"]]);this.store.isServiceHidden=!0,this.elements.hideForm=To(this.store.serviceForest[e],void 0,{methods:t}),this.store.vDOM.root.element.remove(),this.store.proxyNode.appendChild(this.elements.hideForm)}}function Ra(e){var t=this;return Lr(e).reduce((function(e,i){return e[i[0]]=Object.assign(Or(),{onclick:function(e){return Na.call(t,i[1],i[2],i[2],e)}}),e}),{})}var za={appendTo:"adChoicesMenu",mouseOverShow:Jr()?void 0:"adChoicesMenu",wrapCl:["vkuiTokensClassProvider--default-color","vkuiPopover","_mk_adchoice_wrap"],cl:["vkuiPopover__in","vkuiPopover__in--withStyling","vkui-anim-fade-in","vkui-anim-transform-origin-bottom-end"],tabs:{main:{body:!0,tabCl:["vkitDropdownActionSheet__content--GYKTr","vkitDropdownActionSheet__containerSizeS--7gZMx","vkitDropdownActionSheet__contentPaddingDefault--nLeat"],itemCl:["_mk_adchoice_row"],headerCl:["ui_actions_menu_header__"],bodyCl:["_mk_adchoice_body"],footerCl:["ui_actions_menu_footer__"],items:[{text:"Скопировать ссылку",name:"copyUrl",action:"copy",actionValue:"",iconUrl:"https://r.mradx.net/imgs/76/c8/2db1baa36dba27fc.svg"},{text:"О рекламодателе",iconUrl:"https://r.mradx.net/imgs/71/40/a8f3fd85c75f465c.svg",name:"about",action:"redirect",actionValue:""},{text:"ERID: ()",iconUrl:"https://r.mradx.net/imgs/b3/9f/7ae49f0347e8279f.svg",name:"copyErid",action:"copy",actionValue:""},{text:"Правила рекомендаций",name:"rules",action:"redirect",actionValue:"",iconUrl:"https://r.mradx.net/imgs/05/9a/ba3f4d9ae7dc31a8.svg"},{text:'<hr class="vkuiSeparator__in">',name:"hr",classNames:["vkuiSeparator__padded","vkuiSeparator__appearancePrimaryAlpha","vkuiSeparator__directionHorizontal","vkuiRootComponent__host"]},{id:1,text:"Не интересно",name:"hide",action:"hide",iconUrl:"https://r.mradx.net/imgs/d7/2b/a8fa7cc42bbebcc8.svg"},{text:"Пожаловаться",name:"complain",action:"complain",iconUrl:"https://r.mradx.net/imgs/6c/06/833640bcadf2a276.svg"}]},hide:{tabCl:["dld","feed_ignore_label","feed_ignore_item"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"],header:"Причина скрытия:",closeInfo:"Эта запись не будет показываться в ленте.",ctaText:"Отправить",items:[{id:2,text:"Товар уже куплен или услуга найдена",action:"reasonItem",actionValue:"closed"},{id:3,text:"Показывается слишком часто",action:"reasonItem",actionValue:"closed"},{id:1,text:"Не интересуюсь этой темой",action:"reasonItem",actionValue:"closed"},{id:8,text:"Не хочу видеть объявление этого рекламодателя",action:"reasonItem",actionValue:"closed"}]},complain:{tabCl:["dld","wall_reasons_result"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"],header:"Причина жалобы:",ctaText:"Пожаловаться",ctaAction:"reasonItem2",closeInfo:"Ваша жалоба будет рассмотрена модераторами.",balloonText:"Ваша жалоба отправлена и будет рассмотрена в ближайшее время.",items:[{id:4,text:"Оскорбительное содержание",action:"select"},{id:5,text:"Сексуальный подтекст",action:"select"},{id:6,text:"Нарушение закона",action:"select"},{id:7,text:"Мошеннический сайт",action:"select"},{id:11,text:"Не соответствующая возрасту реклама",action:"select"},{id:9,text:"Прочее",action:"select"}]}},actions:Ea},Va={appendTo:"adChoicesMenu",mouseOverShow:Jr()?void 0:"adChoicesMenu",wrapCl:["vkuiTokensClassProvider--default-color","vkuiPopover","_mk_adchoice_wrap"],cl:["vkuiPopover__in","vkuiPopover__in--withStyling","vkui-anim-fade-in","vkui-anim-transform-origin-bottom-end"],tabs:{main:{body:!0,tabCl:["vkitDropdownActionSheet__content--GYKTr","vkitDropdownActionSheet__containerSizeS--7gZMx","vkitDropdownActionSheet__contentPaddingDefault--nLeat"],itemCl:["_mk_adchoice_row"],headerCl:["ui_actions_menu_header__"],bodyCl:["_mk_adchoice_body"],footerCl:["ui_actions_menu_footer__"]},hide:{tabCl:["dld","feed_ignore_label","feed_ignore_item"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"]},complain:{tabCl:["dld","wall_reasons_result"],itemCl:["radiobtn","wall_reasons_item"],headerCl:["ui_actions_menu_header__"],bodyCl:["wall_reasons_list"]}},actions:Ea},Ha=["vkuiSimpleCell__children","vkuiHeadline__sizeYCompact","vkuiHeadline__level1","vkuiTypography__host","vkuiTypography__normalize","vkuiTypography__weight3","vkuiRootComponent__host"],Wa=["vkuiInternalTappable","vkuiSimpleCell__host","vkuiSimpleCell__sizeYCompact","vkuiTappable__host","vkuiTappable__hasPointerNone","vkuiClickable__host","vkuiRootComponent__host"],Fa={newHideForm:{root:{cl:["vkui__root"],ha:{style:"width: 100%"},ch:[1]},1:{tg:"section",cl:["vkitGroup__group","vkitGroup__groupPaddingM","vkitGroup__groupModePlain","FeedHideBlock__blockWrap","vkuiInternalGroup","vkuiGroup","vkuiGroup--sizeX-regular","vkuiGroup--mode-plain","vkuiInternalGroup--mode-plain","vkuiGroup--padding-m","vkuiRootComponent"],ch:["info",13,16,29]},info:{cl:["vkuiSimpleCell__host","vkuiSimpleCell__sizeYCompact","vkuiTappable__host","vkuiTappable__hasPointerNone","vkuiClickable__host","vkuiRootComponent__host"],ch:[3,4,9]},3:{cl:["vkuiSimpleCell__before"],txt:'<svg class="vkuiIcon--20" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="link_circle_outline_20"><g fill="currentColor"><path d="M7 7.75c0 .414.336.75.75.75h2.69l-3.22 3.22a.75.75 0 1 0 1.06 1.06l3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75"></path><path fill-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0" clip-rule="evenodd"></path></g></svg>'},4:{cl:["vkuiSimpleCell__middle"],ch:[5,7]},5:{cl:["vkuiSimpleCell__content"],ch:[6]},6:{tg:"span",cl:Ha,txt:"Публикация скрыта"},7:{cl:["vkuiSimpleCell__content"],ch:[8]},8:{tg:"span",cl:["vkuiSimpleCell__text","vkuiSimpleCell__subtitle","vkuiFootnote","vkuiTypography","vkuiRootComponent"],txt:"Эта запись не будет показываться в ленте"},9:{cl:["vkuiSimpleCell__after","vkuiInternalSimpleCell__after"],ch:[10]},10:{tg:"button",ha:{"data-testid":"feed_hide_from_feed_cancel",type:"button"},cl:["vkitButton__root","vkuiButton__host","vkuiButton__sizeS","vkuiButton__modeLink","vkuiButton__appearanceAccent","vkuiTappable__host","vkuiTappable__hasPointerNone","vkuiClickable__host","vkuiClickable__realClickable","vkuistyles__-focus-visible","vkuiRootComponent__host"],ch:[11]},11:{tg:"span",cl:["vkuiButton__in"],ch:[12]},12:{tg:"span",cl:["vkuiButton__content"],txt:"Отмена"},13:{ha:{style:"padding: 2px 0px; height: 4px;"},cl:["vkitSpacing__root"],ch:[14]},14:{cl:["vkuiSeparator__padded","vkuiSeparator__appearancePrimary","vkuiSeparator__directionHorizontal","vkuiRootComponent__host"],ch:[15]},15:{tg:"hr",cl:["vkuiSeparator__in"]},16:{ch:[17,23],ha:{onclick:"event.stopPropagation();this.remove();"}},17:{ha:{"data-testid":"feed_hide_from_feed_for_week",tabindex:"0",role:"button"},cl:Wa,ch:[18,19,22]},18:{cl:["vkuiSimpleCell__before"],txt:'<svg xmlns="http://www.w3.org/2000/svg" class="vkuiIcon--20 vkitgetColorClass__colorIconSecondary" fill="none" viewBox="0 0 28 28" id="clock_outline_28"><path fill="currentColor" d="M14 2c6.626 0 12 5.372 12 12s-5.374 12-12 12C7.372 26 2 20.628 2 14S7.372 2 14 2m0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.478 10-10S19.522 4 14 4m-.5 4a1 1 0 0 1 1 1v5.104l4.875 1.969a1 1 0 0 1-.75 1.854l-5.5-2.222a1 1 0 0 1-.625-.927V9a1 1 0 0 1 1-1"></path></svg>'},19:{cl:["vkuiSimpleCell__middle"],ch:[20]},20:{cl:["vkuiSimpleCell__content"],ch:[21]},21:{tg:"span",cl:Ha,txt:"Скрыть из ленты все публикации сообщества на 7 дней"},22:{tg:"span",cl:["vkuiTappable__stateLayer","vkuiTappable__ripple"],ha:{"aria-hidden":"true"}},23:{ha:{"data-testid":"feed_hide_from_feed_for_all",tabindex:"0",role:"button"},cl:Wa,ch:[24,25,28]},24:{cl:["vkuiSimpleCell__before"],txt:'<svg xmlns="http://www.w3.org/2000/svg" class="vkuiIcon--20 vkitgetColorClass__colorIconSecondary" viewBox="0 0 28 28" id="block_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z"></path><path fill="currentColor" fill-rule="nonzero" d="M20.329 21.743 6.257 7.67A9.96 9.96 0 0 0 4 14c0 5.523 4.477 10 10 10a9.96 9.96 0 0 0 6.329-2.257m1.414-1.414A9.96 9.96 0 0 0 24 14c0-5.523-4.477-10-10-10a9.96 9.96 0 0 0-6.329 2.257zM14 26C7.373 26 2 20.627 2 14S7.373 2 14 2s12 5.373 12 12-5.373 12-12 12"></path></g></svg>'},25:{cl:["vkuiSimpleCell__middle"],ch:[26]},26:{cl:["vkuiSimpleCell__content"],ch:[27]},27:{tg:"span",cl:Ha,txt:"Скрыть из ленты все публикации сообщества"},28:{tg:"span",cl:["vkuiTappable__stateLayer","vkuiTappable__ripple"],ha:{"aria-hidden":"true"}},29:{ha:{"data-testid":"feed_hide_from_feed_complain",tabindex:"0",role:"button"},cl:Wa,ch:[30,31,34]},30:{cl:["vkuiSimpleCell__before"],txt:'<svg xmlns="http://www.w3.org/2000/svg" class="vkuiIcon--20 vkitgetColorClass__colorIconNegative" fill="currentColor" viewBox="0 0 20 20" id="report_outline_20"><path d="M10.001 5.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75m-.9 8.4a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0"></path><path fill-rule="evenodd" d="m17.326 14.814-2.514 2.514c-.432.433-.648.649-.9.803a2.5 2.5 0 0 1-.723.3c-.288.069-.594.069-1.205.069h-3.97c-.612 0-.918 0-1.206-.07a2.5 2.5 0 0 1-.723-.299c-.252-.154-.468-.37-.9-.803L2.67 14.814c-.432-.432-.648-.648-.802-.9a2.5 2.5 0 0 1-.3-.723c-.068-.288-.068-.593-.069-1.204V8.014c0-.611 0-.917.069-1.205a2.5 2.5 0 0 1 .3-.723c.154-.252.37-.468.803-.9L5.186 2.67c.432-.432.649-.648.9-.803a2.5 2.5 0 0 1 .723-.299c.288-.069.594-.069 1.205-.069h3.97c.611 0 .917 0 1.205.07a2.5 2.5 0 0 1 .723.298c.252.155.468.371.9.804l2.514 2.514c.432.432.648.648.803.9.137.224.238.468.3.723.068.288.068.593.068 1.205v3.972c0 .611 0 .917-.069 1.205a2.5 2.5 0 0 1-.299.723c-.155.252-.37.468-.803.9Zm-.474-1.706c-.062.101-.149.188-.321.36l-3.063 3.063c-.173.173-.26.26-.36.322a1 1 0 0 1-.29.12c-.115.027-.237.027-.482.027H7.662c-.245 0-.367 0-.482-.028a1 1 0 0 1-.29-.12c-.1-.061-.186-.148-.36-.32l-3.06-3.065c-.173-.172-.26-.259-.321-.36a1 1 0 0 1-.12-.289C3 12.704 3 12.582 3 12.338V7.663c0-.245 0-.367.027-.482a1 1 0 0 1 .12-.29c.062-.1.148-.187.321-.36l3.064-3.063c.173-.172.26-.259.36-.32a1 1 0 0 1 .29-.12C7.295 3 7.418 3 7.662 3h4.673c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.063 3.063c.172.173.259.26.32.36q.084.136.12.29c.028.115.028.237.028.482v4.674c0 .245 0 .367-.027.482a1 1 0 0 1-.12.29Z" clip-rule="evenodd"></path></svg>'},31:{cl:["vkuiSimpleCell__middle"],ch:[32]},32:{cl:["vkuiSimpleCell__content"],ch:[33]},33:{tg:"span",cl:Ha,txt:"Пожаловаться"},34:{tg:"span",cl:["vkuiTappable__stateLayer","vkuiTappable__ripple"],ha:{"aria-hidden":"true"}}},adChoiceFinal:{root:{cl:["dld","dld_inner"],ch:[3]},3:{cl:["wall_reasons_result"],TXT:"closeInfo"}}};function Ua(){var e,t,i,r=this;if(!this.isDestroyed&&"function"==typeof(null===(e=this.store.meta.handlers)||void 0===e?void 0:e.colorExtractor)){var o=function(e){var t;Er(e)||(e=r.store.meta.defaultCTAColor||"#2c2d2e"),null===(t=r.nStore)||void 0===t||t.setProps(Tr({css:{borderColor:e,backgroundColor:e,color:Go(e)>=165?"#000":"#fff"},cssVars:{"--vkui--color_text_primary":"#fff","--vkui--color_text_secondary":"#fff9"},palette:{main:e}}))};if("img"!==(null===(t=this.store.media)||void 0===t?void 0:t.type)&&!this.store.data.items)return o();try{var n=Sr(this.store.data.items)?null===(i=this.store.data.items[0].image)||void 0===i?void 0:i.url:this.store.media.src;Er(n)?this.store.meta.handlers.colorExtractor(n).then((function(e){go.table("colorExtractor result:",e),o(e)})).catch((function(e){o()})):o()}catch(e){o()}}}function Ya(e){var t=this;if(!this.isDestroyed){var i=Er(e.prop)&&xr(this.nStore[e.prop])?e.prop:"css",r=function(e){void 0===e&&(e=10),xr(t.nStore[i])?Zr(t.element,t.nStore[i],t.nStore.cssVars):--e&&setTimeout((function(){return r(e)}),250)};this.element instanceof HTMLElement&&r()}}Object.setPrototypeOf(Fa,Ca);var Ga={getMediaPalette:Ua,setCss:Ya},Za={tree:La,serviceForest:Fa,actions:Ga,adChoices:Va,adChoicesFallback:za,icons:{rules:'<svg class="vkuiIcon vkuiIcon--20"><use xlink:href="#help_outline_20"/></svg>',copyUrl:'<svg class="vkuiIcon vkuiIcon--20" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="copy_outline_20">    <path d="M9.2 3c-1.285 0-2.158.001-2.833.056-.658.054-.994.151-1.229.271a3 3 0 0 0-1.311 1.311c-.12.235-.217.57-.27 1.229C3.5 6.542 3.5 7.415 3.5 8.7v2.6c0 .585.001.933.022 1.191.01.11.02.176.028.212v.097c0 .761 0 1.264.068 1.642a1.7 1.7 0 0 1-.526-.16 2 2 0 0 1-.874-.874C2 12.98 2 12.42 2 11.3V8.7c0-2.52 0-3.78.49-4.743A4.5 4.5 0 0 1 4.457 1.99C5.42 1.5 6.68 1.5 9.2 1.5h2c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.07.137.117.288.15.466C13.96 3 13.472 3 12.75 3z"></path>\n    <path fill-rule="evenodd" d="M5.1 7.7c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C6.62 4.5 7.18 4.5 8.3 4.5h6c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.428.218.988.218 2.108v7.6c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874c-.428.218-.988.218-2.108.218h-6c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C5.1 16.98 5.1 16.42 5.1 15.3zM8.3 6h6c.585 0 .933.001 1.191.022.158.013.224.03.242.036a.5.5 0 0 1 .21.209c.005.018.022.084.035.242.02.258.022.606.022 1.191v7.6c0 .585-.001.933-.022 1.191-.013.158-.03.224-.036.242a.5.5 0 0 1-.209.21 1.3 1.3 0 0 1-.242.035c-.258.02-.606.022-1.191.022h-6c-.585 0-.933-.001-1.191-.022a1.3 1.3 0 0 1-.242-.036.5.5 0 0 1-.21-.209 1.3 1.3 0 0 1-.035-.242c-.02-.258-.022-.606-.022-1.191V7.7c0-.585.001-.933.022-1.191.013-.158.03-.224.036-.242a.5.5 0 0 1 .209-.21c.018-.005.084-.022.242-.035C7.367 6.002 7.715 6 8.3 6m7.438.06-.003-.002zm.203.202v.003zm0 10.476v-.003zm-.203.203h-.003zm-8.876 0h.003zm-.203-.203v-.003zm0-10.476v.003zm.203-.203h.003z" clip-rule="evenodd"></path>\n  </svg>',about:'<svg class="vkuiIcon vkuiIcon--20" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="link_circle_outline_20">\n    <g fill="currentColor">\n      <path d="M7 7.75c0 .414.336.75.75.75h2.69l-3.22 3.22a.75.75 0 1 0 1.06 1.06l3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75"></path>\n      <path fill-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0" clip-rule="evenodd"></path>\n    </g></svg>',copyErid:'<svg class="vkuiIcon vkuiIcon--20" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="link_circle_outline_20">\n    <path fill="currentColor" fill-rule="evenodd" d="M10 9.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75" clip-rule="evenodd"></path><path fill="currentColor" d="M11 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path><path fill="currentColor" fill-rule="evenodd" d="M3.99 3.99A8.48 8.48 0 0 1 10 1.5c2.347 0 4.473.952 6.01 2.49A8.48 8.48 0 0 1 18.5 10a8.48 8.48 0 0 1-2.49 6.01A8.48 8.48 0 0 1 10 18.5a8.48 8.48 0 0 1-6.01-2.49A8.48 8.48 0 0 1 1.5 10c0-2.347.952-4.473 2.49-6.01M10 3a6.98 6.98 0 0 0-4.95 2.05A6.98 6.98 0 0 0 3 10a6.98 6.98 0 0 0 2.05 4.95A6.98 6.98 0 0 0 10 17a6.98 6.98 0 0 0 4.95-2.05A6.98 6.98 0 0 0 17 10a6.98 6.98 0 0 0-2.05-4.95A6.98 6.98 0 0 0 10 3" clip-rule="evenodd"></path></svg>',hide:'<svg class="vkuiIcon vkuiIcon--20" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="remove_circle_outline_20">\n    <path d="M6.75 9.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5zM10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0" clip-rule="evenodd"></path>\n  </svg>',complain:'<svg class="vkuiIcon vkuiIcon--20 vkitgetColorClass__colorIconNegative" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="report_outline_20">\n    <path d="M10.001 5.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75m-.9 8.4a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0"></path>\n    <path fill-rule="evenodd" d="m17.326 14.814-2.514 2.514c-.432.433-.648.649-.9.803a2.5 2.5 0 0 1-.723.3c-.288.069-.594.069-1.205.069h-3.97c-.612 0-.918 0-1.206-.07a2.5 2.5 0 0 1-.723-.299c-.252-.154-.468-.37-.9-.803L2.67 14.814c-.432-.432-.648-.648-.802-.9a2.5 2.5 0 0 1-.3-.723c-.068-.288-.068-.593-.069-1.204V8.014c0-.611 0-.917.069-1.205a2.5 2.5 0 0 1 .3-.723c.154-.252.37-.468.803-.9L5.186 2.67c.432-.432.649-.648.9-.803a2.5 2.5 0 0 1 .723-.299c.288-.069.594-.069 1.205-.069h3.97c.611 0 .917 0 1.205.07a2.5 2.5 0 0 1 .723.298c.252.155.468.371.9.804l2.514 2.514c.432.432.648.648.803.9.137.224.238.468.3.723.068.288.068.593.068 1.205v3.972c0 .611 0 .917-.069 1.205a2.5 2.5 0 0 1-.299.723c-.155.252-.37.468-.803.9Zm-.474-1.706c-.062.101-.149.188-.321.36l-3.063 3.063c-.173.173-.26.26-.36.322a1 1 0 0 1-.29.12c-.115.027-.237.027-.482.027H7.662c-.245 0-.367 0-.482-.028a1 1 0 0 1-.29-.12c-.1-.061-.186-.148-.36-.32l-3.06-3.065c-.173-.172-.26-.259-.321-.36a1 1 0 0 1-.12-.289C3 12.704 3 12.582 3 12.338V7.663c0-.245 0-.367.027-.482a1 1 0 0 1 .12-.29c.062-.1.148-.187.321-.36l3.064-3.063c.173-.172.26-.259.36-.32a1 1 0 0 1 .29-.12C7.295 3 7.418 3 7.662 3h4.673c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.063 3.063c.172.173.259.26.32.36q.084.136.12.29c.028.115.028.237.028.482v4.674c0 .245 0 .367-.027.482a1 1 0 0 1-.12.29Z" clip-rule="evenodd"></path>\n  </svg>'},mediaWidth:550,disclaimerWidth:Jr()?"onPlace":534},Xa=["vkuiSimpleCell__host","vkuiSimpleCell__sizeYCompact","vkuiTappable__host","vkuiTappable__hasPointerNone","vkuiClickable__host","vkuiRootComponent__host"],Qa={root:{role:"background",tr:1,ha:{style:"padding: 8px 0px;"},cl:["vkuiDiv__host","vkuiRootComponent__host","_mk_spa2025Node"],ch:["header","body"]},header:{ha:{style:"padding: 8px;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:2},2:{cl:["vkitPostHeader__container","vkuiFlex__host","vkuiFlex__alignCenter","vkuiRootComponent__host"],ch:[3,8,23,"menu"]},3:{cl:["vkuiFlexItem__flexShrink","vkuiRootComponent__host"],ch:4,role:"icon"},4:{tg:"span",ha:{style:"width: 40px; height: 40px;"},cl:["vkuiAvatar__host","vkuiInternalRichAvatar","vkuiImageBase__host","vkuiImageBase__loaded","vkuiClickable__host","vkuiClickable__realClickable","vkuistyles__-focus-visible","vkuiRootComponent__host"],ch:[5,6,7]},5:{bl:{e:1,SRC:"icon.src"},cl:["vkuiImageBase__img","vkuiImageBase__imgObjectFitCover"]},6:{cl:["vkuiImageBase__children"]},7:{cl:["vkuiImageBase__border"],ha:{"aria-hidden":"true"}},8:{ha:{style:"--vkui_internal--row_gap: 0px; --vkui_internal--column_gap: 0px;"},cl:["vkuiFlex__host","vkuiFlex__directionColumn","vkuiRootComponent__host"],ch:[9,16]},9:{cl:["vkuiRootComponent__host"],ch:10},10:{ha:{style:"--vkui_internal--row_gap: 4px; --vkui_internal--column_gap: 4px;"},cl:["vkuiFlex__host","vkuiFlex__alignCenter","vkuiRootComponent__host"],ch:"title"},title:{cl:["vkuiRootComponent__host"],ch:13,role:"title"},13:{tg:"span",wr:{e:2,TEXT:"title"},cl:["vkuiHeadline__sizeYCompact","vkuiHeadline__level2","vkuiTypography__host","vkuiTypography__normalize","vkuiTypography__weight2","vkuiTypography__accent","vkuiRootComponent__host"]},16:{cl:["vkuiRootComponent__host"],ch:22},22:{tg:"span",cl:["vkuiCaption__sizeYCompact","vkuiCaption__level1","vkuiTypography__host","vkuiTypography__normalize","vkuiRootComponent__host"],wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},ch:["headerDomain","headerAge"]},headerDomain:{tg:"span",cl:["_mk_explain_domain"],wr:{e:2,TEXT:"domain"},iif:[{e:1,prop:"cards"},{e:3,prop:"creativeType",value:"vkFeed_miniappCarousel"}]},headerAge:{cl:["format_edit","inline"],role:"agerestrictions",wr:{e:2,TEXT:"ageRestrictions",role:"ageRestrictions"},iif:{e:1,prop:"ageRestrictions"}},23:{cl:["vkuiFlexItem__flexGrow","vkuiRootComponent__host"]},menu:{bl:{e:8},role:"noclick",iif:[{e:5,prop:"dataset.extRefs",value:!0}]},body:{ha:{style:"padding: 8px 0px 0px;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:[31,"disclaimer","description","simpleDisclaimer"]},31:{ha:{style:"padding: 0px;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:32},32:{cl:["vkitSnippetAttachment__root--DozQ8"],ch:["common","collage","carousel"]},common:{cl:["_mk_thinTopBorder"],ch:["mediaArea","ctaArea"],iif:[{e:7,prop:"media"},{e:3,prop:"creativeType",value:["vkFeed_collage","vkFeed_carousel"]}]},mediaArea:{tg:"span",cl:["vkuiInternalTappable","vkuiTappable__hasPointerNone","vkuiClickable__host","vkuiClickable__realClickable","vkuistyles__-focus-visible","vkuiRootComponent__host"],ch:["media","controls"]},media:{bl:{e:1,SRC:"$$media",size:"feedWidth"},tr:3,role:"image",wr:[7,{e:8,replay:!0,mode:"master"}],st:{width:"100%",height:"100%",position:"relative"}},controls:{cl:["videoplayer_ui","_feed","no_gradient"],ch:300},300:{cl:["videoplayer_controls"],ch:[301,302],st:{bottom:"var(--controls-bOffset, 0px)"}},301:{cl:["videoplayer_controls_item","videoplayer_timecode"]},302:{cl:["videoplayer_controls_item","videoplayer_btn","videoplayer_btn_mute"],wr:{e:6,LISTEN:"media",TARGET:"*"},st:{gap:"8px"}},carousel:{cl:["_mk_cards"],ch:["cards"],iif:{e:1,prop:"cards"}},cards:{bl:{e:5},tr:1},collage:{cl:["_mk_collage"],ch:["items","ctaArea"],iif:[{e:1,prop:"items"},{e:4,prop:"creativeType",value:"vkFeed_collage"}]},items:{bl:{e:6},tr:1},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},simpleDisclaimer:{cl:["footer_text"],ha:{style:"pointer-events: none; margin: 4px 20px"},wr:{e:2,TEXT:"disclaimer"},iif:{e:4,prop:"isSimpleDisclaimer",value:!0}},ctaArea:{cl:["vkuiDiv__host","vkuiRootComponent__host","_mk_vkfeed_ctaArea"],ch:["ctaOneRow","ctaIcon"],role:"ctabutton",tr:{e:3,mrc:{p:50,d:3}},wr:[{e:9,LISTEN:"ready",action:"getMediaPalette",value:!0},{e:9,LISTEN:"mrcShow",action:"setCss",value:!0}]},ctaOneRowCards:{ha:{style:"min-height: 44px; flex-grow: 1"},iif:{e:1,prop:"cards"},cl:Xa,ch:41},ctaOneRow:{ha:{style:"min-height: 44px; flex-grow: 1"},iif:[{e:2,prop:"cards"}],cl:Xa,ch:41},ctaTwoRow:{ha:{style:"min-height: 56px; flex-grow: 1","data-testid":"snippet-attachment-captions"},iif:{e:1,prop:"domain"},cl:Xa,ch:40},40:{cl:["vkuiSimpleCell__middle"],ch:[41,"domain"]},41:{cl:["vkuiSimpleCell__content"],ch:[42]},42:{tg:"span",cl:["vkuiSimpleCell__children","vkuiHeadline__sizeYCompact","vkuiHeadline__level1","vkuiTypography__host","vkuiTypography__normalize","vkuiTypography__weight3","vkuiRootComponent__host"],wr:{e:2,TEXT:"ctaText",action:"split"}},ctaIcon:{tg:"span",txt:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"> <path fill-rule="evenodd" d="M7.3 4.3a1 1 0 0 1 1.4 0l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l4.29-4.3-4.3-4.3a1 1 0 0 1 0-1.4Z" clip-rule="evenodd"/> </svg>'},domain:{cl:["vkuiSimpleCell__content"],ch:44},44:{tg:"span",cl:["vkuiSimpleCell__text","vkuiSimpleCell__subtitle","vkuiFootnote__sizeYCompact","vkuiFootnote__host","vkuiTypography__host","vkuiRootComponent__host"],wr:{e:2,TEXT:"domain"}},description:{ha:{style:"padding: 16px 20px 4px 20px;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:47,iif:{e:3,prop:"creativeType",value:"vkFeed_miniappCarousel"}},47:{tg:"span",ha:{style:"--post-text-line-break-size: 8px;"},cl:["vkuiSubhead__host","vkuiSubhead__sizeYCompact","vkuiTypography__host","vkuiTypography__normalize","vkuiRootComponent__host"],role:"description",wr:{e:2,TEXT:"description",initLinesShow:2,fullIfNoMedia:!0}}},Ka={splitContent:{root:{mixRoot:!0,ch:[1,2,5]},1:{tg:"span",ha:{style:"padding-right:4px"},TXT:"first"},2:{tg:"span",cl:["vkitShowMoreText__after"],fn:{onclick:function(e){e.preventDefault(),e.stopPropagation(),this.nextSibling.style.display="inline",this.remove()}},ch:[3]},3:{tg:"span",cl:[],TXT:"more"},5:{tg:"span",ha:{style:"display:none"},TXT:"rest"}}};Object.setPrototypeOf(Ka,Ca);var qa,Ja={progress:{show:!1},volume:{show:!0,classes:["videoplayer_volume_icon","_mk_control_volume"],renderBy:["muted","volume"]},volumeBar:{show:!0,classes:["videoplayer_controls_item","videoplayer_volume"],renderBy:"muted"},volumeTooltip:{show:!0},prePlay:{show:!0,renderBy:"state",classes:["_mk_prePlay"],noElemCreate:!0},loading:{show:!0,renderBy:"state",noElemCreate:!0}},$a={tree:Qa,actions:Ga,serviceForest:Ka,strictProxyClass:"_mk_vk_proxyNodeSPA",adChoices:{noMenu:!0},controls:Ja,mediaWidth:550,disclaimerWidth:534,forcePixels:!0,extLogging:(qa={},qa[1]="mk_render",qa[15]="mk_viewin",qa[17]="mk_show",qa[13]="mk_click",qa[14]="mk_click",qa[28]="mk_click",qa[21]="mk_adblock",qa[20]="mk_blocked",qa)},es={acSendButton:{root:{cl:["wall_reasons_item"],ch:["button"]},button:{cl:["wall_reasons_actions"],tg:"button",TXT:"ctaText"}}};Object.setPrototypeOf(es,Fa);var ts=Tr({containerAsProxy:!0,disclaimerWeight:100,disclaimerMaxLine:2,contentWidth:510,mediaWidth:508,canUseWithoutMedia:!0,noMutationObserver:!0,classMode:2,deletionDetector:!0,clickArea:1615,producer:"base",disclaimerWidth:"onPlace",disclaimerPaddings:12,simpleDisclaimer:!0,balloonNodeId:"notifiers_wrap",balloonTree:"balloon",tree:{root:{cl:["_post_content"],ch:[5,"postInfo","adChoicesMenu"],role:"background",tr:1},5:{cl:["PostHeader","PostHeader--compact","PostHeader--inPost","js-PostHeader"],ch:[6,9]},6:{cl:["AvatarRichContainer","PostHeader__avatar"],ch:7},7:{tg:"span",role:"icon",cl:["AvatarRich","AvatarRich--sz-40","AvatarRich--shadow"],ch:8},8:{bl:{e:1,SRC:"icon.src"},cl:["AvatarRich__img"]},9:{cl:["PostHeaderInfo--inHeader"],ch:[10,15]},10:{cl:["PostHeaderTitle"],ch:11,role:"title"},11:{cl:["PostHeaderTitle__authorBlock"],ch:12},12:{tg:"h5",cl:["PostHeaderTitle__author"],ch:13},13:{tg:"span",cl:["PostHeaderTitle__authorLink"],ch:14},14:{tg:"span",cl:["PostHeaderTitle__authorName"],wr:{e:2,TEXT:"title"}},15:{cl:["_mk_subtitle"],ch:16,iif:{e:3,prop:"adLabel.show",value:!1}},16:{tg:"div",cl:["PostHeaderSubtitle__item"],ch:17},17:{cl:["PostHeaderSubtitle__item"],role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},ch:["headerDomain","headerAge"]},postInfo:{cl:["post_content","Post--redesignFooterV3"],ch:18},18:{cl:["post_info"],ch:["carousel","description"]},headerDomain:{tg:"span",cl:["_mk_explain_domain"],wr:{e:2,TEXT:"domain"},iif:{e:1,prop:"cards"}},headerAge:{cl:["PostHeaderSubtitle__item","format_edit","inline"],role:"agerestrictions",wr:{e:2,TEXT:"ageRestrictions",role:"ageRestrictions"},iif:{e:1,prop:"ageRestrictions"}},description:{cl:["wall_text"],ch:[20,21,"carouselSimpleDisclaimer"]},20:{cl:["wall_post_text"],role:"description",wr:{e:2,TEXT:"description",initLinesShow:2}},21:{cl:["_mk_snippet_container"],ch:[22,"footer",170],iif:{e:2,prop:["cards","collage"]}},22:{cl:["_mk_snippet_top"],ch:27},27:{cl:["inline_video_wrap"],ha:{style:"width: 508px;min-height: 286px;"},ch:28,tr:2},28:{cl:["video_box_wrap"],ch:29},29:{cl:["videoplayer","videoplayer--is-short-video"],ch:["media","controls","disclaimer"]},media:{bl:{e:1,SRC:"$$media",size:"feedWidth"},tr:3,role:"image",wr:[7,{e:8,replay:!0,mode:"master"}],st:{width:"100%",height:"100%"}},controls:{ch:300},carousel:{cl:["_mk_cards"],ch:["cards","carouselDisclaimer"],iif:{e:1,prop:"cards"}},cards:{bl:{e:5},tr:1},300:{cl:["videoplayer_controls"],ch:[301,302],st:{bottom:"var(--controls-bOffset, 0px)"}},301:{cl:["videoplayer_controls_item","videoplayer_timecode"]},302:{cl:["videoplayer_controls_item","videoplayer_btn"],wr:{e:6,LISTEN:"media",TARGET:"*"},st:{gap:"8px"}},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},footer:{cl:["_mk_snippet_desc"],ch:[40,45,165],role:"snippetdescarea",iif:{e:2,prop:["cards","collage"]}},40:{cl:["_mk_snippet_desc_text"],role:"domain",ch:[41,43]},41:{cl:["_mk_snippet_desc_title"],ch:42},42:{cl:["_mk_link_title"],wr:{e:2,TEXT:"linkTitle",default:"Сайт"}},43:{cl:["_mk_snippet_desc_domain"],ch:44},44:{cl:["_mk_domain"],wr:{e:2,TEXT:"domain"}},45:{cl:["_mk_snippet_desc_button"],ch:46},165:{cl:["_mk_simple_disclaimer"],ch:[166,167]},166:{cl:["_mk_simple_disclaimer"],iif:{e:3,prop:"isSimpleDisclaimer",value:!0}},167:{cl:["footer_text"],st:{pointerEvents:"none"},wr:{e:2,TEXT:"disclaimer"},iif:{e:4,prop:"isSimpleDisclaimer",value:!0}},carouselSimpleDisclaimer:{ch:167,iif:{e:1,prop:"cards"}},carouselDisclaimer:{bl:{e:3,view:"row-double"},role:"disclaimer"},170:{ch:171,st:{maxWidth:"508px"}},171:{bl:{e:3,view:"row-double"},role:"disclaimer"},46:{tg:"span",cl:["_mk_nested_link_clear"],ch:47},47:{tg:"button",cl:["flat_button"],ch:48},48:{role:"ctabutton",wr:{e:2,TEXT:"ctaText",action:"split"}},adChoicesMenu:{cl:["ui_actions_menu_wrap","_ui_menu_wrap"],ha:{onmouseover:"this.classList.add('shown');",onmouseout:"this.classList.remove('shown');",tabindex:"0"},role:"acMenu",ch:[181]},181:{cl:["ui_actions_menu_icons"],txt:'<span class="blind_label">Действия</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <g id="more_horizontal_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="more_horizontal_24__more_horizontal_24"> <path id="more_horizontal_24__Bounds" d="M24 0H0v24h24z"/> <path d="M18 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm-6 4a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Zm-6 0a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Z" id="more_horizontal_24__Mask" fill="currentColor"/> </g> </g> </svg>'}},defaults:{ageRestrictions:"0+",ctaText:"Перейти"},adChoices:ka,adChoicesFallback:wa,controls:{progress:{show:!1},volume:{show:!0,classes:["videoplayer_volume_icon","_mk_control_volume"],renderBy:["muted","volume"]},volumeBar:{show:!0,classes:["videoplayer_controls_item","videoplayer_volume"],renderBy:"muted"},volumeTooltip:{show:!0},prePlay:{show:!0,renderBy:"state",classes:["_mk_prePlay"],noElemCreate:!0},loading:{show:!0,renderBy:"state",noElemCreate:!0}},serviceForest:Ca,handlers:ja,branches:{rev2024:Za,rev2025:$a,mvkLegacy:{classPrefix:"_mk_mvk_",proxyClass:"_mk_mvk_proxyNode",tree:{root:{ch:["header","workContainer"],role:"background",tr:1},header:{ch:["headerInfo","adChoicesMenu"]},headerInfo:{ch:["iconWrapper","headerText"]},adChoicesMenu:{ha:{onmouseover:"this.classList.add('shown');",onmouseout:"this.classList.remove('shown');",tabindex:"0"},role:"acMenu",txt:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <g id="more_horizontal_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="more_horizontal_24__more_horizontal_24"> <path id="more_horizontal_24__Bounds" d="M24 0H0v24h24z"/> <path d="M18 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm-6 4a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Zm-6 0a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Z" id="more_horizontal_24__Mask" fill="currentColor"/> </g> </g> </svg>'},iconWrapper:{ch:["icon"]},icon:{bl:{e:1,SRC:"icon.src"}},headerText:{ch:["headerTitle","headerSubtitle"]},headerTitle:{role:"title",wr:{e:2,TEXT:"title"}},headerSubtitle:{ch:["subtitleText","headerAge"],iif:{e:3,prop:"adLabel.show",value:!1}},subtitleText:{role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"}},headerAge:{role:"agerestrictions",wr:{e:2,TEXT:"ageRestrictions",role:"ageRestrictions"},iif:{e:1,prop:"ageRestrictions"}},workContainer:{ch:["carousel","workWrapper"]},workWrapper:{ch:["description","workArea"]},description:{role:"description",wr:{e:2,TEXT:"description",initLinesShow:2},iif:{e:3,prop:"creativeType",value:"vkFeed_miniappCarousel"}},workArea:{ch:["mediaWrap","footer","disclaimer"],iif:{e:2,prop:["cards","collage"]}},mediaWrap:{ch:["media","stableDisclaimer"],tr:2},media:{bl:{e:1,SRC:"$$media",size:"feedWidth"},tr:3,role:"image",wr:[7,{e:8,replay:!0,mode:"master"}],st:{width:"100%",height:"100%"}},carousel:{cl:["_mk_cards"],ch:["cards","carouselDisclaimer"],iif:{e:1,prop:"cards"}},cards:{bl:{e:5},tr:1},stableDisclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},footer:{ch:["linkTitle","cta"],role:"snippetdescarea",iif:{e:2,prop:["cards","collage"]}},linkTitle:{wr:{e:2,TEXT:"linkTitle",default:"Сайт"}},cta:{role:"ctabutton",wr:{e:2,TEXT:"ctaText",action:"split"}},carouselDisclaimer:{bl:{e:3,view:"row-double"},role:"disclaimer"},disclaimer:{bl:{e:3,view:"row-double"},role:"disclaimer"}},serviceForest:es,contentWidth:void 0,mediaWidth:void 0,actions:Ga,adChoices:Va,adChoicesFallback:za,disclaimerWidth:"onPlace",classMode:1},rev2025mvk:{classPrefix:"_mk_mvkspa_",proxyClass:"_mk_mvkspa_proxyNode",actions:Ga,serviceForest:Ka,contentWidth:void 0,mediaWidth:void 0,disclaimerWidth:"onPlace",classMode:2,tree:{root:{role:"background",tr:1,ch:["header","body"],cl:["_mk_spa2025Node"]},header:{ha:{style:"padding: 8px;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:3},3:{cl:["_mk_vkitPostHeader__container","vkuiFlex__host","vkuiFlex__alignCenter","vkuiRootComponent__host"],ch:[4,9,"menu"]},4:{cl:["vkuiFlexItem__flexShrink","vkuiRootComponent__host"],ch:5,role:"icon"},5:{tg:"span",ha:{style:"width: 36px; height: 36px;"},cl:["vkuiAvatar__host","vkuiInternalRichAvatar","vkuiImageBase__host","vkuiImageBase__loaded","vkuiClickable__host","vkuiClickable__realClickable","vkuistyles__-focus-visible","vkuiRootComponent__host"],ch:[6]},6:{bl:{e:1,SRC:"icon.src"},cl:["vkuiImageBase__img","vkuiImageBase__imgObjectFitCover"]},9:{cl:["vkuiFlex__host","vkuiFlex__directionColumn","vkuiRootComponent__host","_mk_mvkspa_title"],ch:[10,17]},10:{cl:["vkuiRootComponent__host"],ch:11},11:{ha:{style:"--vkui_internal--row_gap: 4px; --vkui_internal--column_gap: 4px;"},cl:["vkitPostHeader__flexbox--0x8XA","vkuiFlex__host","vkuiFlex__alignCenter","vkuiRootComponent__host"],ch:[12,15]},12:{cl:["_mk_vkitPostHeader__flexbox","vkuiRootComponent__host"],role:"title",ch:14},14:{tg:"span",cl:["vkuiHeadline__level2","vkuiTypography__host","vkuiTypography__normalize","vkuiTypography__weight2","vkuiTypography__accent","vkuiRootComponent__host"],wr:{e:2,TEXT:"title"}},15:{cl:["vkuiRootComponent__host"],ch:16},16:{ha:{style:"--vkui_internal--row_gap: 4px; --vkui_internal--column_gap: 4px;"},cl:["_mk_vkitPostHeader__flexbox","vkuiFlex__host","vkuiFlex__alignCenter","vkuiRootComponent__host"]},17:{cl:["vkuiRootComponent__host"],ch:"adLabel"},adLabel:{tg:"span",cl:["_mk_mvkspa_adLabel","vkuiCaption__sizeYCompact","vkuiCaption__level1","vkuiTypography__host","vkuiTypography__normalize","vkuiRootComponent__host"],wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},ch:["headerDomain","headerAge"]},headerDomain:{tg:"span",cl:["_mk_explain_domain"],wr:{e:2,TEXT:"domain"},iif:[{e:1,prop:"cards"},{e:3,prop:"creativeType",value:"vkFeed_miniappCarousel"}]},headerAge:{cl:["format_edit","inline"],role:"agerestrictions",wr:{e:2,TEXT:"ageRestrictions",role:"ageRestrictions"},iif:{e:1,prop:"ageRestrictions"}},menu:{bl:{e:8},role:"noclick",iif:[{e:5,prop:"dataset.extRefs",value:!0}]},body:{ha:{style:"padding-top: 8px;"},ch:[26,"disclaimer","descArea","simpleDisclaimer"]},26:{cl:["_mk_thinTopBorder"],ch:["common","collage","carousel"]},common:{ha:{style:"padding: 0;line-height:0;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:["mediaArea","ctaArea"],iif:[{e:7,prop:"media"},{e:2,prop:"cards"},{e:2,prop:"items"}]},mediaArea:{ha:{style:"padding: 0;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:31},31:{cl:["vkuiTappable__host","vkuiTappable__hasPointerFalse","vkuiClickable__host","vkuiClickable__realClickable","vkuistyles__-focus-visible","vkuiRootComponent__host"],ch:["media","controls"]},media:{bl:{e:1,SRC:"$$media",size:"feedWidth"},tr:3,role:"image",wr:[7,{e:8,replay:!0,mode:"master"}],st:{width:"100%",height:"100%",position:"relative"}},controls:{cl:["videoplayer_ui","_feed","no_gradient"],ch:300},300:{cl:["videoplayer_controls"],ch:[301,302],st:{bottom:"var(--controls-bOffset, 0px)"}},301:{cl:["videoplayer_controls_item","videoplayer_timecode"]},302:{cl:["videoplayer_controls_item","videoplayer_btn","videoplayer_btn_mute"],wr:{e:6,LISTEN:"media",TARGET:"*"},st:{gap:"8px"}},carousel:{cl:["_mk_cards"],ch:["cards"],iif:{e:1,prop:"cards"}},cards:{bl:{e:5},tr:1},collage:{cl:["_mk_collage"],ch:["items","ctaArea"],iif:[{e:1,prop:"items"},{e:4,prop:"creativeType",value:"vkFeed_collage"}]},items:{bl:{e:6},tr:1},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},simpleDisclaimer:{cl:["footer_text"],ha:{style:"pointer-events: none; margin: 4px 20px"},wr:{e:2,TEXT:"disclaimer"},iif:{e:4,prop:"isSimpleDisclaimer",value:!0}},descArea:{ha:{style:"padding: 16px 20px 0px;"},cl:["vkuiDiv__host","vkuiRootComponent__host"],ch:[35]},35:{tg:"span",ha:{style:"--post-text-line-break-size: 8px;"},cl:["vkuiParagraph__host","vkuiTypography__host","vkuiRootComponent__host"],role:"description",wr:{e:2,TEXT:"description",initLinesShow:2,fullIfNoMedia:!0}},ctaArea:{cl:["_mk_vkfeed_ctaArea","vkuiClickable__host","vkuiClickable__realClickable","vkuistyles__-focus-visible","vkuiRootComponent__host"],ch:["ctaOneRow"],role:"ctabutton",tr:{e:3,mrc:{p:50,d:3}},wr:[{e:9,LISTEN:"ready",action:"getMediaPalette",value:!0},{e:9,LISTEN:"mrcShow",action:"setCss",value:!0}],iif:{e:2,prop:"cards"}},ctaOneRow:{ha:{style:"min-height: 44px; flex-grow: 1; padding: 0 20px"},iif:[],cl:["vkuiSimpleCell__host","vkuiSimpleCell__sizeYCompact","vkuiTappable__host","vkuiClickable__host","vkuiRootComponent__host"],ch:[202,203,"ctaIcon"]},202:{cl:["vkuiSimpleCell__before"]},203:{cl:["vkuiSimpleCell__middle"],ch:204},204:{cl:["vkuiSimpleCell__content"],ch:205},205:{tg:"span",cl:["vkuiSimpleCell__children","vkuiHeadline__sizeYCompact","vkuiHeadline__level1","vkuiTypography__host","vkuiTypography__normalize","vkuiTypography__weight3","vkuiRootComponent__host"],wr:{e:2,TEXT:"ctaText",action:"split"}},ctaIcon:{tg:"span",txt:'<svg aria-hidden="true" fill="currentColor" display="block" class=" vkuiIcon--24 vkuiIcon--w-16 vkuiIcon--h-24 vkuiIcon--chevron_compact_right_24" width="16" height="24" viewBox="0 0 16 24" fill="none" style="width: 16px; height: 24px;"><path fill="currentColor" d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a1 1 0 0 1 0 1.416l-5.084 5.084a1 1 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12z"/></svg>'}},adChoices:{noMenu:!0},controls:Ja}},charWidths:pn(ha)}),is={defaults:{linkTitle:"Сообщество",ctaText:"Вступить"}};Object.setPrototypeOf(is,ts);var rs={defaults:{linkTitle:"Приложение",ctaText:"Перейти"}};Object.setPrototypeOf(rs,ts);var os=function(e,t,i){if(Er(i)){try{var r=new URL(i);if(Er(null==r?void 0:r.search))return void window.showWiki({w:"app51478948#".concat(r.search)},!1,e)}catch(e){}window.open(i,"_blank")}},ns={clicker:os};Object.setPrototypeOf(ns,ja);var as={defaults:{linkTitle:"Пройти опрос",ctaText:"Подробнее",domain:"Форма опроса"},handlers:ns};Object.setPrototypeOf(as,ts);var ss,ls,ds,cs={injector:function(){var e;try{e=this.store.hostNode.parentElement.parentElement,this.store.hostSize=to(e),this.store.hostNode=e,e.innerHTML=""}catch(e){throw Gr.error(318)}if(this.store.hostSize.width||(this.store.hostSize.width=this.store.meta.contentWidth),this.store.disclaimerPaddings=0,"okFeed_miniapp"===this.store.data.creativeType&&e){var t=e.dataset.appUsers;Er(t)&&(this.store.data.domain=t)}var i=e.dataset.feedId;this.store.stylesToken='[data-feed-id="'.concat(i,'"]')},promoter:function(e,t,i){no.call(this,e,t,i),this.element.classList.add("__header-redesign")},postInjector:function(){this.setProps({view:"stable"}),this.element.setAttribute("view","stable")},enforcers:In,builders:(ss={},ss[0]=On,ss[1]=jn,ss[5]=ia,ss[3]=Ln,ss),triggers:(ls={},ls[1]=En,ls[2]=En,ls[3]=Dn,ls),workers:(ds={},ds[2]=Vn,ds[6]=qn,ds[7]=$n,ds[8]=ta,ds[9]=na,ds)},us='<svg fill="none" height="20" viewBox="0 0 12 16" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m4.77 8 3.37 3.36a.9.9 0 1 1-1.28 1.28l-4-4a.9.9 0 0 1 0-1.28l4-4a.9.9 0 1 1 1.28 1.28z" fill="currentColor"></path></svg>',hs={splitContent:{root:{mixRoot:!0,ch:[1,2,5]},1:{tg:"span",TXT:"first"},2:{cl:["media_more"],fn:{onclick:function(e){e.preventDefault(),e.stopPropagation();var t=this.nextSibling;t.style.display="inline",t.parentElement.parentElement.style.maxHeight="fit-content",this.remove()}},ch:[4]},4:{tg:"span",cl:["media_more_label","media_more_a"],TXT:"more"},5:{tg:"span",ha:{style:"display:none"},TXT:"rest"}},acSendButton:{root:{cl:["delete-stub_i","__actions","_mk_ok_sendButton"],ha:{style:"display: block"},ch:[1]},1:{cl:["form-actions"],ch:[2]},2:{tg:"button",cl:["button-pro","form-actions_yes"],TXT:"ctaText"}},adChoiceFinal:{root:{cl:["feed","js-video-scope","h-mod","__deleted","__deleted-all","__deleted-actions","__spam-success"],ch:[1]},1:{cl:["feed_cnt"],ch:[2]},2:{cl:["delete-stub_i","__spam-success"],ch:[3]},3:{cl:["delete-stub_ac"],ch:[4]},4:{tg:"span",cl:["delete-stub_info","textWrap","tico"],TXT:"closeInfo"}},adChoicePopup:{root:{cl:["modal-new"],ha:{style:"display: flex;align-items: center;"},ch:[312]},312:{cl:["modal-new_hld"],ch:["menuItems","closeButton"]},menuItems:{cl:["modal-new_center"],ch:["buttons"]},buttons:{cl:["sticky-plank_hld"],ch:[301]},301:{cl:["sticky-plank","modal-new_sticky","scroll-right-indent","__off"],ch:[302]},302:{cl:["sticky-plank_cnt"],ch:[303]},303:{cl:["modal-new_actions","__center"],ch:[304]},304:{cl:["modal-new_cnt"],ch:["okButton","noButton"]},okButton:{tg:"button",cl:["modal_buttons_yes","button-pro","__disabled","mr-2x","js-confirm-btn"],txt:"Пожаловаться"},noButton:{tg:"button",cl:["button-pro","__sec"],txt:"Закрыть"},closeButton:{cl:["modal-new_close"],ch:[310]},310:{cl:["ic","modal-new_close_ico"]}},volumeBar:{root:{ha:{role:"slider",tabindex:"0",style:"--mkit-volume: 0%"},cl:["videoplayer_slider","videoplayer_volume_slider"],ch:[1,4]},1:{cl:["_bars_wrap"],ch:[2,3]},2:{cl:["_loaded"]},3:{ha:{style:"transform: translateX(var(--mkit-volume));"},cl:["_filled"]},4:{ha:{style:"transform: translateX(var(--mkit-volume));"},cl:["_handle_wrap"],ch:["bubble"]},bubble:{cl:["_handle"]}},volumeTooltip:{root:{cl:["volumeTooltip"],ch:["vText",1]},vText:{cl:["_vText"],txt:"0%"},1:{cl:["_vArrow"]}},card:{root:{cl:["_mk_card"],ch:[1]},cta:{tg:"span",ch:[169]},169:{cl:["_mk_adaptive_button"],ch:[170]},170:{cl:["_mk_adaptive_button_content"],ch:[171,172]},171:{TXT:"ctaText"},172:{cl:["_mk_adaptive_button_content_arrow"],txt:us},1:{tg:"a",ha:{target:"_blank",href:"trackingLink"},cl:["_mk_card__wrapper"],ch:["ctaWrapper","body"]},ctaWrapper:{cl:["_mk_card__ctaWrapper"],ch:["imageWrap","cta"]},imageWrap:{cl:["_mk_card__photo"],ch:["discount","fader","border"]},discount:{TXT:"discount",cl:["_mk_discount"]},fader:{cl:["_mk_card__photoFader"]},border:{cl:["_mk_card__photoBorder"]},body:{cl:["_mk_card__content","_mk_card__content_button_yes"],ch:["title","prices","description"]},title:{TXT:"title",cl:["_mk_card__title"]},prices:{cl:["_mk_card__priceContainer"],ch:["oldPrice","price"]},price:{TXT:"price",cl:["_mk_card__price"]},oldPrice:{TXT:"oldPrice",cl:["_mk_card__price_old","_mk_card__price"]},description:{TXT:"description",cl:["_mk_card__price"]}},carousel:{root:{cl:["_mk_cards__container","_mk_cards_slider"],ch:["prev","next","wrapper"]},prev:{cl:["_mk_cards__scroller","_mk_cards__scroller_position_left","_mk_cards__scroller_type_scroller","_mk_cards__scroller_hidden_left","_mk_scroll_left"],ch:["2"]},2:{cl:["_mk_cards_arrowPrev"],txt:us},next:{cl:["_mk_cards__scroller","_mk_cards__scroller_position_right","_mk_cards__scroller_type_scroller","_mk_scroll_right"],ch:["3"]},3:{cl:["_mk_cards_arrowNext"],txt:us},wrapper:{cl:["_mk_cards__wrapperOuter","_mk_cards__wrapper","_mk_wrap_scroll"]}}},ps=_r(_r({},Qo),{onAction:ms});function ms(e,t,i,r){var o,n,a;switch(null==r||r.preventDefault(),null==r||r.stopPropagation(),e){case"showTab":this.elements.host.replaceChild(this.elements[t],this.currentTab),this.currentTab=this.elements[t],"closed"===i&&(this.sendEvent(po.ClosedByUser),this.sendEvent(po.Closed),this.raiseCoreEvent(9),ms.call(this,"destroy"));break;case"closeMenu":this.closeTimeout=null,this.isOpen&&(this.element.style.display="none",this.store.rootNode.setCssAttr({menu:"close"}),this.store.isServiceHidden=!1,this.elements.hideForm=void 0,this.engine.resume(!0),this.isOpen=!1);break;case"hide":bs.call(this,e,!0);break;case"complain":bs.call(this,e,!1);break;case"select":this.selectId&&this.elements[this.selectId].classList.remove("on"),this.selectId=t,null===(o=this.elements[t])||void 0===o||o.classList.add("on"),null===(n=this.elements.okButton)||void 0===n||n.classList.remove("__disabled");break;case"complainItem":if(!t)return;(a=document.getElementById("hook_Block_PopLayer"))&&(a.innerHTML="",a.style.display="none"),bs.call(this,"complain",!0),ms.call(this,"reasonItem",t);break;case"reasonItem":if(!t)return;if(this.sendReason(t),this.closeInfo){var s=To(this.finishTab,this);this.engine.closeTab.parentElement.replaceChild(s,this.engine.closeTab),this.engine.closeTab=s,this.notify(this.config.tabs[this.action]),this.elements=null,Eo.prototype.destroy.call(this)}else{var l=this.engine.closeTab.parentElement.parentElement;l.classList.contains("feed_row")?l.remove():l.innerHTML="",this.destroy()}break;case"copy":if(Wo(i||"Not defined"),this.elements[t]instanceof HTMLElement){var d=this.elements[t].getElementsByTagName("span")[0]||this.elements[t];if(d instanceof HTMLElement){var c=d.innerText;d.innerText="Скопировано",setTimeout((function(){return d.innerText=c}),2e3)}}break;case"redirect":Er(i)&&window.open(i,"_blank");break;case"destroy":this.destroy()}}function bs(e,t){var i,r,o,n=this,a=this.elements[e],s=this.config.tabs[e];if(this.action=e,this.finishTab=this.store.meta.serviceForest.adChoiceFinal,this.closeInfo=s.closeInfo,"hide"===e&&(this.elements.sendButton=To(null===(i=this.store.meta.serviceForest)||void 0===i?void 0:i.acSendButton,s,void 0,this.elements.hide_body),this.elements.sendButton.onclick=function(e){return ms.call(n,s.ctaAction,n.selectId)}),t){var l=this.engine,d=this.store.hostNode;d.classList.remove(this.getClass("_mk_proxyNode")),d.classList.remove(this.getClass(this.store.meta.proxyClass)),this.copyCssProps(this.config.finalProps,this.element,d),d.parentElement.appendChild(a),d.remove(),null===(r=this.engine)||void 0===r||r.destroy(),l.closeTab=a,this.engine=l}else if("complain"===e){var c=document.getElementById("hook_Block_PopLayer");c&&(c.innerHTML="",this.elements.adChoicePopup||(this.elements.adChoicePopup=To(null===(o=this.store.meta.serviceForest)||void 0===o?void 0:o.adChoicePopup,s,void 0,void 0,this.elements),this.elements.menuItems.appendChild(a),this.elements["".concat(e,"_body")].appendChild(this.elements.buttons),this.elements.okButton.onclick=function(e){return ms.call(n,s.ctaAction,n.selectId)},this.elements.noButton.onclick=function(){return c.innerHTML=""},this.elements.closeButton.onclick=function(){return c.innerHTML=""}),c.appendChild(this.elements.adChoicePopup),c.style.display="block")}}var fs={iconLink:"https://r.mradx.net/imgs/57/4d/cc7e37e5e603ef9c.svg",closeUrl:"",marker:"",appendTo:"adChoicesMenu",mouseOverShow:"adChoicesMenu",preRender:!1,size:Wr.large,wrapCl:["h-mod","sc-menu_w"],cl:["posR","sc-menu","__feed","__noarrow"],tabs:{main:{tabCl:["u-menu"],itemCl:["u-menu_li","u-menu_a","lp","tico"],headerCl:["u-menu_header__"],bodyCl:["u-menu_body__"],footerCl:["u-menu_footer__"],items:[{text:"Пожаловаться",name:"complain",action:"complain",iconUrl:"http://r.mradx.net/imgs/f6/2b/183d577d29e1a161.svg"},{text:"Не интересно",name:"hide",action:"hide",iconUrl:"http://r.mradx.net/imgs/d0/14/58156be185aceaf3.svg"},{text:"О рекламодателе",name:"about",action:"redirect",actionValue:"",iconUrl:"http://r.mradx.net/imgs/ca/0d/a4f9a15b076bf6d7.svg"},{text:"Скопировать ERID",name:"copyErid",action:"copy",actionValue:"",iconUrl:"https://r.mradx.net/imgs/40/67/82b844d22bc0b729.svg"},{text:"Правила рекомендаций",name:"rules",action:"redirect",actionValue:"",iconUrl:"http://r.mradx.net/imgs/a6/06/cffa944ece845d44.svg"}]},hide:{header:"Событие скрыто",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",ctaAction:"reasonItem",ctaText:"Отправить",tabCl:["u-menu","feed","js-video-scope","h-mod","__banner-feed-redesign2023"],headerCl:["tico"],bodyCl:["form_ul"],itemCl:["form_ul_li","irc_w","__modern","__o","__flex","_mk_form_ul_li"],items:[{id:1,text:"Не интересно",action:"select"},{id:2,text:"Уже приобретено",action:"select"},{id:3,text:"Вижу слишком часто",action:"select"}]},complain:{header:"Пожаловаться?",closeInfo:"Жалоба отправлена",otherPlaceholder:"Напишите причину",ctaAction:"complainItem",tabCl:["modal-new_cnt"],headerCl:["portlet_h"],bodyCl:["hook","h-mod","banner-complain","form_ul"],itemCl:["form_ul_li","_mk_form_ul_li"],items:[{id:4,text:"Оскорбительное содержание",action:"select"},{id:5,text:"Сексуальный подтекст",action:"select"},{id:6,text:"Нарушение закона",action:"select"},{id:7,text:"Мошеннический сайт",action:"select"}]}},actions:ps},vs={appendTo:"adChoicesMenu",mouseOverShow:"adChoicesMenu",preRender:!1,size:Wr.large,wrapCl:["h-mod","sc-menu_w"],cl:["posR","sc-menu","__feed","__noarrow"],tabs:{main:{tabCl:["u-menu"],itemCl:["u-menu_li","u-menu_a","lp","tico"],headerCl:["u-menu_header__"],bodyCl:["u-menu_body__"],footerCl:["u-menu_footer__"]},hide:{tabCl:["u-menu","feed","js-video-scope","h-mod","__banner-feed-redesign2023"],headerCl:["tico"],bodyCl:["form_ul"],itemCl:["form_ul_li","irc_w","__modern","__o","__flex","_mk_form_ul_li"]},complain:{tabCl:["modal-new_cnt"],headerCl:["portlet_h"],bodyCl:["hook","h-mod","banner-complain","form_ul"],itemCl:["form_ul_li","_mk_form_ul_li"]}},actions:ps},gs={containerAsProxy:!0,noMutationObserver:!0,deletionDetector:!0,classMode:2,clickArea:1615,producer:"base",disclaimerWeight:100,disclaimerWidth:"onPlace",proxyClass:"_mk_ok_proxyNode",disclaimerMaxLine:2,disclaimerPaddings:0,slideWidth:Jr()?240:300,tree:{root:{ch:[1,15],role:"background",tr:1},1:{cl:["feed-header"],ch:[2,5,"adChoicesMenu"]},2:{cl:["feed-avatar"],role:"icon",ch:4},4:{bl:{e:1,SRC:"icon.src"},cl:["feed-avatar-img"]},5:{cl:["feed-info"],ch:[6,8]},6:{tg:"h3",cl:["feed-info-title"],ch:7},7:{tg:"span",role:"title",st:{fontWeight:"500"},cl:["group-link"],wr:{e:2,TEXT:"title"}},8:{cl:["feed-info-subtitle"],ch:[9,101],iif:{e:3,prop:"adLabel.show",value:!1},st:{flexDirection:"row"}},9:{cl:["feed-info-label","feed-info-subtitle_i"],role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},st:{display:"flex",flexDirection:"row"}},101:{cl:["feed-info-label","feed-info-subtitle_i"],role:"agerestrictions",wr:{e:2,TEXT:"ageRestrictions",role:"ageRestrictions"},iif:{e:1,prop:"ageRestrictions"}},adChoicesMenu:{cl:["feed-actions-w"],role:"acMenu",ch:11},11:{cl:["feed-action"],ch:[12]},12:{cl:["feed-action_trigger"],txt:'<svg class="svg-ic svg-ico_more_vertical_16 feed-action-icon" viewBox="0 0 16 16"> <path fill-rule="evenodd" clip-rule="evenodd" d="M6.55591 13.0098c0-.801.651-1.452 1.452-1.452.802 0 1.452.651 1.452 1.452 0 .801-.65 1.452-1.452 1.452-.801 0-1.452-.651-1.452-1.452zm0-5.00602c0-.802.651-1.452 1.452-1.452.802 0 1.452.65 1.452 1.452 0 .801-.65 1.452-1.452 1.452-.801 0-1.452-.651-1.452-1.452zm0-5.001c0-.801.651-1.452 1.452-1.452.802 0 1.452.651 1.452 1.452 0 .802-.65 1.452-1.452 1.452-.801 0-1.452-.65-1.452-1.452z" class="svg-fill"/> </svg>'},15:{cl:["feed_cnt"],ch:[17,16,"carousel"]},16:{wr:{e:2,TEXT:"description",initLinesShow:3},cl:["_mk_carousel__description","media-text_cnt_tx","emoji-tx","textWrap"],iif:{e:1,prop:"cards"}},17:{cl:["feed_b"],ch:[18,25,30,36],iif:{e:2,prop:"cards"}},18:{cl:["media-block","media-text","h-mod","__without-margin"],ch:19},19:{cl:["media-text_cnt"],ch:20},20:{role:"description",wr:{e:2,TEXT:"description",initLinesShow:3},cl:["media-text_cnt_tx","emoji-tx","textWrap"]},25:{cl:["media-block","media-link__v2","__place-wide"],ch:["media","controls"]},media:{bl:{e:1,SRC:"$$media",size:"feedWidth"},tr:3,role:"image",wr:[7,{e:8,replay:!0,mode:"master"}],st:{width:"100%",height:"100%"}},30:{cl:["banner_note","__v2"],ch:31},31:{cl:["h-mod","standardized-disclaimer"],ch:"disclaimer"},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},36:{cl:["media-link_cnt"],ch:37},37:{cl:["media-link_cnt-inner"],ch:[38,46]},38:{cl:["media-link_c"],ch:[40,45]},40:{cl:["media-link_h"],role:"domain",wr:{e:2,TEXT:"linkTitle"},iif:{e:1,prop:"linkTitle"}},45:{cl:["media-link_info"],role:"domain",wr:{e:2,TEXT:"domain",default:""}},46:{cl:["media-link_external-btn","button-pro","__small"],role:"ctabutton",wr:{e:2,TEXT:"ctaText"}},controls:{cl:["_mk_control_wrapper"],ch:310},carousel:{cl:["_mk_cards"],ch:["cards","carouselDisclaimer"],iif:{e:1,prop:"cards"}},cards:{bl:{e:5},tr:1},carouselDisclaimer:{bl:{e:3,view:"row-double"},role:"disclaimer"},310:{cl:["_mk_control_wrapper_left"],wr:{e:6,LISTEN:"media",TARGET:"*"},st:{gap:"8px",alignItems:"center"},ch:311},311:{cl:["btn-container"],ha:{style:"order:3;height:26px;width:400px;"}}},defaults:{ageRestrictions:"0+",ctaText:"Перейти на сайт"},serviceForest:hs,adChoices:vs,adChoicesFallback:fs,icons:{hide:'<svg class="svg-ic" viewBox="0 0 16 16"><path d="M9.414 8l3.294 3.294a1 1 0 1 1-1.415 1.413L8 9.414l-3.293 3.293a1 1 0 0 1-1.415-1.413L6.586 8 3.274 4.689a.974.974 0 0 1 0-1.378h.001a1.025 1.025 0 0 1 1.45 0L8 6.586l3.293-3.293a1 1 0 0 1 1.414 1.414L9.414 8z" fill-rule="evenodd" class="svg-fill"></path></svg>',complain:'<svg class="svg-ic" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.00488.67773c-4.0404 0-7.3208 3.281-7.3208 7.322 0 4.04097 3.2804 7.32197 7.3208 7.32197 4.04102 0 7.32102-3.281 7.32102-7.32197 0-4.041-3.28-7.322-7.32102-7.322zm0 1.6c3.15802 0 5.72102 2.564 5.72102 5.722 0 3.15797-2.563 5.72197-5.72102 5.72197-3.157 0-5.7208-2.564-5.7208-5.72197 0-3.158 2.5638-5.722 5.7208-5.722zm-.004 7.89597c.581 0 1.053.477 1.053 1.064 0 .587-.472 1.064-1.053 1.064-.582 0-1.054-.477-1.054-1.064 0-.587.472-1.064 1.054-1.064zm.894-2.19097v-3.28c0-.497-.404-.9-.9-.9-.497 0-.9.403-.9.9v3.28c0 .497.403.9.9.9.496 0 .9-.403.9-.9z" class="svg-fill"></path></svg>',about:'<svg class="svg-ic" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.00896.71094c-4.029 0-7.299 3.266-7.299 7.289 0 4.02296 3.27 7.28896 7.299 7.28896 4.02804 0 7.29904-3.266 7.29904-7.28896 0-4.023-3.271-7.289-7.29904-7.289zm0 1.6c3.14504 0 5.69904 2.549 5.69904 5.689 0 3.13996-2.554 5.68896-5.69904 5.68896-3.145 0-5.699-2.549-5.699-5.68896 0-3.14 2.554-5.689 5.699-5.689zm-.899 6.472v1.71996h-.166c-.295 0-.535.239-.535.535v.753c0 .296.24.535.535.535h2.105c.296 0 .535-.239.535-.535v-.753c0-.296-.239-.535-.535-.535h-.179V8.78294h.179c.142 0 .278-.056.378-.156.101-.101.157-.237.157-.379v-.795c0-.141-.056-.278-.157-.378-.1-.1-.236-.157-.378-.157h-2.105c-.142 0-.278.057-.378.157-.101.1-.157.237-.157.378v.795c0 .142.056.278.157.379.1.1.236.156.378.156h.166zm.896-5.328c.717 0 1.299.582 1.299 1.299s-.582 1.299-1.299 1.299-1.298-.582-1.298-1.299.581-1.299 1.298-1.299z" class="svg-fill"></path></svg>',copyUrl:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.52 4.18c.9-.9 2.39-.9 3.3 0 .9.9.9 2.34 0 3.24l-.69.68a.75.75 0 0 0 1.06 1.06l.68-.68a3.77 3.77 0 0 0 0-5.37 3.86 3.86 0 0 0-5.4 0L8.12 6.4a3.77 3.77 0 0 0 0 5.37.75.75 0 1 0 1.05-1.06c-.9-.9-.9-2.35 0-3.25l3.34-3.3Z" fill="#99A2AD"/><path d="M7.48 15.82c-.9.9-2.39.9-3.3 0-.9-.9-.9-2.34 0-3.24l.69-.68a.75.75 0 0 0-1.06-1.06l-.68.68a3.77 3.77 0 0 0 0 5.37 3.86 3.86 0 0 0 5.4 0l3.34-3.3a3.77 3.77 0 0 0 0-5.37.75.75 0 0 0-1.05 1.06c.9.9.9 2.35 0 3.25l-3.34 3.3Z" fill="#99A2AD"/></svg>',copyErid:'<svg class="svg-ic" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.71601 4.21322c.065-.77.401-1.496.952-2.047.619-.619 1.458-.967 2.334-.967H11.012c.875 0 1.714.348 2.333.967.619.618.967 1.458.967 2.333v3.992c0 .875-.348 1.71498-.967 2.33298-.553.553-1.281.89-2.054.953-.065.771-.401 1.496-.952 2.047-.61899.619-1.45899.967-2.33399.967h-2.997c-.875 0-1.714-.348-2.333-.967-.619-.618-.967-1.458-.967-2.333V7.49922c0-.875.348-1.715.967-2.333.549-.55 1.273-.886 2.041-.953zm.292 1.586h2.997c.451 0 .883.179 1.202.498.319.319.498.751.498 1.202v3.99198c0 .451-.179.883-.498 1.202-.319.319-.751.498-1.202.498h-2.997c-.451 0-.883-.179-1.202-.498a1.6992 1.6992 0 0 1-.498-1.202V7.49922c0-.451.179-.883.498-1.202.319-.319.751-.498 1.202-.498zM11.305 10.1642c.342-.059.66-.22198.909-.47098.319-.319.498-.751.498-1.202v-3.992c0-.451-.179-.883-.498-1.202-.319-.319-.752-.498-1.202-.498H8.00201c-.451 0-.884.179-1.202.498-.248.247-.411.562-.47.902h1.675c.875 0 1.715.348 2.33399.967.618.618.966 1.458.966 2.333v2.66498z" class="svg-fill"></path></svg>',rules:'<svg class="svg-ic" viewBox="0 0 18 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.343 6.515l-.489.874-.766-.435a2.3 2.3 0 0 0-3.196.978L1.35 13.058a2.104 2.104 0 0 0 .817 2.747v.001a2.16 2.16 0 0 0 2.823-.561l2.207-2.931 1.051.599a2.3 2.3 0 0 0 3.138-.861l1.619-2.845.744.429a1.68 1.68 0 0 0 2.5-1.712l-.856-5.544a1.68 1.68 0 0 0-2.249-1.317l-5.31 1.984a1.68 1.68 0 0 0-.251 3.03l.76.438zm1.782.093a.8.8 0 0 0-.298-1.084l-1.444-.833a.08.08 0 0 1 .012-.145l5.31-1.985a.08.08 0 0 1 .107.063l.857 5.544a.08.08 0 0 1-.12.082l-1.441-.832a.8.8 0 0 0-1.095.298L9.995 11.26a.7.7 0 0 1-.955.262l-1.663-.948a.8.8 0 0 0-1.035.214l-2.63 3.493a.56.56 0 0 1-.733.145.504.504 0 0 1-.196-.658l2.542-5.126a.7.7 0 0 1 .973-.297l1.466.832a.8.8 0 0 0 1.093-.305l1.268-2.265z" class="svg-fill"></path></svg>'},controls:{progress:{show:!1},flow:{show:!0,pos:"leftbottom",order:"1",classes:["controls-left","_mk_control_icon","_mk_control_flow"],renderBy:"state"},volume:{show:!0,classes:["videoplayer_volume_icon","volumeBar-container","_mk_control_icon","_mk_control_volume"],renderBy:["muted","volume"],order:"5"},volumeBar:{show:!0,classes:["videoplayer_controls_item","videoplayer_volume"],renderBy:"muted",order:"6"},volumeTooltip:{show:!0,order:"7"},prePlay:{show:!0,renderBy:"state",noElemCreate:!0},loading:{show:!0,renderBy:"state",noElemCreate:!0}},promoteCfg:{rmAttrs:["data-place"],rmClasses:["__banner-feed-redesign2023"]},handlers:cs,charWidths:pn(ha)},_s={defaults:{linkTitle:"Сообщество",ctaText:"Вступить"}};Object.setPrototypeOf(_s,gs);var ys={defaults:{linkTitle:"Приложение",ctaText:"Перейти"}};Object.setPrototypeOf(ys,gs);var ws={clicker:function(e,t,i){if(Er(i)){try{var r=new URLSearchParams(i),o=r.get("d"),n=r.get("type")||"leadform";if(o)return void window.require(["OK/MultiLayer"],(function(e){e.open("?cmd=MultiLayer&st.layer.cmd=VKMiniAppLR&st.layer.appId=512001821332&st.layer.hash=d%3D".concat(o,"&st.layer.noShortLink=off&st.cmd=userMain&type=").concat(n))}))}catch(e){}window.open(i,"_blank")}}};Object.setPrototypeOf(ws,cs);var ks={defaults:{linkTitle:"Пройти опрос",ctaText:"Подробнее",domain:"Форма опроса"},handlers:ws};Object.setPrototypeOf(ks,gs);var xs,As,Cs,Ps=function(e){function t(t,i,r,o){var n,a,s,l=e.call(this,t,i,r)||this;if(Object.defineProperty(l,"targetProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"ratioProp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"mapping",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"cnt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"titleWords",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"descWords",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"noData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"hasTextBlock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"hasDomain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"hasIcon",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"ctaText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"vars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"ratio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"variant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"isMobile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"isSizeUp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l.mapping=null===(s=null===(a=null===(n=l.store.meta)||void 0===n?void 0:n.mappingPro)||void 0===a?void 0:a[l.node.current])||void 0===s?void 0:s.size,!o&&xr(l.mapping)&&Pr(l.mapping.mapper))return new l.mapping.mapper(t,i,r,!0);if(l.noData=Or(),l.descWords=[],l.vars=[],l.size={width:-1,height:-1},l.isMobile=Jr(),l.targetProp=(null==r?void 0:r.SIZE)||"_".concat(i.current,"_size"),l.ratioProp=(null==r?void 0:r.RATIO)||"_media_ratio",l.isActive=xr(l.mapping)&&xr(l.mapping.vars)&&xr(l.mapping.filterData)&&xr(l.mapping.filters)&&Pr(l.mapping.mapper),!l.isActive)return l;l.subscribe(l.targetProp,l.handle),Sr(l.store.noData)&&l.store.noData.forEach((function(e){return l.noData[e]=1})),l.hasDomain=+!l.noData.domain,l.hasIcon=+!l.noData.icon,l.hasTextBlock=+(!l.noData.title&&!l.noData.description),l.ctaText=l.store.getDataProp("ctaText");var d=l.store.meta.charWidths,c=l.store.getDataProp("title");if(l.titleWords=bn(c,d),!l.noData.description){var u=l.store.getDataProp("description");l.descWords=bn(u,d)}l.cnt=l.mapping.filterData.pointsCnt;for(var h=function(e){p.vars[e]=Or(),Object.entries(p.mapping.vars).forEach((function(t){var i=t[0],r=t[1];return l.vars[e][i]=r[e]}))},p=this,m=l.cnt;m--;)h(m);return l.initSubscribe(),l}return gr(t,e),Object.defineProperty(t.prototype,"process",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getVariant()||this.vars[0];this.setCssVars(e)}}),Object.defineProperty(t.prototype,"getVariant",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=0;e<this.cnt;++e){var t=!0;for(var i in this.mapping.filters){var r=this.mapping.filterData[i];if(!this.mapping.filters[i].call(this,Sr(r)?r[e]:r)){t=!1;break}}if(t)return Tr(this.vars[e])}return Tr(this.vars[0])}}),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){var e=this.store[this.ratioProp]||this.store.aspectRatio||16/9,t=this.store[this.targetProp];this.isActive&&xr(t)&&t.width&&t.height&&(this.size.width!==t.width||this.size.height!==t.height||this.ratio!==e)&&(this.size=t,this.ratio=e,this.process())}}}),t}(Tn),Ss="https://ad.mail.ru/static/motion-framed.html",Ms={AdLoaded:[0],AdStarted:[2,po.Started],AdImpression:[17,po.ItemShowed],AdVideoStart:[2,po.VideoStarted],AdVideoFirstQuartile:[22],AdVideoMidpoint:[23],AdVideoThirdQuartile:[24],AdVideoComplete:["onEnded"],AdSkipped:["onEnded"],AdStopped:["onEnded"],AdUserClose:["onEnded"],AdVolumeChange:[10,po.VolumeChanged],AdPaused:[4,po.Paused],AdPlaying:[5,po.Resumed],AdClickThru:[13,po.Clicked],adRemainingTime:[0],AdError:[0],AdInteraction:[0]},Is=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.call(this,t,i,r,o)||this;return Object.defineProperty(a,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creative",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isAdInteraction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isNoFramed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.handle=a.handle.bind(a),a.onMessage=a.onMessage.bind(a),a.switchMode=a.switchMode.bind(a),a.autoStart=a.autoStart.bind(a),a.nStore=a.node.useStore(),a.node.manager={play:a.play.bind(a),pause:a.pause.bind(a)},a.config=a.store.data.vpaid,a.subscribe("isReady",a.initScript),a.nStore.subscribe("state",a.onState.bind(a)),a.nStore.subscribe(["volume","muted"],a.onVolume.bind(a)),a.subscribe(["inFocus","visibility","isReady"],a.autoStart),a.nStore.subscribe("isReady",a.autoStart),a.handle(),a}return gr(t,e),Object.defineProperty(t.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setNodeProps({state:3})}}),Object.defineProperty(t.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setNodeProps({state:4})}}),Object.defineProperty(t.prototype,"onEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!this.isDestroyed&&Er(e))if("loaded"!==e){var i=this[e];Pr(i)?i.call(this,t):this.handleEvent(e)}else this.send(_r({action:"init"},this.store.data.vpaid))}}),Object.defineProperty(t.prototype,"handleEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Ms[e];Sr(t)&&(this.raiseCoreEvent(t[0]),this.sendEvent(t[1]))}}),Object.defineProperty(t.prototype,"onMessage",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;!this.isDestroyed&&Ar(this.element)&&e.source===this.element.contentWindow&&xr(t=e.data)&&t.id==this.store.id&&"motion-framed"===t.sender&&this.onEvent(t.event,t.props)}}),Object.defineProperty(t.prototype,"doAction",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.isNoFramed){var i=this.creative[e];Pr(i)&&i.call(this.creative,t)}else this.send(_r(_r({},t),{action:e}))}}),Object.defineProperty(t.prototype,"send",{enumerable:!1,configurable:!0,writable:!0,value:function(e){Ar(this.element)&&this.element.contentWindow&&this.element.contentWindow.postMessage(_r(_r({},e),{args:Lr(e.args),sender:"motion-core"}),"*")}}),Object.defineProperty(t.prototype,"initScript",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this.isDestroyed){this.node.element instanceof HTMLElement&&this.node.element.remove();var t=this.node.config;this.setProps({state:7}),this.setNodeProps({state:7});var i=Kr("iframe",{classes:this.makeClasses(t.cl,this.node.current),attrs:t.ha,dattrs:t.a,styles:t.st,appendTo:this.node.parent.element});if(this.isNoFramed)try{i.onerror=function(t){return e.AdError(Gr.error(573,{message:String(t)}))};var r=i.contentDocument;r.open(),r.write("<!DOCTYPE html><html style='width: 100%; height:100%'><head></head><body style='width: 100%; height:100%; margin: 0'>"),r.close();var o=r.createElement("script");o.onerror=function(){e.AdError(Gr.error(586))},o.onload=function(){var t=i.contentWindow.getVPAIDAd;if(Pr(t))try{var r=t();e.creative=r,e.subscribeEvents(),r.initAd(e.store._media_size.width,e.store._media_size.height,"normal",{},e.store.data.vpaid.params||{},e.store.data.vpaid.props||{})}catch(t){e.AdError(Gr.error(584))}else e.AdError(Gr.error(575))},o.src=this.store.data.vpaid.src,r.body.appendChild(o)}catch(e){go.error(e),this.AdError(Gr.error(574))}else fetch(Ss).then((function(e){return e.text()})).then((function(r){var o;if(!r||!r.includes("title>motion-framed</title"))return e.switchMode();window.onmessage=e.onMessage,i.onerror=e.switchMode,i.onload=function(){var t,r,o=null===(r=null===(t=i.contentDocument)||void 0===t?void 0:t.body)||void 0===r?void 0:r.innerText;Er(o)&&o.includes("Cannot GET")&&e.switchMode(),e.send({action:"setId",id:e.store.id})},Er(null===(o=t.ha)||void 0===o?void 0:o.src)||(i.src=Ss)})).catch((function(t){go.warn("Error of loading framed document:",t.message),e.switchMode()}));this.node.element=this.element=i}}}),Object.defineProperty(t.prototype,"switchMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||this.isNoFramed||(this.isNoFramed=!0,this.initScript())}}),Object.defineProperty(t.prototype,"AdLoaded",{enumerable:!1,configurable:!0,writable:!0,value:function(){go.warn("frame AdLoaded. this.state:",this.nStore.state),this.nStore.isReady||7!==this.nStore.state||!this.creative&&this.isNoFramed||(this.sendEvent(po.Ready),this.setNodeProps({isReady:!0}))}}),Object.defineProperty(t.prototype,"autoStart",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store,t=e.inFocus,i=e.visibility,r=e.isReady,o=e.state;if(!this.isDestroyed&&this.nStore.isReady&&r&&![5,6].includes(o)){go.warn("frame autoStart. isLoaded, inFocus, visibility, isReady",this.nStore.isLoaded,t,i,r);var n={state:t&&i>=50?3:4};go.warn("frame AdLoaded. value:",n),this.setNodeProps(n),this.setProps(n)}}}),Object.defineProperty(t.prototype,"onVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.nStore.muted||!this.nStore.volume?0:this.nStore.volume||1;this.isNoFramed?this.creative.adVolume=e:this.doAction("setAdVolume",{args:[e]})}}),Object.defineProperty(t.prototype,"onState",{enumerable:!1,configurable:!0,writable:!0,value:function(){switch(this.nStore.state){case 3:this.store.currentTime<this.store.duration-.1?this.doAction("resumeAd"):(this.doAction("startAd"),this.creative&&(this.creative.adVolume=0));break;case 4:this.doAction("pauseAd")}}}),Object.defineProperty(t.prototype,"adRemainingTime",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDestroyed){var t=this.creative;this.isNoFramed&&t&&!xr(e)&&(e={currentTime:t.adDuration-t.adRemainingTime,duration:t.adDuration,remainTime:t.adRemainingTime,progress:(t.adDuration-t.adRemainingTime)/t.adDuration||0}),xr(e)&&(this.setNodeProps(e),e.event=po.TimeRemained,e.id=this.store.id,this.sendEvent(e))}}}),Object.defineProperty(t.prototype,"AdInteraction",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAdInteraction=!0,this.sendEvent(po.UserAction)}}),Object.defineProperty(t.prototype,"AdError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;this.isNoFramed?(null===(t=this.creative)||void 0===t||t.stopAd(),this.engine.throwError(e instanceof Gr?e:Gr.error(901))):this.switchMode()}}),Object.defineProperty(t.prototype,"AdVideoComplete",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.sendEvent(po.Completed),this.store.allowReplay)return this.setNodeProps({state:5}),void(this.store.autoReplay&&setTimeout((function(){e.setNodeProps({state:3}),e.sendEvent(po.Replayed)}),15));this.isAdInteraction&&this.store.meta.allowClose||this.AdStopped()}}),Object.defineProperty(t.prototype,"AdUserClose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sendEvent(po.ClosedByUser),this.AdStopped()}}),Object.defineProperty(t.prototype,"AdSkipped",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sendEvent(po.ClosedByUser),this.sendEvent(po.Skipped),this.AdStopped()}}),Object.defineProperty(t.prototype,"AdStopped",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setNodeProps({state:6}),this.setProps({state:6}),this.engine.close()}}),Object.defineProperty(t.prototype,"onEnded",{enumerable:!1,configurable:!0,writable:!0,value:function(e){go.info("onEnded",e,this.isAdInteraction,this.store.meta.allowClose),this.sendEvent(po.Completed),"AdVideoComplete"===e&&this.isAdInteraction&&this.store.meta.allowClose||(this.raiseCoreEvent(9),this.sendEvent(po.Closed),"AdUserClose"===e?this.sendEvent(po.ClosedByUser):"AdSkipped"===e&&this.sendEvent(po.Skipped),this.setNodeProps({state:6}),this.engine.destroy())}}),Object.defineProperty(t.prototype,"subscribeEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;for(var t in Ms)this.creative.subscribe((Pr(e=this[Ms[t][0]||t])?e:this.handleEvent).bind(this,t),t,this);this.creative.subscribe(this.adRemainingTime.bind(this),"AdRemainingTimeChange",this)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;null===(t=this.creative)||void 0===t||t.pauseAd(),window.removeEventListener("message",this.onMessage),e.prototype.destroy.call(this)}}),t}(Tn),Ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handle()}}),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;if(!this.isDestroyed&&xr(t=null===(e=this.store.meta.serviceForest)||void 0===e?void 0:e.rating)){this.buildLcbComponent(t);try{this.store.roleMap.set(this.node.element,"rating"),Cr(this.elements.votes)&&this.store.roleMap.set(this.elements.votes,"votes")}catch(e){}}}}),t}(Tn),Os=["countdown","skipBtn","closeBtn"],js=[Hr.skipWithClose,Hr.skipAndNothing],Ls=function(e){function t(t,i,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var a=e.apply(this,kr([t,i,r],o,!1))||this;return Object.defineProperty(a,"skipMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a._toggleWrapDisplay=a._toggleWrapDisplay.bind(a),a.handle(),a}return gr(t,e),Object.defineProperty(t.prototype,"handle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,i,r,o,n=this;if(!this.isDestroyed&&(r=this.store)&&(r.allowClose||r.skipMode)&&(i=this.buildLcbComponent(null===(t=r.meta.serviceForest)||void 0===t?void 0:t.skipCloseButton))){var a=this.elements;i.onclick=e.prototype.onClick,this.node.element=i;var s=Hr[this.store.skipMode]||Hr.close;try{this.store.roleMap.set(i,"skipCloseButton")}catch(e){}if(Os.forEach((function(e){(i=a[e])&&(i.style.display="none",Pr(o=n["_".concat(e,"Click")])&&(i.onclick=o.bind(n)))})),i=void 0,this.store.skipMode&&(i=a.skipBtn))this.skipMode=s;else if(!(i=a.closeBtn))return void go.warn("SkipCloseButton: meta for skip and close buttons not found");this.store.allowCloseDelay&&(this.subscribe("fullTime",this.countdown),this.countdown(),i=a.countdown),i&&(i.style.display=""),this.subscribe("isCompleted",this.onCompleted),setTimeout(this._toggleWrapDisplay,0)}}}),Object.defineProperty(t.prototype,"onCompleted",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){this.unSubscribe("fullTime");var e=this.elements;lo(e.countdown),lo(e.skipBtn),lo(e.closeBtn,this.store.allowClose?"":"none"),this._toggleWrapDisplay()}}}),Object.defineProperty(t.prototype,"_skipBtnClick",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;if(!this.isDestroyed){var t,i,r=this.elements;lo(r.skipBtn),this.raiseCoreEvent(8),this.sendEvent(po.Skipped),js.includes(this.skipMode)?(this.engine.pause(!0),Pr(i=null===(e=this.engine.components.modules.acMenu)||void 0===e?void 0:e.closeMenu)&&i(),this.store.notDestroyOnDisconnect=!0,this.skipMode===Hr.skipWithClose&&this.store.proxyNode.remove(),(t=r.closeBtn)&&this.store.allowClose&&co(t)):this._closeBtnClick(),this._toggleWrapDisplay()}}}),Object.defineProperty(t.prototype,"_toggleWrapDisplay",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;!this.isDestroyed&&Cr(t=null===(e=this.node)||void 0===e?void 0:e.element)&&(t.style.display=Array.from(t.childNodes).some((function(e){return Cr(e)&&!getComputedStyle(e).display.includes("none")}))?"":"none")}}),Object.defineProperty(t.prototype,"_closeBtnClick",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||this.engine.close()}}),Object.defineProperty(t.prototype,"countdown",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){var e=this.store,t=this.elements,i=t.countdown,r=Math.max(0,e.allowCloseDelay-e.fullTime)||0;if(r>0){var o=String(Math.ceil(r));i.style.setProperty(this.getVar("--mk-dasharray"),"".concat(((e.fullTime+.35)/e.allowCloseDelay).toFixed(2)," 1")),i.dataset.restDelay=o}else lo(i),(this.skipMode&&(i=t.skipBtn)||(i=t.closeBtn))&&co(i),this.unSubscribe("fullTime"),this._toggleWrapDisplay()}}}),t}(Tn),Es={injector:function(){var e,t,i=this.store;try{var r=i.data.directContainer||!Cr(i.hostNode.parentElement)?i.hostNode:i.hostNode.parentElement;i.setProps({hostSize:to(r)}),i.hostSize.height||(i.hostSize.height=323),i.hostSize.width||(i.hostSize.height=626),r.innerHTML="",i.hostNode=r}catch(e){throw go.error("HostNode:",i.hostNode),go.error(e),Gr.error(318,{message:e.message})}(null===(e=i.hostSize)||void 0===e?void 0:e.width)||(i.hostSize={width:626,height:323}),i.upSize=i.initConfig.renderMode===Ur.extendable&&Dr(i.initConfig.maxHeight),i.proxyNode=Kr("div",{appendTo:i.hostNode}),i.upSize=Dr(i.initConfig.maxHeight),i.proxyNode.setAttribute(i.localId,""),i.proxyNode.classList.add(this.getClass("_mk_proxyNode")),i.proxyNode.setAttribute("adChoiceSize","L row");var o="stable";if(this.setProps(Tr({view:o})),i.proxyNode.setAttribute("view",o),xr(null===(t=i.globalInitConfig)||void 0===t?void 0:t.appApi)){var n=i.globalInitConfig.appApi.showModal;n&&(i.meta.handlers.showModal=n)}go.info("injector autoStart:",this.store.autoStart)},clicker:function(e,t,i){if(Er(i)){var r;if(this.store.data.creativeType.includes("lead_form")&&Pr(r=this.store.meta.handlers.showModal)&&!1!==this.store.data.openLinkInPopup){var o=new URL(i),n=o.search||o.hash.replace(/^#/,"")||i,a=this;return this.engine.pause(!0),void r(n,(function(){a.engine.resume(!0)}))}var s=this.store.data,l=s.disableOpenLink,d=s.disableOpenCTALink;l&&("ctabutton"!==t||d)||(this.engine.popup||window).open(i,"_blank")}},enforcers:In,builders:(xs={},xs[0]=On,xs[1]=jn,xs[3]=Ln,xs[7]=Is,xs[9]=Ts,xs[10]=Ls,xs),triggers:(As={},As[1]=En,As[2]=En,As[3]=Dn,As),workers:(Cs={},Cs[3]=Ps,Cs[2]=Vn,Cs[5]=Hn,Cs[6]=qn,Cs[7]=$n,Cs[8]=ta,Cs[9]=na,Cs)},Ns=_r(_r({},Qo),{onAction:function e(t,i,r,o){var n,a;switch(null==o||o.preventDefault(),null==o||o.stopPropagation(),t){case"showTab":this.elements.host.replaceChild(this.elements[i],this.currentTab),this.currentTab=this.elements[i],"closed"===r&&(this.sendEvent(po.Closed),this.sendEvent(po.ClosedByUser),this.raiseCoreEvent(9),e.call(this,"destroy"));break;case"closeMenu":this.closeTimeout=null,this.isOpen&&(this.element.style.display="none",this.store.rootNode.setCssAttr({menu:"close"}),this.store.isServiceHidden=!1,this.elements.hideForm=void 0,this.engine.resume(!0),this.isOpen=!1);break;case"hide":case"complain":Ko.call(this,t),e.call(this,"showTab",i,r);break;case"sendOther":this.sendReason(9,this.elements.textArea.value||""),e.call(this,"showTab","closed","closed");break;case"reasonItem":9!=i&&this.sendReason(i);var s=null===(a=null===(n=this.store)||void 0===n?void 0:n.proxyNode)||void 0===a?void 0:a.getAttribute("adChoiceSize"),l=(null==s?void 0:s.includes(Wr.tiny))||(null==s?void 0:s.includes(Wr.small))?"closed":r;e.call(this,"showTab",l,l);break;case"copy":if(Wo(r||"Not defined"),this.elements[i]instanceof HTMLElement){var d=this.elements[i].getElementsByTagName("span")[0]||this.elements[i];if(d instanceof HTMLElement){var c=d.innerText;d.innerText="Скопировано",setTimeout((function(){return d.innerText=c}),2e3)}}break;case"redirect":Er(r)&&window.open(r,"_blank");break;case"destroy":this.unmount()}}}),Ds={iconLink:"https://r.mradx.net/imgs/57/4d/cc7e37e5e603ef9c.svg",closeUrl:"",marker:"",tabs:{main:{header:"*",items:[{text:"Скрыть объявление",iconUrl:"https://r.mradx.net/imgs/63/8e/d4b28cc0b905374f.svg",name:"hide",action:"hide"},{text:"Пожаловаться",iconUrl:"https://r.mradx.net/imgs/cf/aa/a8655ac54f10b068.svg",name:"complain",action:"complain"},{text:"О рекламодателе",iconUrl:"https://r.mradx.net/imgs/ee/63/84ed4e4a5ae73316.svg",name:"about",action:"redirect",actionValue:""},{show:!0,text:"Скопировать ERID",iconUrl:"https://r.mradx.net/imgs/cf/e5/32db22916648f14d.svg",name:"copyErid",action:"copy",actionValue:"",external:!0},{text:"Скопировать ссылку",name:"copyUrl",action:"copy",actionValue:"",iconUrl:"https://r.mradx.net/imgs/b6/09/93a837dc06183017.svg"},{text:"Правила рекомендаций",name:"rules",action:"redirect",actionValue:"",iconUrl:"https://r.mradx.net/imgs/37/c0/ca37933876686dcd.svg"},{text:"VK Реклама",name:"VKAds",action:"redirect",classNames:["_mk_vkAds","_mk_adChoices_menuLine"],actionValue:"https://ads.vk.com/",iconUrl:"https://r.mradx.net/imgs/df/92/6fb16c27a25e2c38.svg"}]},hide:{header:"Уточните причину:",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",items:[{id:1,text:"Не интересно",action:"reasonItem",actionValue:"closed"},{id:2,text:"Уже приобретено",action:"reasonItem",actionValue:"closed"},{id:3,text:"Вижу слишком часто",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"closed"}]},complain:{header:"Уточните причину:",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",items:[{id:4,text:"Оскорбительное содержание",action:"reasonItem",actionValue:"closed"},{id:5,text:"Сексуальный подтекст",action:"reasonItem",actionValue:"closed"},{id:6,text:"Нарушение закона",action:"reasonItem",actionValue:"closed"},{id:7,text:"Мошеннический сайт",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"showTab",actionValue:"closed"}]},closed:{items:[{name:"closeTitle",id:"closeTitle"},{name:"closeInfo",id:"closeInfo"}]}},actions:Ns},Bs={iconLink:"https://r.mradx.net/imgs/57/4d/cc7e37e5e603ef9c.svg",tabs:{main:{header:"*",items:[{text:"Скрыть объявление",iconUrl:"https://r.mradx.net/imgs/63/8e/d4b28cc0b905374f.svg",name:"hide",action:"hide"},{text:"Пожаловаться",iconUrl:"https://r.mradx.net/imgs/cf/aa/a8655ac54f10b068.svg",name:"complain",action:"complain"},{text:"О рекламодателе",iconUrl:"https://r.mradx.net/imgs/ee/63/84ed4e4a5ae73316.svg",name:"about",action:"redirect",actionValue:""},{show:!0,text:"Скопировать ERID",iconUrl:"https://r.mradx.net/imgs/cf/e5/32db22916648f14d.svg",name:"copyErid",action:"copy",actionValue:"",external:!0},{text:"Скопировать ссылку",name:"copyUrl",action:"copy",actionValue:"",iconUrl:"https://r.mradx.net/imgs/b6/09/93a837dc06183017.svg"},{text:"Правила рекомендаций",name:"rules",action:"redirect",actionValue:"",iconUrl:"https://r.mradx.net/imgs/37/c0/ca37933876686dcd.svg"},{text:"VK Реклама",name:"VKAds",action:"redirect",actionValue:"https://ads.vk.com/",iconUrl:"https://r.mradx.net/imgs/df/92/6fb16c27a25e2c38.svg"}]},hide:{header:"Уточните причину:",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",items:[{id:1,text:"Не интересно",action:"reasonItem",actionValue:"closed"},{id:2,text:"Уже приобретено",action:"reasonItem",actionValue:"closed"},{id:3,text:"Вижу слишком часто",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"closed"}]},complain:{header:"Уточните причину:",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",items:[{id:4,text:"Оскорбительное содержание",action:"reasonItem",actionValue:"closed"},{id:5,text:"Сексуальный подтекст",action:"reasonItem",actionValue:"closed"},{id:6,text:"Нарушение закона",action:"reasonItem",actionValue:"closed"},{id:7,text:"Мошеннический сайт",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"showTab",actionValue:"closed"}]},closed:{items:[{name:"closeTitle",id:"closeTitle"},{name:"closeInfo",id:"closeInfo"}]}},actions:Ns},Rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"process",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.size,t=e.width,i=e.height;this.direction=+(t>i);var r=this.getVariant()||this.vars[0];r.direction=this.direction?"row":"column",r.stubHeightPx=0,r.stubDisplay="none";var o=0===this.direction&&i<550,n=this.store._media_ratio||this.store.aspectRatio||16/9,a=2*r.paddingPx||0,s=r.gapPx||0,l=this.engine.disclaimer?this.engine.disclaimer.resize(t,i,t-a).height+(r.disclaimerTopMarginPx||0):0;r.mainHeightPx=Math.floor(i-a-l),1===this.direction?(r.mediaHeightPx=r.mainHeightPx,r.mediaWidthPx=Math.floor((t-a-s)/2),r.infoWidthPx=Math.floor(t-r.mediaWidthPx-a-s),r.infoHeightPx=r.mainHeightPx):(r.mediaWidthPx=r.infoWidthPx=Math.floor(t-a),r.mediaHeightPx=Math.floor(Math.min((r.mainHeightPx-s)/2,r.mediaWidthPx/n)),r.infoHeightPx=r.mainHeightPx-r.mediaHeightPx-s-(o?0:r.ctaHeightPx+s));var d=vn({width:r.infoWidthPx,height:r.infoHeightPx-32-r.infoGapPx-(1===this.direction?r.ctaHeightPx+r.infoGapPx:0),gap:r.infoGapPx,charMap:this.store.meta.charWidths,lines:[{name:"title",fontSize:r.titleFsPx,lineHeight:r.titleLineHeightPx,words:this.store.calcText.title},{name:"description",fontSize:r.descFsPx,lineHeight:r.descLineHeightPx,words:this.store.calcText.description}]});0===this.direction&&(r.stubHeightPx=r.infoHeightPx,r.infoHeightPx=32+r.infoGapPx+d.title*r.titleLineHeightPx+d.description*r.descLineHeightPx+(d.description&&r.infoGapPx),r.stubHeightPx=Math.max(0,r.stubHeightPx-r.infoHeightPx-s),!o&&r.stubHeightPx&&(r.stubDisplay="block")),r.titleLines=d.title,r.descLines=d.description,this.setCssVars(r),this.store.proxyNode.setAttribute("view",r.direction),o?(r.progressHeightPx=0,this.store.rootNode.element.classList.add(this.getClass("_mk_ctaButtonOnMedia")),this.setProps({direction:"columnMini"})):(this.store.rootNode.element.classList.remove(this.getClass("_mk_ctaButtonOnMedia")),this.setProps({direction:r.direction}))}}),t}(Ps),zs={classPrefix:"_mk_is_",proxyClass:"_mk_is_proxyNode",deletionDetector:!0,clickArea:4096,noMutationObserver:!0,classMode:1,calcTextOnInit:["title","description"],producer:"base",disclaimerWeight:100,disclaimerWidth:"onPlace",contentWidth:548,disclaimerPaddings:0,tree:{root:{role:"background",ch:["mainArea","disclaimer","skipCloseButton"],tr:1,wr:[{e:3,LISTEN:"ready",LISTENGLOBAL:"_media_ratio",SIZE:"_root_size"}]},mainArea:{ch:["mediaWrap","infoWrap"]},mediaWrap:{ch:["media","mediaBackground","domainArea","control_wrapper"],role:"image"},media:{bl:1,tr:3,wr:[7,{e:8,replay:!0,mode:"master"}]},mediaBackground:{bl:{e:1,SRC:"$$media"},wr:{e:8,LISTEN:"media",mode:"slave"}},control_wrapper:{cl:["_mk_control_wrapper"],wr:{e:6,LISTEN:"media",TARGET:"*"}},domainArea:{ch:["icon","domain"],iif:[{e:1,prop:"domain"}]},icon:{bl:{e:1,SRC:"icon.src"},role:"icon",an:3,iif:[{e:1,prop:"icon"}]},domain:{wr:2,role:"domain"},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},infoWrap:{ch:["header","textArea","ctaButton"]},header:{ch:["headerIcon","headerLabel","adChoice"]},headerIcon:{txt:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path d="M0 7.2c0-3.4 0-5.1 1.05-6.15C2.11 0 3.8 0 7.2 0h.6c3.4 0 5.1 0 6.15 1.05C15 2.11 15 3.8 15 7.2v.6c0 3.4 0 5.1-1.05 6.15C12.89 15 11.2 15 7.8 15h-.6c-3.4 0-5.1 0-6.15-1.05C0 12.89 0 11.2 0 7.8Zm13-4.06a.6.6 0 0 1 .39 1.03l-1.41 1.4a.75.75 0 0 1-.62.22l-.96-.08-1.2 1.2a1.8 1.8 0 1 1-1.04-1.09l1.18-1.17-.12-1a.74.74 0 0 1 .22-.62l1.4-1.4a.6.6 0 0 1 1.03.37l.04 1.08Zm-5.1-.43a4.82 4.82 0 0 0-5.15 5.51 4.8 4.8 0 0 0 9.53-1.14l-1.6-.13a3.23 3.23 0 1 1-2.6-2.63Zm0 0" fill-rule="evenodd" fill="currentColor"/></svg>'},headerLabel:{role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},ch:"ageRestrictions",iif:{e:3,prop:"adLabel.show",value:!1}},ageRestrictions:{role:"agerestrictions",wr:2,iif:{e:1,prop:"ageRestrictions"}},adChoice:{role:"acMenu",txt:'<svg width="14" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 12.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM14 7A7 7 0 1 1 0 7a7 7 0 0 1 14 0Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 11a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5A.75.75 0 0 1 7 11Z" fill="currentColor"/><path d="M6.1 3.9a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0Z" fill="currentColor"/></svg>'},skipCloseButton:{bl:10},textArea:{ch:["title","description"],tr:1},title:{role:"title",wr:2},description:{role:"description",wr:2},ctaButton:{role:"ctabutton",tr:{e:3,mrc:{p:50,d:3}},wr:[{e:2,TEXT:"ctaText",default:"Перейти"},{e:9,LISTEN:"ready",action:"getMediaPalette",value:!0},{e:9,LISTEN:"mrcShow",action:"setCss",value:!0},{e:5,LISTEN:"direction",map:{row:"infoWrap",column:"mainArea",columnMini:"mediaWrap",_default:"infoWrap"}}]},stub:{}},mappingPro:{root:{size:{vars:{titleFsPx:[20,20,20],titleLineHeightPx:[24,24,24],descFsPx:[16,16,16],descLineHeightPx:[20,20,20],paddingPx:[16,16,20],gapPx:[12,12,20],infoGapPx:[6,6,6],disclaimerTopMarginPx:[16,16,16],ctaFsPx:[15,16,14],ctaLineHeightPx:[20,20,18],ctaHeightPx:[36,44,36],progressHeightPx:[1,2,3]},filterData:{pointsCnt:3,direction:[0,0,1],maxHeightOnCol:[550,9999,9999]},filters:{direction:function(e){return this.direction===e},maxHeightOnCol:function(e){return this.size.height<=e}},mapper:Rs}}},controls:{progress:{show:!0,classes:["_mk_control_progress"],renderBy:"progress"},flow:{show:!0,pos:"leftbottom",order:"1",classes:["_mk_control_icon","_mk_control_flow"],renderBy:"state"},volume:{show:!0,classes:["_mk_control_icon","_mk_control_volume"],renderBy:["muted","volume"],order:"5"}},defaults:{ageRestrictions:"0+",ctaText:"Перейти на сайт"},actions:{getMediaPalette:Ua,setCss:Ya},icons:{hide:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.96 5.5a.75.75 0 0 1 0-1.5c2.04 0 4.14.55 5.92 1.58C17.57 6.56 19 8.07 19 10c0 1-.4 1.9-1 2.66a.75.75 0 1 1-1.17-.94c.44-.55.67-1.13.67-1.72 0-1.13-.86-2.24-2.38-3.12A10.41 10.41 0 0 0 9.96 5.5ZM4.12 14.42C5.84 15.42 8.04 16 10 16c1.6 0 3.36-.39 4.87-1.07l.85.85a.75.75 0 1 0 1.06-1.06L5.28 3.22a.75.75 0 0 0-1.06 1.06l.82.82a8.95 8.95 0 0 0-2.57 1.72A4.5 4.5 0 0 0 1 10c0 1.93 1.43 3.44 3.12 4.42ZM8.5 10a1.5 1.5 0 0 0 2.53 1.1L8.91 8.96c-.25.27-.41.63-.41 1.03ZM7 10a3 3 0 0 0 5.1 2.15l1.63 1.64c-1.2.45-2.53.71-3.73.71-1.7 0-3.64-.51-5.12-1.38C3.36 12.24 2.5 11.13 2.5 10c0-.73.35-1.45 1.03-2.12a7.93 7.93 0 0 1 2.66-1.63L7.85 7.9A2.99 2.99 0 0 0 7 10Z" fill="#99A2AD"/></svg>',complain:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" fill="#99A2AD"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.38 3.36a2.76 2.76 0 0 0-4.76 0l-6.1 10.5A2.76 2.76 0 0 0 3.92 18h12.17a2.76 2.76 0 0 0 2.39-4.15l-6.1-10.49Zm3.7 13.14a1.26 1.26 0 0 0 1.1-1.9l-6.1-10.48s-.33-.63-1.08-.63-1.08.63-1.08.63L2.82 14.6a1.26 1.26 0 0 0 1.1 1.9h12.17Z" fill="#99A2AD"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10 6c.41 0 .75.33.75.75v4.5a.75.75 0 0 1-1.5 0v-4.5c0-.42.34-.75.75-.75Z" fill="#99A2AD"/></svg>',about:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.1 3H8.9c-1.14 0-1.91 0-2.5.05-.58.05-.85.13-1.03.22a2.5 2.5 0 0 0-1.1 1.1c-.09.18-.17.45-.22 1.02C4 6 4 6.76 4 7.9v4.2c0 1.14 0 1.91.05 2.5.05.58.13.85.22 1.04.24.47.62.85 1.1 1.09.18.09.45.17 1.02.22C7 17 7.76 17 8.9 17h2.2c1.14 0 1.91 0 2.5-.05.58-.05.85-.13 1.04-.22a2.5 2.5 0 0 0 1.09-1.1c.09-.18.17-.45.22-1.03.05-.59.05-1.36.05-2.5V7.9c0-1.14 0-1.91-.05-2.5a2.72 2.72 0 0 0-.22-1.03 2.5 2.5 0 0 0-1.1-1.1c-.18-.09-.45-.17-1.03-.22C13.02 3 12.25 3 11.1 3Zm-8.16.68c-.44.86-.44 1.98-.44 4.22v4.2c0 2.24 0 3.36.44 4.22a4 4 0 0 0 1.74 1.74c.86.44 1.98.44 4.22.44h2.2c2.24 0 3.36 0 4.22-.44a4 4 0 0 0 1.74-1.74c.44-.86.44-1.98.44-4.22V7.9c0-2.24 0-3.36-.44-4.22a4 4 0 0 0-1.74-1.74c-.86-.44-1.98-.44-4.22-.44H8.9c-2.24 0-3.36 0-4.22.44a4 4 0 0 0-1.74 1.74Z" fill="#99A2AD"/><path d="M12 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM6 11.25c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75ZM6 14.25c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#99A2AD"/></svg>',copyUrl:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.52 4.18c.9-.9 2.39-.9 3.3 0 .9.9.9 2.34 0 3.24l-.69.68a.75.75 0 0 0 1.06 1.06l.68-.68a3.77 3.77 0 0 0 0-5.37 3.86 3.86 0 0 0-5.4 0L8.12 6.4a3.77 3.77 0 0 0 0 5.37.75.75 0 1 0 1.05-1.06c-.9-.9-.9-2.35 0-3.25l3.34-3.3Z" fill="#99A2AD"/><path d="M7.48 15.82c-.9.9-2.39.9-3.3 0-.9-.9-.9-2.34 0-3.24l.69-.68a.75.75 0 0 0-1.06-1.06l-.68.68a3.77 3.77 0 0 0 0 5.37 3.86 3.86 0 0 0 5.4 0l3.34-3.3a3.77 3.77 0 0 0 0-5.37.75.75 0 0 0-1.05 1.06c.9.9.9 2.35 0 3.25l-3.34 3.3Z" fill="#99A2AD"/></svg>',copyErid:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9.2 3C7.91513 3 7.04169 3.00117 6.36656 3.05633C5.70893 3.11006 5.37263 3.20745 5.13803 3.32698C4.57354 3.6146 4.1146 4.07354 3.82698 4.63803C3.70745 4.87263 3.61006 5.20893 3.55633 5.86656C3.50117 6.54169 3.5 7.41513 3.5 8.7V11.3C3.5 11.8848 3.50117 12.2332 3.52227 12.4914C3.53128 12.6017 3.5423 12.6673 3.55 12.7028V12.8C3.55 13.5611 3.55 14.0636 3.61838 14.4418C3.41332 14.4096 3.24429 14.3596 3.09202 14.282C2.71569 14.0903 2.40973 13.7843 2.21799 13.408C2 12.9802 2 12.4201 2 11.3V8.7C2 6.17976 2 4.91965 2.49047 3.95704C2.9219 3.11031 3.61031 2.4219 4.45704 1.99047C5.41965 1.5 6.67976 1.5 9.2 1.5H11.2C12.3201 1.5 12.8802 1.5 13.308 1.71799C13.6843 1.90973 13.9903 2.21569 14.182 2.59202C14.2519 2.72915 14.2994 2.87986 14.3316 3.05824C13.9605 3 13.4714 3 12.75 3H9.2Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.1 7.7C5.1 6.5799 5.1 6.01984 5.31799 5.59202C5.50973 5.21569 5.81569 4.90973 6.19202 4.71799C6.61984 4.5 7.17989 4.5 8.3 4.5H14.3C15.4201 4.5 15.9802 4.5 16.408 4.71799C16.7843 4.90973 17.0903 5.21569 17.282 5.59202C17.5 6.01984 17.5 6.5799 17.5 7.7V15.3C17.5 16.4201 17.5 16.9802 17.282 17.408C17.0903 17.7843 16.7843 18.0903 16.408 18.282C15.9802 18.5 15.4201 18.5 14.3 18.5H8.3C7.1799 18.5 6.61984 18.5 6.19202 18.282C5.81569 18.0903 5.50973 17.7843 5.31799 17.408C5.1 16.9802 5.1 16.4201 5.1 15.3V7.7ZM8.3 6H14.3C14.8848 6 15.2332 6.00117 15.4914 6.02227C15.6491 6.03514 15.7153 6.05214 15.7331 6.05765C15.8224 6.10469 15.8953 6.17765 15.9424 6.26693C15.9479 6.28468 15.9649 6.35094 15.9777 6.50855C15.9988 6.76681 16 7.1152 16 7.7V15.3C16 15.8848 15.9988 16.2332 15.9777 16.4914C15.9649 16.6491 15.9479 16.7153 15.9424 16.7331C15.8953 16.8224 15.8224 16.8953 15.7331 16.9424C15.7153 16.9479 15.6491 16.9649 15.4914 16.9777C15.2332 16.9988 14.8848 17 14.3 17H8.3C7.7152 17 7.36681 16.9988 7.10855 16.9777C6.95094 16.9649 6.88469 16.9479 6.86693 16.9424C6.77765 16.8953 6.70469 16.8224 6.65765 16.7331C6.65214 16.7153 6.63514 16.6491 6.62227 16.4914C6.60117 16.2332 6.6 15.8848 6.6 15.3V7.7C6.6 7.1152 6.60117 6.76681 6.62227 6.50855C6.63514 6.35093 6.65214 6.28468 6.65765 6.26693C6.70469 6.17765 6.77765 6.10469 6.86693 6.05765C6.88468 6.05214 6.95094 6.03514 7.10855 6.02227C7.36681 6.00117 7.7152 6 8.3 6ZM15.7383 6.05945L15.7352 6.05833C15.7374 6.05904 15.7383 6.05943 15.7383 6.05945ZM15.9405 6.26175C15.9406 6.26169 15.941 6.26264 15.9417 6.26478L15.9405 6.26175ZM15.9405 16.7383L15.9417 16.7352C15.941 16.7373 15.9406 16.7383 15.9405 16.7383ZM15.7382 16.9405C15.7383 16.9406 15.7374 16.9409 15.7353 16.9417L15.7382 16.9405ZM6.86175 16.9405L6.86478 16.9417C6.86265 16.941 6.86169 16.9406 6.86175 16.9405ZM6.65945 16.7383C6.65943 16.7383 6.65904 16.7374 6.65833 16.7352L6.65945 16.7383ZM6.65945 6.26175L6.65833 6.26478C6.65904 6.26264 6.65943 6.26169 6.65945 6.26175ZM6.86214 6.05927C6.86185 6.05938 6.86212 6.05926 6.86214 6.05927L6.86478 6.05833C6.86347 6.05877 6.8626 6.05908 6.86214 6.05927Z" fill="#99A2AD"/>\n</svg>\n',rules:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10 9.25C10.4142 9.25 10.75 9.58579 10.75 10V14C10.75 14.4142 10.4142 14.75 10 14.75C9.58579 14.75 9.25 14.4142 9.25 14V10C9.25 9.58579 9.58579 9.25 10 9.25Z" fill="#99A2AD"/>\n<path d="M11 7C11 7.55228 10.5523 8 10 8C9.44772 8 9 7.55228 9 7C9 6.44772 9.44772 6 10 6C10.5523 6 11 6.44772 11 7Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.98959 3.98959C5.52697 2.45222 7.653 1.5 10 1.5C12.347 1.5 14.473 2.45222 16.0104 3.98959C17.5478 5.52697 18.5 7.653 18.5 10C18.5 12.347 17.5478 14.473 16.0104 16.0104C14.473 17.5478 12.347 18.5 10 18.5C7.653 18.5 5.52697 17.5478 3.98959 16.0104C2.45222 14.473 1.5 12.347 1.5 10C1.5 7.653 2.45222 5.52697 3.98959 3.98959ZM10 3C8.0668 3 6.31782 3.78268 5.05025 5.05025C3.78268 6.31782 3 8.0668 3 10C3 11.9332 3.78268 13.6822 5.05025 14.9497C6.31782 16.2173 8.0668 17 10 17C11.9332 17 13.6822 16.2173 14.9497 14.9497C16.2173 13.6822 17 11.9332 17 10C17 8.0668 16.2173 6.31782 14.9497 5.05025C13.6822 3.78268 11.9332 3 10 3Z" fill="#99A2AD"/>\n</svg>\n',VKAds:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 9.55712C1 5.52373 1 3.50308 2.25351 2.25351C3.50703 1.00395 5.52373 1 9.55712 1H10.4429C14.4763 1 16.493 1 17.7465 2.25351C19 3.50703 19 5.52373 19 9.55712V10.4429C19 14.4763 19 16.493 17.7465 17.7465C16.493 19 14.4763 19 10.4429 19H9.55712C5.52373 19 3.50703 19 2.25351 17.7465C1 16.493 1 14.4763 1 10.4429V9.55712Z" fill="#0077FF"/>\n<path d="M10.0002 16.2992C13.4796 16.2992 16.3002 13.4786 16.3002 9.99922C16.3002 6.51983 13.4796 3.69922 10.0002 3.69922C6.5208 3.69922 3.7002 6.51983 3.7002 9.99922C3.7002 13.4786 6.5208 16.2992 10.0002 16.2992Z" fill="#00D3E6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5829 3.25729V4.4128H16.7463C16.8939 4.41196 17.0384 4.45382 17.1618 4.53313C17.2852 4.61244 17.3819 4.72568 17.4399 4.85863C17.4978 4.99157 17.5143 5.13832 17.4874 5.28044C17.4605 5.42257 17.3914 5.55374 17.2886 5.65751L15.6947 7.27928C15.6247 7.35109 15.5405 7.40823 15.4473 7.44726C15.3541 7.48628 15.2537 7.50638 15.1524 7.50633H13.6454L12.0846 9.16053C12.2038 9.43906 12.2644 9.73832 12.2626 10.0403C12.2626 10.4774 12.1303 10.9046 11.8824 11.268C11.6344 11.6313 11.2821 11.9146 10.8698 12.0818C10.4575 12.249 10.0038 12.2928 9.56613 12.2075C9.12845 12.1223 8.72641 11.9118 8.41086 11.6028C8.09531 11.2938 7.88042 10.9001 7.79336 10.4714C7.7063 10.0428 7.75098 9.5985 7.92175 9.19474C8.09253 8.79098 8.38172 8.44588 8.75277 8.20308C9.12382 7.96027 9.56006 7.83068 10.0063 7.83068C10.2133 7.83065 10.4194 7.85793 10.619 7.91177L12.4117 5.98592V4.76959C12.4118 4.66937 12.4328 4.57023 12.4734 4.47821C12.514 4.3862 12.5733 4.30325 12.6476 4.23441L14.3037 2.69778C14.4107 2.60017 14.5445 2.53519 14.6887 2.51078C14.8328 2.48638 14.9811 2.5036 15.1155 2.56035C15.2498 2.6171 15.3644 2.71092 15.4452 2.83036C15.526 2.9498 15.5695 3.0897 15.5705 3.23297L15.5829 3.25729Z" fill="white"/>\n</svg>\n'},handlers:Es,adChoices:Bs,adChoicesFallback:Ds,serviceForest:{postView:{root:{cl:["_mk_postView"],ch:["icon","domain","countDown","closeButton","repeatButton","openLinkButton","openLinkCloseButton","mainText"]},icon:{tg:"img",cl:["_mk_PV_icon"],SRC:"banner.icon.src"},countDown:{html:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke-width="2" viewBox="-14 -14 28 28"><circle r="12" pathLength="1"></circle></svg>',cl:["_mk_PV_countDown"]},domain:{TXT:"banner.domain",txt:"Узнать больше",cl:["_mk_PV_domain"]},closeButton:{txt:"close",cl:["_mk_PV_closeButton"]},repeatButton:{txt:"repeat",cl:["_mk_PV_repeatButton"]},openLinkButton:{txt:"open",cl:["_mk_PV_openButton"]},openLinkCloseButton:{txt:"open&close",cl:["_mk_PV_openButton"]},mainText:{TXT:"text",cl:["_mk_PV_text"]}},postViewReplay:{root:{cl:["_mk_postViewReplay"],ch:["circle"]},circle:{cl:["_mk_PVR_circle"]}},skipCloseButton:{root:{ch:["closeBtn","countdown","skipBtn"],cl:["_mk_is_closeBtnWrap"],iif:{e:3,prop:"allowClose",value:!1}},countdown:{ha:{style:"display:none;"},cl:["_mk_is_closeDelayCountdown"],txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke-width="2" viewBox="-14 -14 28 28"><circle r="12" pathLength="1"></circle></svg>'},closeBtn:{ha:{style:"display:none;"},cl:["_mk_is_closeBtn"],txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.41 6.41c.3-.3.8-.3 1.1 0L11 9.91l3.49-3.5a.78.78 0 0 1 1.1 1.1L12.09 11l3.5 3.49a.78.78 0 0 1-1.1 1.1L11 12.09l-3.49 3.5a.78.78 0 0 1-1.1-1.1L9.91 11 6.4 7.51c-.3-.3-.3-.8 0-1.1Z" fill="currentColor"/></svg>'},skipBtn:{ha:{style:"display:none;"},cl:["_mk_is_skipBtn"],txt:'<svg width="20" height="20" viewBox="0 2 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14 10.8345V7.5C14 6.94772 14.4477 6.5 15 6.5C15.5522 6.5 16 6.94772 16 7.5V16.5C16 17.0523 15.5522 17.5 15 17.5C14.4477 17.5 14 17.0523 14 16.5V13.1655L5.85143 17.8341C5.02857 18.3055 4 17.7162 4 16.7733V7.22667C4 6.28379 5.02857 5.69448 5.85143 6.16592L14 10.8345Z" fill="currentColor"/>\n</svg>\n'}}},charWidths:pn(ha)},Vs=[[0,140],[400,150],[500,200],[800,250],[1400,400],[1600,550]],Hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gr(t,e),Object.defineProperty(t.prototype,"getDirection",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r=45+7*Math.round(e.height/40),o=Do(e.width,Vs),n=e.height-r-t,a=e.width-o;return n*Math.round(n*i)>=a*Math.round(a/i)?0:1}}),Object.defineProperty(t.prototype,"process",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this.isDestroyed){var t=this.size,i=t.width,r=t.height;this.direction=this.isMobile?0:this.getDirection(this.size,0,this.ratio),this.view=this.isMobile?"mobile":this.store.isFullscreen?"fullscreen":"onpage",this.store.rootNode.element.setAttribute("view",this.view),this.store.rootNode.element.setAttribute("direction",this.direction?"row":"column");var o=this.getVariant()||this.vars[0];this.store.rootNode.element.setAttribute("layout",String(o.layout));var n=2*o.rootPaddingPx||0,a=Math.max(+this.store.initConfig.maxHeight||0,r);this.store.disclaimerPaddings=o.horPaddingPx;var s=0===this.direction&&Boolean(this.engine.disclaimer);o.bottomPaddingPx=s?0:o.vertPaddingPx;var l=this.engine.disclaimer?this.engine.disclaimer.resize(i,a,i-n).height+(this.store.isFullscreen?o.rootPaddingPx:0):0,d=Math.floor(i-n),c=18+3*o.gapPx+o.textCtaHeightPx,u=Math.floor(r-n-l),h=0,p="mediaWrap",m="infoWrap",b=a-n-l;this.hasTextBlock?0==this.direction?(o.direction="column",b-=o.areaGapPx,o.infoWidthPx=o.mediaWidthPx=d,o.mediaHeightPx=Math.floor(Math.min(o.mediaWidthPx/this.ratio,.7*b,b-c-o.titleLineHeightPx-o.vertPaddingPx*(s?1:2))),o.infoHeightPx=Math.floor(b-o.mediaHeightPx)):(o.direction="row",d-=o.areaGapPx,o.infoHeightPx=o.mediaHeightPx=b,o.mediaWidthPx=Vo(d/2,.7*d,b*this.ratio,!0),o.infoWidthPx=Math.floor(d-o.mediaWidthPx-o.rootPaddingPx)):(o.infoWidthPx=o.infoHeightPx=0,o.mediaWidthPx=d,o.mediaHeightPx=Math.floor(Math.max(u,Math.min(o.mediaWidthPx/this.ratio,b-o.areaGapPx))));var f=this.hasTextBlock?vn({width:o.infoWidthPx-(2*o.horPaddingPx||0),height:o.infoHeightPx-c-(o.vertPaddingPx*(s?1:2)||0),gap:o.gapPx,charMap:this.store.meta.charWidths,lines:[{name:"title",fontSize:o.titleFsPx,lineHeight:o.titleLineHeightPx,words:this.store.calcText.title},{name:"description",fontSize:o.descFsPx,lineHeight:o.descLineHeightPx,words:this.store.calcText.description}]}):Or();o.titleLines=f.title||0,o.descLines=f.description||0;var v=Math.floor(o.mediaWidthPx/this.ratio);o.descDisplay=this.noData.description||!o.descLines?"none":"block",this.hasTextBlock&&(p="adChoicePlace",0==this.direction?(h=o.titleLines*o.titleLineHeightPx+o.descLines*o.descLineHeightPx+(o.descLines?o.gapPx:0),o.infoHeightPx=h+c+(o.areaGapPx?0:2*o.vertPaddingPx),o.mediaHeightPx=Vo(b-o.infoHeightPx-o.areaGapPx,v,o.mediaHeightPx,!0),u=o.infoHeightPx+o.mediaHeightPx+2*o.rootPaddingPx+o.areaGapPx):u=o.mediaHeightPx=o.infoHeightPx=Vo(u,b,v,!0));var g=this.engine.disclaimer?this.engine.disclaimer.resize(i,u+n+(o.gapPx||0),i-n,!0).height+(this.store.isFullscreen?o.rootPaddingPx:0):0;u+=g,o.mainHeightPx=u+n,this.isSizeUp=o.mainHeightPx>r,this.isSizeUp&&(this.store._root_size.height=o.mainHeightPx,this.store.skipResize=!0,setTimeout((function(){return e.store&&(e.store.parentElement.style.height=o.mainHeightPx+"px")}),35)),this.hasTextBlock&&0===this.direction?o.infoHeightPx=u-o.mediaHeightPx-g-o.areaGapPx:this.hasTextBlock&&1===this.direction&&(o.infoHeightPx=o.mediaHeightPx=u-g),this.hasTextBlock&&o.infoWidthPx<360&&(o.textCtaWidth="100%"),this.hasTextBlock&&h+40<.5*o.infoHeightPx&&(m="textArea"),o.addXOffsetPx=this.store.allowClose?37:0,this.setCssVars(o),this.setProps({_media_size:{width:o.mediaWidthPx,height:o.mediaHeightPx},headerPlace:p,ctaInfoButtonPlace:m})}}}),t}(Ps),Ws={classPrefix:"_mk_rw_",tree:{root:{role:"background",ch:["workArea","disclaimer","closeBtnWrap"],tr:1,wr:[{e:3,LISTEN:"ready",LISTENGLOBAL:"_media_ratio",SIZE:"_root_size"}]},workArea:{ch:["mediaWrap","vpaidWrap","infoWrap"]},mediaWrap:{ch:["media","mediaBackground","header","ctaArea","controls"],role:"image",iif:{e:2,prop:"vpaid.src"}},media:{bl:{e:1,destroyOnError:!0},tr:3,wr:[7,{e:8,replay:!0,mode:"master"}]},mediaBackground:{bl:{e:1,SRC:"$$media"},wr:{e:8,LISTEN:"media",mode:"slave"}},vpaidWrap:{ch:["vpaidRunner","vpaidControls","vpaidHeader"],iif:{e:1,prop:"vpaid.src"}},vpaidRunner:{bl:7},vpaidControls:{wr:{e:6,LISTEN:"vpaidRunner"}},controls:{wr:{e:6,LISTEN:"media"}},infoWrap:{ch:["adChoicePlace","textArea","ctaInfoButtonWrap"],iif:{e:1,prop:"title"}},adChoicePlace:{},textArea:{ch:["title","description"],tr:1},title:{role:"title",wr:{e:2,action:"clearEscSeq"},an:1},description:{role:"description",wr:{e:2,action:"clearEscSeq"},iif:{e:1,prop:"description"}},ctaInfoButtonWrap:{ch:["ctaInfoButton"],wr:[{e:5,LISTEN:"ctaInfoButtonPlace"}]},ctaInfoButton:{role:"ctabutton",wr:{e:2,TEXT:"ctaText",default:"Перейти"}},header:{ch:["headerIcon","headerLabel","adChoice"],wr:[{e:5,LISTEN:"headerPlace"}]},vpaidHeader:{ch:["headerIcon","headerLabel","adChoice"]},headerIcon:{txt:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path d="M0 7.2c0-3.4 0-5.1 1.05-6.15C2.11 0 3.8 0 7.2 0h.6c3.4 0 5.1 0 6.15 1.05C15 2.11 15 3.8 15 7.2v.6c0 3.4 0 5.1-1.05 6.15C12.89 15 11.2 15 7.8 15h-.6c-3.4 0-5.1 0-6.15-1.05C0 12.89 0 11.2 0 7.8Zm13-4.06a.6.6 0 0 1 .39 1.03l-1.41 1.4a.75.75 0 0 1-.62.22l-.96-.08-1.2 1.2a1.8 1.8 0 1 1-1.04-1.09l1.18-1.17-.12-1a.74.74 0 0 1 .22-.62l1.4-1.4a.6.6 0 0 1 1.03.37l.04 1.08Zm-5.1-.43a4.82 4.82 0 0 0-5.15 5.51 4.8 4.8 0 0 0 9.53-1.14l-1.6-.13a3.23 3.23 0 1 1-2.6-2.63Zm0 0" fill-rule="evenodd" fill="currentColor"/></svg>'},headerLabel:{role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},ch:"ageRestrictions",iif:{e:3,prop:"adLabel.show",value:!1}},ageRestrictions:{role:"agerestrictions",wr:2,iif:{e:1,prop:"ageRestrictions"}},adChoice:{role:"acMenu",txt:'<svg width="14" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 12.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM14 7A7 7 0 1 1 0 7a7 7 0 0 1 14 0Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 11a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5A.75.75 0 0 1 7 11Z" fill="currentColor"/><path d="M6.1 3.9a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0Z" fill="currentColor"/></svg>'},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},disclaimerColumn:{bl:{e:3,view:"column",SRC:"media"},role:"disclaimer"},disclaimerRow:{bl:{e:3,view:"row"},role:"disclaimer"},ctaArea:{ch:["ctaLogo","ctaLinkText","ctaButton"],iif:[{e:2,prop:"title"}]},ctaLogo:{bl:{e:1,SRC:"icon.src"},role:"icon",an:3,iif:[{e:1,prop:"icon"}]},ctaLinkText:{wr:{e:2,TEXT:"cta.buttonLinkText"},role:"domain"},ctaButton:{role:"ctabutton",ch:["ctaText"]},ctaText:{wr:{e:2,default:"Перейти"}},closeBtnWrap:{role:"closeBanner",ch:["closeBtn","closeDelayCountdown"],iif:[{e:5,prop:"allowClose",value:!0}]},closeDelayCountdown:{role:"nothing",txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke-width="2" viewBox="-14 -14 28 28"><circle r="12" pathLength="1"></circle></svg>',wr:{e:9,LISTENGLOBAL:"fullTime",action:"onTimerForCloseDelay"}},closeBtn:{txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.41 6.41c.3-.3.8-.3 1.1 0L11 9.91l3.49-3.5a.78.78 0 0 1 1.1 1.1L12.09 11l3.5 3.49a.78.78 0 0 1-1.1 1.1L11 12.09l-3.49 3.5a.78.78 0 0 1-1.1-1.1L9.91 11 6.4 7.51c-.3-.3-.3-.8 0-1.1Z" fill="currentColor"/>\n</svg>'}},mappingPro:{root:{size:{vars:{titleFsPx:[20,24,24,20],titleLineHeightPx:[24,30,30,24],descFsPx:[16,15,15,15],descLineHeightPx:[20,20,20,20],rootPaddingPx:[0,0,0,20],horPaddingPx:[16,24,20,0],vertPaddingPx:[16,20,20,0],areaGapPx:[0,0,0,20],gapPx:[6,12,16,6],logoSizePx:[16,20,20,20],textCtaHeightPx:[44,40,40,40],textCtaRadiusPx:[8,12,12,12],textCtaFSPx:[16,15,15,15],textCtaTopMarginPx:[16,16,16,40],menuOffsetPx:[16,16,16,12],rootRadiusPx:[0,12,12,12],layout:[100,200,300,400]},filterData:{pointsCnt:4,view:["mobile","onpage","onpage","fullscreen"],direction:["*",0,1,"*"]},filters:{view:function(e){return this.view===e},direction:function(e){return this.direction===e||"*"===e}},mapper:Hs}}},allowClose:!1,serviceForest:{postView:{root:{ch:[1,2,5]}}},closeOnCompleted:!0,calcTextOnInit:["title","description"],toCheck:["title","description","domain","icon","aboutCompany"],controls:{progress:{show:!0,classes:["_mk_control_progress"],renderBy:"progress",order:"1"},volume:{show:!0,classes:["_mk_control_icon","_mk_control_volume"],renderBy:["muted","volume"],order:"5",pos:"common"},flow:{show:!1}},wrappers:{common:["_mk_rw_rightBottomWrap"]}};Object.setPrototypeOf(Ws,zs);var Fs,Us,Ys,Gs=function(e,t){return zo(e/t)*t};function Zs(e,t,i,r){for(var o=4*r,n=Or(),a=0;a<e.length;a+=o){var s=[Gs(e[a],t),Gs(e[a+1],t),Gs(e[a+2],t),1],l=s[0]<<16|s[1]<<8|s[2];n[l]?n[l][3]+=1:n[l]=s}var d,c=Object.values(n).sort((function(e,t){return t[3]-e[3]})).slice(0,i).map(Qs).filter(Ks).sort(qs);return Sr(c)&&c[0]?(d=function(e){for(var t=el(e),i=el([1,1,1]),r=$s(t,i),o=e;r<3.57&&(r=$s(t=el(o=[Vo(o[0]-.02,0,1),Vo(o[1]-.02,0,1),Vo(o[2]-.02,0,1)]),i),1!==o[0]||1!==o[1]||1!==o[2]););return o}(function(e){var t=e[0],i=e[1],r=e[2];if(0===i){var o=255*r;return[o,o,o]}var n=r<.5?r*(1+i):r+i-r*i,a=2*r-n;return[Js(a,n,t+1/3),Js(a,n,t),Js(a,n,t-1/3)]}(c[0])),"#".concat(il(d[0])).concat(il(d[1])).concat(il(d[2])).toUpperCase()):null}function Xs(e){return new Promise((function(t,i){var r=document.createElement("canvas"),o=r.getContext("2d",{willReadFrequently:!0}),n=new Image;n.onload=function(){var e;r.height=n.height,r.width=n.width,e=function(){if(!o)return i();o.drawImage(n,0,0);var e=o.getImageData(0,0,n.width,n.height);t(e.data)},"requestIdleCallback"in window?window.requestIdleCallback(e):"requestAnimationFrame"in window?window.requestAnimationFrame(e):setTimeout(e,0)},n.onerror=i,n.crossOrigin="",n.src=e}))}function Qs(e){var t=e[0]/255,i=e[1]/255,r=e[2]/255,o=Math.max(t,i,r),n=Math.min(t,i,r),a=(o+n)/2;if(o===n)return[0,0,a];var s=o-n,l=0;return o===t?l=(i-r)/s+(i<r?6:0):o===i?l=(r-t)/s+2:o===r&&(l=(t-i)/s+4),[l/6,a>.5?s/(2-o-n):s/(o+n),a]}function Ks(e){var t=e[1],i=e[2];return!(t<.2||t<.3&&(i>.55||i<.35)||t<.4&&(i>.57||i<.33)||t<.5&&(i>.64||i<.31)||t<.6&&(i>.7||i<.28)||t<.7&&(i>.73||i<.21)||t<.8&&(i>.76||i<.19)||t<.9&&(i>.79||i<.17)||i>.85||i<.15)}function qs(e,t){var i=e[1],r=e[2],o=t[1],n=t[2];return o===i?n-r:o-i}function Js(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function $s(e,t){return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)}function el(e){return.2126*tl(e[0])+.7152*tl(e[1])+.0722*tl(e[2])}function tl(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function il(e){var t=zo(255*e).toString(16);return 1===t.length?"0".concat(t):t}var rl={postInjector:function(){var e=this;this.store.proxyNode.setAttribute("isMobile","".concat(Jr())),this.store.proxyNode.setAttribute("adChoiceSize","L row"),this.setProps({view:"stable"}),this.store.proxyNode.setAttribute(this.store.localId,""),this.element.setAttribute("view","stable"),this.store.subscribe("_root_size",(function(){var t=e.store._root_size;e.store.rootNode.setCssStyle(void 0,{"--media-width":"".concat(t.width,"px"),"--media-height":"".concat(t.height,"px")})}))},enforcers:In,colorExtractor:function(e){return yr(this,void 0,void 0,(function(){return wr(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Xs(e)];case 1:return[2,Zs(t.sent(),40,20,10)];case 2:return t.sent(),[3,3];case 3:return[2,null]}}))}))},builders:(Fs={},Fs[0]=On,Fs[1]=jn,Fs[3]=Ln,Fs),triggers:(Us={},Us[1]=En,Us[2]=En,Us[3]=Dn,Us),workers:(Ys={},Ys[2]=Vn,Ys[6]=qn,Ys[7]=$n,Ys[8]=ta,Ys[9]=na,Ys)},ol={getMediaPalette:Ua,setCss:Ya},nl=_r({},Qo),al={classMode:1,producer:"base",disclaimerWeight:100,useThemes:["light","dark"],disclaimerWidth:"onPlace",disclaimerPaddings:0,classPrefix:"_mk_answ_",proxyClass:"_mk_answ_proxyNode",tree:{root:{ch:["workArea"],role:"background",tr:1},workArea:{ch:["header","ctaWrapper","infoArea","disclaimer"]},ctaWrapper:{ch:["mediaWrap","cta"]},mediaWrap:{ch:["media","mediaBackground"],role:"image"},media:{bl:1,tr:3,role:"image",wr:[7,{e:8,replay:!0,mode:"master"}]},mediaBackground:{bl:{e:1,SRC:"$$media"},wr:{e:8,LISTEN:"media",mode:"slave"}},infoArea:{ch:["infoWrap"]},infoWrap:{ch:["textArea"]},textArea:{ch:["description"],tr:1},description:{role:"description",wr:{e:2,TEXT:"description",initLinesShow:5,maxFirstLinesShow:3}},disclaimer:{bl:{e:3,view:"stable"},role:"disclaimer"},menu:{role:"acMenu",txt:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 16a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm7 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0ZM23 18.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z" fill="white"/></svg>'},header:{ch:["headerInfo","menu"]},headerInfo:{ch:["iconWrap","headerInfoWrap"]},iconWrap:{role:"icon",ch:"icon"},icon:{bl:{e:1,SRC:"icon.src"}},headerInfoWrap:{ch:["headerTitleWrap","headerSubtitle"]},headerTitleWrap:{ch:"headerTitle"},headerTitle:{tg:"span",role:"title",st:{fontWeight:"500"},wr:{e:2,TEXT:"title"}},headerSubtitle:{ch:["headerSubtitleText","ageRestrictions"],iif:{e:3,prop:"adLabel.show",value:!1},st:{flexDirection:"row"}},headerSubtitleText:{role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},st:{display:"flex",flexDirection:"row"}},ageRestrictions:{role:"agerestrictions",wr:{e:2,TEXT:"ageRestrictions",role:"ageRestrictions"},iif:{e:1,prop:"ageRestrictions"}},cta:{tg:"span",ch:[169]},169:{cl:["_mk_answ_adaptive_button"],tr:{e:3,mrc:{p:50,d:3}},wr:[{e:9,LISTEN:"ready",action:"getMediaPalette",value:!0},{e:9,LISTEN:"mrcShow",action:"setCss",value:!0}],ch:[170]},170:{cl:["_mk_answ_adaptive_button_content"],ch:[171,172]},171:{wr:{e:2,TEXT:"ctaText",default:"Перейти"}},172:{cl:["_mk_answ_adaptive_button_content_arrow"],txt:'<svg fill="none" height="20" viewBox="0 0 12 16" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m4.77 8 3.37 3.36a.9.9 0 1 1-1.28 1.28l-4-4a.9.9 0 0 1 0-1.28l4-4a.9.9 0 1 1 1.28 1.28z" fill="currentColor"></path></svg>'},ctaButtonIcon:{tg:"span",txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16"><path d="M7.23 8 3.86 4.64a.9.9 0 0 1 1.28-1.28l4 4a.9.9 0 0 1 0 1.28l-4 4a.9.9 0 1 1-1.28-1.28L7.23 8Z" fill="#fff"/></svg>'}},defaults:{ageRestrictions:"0+",ctaText:"Перейти на сайт"},handlers:rl,serviceForest:{splitContent:{root:{mixRoot:!0,ch:[1,"moreTextBtn",5]},1:{tg:"span",cl:["shortDesc"],TXT:"first"},moreTextBtn:{tg:"button",cl:["moreTextBtn"],fn:{onclick:function(e){e.preventDefault(),e.stopPropagation(),"true"===this.dataset.swapped?(this.dataset.swapped="false",this.parentNode.insertBefore(this,this.previousSibling),this.nextSibling.style.display="none",this.children[1].classList.add("moreTextHover"),this.children[1].textContent="Раскрыть",this.children[1].style.padding="6px 16px",this.style.justifyContent="center",this.children[0].style.display="flex"):(this.dataset.swapped="true",this.parentNode.insertBefore(this.nextSibling,this),this.previousSibling.style.display="inline",this.children[1].classList.remove("moreTextHover"),this.children[1].textContent="Свернуть",this.children[1].style.padding="6px 0",this.style.justifyContent="start",this.children[0].style.display="none")}},ch:["moreTextBtnGradient","moreText"]},moreTextBtnGradient:{cl:["moreTextBtnGradient"]},moreText:{cl:["moreText","moreTextHover"],txt:"Раскрыть"},5:{tg:"span",ha:{style:"display:none"},cl:["fullDesc"],TXT:"rest"}}},icons:{hide:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.96 5.5a.75.75 0 0 1 0-1.5c2.04 0 4.14.55 5.92 1.58C17.57 6.56 19 8.07 19 10c0 1-.4 1.9-1 2.66a.75.75 0 1 1-1.17-.94c.44-.55.67-1.13.67-1.72 0-1.13-.86-2.24-2.38-3.12A10.41 10.41 0 0 0 9.96 5.5ZM4.12 14.42C5.84 15.42 8.04 16 10 16c1.6 0 3.36-.39 4.87-1.07l.85.85a.75.75 0 1 0 1.06-1.06L5.28 3.22a.75.75 0 0 0-1.06 1.06l.82.82a8.95 8.95 0 0 0-2.57 1.72A4.5 4.5 0 0 0 1 10c0 1.93 1.43 3.44 3.12 4.42ZM8.5 10a1.5 1.5 0 0 0 2.53 1.1L8.91 8.96c-.25.27-.41.63-.41 1.03ZM7 10a3 3 0 0 0 5.1 2.15l1.63 1.64c-1.2.45-2.53.71-3.73.71-1.7 0-3.64-.51-5.12-1.38C3.36 12.24 2.5 11.13 2.5 10c0-.73.35-1.45 1.03-2.12a7.93 7.93 0 0 1 2.66-1.63L7.85 7.9A2.99 2.99 0 0 0 7 10Z" fill="#99A2AD"/></svg>',complain:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" fill="#99A2AD"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.38 3.36a2.76 2.76 0 0 0-4.76 0l-6.1 10.5A2.76 2.76 0 0 0 3.92 18h12.17a2.76 2.76 0 0 0 2.39-4.15l-6.1-10.49Zm3.7 13.14a1.26 1.26 0 0 0 1.1-1.9l-6.1-10.48s-.33-.63-1.08-.63-1.08.63-1.08.63L2.82 14.6a1.26 1.26 0 0 0 1.1 1.9h12.17Z" fill="#99A2AD"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10 6c.41 0 .75.33.75.75v4.5a.75.75 0 0 1-1.5 0v-4.5c0-.42.34-.75.75-.75Z" fill="#99A2AD"/></svg>',about:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.1 3H8.9c-1.14 0-1.91 0-2.5.05-.58.05-.85.13-1.03.22a2.5 2.5 0 0 0-1.1 1.1c-.09.18-.17.45-.22 1.02C4 6 4 6.76 4 7.9v4.2c0 1.14 0 1.91.05 2.5.05.58.13.85.22 1.04.24.47.62.85 1.1 1.09.18.09.45.17 1.02.22C7 17 7.76 17 8.9 17h2.2c1.14 0 1.91 0 2.5-.05.58-.05.85-.13 1.04-.22a2.5 2.5 0 0 0 1.09-1.1c.09-.18.17-.45.22-1.03.05-.59.05-1.36.05-2.5V7.9c0-1.14 0-1.91-.05-2.5a2.72 2.72 0 0 0-.22-1.03 2.5 2.5 0 0 0-1.1-1.1c-.18-.09-.45-.17-1.03-.22C13.02 3 12.25 3 11.1 3Zm-8.16.68c-.44.86-.44 1.98-.44 4.22v4.2c0 2.24 0 3.36.44 4.22a4 4 0 0 0 1.74 1.74c.86.44 1.98.44 4.22.44h2.2c2.24 0 3.36 0 4.22-.44a4 4 0 0 0 1.74-1.74c.44-.86.44-1.98.44-4.22V7.9c0-2.24 0-3.36-.44-4.22a4 4 0 0 0-1.74-1.74c-.86-.44-1.98-.44-4.22-.44H8.9c-2.24 0-3.36 0-4.22.44a4 4 0 0 0-1.74 1.74Z" fill="#99A2AD"/><path d="M12 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM6 11.25c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75ZM6 14.25c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#99A2AD"/></svg>',copyUrl:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.52 4.18c.9-.9 2.39-.9 3.3 0 .9.9.9 2.34 0 3.24l-.69.68a.75.75 0 0 0 1.06 1.06l.68-.68a3.77 3.77 0 0 0 0-5.37 3.86 3.86 0 0 0-5.4 0L8.12 6.4a3.77 3.77 0 0 0 0 5.37.75.75 0 1 0 1.05-1.06c-.9-.9-.9-2.35 0-3.25l3.34-3.3Z" fill="#99A2AD"/><path d="M7.48 15.82c-.9.9-2.39.9-3.3 0-.9-.9-.9-2.34 0-3.24l.69-.68a.75.75 0 0 0-1.06-1.06l-.68.68a3.77 3.77 0 0 0 0 5.37 3.86 3.86 0 0 0 5.4 0l3.34-3.3a3.77 3.77 0 0 0 0-5.37.75.75 0 0 0-1.05 1.06c.9.9.9 2.35 0 3.25l-3.34 3.3Z" fill="#99A2AD"/></svg>',copyErid:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9.2 3C7.91513 3 7.04169 3.00117 6.36656 3.05633C5.70893 3.11006 5.37263 3.20745 5.13803 3.32698C4.57354 3.6146 4.1146 4.07354 3.82698 4.63803C3.70745 4.87263 3.61006 5.20893 3.55633 5.86656C3.50117 6.54169 3.5 7.41513 3.5 8.7V11.3C3.5 11.8848 3.50117 12.2332 3.52227 12.4914C3.53128 12.6017 3.5423 12.6673 3.55 12.7028V12.8C3.55 13.5611 3.55 14.0636 3.61838 14.4418C3.41332 14.4096 3.24429 14.3596 3.09202 14.282C2.71569 14.0903 2.40973 13.7843 2.21799 13.408C2 12.9802 2 12.4201 2 11.3V8.7C2 6.17976 2 4.91965 2.49047 3.95704C2.9219 3.11031 3.61031 2.4219 4.45704 1.99047C5.41965 1.5 6.67976 1.5 9.2 1.5H11.2C12.3201 1.5 12.8802 1.5 13.308 1.71799C13.6843 1.90973 13.9903 2.21569 14.182 2.59202C14.2519 2.72915 14.2994 2.87986 14.3316 3.05824C13.9605 3 13.4714 3 12.75 3H9.2Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.1 7.7C5.1 6.5799 5.1 6.01984 5.31799 5.59202C5.50973 5.21569 5.81569 4.90973 6.19202 4.71799C6.61984 4.5 7.17989 4.5 8.3 4.5H14.3C15.4201 4.5 15.9802 4.5 16.408 4.71799C16.7843 4.90973 17.0903 5.21569 17.282 5.59202C17.5 6.01984 17.5 6.5799 17.5 7.7V15.3C17.5 16.4201 17.5 16.9802 17.282 17.408C17.0903 17.7843 16.7843 18.0903 16.408 18.282C15.9802 18.5 15.4201 18.5 14.3 18.5H8.3C7.1799 18.5 6.61984 18.5 6.19202 18.282C5.81569 18.0903 5.50973 17.7843 5.31799 17.408C5.1 16.9802 5.1 16.4201 5.1 15.3V7.7ZM8.3 6H14.3C14.8848 6 15.2332 6.00117 15.4914 6.02227C15.6491 6.03514 15.7153 6.05214 15.7331 6.05765C15.8224 6.10469 15.8953 6.17765 15.9424 6.26693C15.9479 6.28468 15.9649 6.35094 15.9777 6.50855C15.9988 6.76681 16 7.1152 16 7.7V15.3C16 15.8848 15.9988 16.2332 15.9777 16.4914C15.9649 16.6491 15.9479 16.7153 15.9424 16.7331C15.8953 16.8224 15.8224 16.8953 15.7331 16.9424C15.7153 16.9479 15.6491 16.9649 15.4914 16.9777C15.2332 16.9988 14.8848 17 14.3 17H8.3C7.7152 17 7.36681 16.9988 7.10855 16.9777C6.95094 16.9649 6.88469 16.9479 6.86693 16.9424C6.77765 16.8953 6.70469 16.8224 6.65765 16.7331C6.65214 16.7153 6.63514 16.6491 6.62227 16.4914C6.60117 16.2332 6.6 15.8848 6.6 15.3V7.7C6.6 7.1152 6.60117 6.76681 6.62227 6.50855C6.63514 6.35093 6.65214 6.28468 6.65765 6.26693C6.70469 6.17765 6.77765 6.10469 6.86693 6.05765C6.88468 6.05214 6.95094 6.03514 7.10855 6.02227C7.36681 6.00117 7.7152 6 8.3 6ZM15.7383 6.05945L15.7352 6.05833C15.7374 6.05904 15.7383 6.05943 15.7383 6.05945ZM15.9405 6.26175C15.9406 6.26169 15.941 6.26264 15.9417 6.26478L15.9405 6.26175ZM15.9405 16.7383L15.9417 16.7352C15.941 16.7373 15.9406 16.7383 15.9405 16.7383ZM15.7382 16.9405C15.7383 16.9406 15.7374 16.9409 15.7353 16.9417L15.7382 16.9405ZM6.86175 16.9405L6.86478 16.9417C6.86265 16.941 6.86169 16.9406 6.86175 16.9405ZM6.65945 16.7383C6.65943 16.7383 6.65904 16.7374 6.65833 16.7352L6.65945 16.7383ZM6.65945 6.26175L6.65833 6.26478C6.65904 6.26264 6.65943 6.26169 6.65945 6.26175ZM6.86214 6.05927C6.86185 6.05938 6.86212 6.05926 6.86214 6.05927L6.86478 6.05833C6.86347 6.05877 6.8626 6.05908 6.86214 6.05927Z" fill="#99A2AD"/>\n</svg>\n',rules:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10 9.25C10.4142 9.25 10.75 9.58579 10.75 10V14C10.75 14.4142 10.4142 14.75 10 14.75C9.58579 14.75 9.25 14.4142 9.25 14V10C9.25 9.58579 9.58579 9.25 10 9.25Z" fill="#99A2AD"/>\n<path d="M11 7C11 7.55228 10.5523 8 10 8C9.44772 8 9 7.55228 9 7C9 6.44772 9.44772 6 10 6C10.5523 6 11 6.44772 11 7Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.98959 3.98959C5.52697 2.45222 7.653 1.5 10 1.5C12.347 1.5 14.473 2.45222 16.0104 3.98959C17.5478 5.52697 18.5 7.653 18.5 10C18.5 12.347 17.5478 14.473 16.0104 16.0104C14.473 17.5478 12.347 18.5 10 18.5C7.653 18.5 5.52697 17.5478 3.98959 16.0104C2.45222 14.473 1.5 12.347 1.5 10C1.5 7.653 2.45222 5.52697 3.98959 3.98959ZM10 3C8.0668 3 6.31782 3.78268 5.05025 5.05025C3.78268 6.31782 3 8.0668 3 10C3 11.9332 3.78268 13.6822 5.05025 14.9497C6.31782 16.2173 8.0668 17 10 17C11.9332 17 13.6822 16.2173 14.9497 14.9497C16.2173 13.6822 17 11.9332 17 10C17 8.0668 16.2173 6.31782 14.9497 5.05025C13.6822 3.78268 11.9332 3 10 3Z" fill="#99A2AD"/>\n</svg>\n',VKAds:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 9.55712C1 5.52373 1 3.50308 2.25351 2.25351C3.50703 1.00395 5.52373 1 9.55712 1H10.4429C14.4763 1 16.493 1 17.7465 2.25351C19 3.50703 19 5.52373 19 9.55712V10.4429C19 14.4763 19 16.493 17.7465 17.7465C16.493 19 14.4763 19 10.4429 19H9.55712C5.52373 19 3.50703 19 2.25351 17.7465C1 16.493 1 14.4763 1 10.4429V9.55712Z" fill="#0077FF"/>\n<path d="M10.0002 16.2992C13.4796 16.2992 16.3002 13.4786 16.3002 9.99922C16.3002 6.51983 13.4796 3.69922 10.0002 3.69922C6.5208 3.69922 3.7002 6.51983 3.7002 9.99922C3.7002 13.4786 6.5208 16.2992 10.0002 16.2992Z" fill="#00D3E6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5829 3.25729V4.4128H16.7463C16.8939 4.41196 17.0384 4.45382 17.1618 4.53313C17.2852 4.61244 17.3819 4.72568 17.4399 4.85863C17.4978 4.99157 17.5143 5.13832 17.4874 5.28044C17.4605 5.42257 17.3914 5.55374 17.2886 5.65751L15.6947 7.27928C15.6247 7.35109 15.5405 7.40823 15.4473 7.44726C15.3541 7.48628 15.2537 7.50638 15.1524 7.50633H13.6454L12.0846 9.16053C12.2038 9.43906 12.2644 9.73832 12.2626 10.0403C12.2626 10.4774 12.1303 10.9046 11.8824 11.268C11.6344 11.6313 11.2821 11.9146 10.8698 12.0818C10.4575 12.249 10.0038 12.2928 9.56613 12.2075C9.12845 12.1223 8.72641 11.9118 8.41086 11.6028C8.09531 11.2938 7.88042 10.9001 7.79336 10.4714C7.7063 10.0428 7.75098 9.5985 7.92175 9.19474C8.09253 8.79098 8.38172 8.44588 8.75277 8.20308C9.12382 7.96027 9.56006 7.83068 10.0063 7.83068C10.2133 7.83065 10.4194 7.85793 10.619 7.91177L12.4117 5.98592V4.76959C12.4118 4.66937 12.4328 4.57023 12.4734 4.47821C12.514 4.3862 12.5733 4.30325 12.6476 4.23441L14.3037 2.69778C14.4107 2.60017 14.5445 2.53519 14.6887 2.51078C14.8328 2.48638 14.9811 2.5036 15.1155 2.56035C15.2498 2.6171 15.3644 2.71092 15.4452 2.83036C15.526 2.9498 15.5695 3.0897 15.5705 3.23297L15.5829 3.25729Z" fill="white"/>\n</svg>\n',turnOffAds:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">\n<path d="M8.99998 5.25C8.41856 5.25 7.92812 5.64765 7.78931 6.18694C7.68607 6.58808 7.27718 6.82957 6.87604 6.72633C6.4749 6.62308 6.23341 6.2142 6.33666 5.81306C6.6419 4.62712 7.71756 3.75 8.99998 3.75C10.5188 3.75 11.75 4.98121 11.75 6.5C11.75 7.71116 11.0961 8.34041 10.6055 8.79829L10.5973 8.80593C10.1193 9.25203 9.82526 9.52648 9.74246 10.1061C9.68388 10.5161 9.30398 10.801 8.89393 10.7425C8.48388 10.6839 8.19896 10.304 8.25754 9.89393C8.41621 8.78322 9.06062 8.18547 9.51443 7.76451L9.58199 7.70171C10.0289 7.28459 10.25 7.03884 10.25 6.5C10.25 5.80965 9.69034 5.25 8.99998 5.25Z" fill="#99A2AD"/>\n<path d="M9 14C9.55229 14 10 13.5523 10 13C10 12.4477 9.55229 12 9 12C8.44772 12 8 12.4477 8 13C8 13.5523 8.44772 14 9 14Z" fill="#99A2AD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9 0.5C4.30558 0.5 0.5 4.30558 0.5 9C0.5 13.6944 4.30558 17.5 9 17.5C13.6944 17.5 17.5 13.6944 17.5 9C17.5 4.30558 13.6944 0.5 9 0.5ZM2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9Z" fill="#99A2AD"/>\n</svg>'},actions:ol,adChoices:{closeBtn:!0,tabs:{main:{header:"*",items:[{name:"VKAds",classNames:["_mk_vkAds","_mk_adChoices_menuLine"]}]},hide:{},other:{header:"Другое:",items:[{tg:"textarea",name:"textArea",classNames:["_mk_freeTextArea"]},{text:"Отправить",name:"sendButton",classNames:["_mk_freeButton"],action:"sendOther"}],footer:!0},complain:{},closed:{items:[{name:"closeTitle",classNames:["_mk_closeTitle"]},{name:"closeInfo",classNames:["_mk_closeInfo"]}]}},finalProps:["--mk-cSubhead","--mk-сPrimary","--mk-bgContent","--mk-cBorder","--mkext-bRadius","--mkext-bRadius-tl","--mkext-bRadius-tr","--mkext-bRadius-bl","--mkext-bRadius-br"],actions:nl},adChoicesFallback:{iconLink:"https://r.mradx.net/imgs/2a/38/fda5014ca5824c9a.svg",closeUrl:"",marker:"",closeBtn:!0,tabs:{main:{header:"*",items:[{text:"Скрыть объявление",iconUrl:"https://r.mradx.net/imgs/63/8e/d4b28cc0b905374f.svg",name:"hide",action:"hide"},{text:"Пожаловаться",iconUrl:"https://r.mradx.net/imgs/cf/aa/a8655ac54f10b068.svg",name:"complain",action:"complain"},{text:"О рекламодателе",iconUrl:"https://r.mradx.net/imgs/ee/63/84ed4e4a5ae73316.svg",name:"about",action:"redirect",actionValue:""},{text:"Скопировать ссылку",name:"copyUrl",action:"copy",actionValue:"",iconUrl:"https://r.mradx.net/imgs/b6/09/93a837dc06183017.svg"},{text:"Скопировать ERID ",iconUrl:"https://r.mradx.net/imgs/cf/e5/32db22916648f14d.svg",name:"copyErid",action:"copy",actionValue:""},{text:"Правила рекомендаций",name:"rules",action:"redirect",actionValue:"",iconUrl:"https://r.mradx.net/imgs/37/c0/ca37933876686dcd.svg"},{text:"VK Реклама",name:"VKAds",action:"redirect",actionValue:"https://ads.vk.com/",classNames:["_mk_vkAds","_mk_adChoices_menuLine"],iconUrl:"https://r.mradx.net/imgs/df/92/6fb16c27a25e2c38.svg"}]},hide:{header:"Уточните причину:",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",items:[{id:1,text:"Не интересно",action:"reasonItem",actionValue:"closed"},{id:2,text:"Уже приобретено",action:"reasonItem",actionValue:"closed"},{id:3,text:"Вижу слишком часто",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"other"}]},complain:{header:"Уточните причину:",closeInfo:"Модератор скоро проверит объявление",closeTitle:"Жалоба отправлена",otherPlaceholder:"Напишите причину",items:[{id:4,text:"Оскорбительное содержание",action:"reasonItem",actionValue:"closed"},{id:5,text:"Сексуальный подтекст",action:"reasonItem",actionValue:"closed"},{id:6,text:"Нарушение закона",action:"reasonItem",actionValue:"closed"},{id:7,text:"Мошеннический сайт",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"other"}]},other:{header:"Другое:",items:[{tg:"textarea",name:"textArea",classNames:["_mk_freeTextArea"]},{text:"Отправить",name:"sendButton",classNames:["_mk_freeButton"],action:"sendOther"}],footer:!0},closed:{items:[{id:"closeTitle",classNames:["_mk_closeTitle"]},{id:"closeInfo",classNames:["_mk_closeInfo"]}]}},finalProps:["--mk-cSubhead","--mk-сPrimary","--mk-bgContent","--mk-cBorder","--mkext-bRadius","--mkext-bRadius-tl","--mkext-bRadius-tr","--mkext-bRadius-bl","--mkext-bRadius-br"],actions:nl},charWidths:pn({10:[0],32:[8.02,6.24,8.02,12,12,12,17.34,12.8,13.32,9.26,11.32,7.78,15.26,15.26,14.76,13.44,20.3,5.52,12.02,6.34,5.52,13.56,14.88,9.02,14.14,15.38,13.08,15.38,12.68,8,11.3,11.36,7.48,6.5,7.48,14.22,14.98,14.84,23.42,16.4,16.54,15.26,13.42,14.9,19.12,14.08,19.12,18.02,21.72,12.88,14.88,8.52,6.12,16.96,18.52,13.6,14,17.8,17.48,15.22,16.64,22.22,11.74,14.3,14.3,14.3,5.92,5.92,14.02,14.28,13.22,14.02,14.26,13.78,13.12,12.64,8.48,15.24,6.5,5.54,6.5,5.92,14.3,10.48,7.36,7.36,4.72,16.96,19.82,13.42,16.84,8,6.2,8],1040:[13.34,13.34,13.58,13.4,18.66,13.66,11.68,15.8,12.66,20.24,19.34,11.88,14.14,11.64,16.94,13.06,11.66,13.08,15.26,13.46,14.76,13.58,16.84,13.48,11.9,13.96,13.96,11.26,17.36,14.14,15.3,9.84,12.68,13.94,12.68,14.9,23.86,16.88,14.32,19.22,15.08,23.98,23,15,17.48,14.84,19.42,14.36,15.26,17.48,14.08,16.84,19.12,16.96,21.72,16.8,14.88,18.02,18.02,13.42,21.8,14,18.24,12.82,15.22,14.54,16.64],1025:[13.66]}),defaultCTAColor:"#5a9eff"},sl={mapping:{root:{size:{widthBreakpoint:[[0,400],[400,600],[600,900],[900,1e4]],heightBreakpoint:[201,300,400,600],vars:{direction:[1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1],titleFs:[0,10,10,10,0,12,12,12,13,13,13,13,13,14,14,14],titleH:[0,10,10,10,0,14,14,14,15,15,15.6,15.6,16,16.8,16.8,16.8],titleLines:[0,1,1,1,0,1,1,1,1,1,1,1,2,1,1,1],iconFs:[12,12,12,12,0,16,16,16,28,28,28,28,0,28,32,32],btnFs:[28,28,28,28,36,36,36,36,36,44,44,44,36,44,52,52],svgFs:[16,16,16,16,20,20,20,20,20,20,20,20,20,20,24,24],titleSlideFs:[12,12,12,12,12,12,12,12,13,13,13,13,12,14,14,14],titleSlideH:[13,13,13,13,13,13,13,13,14,14,14,14,13,15,15.6,15.6],descSlideFs:[11,11,11,11,11,11,11,11,12,12,12,12,11,13,13,13],descSlideH:[12,12,12,12,12,12,12,12,13,13,13,13,12,14,14.6,14.6],priceSlideFs:[11,11,11,11,11,11,11,11,12,12,12,12,11,13,13,13],priceSlideH:[13,13,13,13,13,13,13,13,14,14,14,14,13,15,15.6,15.6],gridItem:[4,4,4,4,4,4,4,4,4,6,6,6,6,6,8,8],titleGC:[0,0,0,0,0,"2","2","2","2/7","2/7","2/7","2/7","1/5","2/7","2/7","2/7"],titleGR:[0,0,0,0,0,"1","1","1","1","1","1","1","2","1","1","1"],domainGC:["2","2","2","2","2",0,0,0,"2","2","2","2","2","2","2","2"],domainGR:["1","1","1","1","1",0,0,0,"2","2","2","2","1","2","2","2"],iconGC:["1","1","1","1",0,"1","1","1","1","1","1","1",0,"1","1","1"],iconGR:["1","1","1","1",0,"1","1","1","span 2","span 2","span 2","span 2",0,"span 2","span 2","span 2"],adLabelGC:["3","3","3","3","1","3","3","3","4","4","4","4","1","4","4","4"],adLabelGR:["1","1","1","1","1","1","1","1","2","2","2","2","1","2","2","2"]},carouselVSlideRatio:1.5}}},tree:{root:{ch:["closeHeader","workArea","disclaimerRow"],role:"background",tr:[1]},workArea:{wr:{e:10,SIZE:"_root_size",RATIO:"_carousel_ratio"},ch:["infoArea","smart","disclaimerColumn","disclaimerRow","closeBtnWrap"]},smart:{bl:20},infoArea:{ch:["infoWrap","menu"],tr:[1]},dot:{role:"label"},adLabel:{ch:["vkAdIcon","advertisingLabel","ageRestrictions"]},infoWrap:{ch:["icon","textArea","adLabel","domain","dot"]},textArea:{ch:["title"]},title:{role:"title",wr:{e:2},an:[1]},icon:{bl:{e:1,SRC:"icon.url"},role:"icon",an:3,iif:[{e:1,prop:"icon"}]},domain:{wr:[2],role:"domain",iif:[{e:1,prop:"domain"}]},vkAdIcon:{},ageRestrictions:{wr:{e:2,default:"0+"},role:"agerestrictions"},advertisingLabel:{wr:{e:2,default:"Реклама"},role:"label"},menu:{role:"acMenu",txt:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 16a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm7 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0ZM23 18.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z" fill="#99A2AD"/></svg>'},closeHeader:{ch:["closeTextWrap"]},closeTextWrap:{ch:["closeText","autoCloseCountDown"]},closeText:{wr:{e:2,default:"Реклама закроется через"}},autoCloseCountDown:{role:"nothing",wr:{e:9,LISTENGLOBAL:"currentTime",action:"onTimerForAutoCloseDelay"},iif:{e:4,prop:"isFullscreen",value:!0}},closeBtnWrap:{wr:{e:5,LISTEN:"mode",map:{autoCloseFullscreen:"closeHeader",fullscreen:"workArea"}},role:"closeBanner",ch:["closeBtn","allowCloseCountDown"]},allowCloseCountDown:{role:"nothing",wr:{e:9,LISTENGLOBAL:"fullTime",action:"onTimerForCloseDelay"}},closeBtn:{txt:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.41 6.41c.3-.3.8-.3 1.1 0L11 9.91l3.49-3.5a.78.78 0 0 1 1.1 1.1L12.09 11l3.5 3.49a.78.78 0 0 1-1.1 1.1L11 12.09l-3.49 3.5a.78.78 0 0 1-1.1-1.1L9.91 11 6.4 7.51c-.3-.3-.3-.8 0-1.1Z" fill="#fff"/></svg>'},measureText:{bl:[800]},disclaimerColumn:{bl:{e:3,view:"column",SRC:"media"},role:"disclaimer"},disclaimerRow:{bl:{e:3,view:"row"},role:"disclaimer"}},useThemes:["light","dark"],actions:ua,classPrefix:"_mk_sm_",serviceForest:fa};Object.setPrototypeOf(sl,ma);var ll={tree:{root:{ch:["workArea","disclaimerRow","header","menu"],role:"background",tr:1},workArea:{ch:["mediaWrap","infoArea","disclaimerColumn"],role:"background"},mediaWrap:{wr:{e:1,SIZE:"_root_size",RATIO:"_media_ratio"},ch:["media"],role:"image"},media:{bl:1,tr:3,wr:[6,7,{e:8,replay:!0,mode:"master"}]},infoArea:{ch:["infoWrap"]},infoWrap:{ch:["textArea"]},textArea:{ch:["title","domain","description"],tr:1},title:{cl:["_mk_textBlock"],role:"title",wr:{e:2,action:"clearEscSeq"},an:1},description:{cl:["_mk_textBlock"],role:"description",wr:{e:2,action:"clearEscSeq"},iif:{e:1,prop:"description"}},domain:{wr:2,role:"domain",iif:[{e:1,prop:"domain"}]},header:{ch:["headerText","ageRestrictions"],role:"label",iif:{e:3,prop:"adLabel.show",value:!1}},headerText:{wr:{e:2,TEXT:"adLabel.text",default:"РЕКЛАМА"}},ageRestrictions:{wr:{e:2,default:"0+"},role:"agerestrictions"},menu:{wr:{e:5,LISTEN:"layout",map:{type31:"infoArea",type92:"workArea",type93:"workArea",type94:"workArea",_default:"root"}},role:"acMenu",txt:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 16a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm7 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0ZM23 18.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z" fill="white"/></svg>'},measureText:{bl:800},disclaimerColumn:{bl:{e:3,view:"column",SRC:"media"},role:"disclaimer"},disclaimerRow:{bl:{e:3,view:"row"},role:"disclaimer"}},useThemes:["light","dark"],classPrefix:"_mk_vk_",proxyClass:"_mk_vk_proxyNode",handlers:{clicker:os}};Object.setPrototypeOf(ll.handlers,ma.handlers),Object.setPrototypeOf(ll,ma);var dl='<svg fill="none" height="20" viewBox="0 0 12 16" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m4.77 8 3.37 3.36a.9.9 0 1 1-1.28 1.28l-4-4a.9.9 0 0 1 0-1.28l4-4a.9.9 0 1 1 1.28 1.28z" fill="currentColor"></path></svg>',cl={tree:{root:{ch:["workWrap","header","menu"],role:"background",tr:1,ha:{view:"stable"}},workWrap:{ch:["workArea","carousel"],role:"background"},workArea:{ch:["mediaWrap","infoArea","disclaimer"],role:"background",iif:{e:2,prop:"cards"}},carousel:{cl:["_mk_vkSidebar_cards"],ch:["cards","dotPagination","infoArea","carouselDisclaimer"],iif:{e:1,prop:"cards"}},dotPagination:{bl:{e:21},wr:{e:9,LISTENGLOBAL:"activeSlideIndex",action:"dotPagination",selector:"_mk_vkSidebar_dotPagination_dot",activeClass:"_mk_vkSidebar_dot_active"}},cards:{bl:{e:5},tr:1},carouselDisclaimer:{bl:{e:3,view:"row-double"},role:"disclaimer"},mediaWrap:{ch:["media","cta"],role:"image"},cta:{role:"ctabutton",wr:{e:2,TEXT:"ctaText",default:"Перейти"}},media:{bl:1,tr:3,wr:[6,7,{e:8,replay:!0,mode:"master"}]},infoArea:{ch:["infoWrap"]},infoWrap:{ch:["textArea"]},textArea:{ch:["title","domain","description"],tr:1},title:{cl:["_mk_textBlock"],role:"title",wr:{e:2,action:"clearEscSeq",TEXT:"title",initLinesShow:2}},description:{cl:["_mk_textBlock"],role:"description",wr:{e:2,action:"clearEscSeq",TEXT:"description",initLinesShow:3},iif:{e:1,prop:"description"}},domain:{wr:2,role:"domain",iif:[{e:1,prop:"domain"}]},header:{ch:["vkAdIcon","headerText","ageRestrictions"],role:"label",iif:{e:3,prop:"adLabel.show",value:!1}},vkAdIcon:{txt:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path d="M0 7.2c0-3.4 0-5.1 1.05-6.15C2.11 0 3.8 0 7.2 0h.6c3.4 0 5.1 0 6.15 1.05C15 2.11 15 3.8 15 7.2v.6c0 3.4 0 5.1-1.05 6.15C12.89 15 11.2 15 7.8 15h-.6c-3.4 0-5.1 0-6.15-1.05C0 12.89 0 11.2 0 7.8Zm13-4.06a.6.6 0 0 1 .39 1.03l-1.41 1.4a.75.75 0 0 1-.62.22l-.96-.08-1.2 1.2a1.8 1.8 0 1 1-1.04-1.09l1.18-1.17-.12-1a.74.74 0 0 1 .22-.62l1.4-1.4a.6.6 0 0 1 1.03.37l.04 1.08Zm-5.1-.43a4.82 4.82 0 0 0-5.15 5.51 4.8 4.8 0 0 0 9.53-1.14l-1.6-.13a3.23 3.23 0 1 1-2.6-2.63Zm0 0" fill-rule="evenodd" fill="#fff"/></svg>'},headerText:{wr:{e:2,TEXT:"adLabel.text",default:"РЕКЛАМА"}},ageRestrictions:{wr:{e:2,default:"0+"},role:"agerestrictions"},menu:{wr:{e:5,LISTEN:"layout",map:{type31:"infoArea",type92:"workArea",type93:"workArea",type94:"workArea",_default:"root"}},role:"acMenu",txt:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 16a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm7 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0ZM23 18.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z" fill="white"/></svg>'},measureText:{bl:800},disclaimer:{bl:{e:3,view:"column"},role:"disclaimer"}},serviceForest:{card:{root:{cl:["_mk_vkSidebar_card"],ch:[1]},cta:{TXT:"ctaText",cl:["_mk_vkSidebar_cta"]},1:{tg:"a",ha:{target:"_blank",href:"trackingLink"},cl:["_mk_card__wrapper"],ch:["imageWrap","cta"]},imageWrap:{cl:["_mk_vkSidebar_card_image"],tg:"img",SRC:"image.url"}},carousel:{root:{cl:["_mk_vkSidebar_cards_container","_mk_cards_slider"],ch:["prev","next","wrapper"]},prev:{cl:["_mk_vkSidebar_cards_scroller","_mk_vkSidebar_cards_scroller_position_left","_mk_cards__scroller_type_scroller","_mk_cards__scroller_hidden_left","_mk_scroll_left"],ch:["2"]},2:{cl:["_mk_cards_arrowPrev"],txt:dl},next:{cl:["_mk_vkSidebar_cards_scroller","_mk_vkSidebar_cards_scroller_position_right","_mk_cards__scroller_type_scroller","_mk_scroll_right"],ch:["3"]},3:{cl:["_mk_vkSidebar_cards_arrowNext"],txt:dl},wrapper:{cl:["_mk_cards__wrapperOuter","_mk_vkSidebar_wrap_scroll"]}}},useThemes:["light","dark"],classPrefix:"_mk_vkSidebar_",proxyClass:"_mk_vkSidebar_proxyNode",disclaimerPaddings:8,handlers:_r(_r({},ca),{postInjector:function(){this.setProps({view:"column"}),this.store.proxyNode.setAttribute(this.store.localId,""),this.element.setAttribute("view","column")}})};Object.setPrototypeOf(cl,ma),cl.handlers.clicker=os;var ul=Tr({asmName:"General",creatives:{designSystem:ma,carousel:va,smart:sl,vkLeftColumn:ll,vkSideBar_site:cl,vkFeed_site:ts,vkFeed_carousel:ts,vkFeed_collage:ts,vkFeed_community:is,vkFeed_miniapp:rs,vkFeed_lead_form:as,vkFeed_survey:as,okFeed_site:gs,okFeed_community:_s,okFeed_miniapp:ys,okFeed_lead_form:ks,okFeed_survey:ks,okFeed_carousel:gs,vkGames_interstitial:zs,vkGames_interstitial_lead_form:zs,vkGames_rewards:Ws,answers_feed:al}}),hl=function(e){function t(t,i){var r=e.call(this,t)||this;if(Object.defineProperty(r,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!xr(r.engine.dispatcher))throw Gr.error(577);r.checkVideo(),r.setConfig(i);var o=so(r.store.initConfig.target||r.store.initConfig.container);return r.setProps(Tr({hostNode:o,parentElement:o.parentElement})),r.setMetaData(),r.prepareData(),r.resolveControls(),r.resolveSharedProps(),setTimeout((function(){return r.checkStats()}),5),r}return gr(t,e),Object.defineProperty(t.prototype,"checkStats",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){var e=function(e,t){var i;return Sr(e)?e.filter((function(e){return(i=Po[e])&&(!Sr(t)||!~t.findIndex((function(t){return xr(t)&&Vr(t.url)&&(r=xr(i)?i:{type:e},o=t,!(!xr(r)||!xr(o))&&Object.entries(r).every((function(e){var t=e[0],i=e[1];return o[t]==i})));var r,o})))})):[]}(this.data.checkStats,this.data.statistics);Sr(e)&&this.engine.sendWebLog(711,{message:e.join(",")})}}}),Object.defineProperty(t.prototype,"setConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r,o;if(!xr(e.data)&&!xr(e.banner))throw Gr.error(319);var n=Tr(xr(e.data)?e.data:e.banner),a=this.store.globalInitConfig;if(!n.noPreprocessors)try{var s=[].concat((null==a?void 0:a.preprocessors)||[],(null===(t=window.MotionKitConfig)||void 0===t?void 0:t.preprocessors)||[]),l=this.engine.dispatcher.applyPreProcs(n,s);l&&(n=l,go.info("Preprocessors result:",l))}catch(t){go.error("Preprocessors runtime error:",t),this.engine.sendWebLog(580,t),n=Tr(xr(e.data)?e.data:e.banner)}if(xr(a)&&!a.asmConfig){var d,c=this.engine.dispatcher.getCreative(n.creativeType);xr(d=null===(i=null==c?void 0:c.config)||void 0===i?void 0:i.asmConfig)&&(a.asmConfig=d)}this.data=n,this.store.asmConfig=null===(r=this.store.globalInitConfig)||void 0===r?void 0:r.asmConfig,this.store.branch=null!==(o=n.branch)&&void 0!==o?o:this.store.globalInitConfig.branch,this.store.id=n.id,this.setProps({initConfig:e,data:n})}}),Object.defineProperty(t.prototype,"setMetaData",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r=this.data.creativeType,o=this.store,n=this.engine.dispatcher.getCreative(r),a=xr(n)?n.meta:void 0;try{a||(a=ul.creatives[r])}catch(e){}if(!xr(a))throw Sr(window._MotionKit)||i._dG("_MotionKit",[]),window._MotionKit.push(o.initConfig),Gr.error(315,{message:r,delay:7e3,config:o.initConfig,delayProp:"errTimeout"});var s=o.branch;if(Er(s)&&xr(null===(e=a.branches)||void 0===e?void 0:e[s])){var l=a.branches[s];Object.setPrototypeOf(l,a),a=l}var d=a.tree;if(!xr(d))throw Gr.error(551);if(!xr(a.handlers))throw Gr.error(562);["workers","builders","triggers","enforcers"].forEach((function(e){if(!xr(a.handlers[e]))throw go.warn("Specific handler not defined:",e),Gr.error(563)})),o.workTree=d,o.serviceForest=xr(a.serviceForest)?a.serviceForest:{},o.disclaimerPaddings=a.disclaimerPaddings;var c=a.producer;if(!Er(a.producer)||!(a.producer in un.producers))throw Gr.error(555);if("base"===c){if(!xr(d.root))throw Gr.error(552)}else if("scenes"===c){if(!Sr(a.scenes))throw Gr.error(556);a.scenes.forEach((function(e,t){if(!xr(e))throw Gr.error(557);var i=t?"scene".concat(t+1,"root"):"root";if(!xr(d[i]))throw Gr.error(558)}))}this.checkTree(d,"root");var u=Pr(window.IntersectionObserver);xr(a.defaults)||(a.defaults=Or()),this.setProps(Tr({meta:a,producer:c,hasIObserver:u})),u||(o.visibility=100),Pr(a.handlers.promoter)||(a.handlers.promoter=no);try{o.hostname=window.frameElement?window.top.location.hostname:location.hostname}catch(e){}try{var h=navigator.userAgent;o.isMobileSafari=/iPhone/i.test(h)&&/Safari/i.test(h)}catch(e){}var p=Rr(this.data.width),m=Rr(this.data.height);if(p&&m?this.setProps(Tr({width:p,height:m,fixSize:!0,_root_size:{width:p,height:m}})):(o.fixSize=this.data.fixSize,o._root_size=to(o.hostNode)),!xr(null===(t=this.engine.dispatcher)||void 0===t?void 0:t.classMap))throw Gr.error(565);o.virtualization=o.initConfig.virtualization||o.globalInitConfig.virtualization&&!1!==o.initConfig.virtualization,o.classMap=this.engine.dispatcher.classMap||{},o.varMap=this.engine.dispatcher.varMap||{}}}),Object.defineProperty(t.prototype,"getUnifiedMedia",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r,o,n,a,s,l,d,c=(null===(t=e.video)||void 0===t?void 0:t.mediafiles)||(null==e?void 0:e.mediafiles),u=(null===(i=this.store._root_size)||void 0===i?void 0:i.width)||this.store.meta.mediaWidth;if(Sr(c)){var h=c.filter((function(e){return xr(e)&&Er(e.src)&&(e.src.endsWith("mp4")||"mp4"===e.format)})).sort((function(e,t){var i,r;return Rr(null!==(i=e.width)&&void 0!==i?i:0)-Rr(null!==(r=t.width)&&void 0!==r?r:0)}));this.store.mediafiles=h;var p=void 0;if(u&&(p=h.find((function(e){return e.width>=u}))),!p&&h.length&&(p=h[h.length-1]),!p&&Pr(null===(r=this.store.globalInitConfig.appApi)||void 0===r?void 0:r.extPlayer)&&(p=c.filter((function(e){return xr(e)&&Er(e.src)&&(e.src.endsWith("m3u8")||"hls"===e.format)}))[0]),p)return Tr({src:p.src,width:p.width||(null===(o=e.image)||void 0===o?void 0:o.width),height:p.height||(null===(n=e.image)||void 0===n?void 0:n.height),type:"video",format:p.src.endsWith("m3u8")||"hls"===p.format?"HLS":"MPEG",poster:p.poster||(null===(s=null===(a=e.video)||void 0===a?void 0:a.videoBackground)||void 0===s?void 0:s.src)||(null===(l=e.image)||void 0===l?void 0:l.src)})}var m=xr(e.image)?e.image:null===(d=e.video)||void 0===d?void 0:d.videoBackground;return xr(m)?Tr({src:m.src||m.url,width:m.width,height:m.height,type:"img"}):xr(e.html5)?Tr({src:e.html5.src||e.html5.url,type:"iframe"}):xr(e.icon)&&this.store.meta.canUseWithoutMedia&&!e.cards&&!e.items?Tr({src:e.icon.src||e.icon.url,type:"img"}):void 0}}),Object.defineProperty(t.prototype,"checkTree",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(!(t in e))throw go.warn("Node not found:",t),Gr.error(554);var r=e[t].ch;r&&Lr(r).forEach((function(t){return i.checkTree(e,t)}))}}),Object.defineProperty(t.prototype,"prepareData",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r,o,n,a,s,l,d,c=this.data,u=this.store,h=this.getUnifiedMedia(c);if(!(h||this.store.meta.canUseWithoutMedia||(null==c?void 0:c.cards)||(null==c?void 0:c.items)||Er(null===(e=c.vpaid)||void 0===e?void 0:e.src)))throw Gr.error(560);u.media=h,u.restoreCount=0,u.videoShowed="video"!==(null===(t=u.media)||void 0===t?void 0:t.type),u.mediaWidth=Number(c.mediaWidth)||0,u.replayCount=+function(e,t){return xr(t)&&e in t?t[e]:-1}("replayCount",c)||-1,u.postViewMode=xr(c.postView)?null!==(i=c.postView.mode)&&void 0!==i?i:1:0,u.classPrefix=u.meta.classPrefix||un.engine.classPrefix,u.duration=(null===(r=c.video)||void 0===r?void 0:r.duration)||c.duration||(c.allowClose?c.allowCloseDelay:15)||15,u.noData=Sr(u.meta.toCheck)?u.meta.toCheck.filter((function(e){return!(e in c&&c[e])})):[];var p=null!==(n=null===(o=c.pad)||void 0===o?void 0:o.clickArea)&&void 0!==n?n:c.clickArea;Dr(p)||(p=this.store.meta.clickArea),u.clickAreaRaw=p,u.clickArea=Bo(un.clickAreas,parseInt(p)),xr(u.clickArea)&&(u.clickArea.disclaimer=u.clickArea.wholeview||u.clickArea.background);var m,b=u.initConfig;u.refs=b.refs,u.fullMedia=!c.title,this.store.renderMode=null==b?void 0:b.renderMode,u.mediaAutoScroll=c.mediaAutoScroll,u.disableClickArea=c.disableClickArea,(null==b?void 0:b.renderMode)===Ur.fullscreen&&(c.isFullscreen=!0,u.isFullscreen=!0,"video"!==(null===(a=u.media)||void 0===a?void 0:a.type)||u.allowClose||(u.allowCloseDelay=u.duration),u.clickZoneFullscreenCloseButton=null==b?void 0:b.clickZoneFullscreenCloseButton),Sr(u.meta.calcTextOnInit)&&(u.calcText=Or(),u.meta.calcTextOnInit.forEach((function(e){var t=u.getDataProp(e);Er(t)&&(u.calcText[e]=bn(t,u.meta.charWidths))}))),"isDarkTheme"in c&&(u.theme=c.isDarkTheme?"dark":"light"),xr(h)&&h.width&&h.height&&this.setProps(Tr({aspectRatio:h.width/h.height||16/9})),(null===(s=u.meta.adChoices)||void 0===s?void 0:s.noMenu)||(u.adChoices=u.initConfig.banner.adChoices&&"object"==typeof(m=u.initConfig.banner.adChoices)&&null!==m&&m.tabs&&"object"==typeof m.tabs&&("VKFeed"!==(null===(d=null===(l=u.globalInitConfig)||void 0===l?void 0:l.asmConfig)||void 0===d?void 0:d.asmName)||"rev2023"!==u.branch&&u.branch||Jr())?function(e,t){var i,r,o,n,a,s,l,d,c,u,h,p;if(!xr(t))return e;""===(null!==(i=null==t?void 0:t.marker)&&void 0!==i?i:"")&&(null===(o=null===(r=t.tabs)||void 0===r?void 0:r.main)||void 0===o?void 0:o.items)&&(t.tabs.main.items=t.tabs.main.items.filter((function(e){return"copyErid"!==e.name})));var m=_r(_r({},e),t);if(e.tabs||t.tabs){m.tabs=_r({},e.tabs);var b=xr(t.tabs)?t.tabs:{},f=function(i){if(Object.prototype.hasOwnProperty.call(b,i)&&(m.tabs[i]=_r(_r({},null===(n=e.tabs)||void 0===n?void 0:n[i]),t.tabs[i]),(null===(s=null===(a=e.tabs)||void 0===a?void 0:a[i])||void 0===s?void 0:s.items)||(null===(l=e.tabs[i])||void 0===l?void 0:l.items))){var r={};null===(u=null===(c=null===(d=e.tabs)||void 0===d?void 0:d[i])||void 0===c?void 0:c.items)||void 0===u||u.forEach((function(e){var t=e.id||e.name;void 0!==t&&(r[t]=_r({},e))}));var o=[];null===(p=null===(h=t.tabs[i])||void 0===h?void 0:h.items)||void 0===p||p.forEach((function(e){var t=e.id||e.name;if(void 0!==t){var i=_r(_r({},r[t]),e);o.push(i),r[t]=i}})),m.tabs[i].items=o}};for(var v in b)f(v)}return m}(u.meta.adChoices||un.adChoices,c.adChoices):function(e,t){var i,r,o,n,a,s,l,d,c,u,h,p=_r({},e),m=null!==(i=null==t?void 0:t.marker)&&void 0!==i?i:"";p.marker=m,p.closeUrl=null!==(r=null==t?void 0:t.closeUrl)&&void 0!==r?r:"";var b=(null===(n=null===(o=null==t?void 0:t.tabs)||void 0===o?void 0:o.main)||void 0===n?void 0:n.items)||(null==t?void 0:t.options)||[],f={copyErid:m,copyUrl:(null===(a=b.find((function(e){return"copyUrl"===e.name})))||void 0===a?void 0:a.actionValue)||(null===(s=b.find((function(e){return"choicesIcon_5"===e.iconId})))||void 0===s?void 0:s.copyText)||"",about:(null===(l=b.find((function(e){return"about"===e.name})))||void 0===l?void 0:l.actionValue)||(null===(d=b.find((function(e){return"choicesIcon_4"===e.iconId})))||void 0===d?void 0:d.clickLink)||"",rules:(null==t?void 0:t.tabs)?(null===(c=b.find((function(e){return"rules"===e.name})))||void 0===c?void 0:c.actionValue)||"":un.links.rules};return p.tabs.main.items.forEach((function(e){var t=e.name;f[t]&&(e.actionValue=f[t],"copyErid"===t&&(e.text="ERID: ".concat(m)))})),""===m&&(null===(h=null===(u=p.tabs)||void 0===u?void 0:u.main)||void 0===h?void 0:h.items)&&(p.tabs.main.items=p.tabs.main.items.filter((function(e){return"copyErid"!==e.name}))),p}(u.meta.adChoicesFallback||un.adChoices,u.initConfig.banner.adChoices));try{this.store.isFramed=Boolean(window.frameElement)||window.self!==window.top,this.store.isLocalHost="localhost"===ao.location.hostname}catch(e){}xr(c.cta)||(c.cta=Or()),c.cta.buttonLinkText||(c.cta.buttonLinkText=c.domain||"Подробнее")}}),Object.defineProperty(t.prototype,"resolveControls",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(xr(this.store.meta.controls)){var e=Object.entries(this.store.meta.controls).reduce((function(e,t){var i=t[0],r=t[1];return e[i]=r.pos||!0,e}),{});this.mixControls(e,this.store.initConfig.controls),this.mixControls(e,this.data.controls),this.setProps(Tr({controls:e}))}else this.store.controls=Or()}}),Object.defineProperty(t.prototype,"mixControls",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){xr(t)&&Object.entries(t).forEach((function(t){var i=t[0],r=t[1];e[i]=r&&i in e?Er(r)&&"".concat(r.split(":")[0].toLowerCase(),"Wrap")in un.wrappers?r.toLowerCase():e[i]||"rightbottom":r}))}}),Object.defineProperty(t.prototype,"resolveSharedProps",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e in un.sharedProps)this.store[e]=e in this.data?this.data[e]:e in this.store.initConfig?this.store.initConfig[e]:e in this.store.meta?this.store.meta[e]:un.sharedProps[e]}}),Object.defineProperty(t.prototype,"checkVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{this.store.isUserBeenActive=navigator.userActivation.hasBeenActive;var e=navigator.userAgent;this.store.isMobileSafari=/iPhone/i.test(e)&&/Safari/i.test(e)}catch(e){}}}),t}(Yr),pl=function(e){function t(t){var i=e.call(this,t)||this;return Object.defineProperty(i,"mObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"scheme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"containerAsProxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"is1305Send",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"attempt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"isCV",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"initClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"baseProxyClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"isChecking",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.onClick=i.onClick.bind(i),i.checkup=i.checkup.bind(i),i.updateTheme=i.updateTheme.bind(i),i.onScroll=i.onScroll.bind(i),i.preInject(),i.initProxyNode(),i.initTheme(),i.postInject(),i.isCV="function"==typeof i.element.checkVisibility,(i.store.initConfig.deletionDetector||i.store.meta.deletionDetector)&&i.observeHostNode(),i.containerAsProxy=i.store.meta.containerAsProxy,document.addEventListener("scroll",i.onScroll),i.subscribe("isShown",(function(){i.raiseCoreEvent(17),i.sendEvent(po.Showed)})),i.subscribe("inViewport",(function(){return i.store.inViewport&&i.raiseCoreEvent(15)})),i}return gr(t,e),Object.defineProperty(t.prototype,"preInject",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.store.localId=(null===(e=this.engine.dispatcher)||void 0===e?void 0:e.getId())||Oo(),this.baseProxyClass=this.store.meta.strictProxyClass||"_mk_proxyNode",this.store.stylesToken=".".concat(this.getClass(this.baseProxyClass),"[").concat(this.store.localId,"]"),"function"==typeof(null===(t=this.store.meta.handlers)||void 0===t?void 0:t.injector)?this.store.meta.handlers.injector.call(this):this.store.hostSize=to(this.store.hostNode)}}),Object.defineProperty(t.prototype,"initTheme",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.theme;if(this.store.theme=!!(Er(e)&&Sr(this.store.meta.useThemes)&&this.store.meta.useThemes.includes(e))&&e,window.matchMedia&&!this.store.theme){var t=window.matchMedia("(prefers-color-scheme: dark)");xr(t)&&"function"==typeof(null==t?void 0:t.addEventListener)&&(t.addEventListener("change",this.updateTheme),this.scheme=t)}this.updateTheme()}}),Object.defineProperty(t.prototype,"updateTheme",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;if(this.isDestroyed)null===(e=this.scheme)||void 0===e||e.removeEventListener("change",this.updateTheme);else{var i=getComputedStyle(this.store.hostNode).colorScheme;if(!Er(i)||this.store.theme)return this.setTheme(this.store.theme||"light");var r="light dark"===i||"dark light"===i?(null===(t=this.scheme)||void 0===t?void 0:t.matches)?"dark":"light":"only dark"===i||"dark only"===i?"dark":"light";this.setTheme(r)}}}),Object.defineProperty(t.prototype,"setTheme",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!this.isDestroyed&&Er(e)&&this.store.meta.useThemes&&this.element.setAttribute("theme",e)}}),Object.defineProperty(t.prototype,"initProxyNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.proxyNode;this.store.meta.containerAsProxy?(e=this.store.hostNode,this.initClass=e.getAttribute("class")):e instanceof HTMLElement||(e=Kr("div",{appendTo:this.store.hostNode})),this.setClasses(e,[this.baseProxyClass,this.store.meta.proxyClass]),this.store.isDeveloper&&(e.setAttribute("engine","MotionKit"),e.setAttribute("ver","1.0.381")),e.onclick=this.onClick,this.store.fixSize&&!this.store.meta.containerAsProxy&&(e.style.width=this.store.width+"px",e.style.height=this.store.height+"px"),this.element=e,this.store.proxyNode=e}}),Object.defineProperty(t.prototype,"observeHostNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isChecking=!0,Pr(window.MutationObserver)&&!this.store.meta.noMutationObserver)try{this.mObserver=new MutationObserver(this.checkup),this.mObserver.observe(window.document,{childList:!0,subtree:!0,attributeFilter:[]})}catch(e){this.mObserver=null}else this.interval=setInterval(this.checkup,451)}}),Object.defineProperty(t.prototype,"checkShow",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(!(e instanceof HTMLElement&&Er(t)))return!1;var r=this.store[t];try{var o=e.getBoundingClientRect(),n=o.bottom,a=o.top,s=(n-a)/2;if(!s||s<0||!o.height)return!1;xr(r)||(this.store[t]=o);var l=window.top.innerHeight,d=l-s;return(!this.store.viewin&&a>=0&&a<=l||n>=0&&n<=l)&&this.store.setProps(Tr({viewin:!0,inViewport:!0})),a>-s&&a<d||n<l+s&&n>s||!!xr(r)&&(r.top>d&&a<d||r.bottom<s&&n>s)}catch(e){return!1}}}),Object.defineProperty(t.prototype,"onScroll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||(this.setProps(Tr({inFocus:!0})),this.inspect())}}),Object.defineProperty(t.prototype,"inspect",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i;this.isDestroyed||(null===(t=null===(e=this.store)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.dontUseAdtViewability)||(!this.store.isShown&&this.checkShow(this.element,"proxyNodeInitRect")&&(this.store.setProps(Tr({isShown:!0,viewin:!0,inViewport:!0})),go.table("Banner ".concat(this.store.data.id||""," is showed [rc]"))),!this.store.videoShowed&&this.checkShow(null===(i=this.store.vDOM.media)||void 0===i?void 0:i.element,"mediaInitRect",!0)&&(this.store.setProps(Tr({videoShowed:!0,viewin:!0,inViewport:!0})),go.table("Video of banner ".concat(this.store.data.id||""," is showed [rc]"))))}}),Object.defineProperty(t.prototype,"checkVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=getComputedStyle(this.element);return Er(e.display)&&e.display.includes("none")}}),Object.defineProperty(t.prototype,"checkup",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i=this,r=this.element;if(this.isDestroyed||!this.isChecking||!(r instanceof HTMLElement))return this.unObserveNode();if(!this.store.isServiceHidden)if(((Date.now()-this.engine.startedAt)/1e3).toFixed(1),r.isConnected||!this.store.isReady||this.store.noUnobserve){this.inspect();var o=r.parentElement instanceof HTMLElement?getComputedStyle(r.parentElement):{transform:"?"},n=!1;try{n=!r.getClientRects()[0].height}catch(e){}if((this.isCV?!r.checkVisibility():this.checkVisibility())||!r.isConnected||n||o.transform.includes("rotate3d")){var a=this.store.meta.promoteCfg;this.engine.raiseCoreEvent(21);var s=null===(t=this.store.meta.handlers)||void 0===t?void 0:t.promoter;this.attempt++<20?(go.warn("Checking bot, attempt",this.attempt),s.call(this,r,a,"q",this.attempt)):this.attempt>18&&(go.warn("Checked bot"),this.is1305Send=1,this.engine.raiseCoreEvent(20),this.unObserveNode(),setTimeout((function(){return s.call(i,r,a,"g",999)}),5e3))}9===this.attempt&&to(this.element)}else{var l=null===(e=this.store.meta.handlers)||void 0===e?void 0:e.checkVirtualization,d=this.store.virtualization&&Pr(l)&&l.call(this,r);if(go.debug("isVirtualized:",this.store.virtualization,d),this.unObserveNode(),d)return void go.warn("Container was removed [virtualization on]. id:",this.store.data.id,this.store.id);go.warn("Unexpected container deletion, id:",this.store.data.id,this.store.id),this.store.isShown;try{this.store.pathname===location.pathname&&(this.store.search,location.search)}catch(e){}var c=this;setTimeout((function(){var e;xr(c.store)&&(r.isConnected||c.store.notDestroyOnDisconnect||c.store.virtualization||null===(e=c.engine)||void 0===e||e.destroy())}),this.store.meta.destroyOnRemoveDelay||3e3)}}}),Object.defineProperty(t.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var i,r,o,n,a;if(!this.isDestroyed)if(this.store.serviceClick)this.store.serviceClick=!1;else{e.prototype.onClick.call(this,t);for(var s=t.target;s instanceof Element&&!this.store.roleMap.has(s);)s=s.parentElement;var l,d=s instanceof Element,c=d&&this.store.roleMap.get(s)||"background";if("closeBanner"===c)return this.engine.close();if(!this.store.data.useExtClicker&&!this.store.data.openView||!Pr(l=null===(i=this.store.globalInitConfig.appApi)||void 0===i?void 0:i.extClickHandler)||l({banner:this.store.data,options:{role:c,clickArea:this.store.clickAreaRaw,attachmentIndex:c.startsWith("image")?+c.replace("image",""):+c.replace("card_","")}})){var u=d?null===(r=s.dataset)||void 0===r?void 0:r.id:void 0,h=this.store.clickArea.wholeview||this.store.clickArea[c];if(h&&!un.serviceRoles.includes(c)||c.startsWith("card_")){var p="ctabutton"===c,m=p&&(null===(n=null===(o=this.engine.pixels)||void 0===o?void 0:o.pixels)||void 0===n?void 0:n.ctaClick)?14:13;this.raiseCoreEvent(m),this.sendEvent({event:po.Clicked,role:c,isClickArea:h,id:u});var b=this.store.data,f=b.disableOpenLink,v=b.urlToNavigateOnClick,g=b.trackingLink,_=b.disableOpenCTALink,y=b.ctaLink,w=p&&Er(y)?y:g||v;if(Pr(l=null===(a=this.store.meta.handlers)||void 0===a?void 0:a.clicker)?l.call(this,t,c,w):Er(w)&&(!f||p&&!_)&&(this.engine.popup||window).open(w,"_blank"),this.store.closeOnClick)return this.engine.close()}this.engine.components.run(c)}else go.warn("External click handler was used!")}}}),Object.defineProperty(t.prototype,"unObserveNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;this.interval&&clearInterval(this.interval),this.interval=null,null===(e=this.mObserver)||void 0===e||e.disconnect(),this.isChecking=!1}}),Object.defineProperty(t.prototype,"postInject",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;"function"==typeof(null===(e=this.store.meta.handlers)||void 0===e?void 0:e.postInjector)&&this.store.meta.handlers.postInjector.call(this)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,i;document.removeEventListener("scroll",this.onScroll),this.unObserveNode(),null===(t=this.scheme)||void 0===t||t.removeEventListener("change",this.updateTheme),this.containerAsProxy&&(this.element.innerHTML="",Er(this.initClass)&&this.element.setAttribute("class",this.initClass),this.element=null),null===(i=this.engine.dispatcher)||void 0===i||i.delStyles(this.store.localId),e.prototype.destroy.call(this)}}),t}(Yr),ml=function(e){function t(t){var i=e.call(this,t)||this;if(Object.defineProperty(i,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"dispatch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"oneShots",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!xr(t.config))return i;i.loadCallbacks(t.config,!0);var r=t.config.eventBus;return xr(r)&&Pr(r.dispatch)||(r=xr(window.MotionKitConfig)?window.MotionKitConfig.eventBus:void 0),xr(r)&&Pr(r.dispatch)?(i.dispatch=r.dispatch.bind(r),i):i}return gr(t,e),Object.defineProperty(t.prototype,"loadCallbacks",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i in t&&(this.callbacks=Or()),po){var r=e["on".concat(i)];Pr(r)&&(this.callbacks[i]=r)}}}),Object.defineProperty(t.prototype,"sendEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;if(e){var i=null===(t=this.engine.store)||void 0===t?void 0:t.data,r=xr(e)?e:Object.assign(Or(),{event:e});xr(i)&&(r=Object.assign(r,{id:i.id,impression_id:i.impression_id}));var o=r.event;if(un.oneShotCallback.includes(o)){if(this.oneShots[o])return;this.oneShots[o]=!0}var n=this.dispatch;Pr(n)&&setTimeout((function(){return n(r)}),0);var a=this.callbacks[o||"never"];Pr(a)&&setTimeout((function(){return a(r)}),0)}}}),t}(Yr),bl=function(e){function t(t){var i=e.call(this,t)||this;for(var r in un.components)"function"==typeof un.components[r]&&(i.modules[r]=new un.components[r](t));return i}return gr(t,e),Object.defineProperty(t.prototype,"run",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;null===(t=this.modules[e])||void 0===t||t.run()}}),t}(Yr),fl={32:[3.725,3.02,4.94,9.94,9.04,14.52,9.68,2.92,5.54,5.54,9.46,9.32,3.22,6.24,3,4.68,9.14,6.74,9.04,9.08,9.68,9.08,9.16,9.08,9.32,9.16,3,3.22,8.88,7.32,8.88,8.72,16.52,10.46,9.08,8.98,9.24,8.42,8.06,9.02,9.38,3.02,6.08,9.7,8.04,12.12,9.38,9.14,8.78,9.8,9.26,8.88,8.86,9.02,10.42,14.48,10.56,9.96,9.32,5.56,8.9,5.56,9.82,12.32,4.72,10.46,9.08,8.98,9.24,8.42,8.06,9.02,9.38,3.02,6.08,9.7,8.04,12.12,9.38,9.14,8.74,9.34,9.26,8.88,8.74,9.02,10.42,14.48,10.56,9.96,9.32,6.14,6,6.14],1040:[10.46,9.28,9.08,8.3,11.74,8.42,14.96,9.08,9.38,9.4,9.7,10.52,12.12,9.38,9.14,9.38,8.74,8.98,9.32,10.22,13.34,10.56,10.92,9.28,13.54,14.76,10.44,11.68,8.88,8.98,13.24,9.26,10.46,9.28,9.08,8.3,11.74,8.42,14.96,9.08,9.38,9.4,9.7,10.52,12.12,9.38,9.14,9.38,8.74,8.98,9.32,10.22,13.34,10.56,10.92,9.28,13.54,14.76,10.44,11.68,8.88,8.98,13.24,9.26,13.58,8.42,13.34],1025:[8.42]},vl=24/17,gl=function(e){function t(t){var i=e.call(this,t)||this;Object.defineProperty(i,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"textWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"textHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"lenFWi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"prevSize",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"yScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(i,"fraction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"variants",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"places",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(i,"currentPlace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"currentVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"charWidths",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"p",{enumerable:!0,configurable:!0,writable:!0,value:void 0});var r=i.store.data,o=r.disclaimer_id,n=r.disclaimer;if(i.config=Tr(un.disclaimer.config[o]),!i.config.lines||Er(n)){var a=(n.trim().replace(/[\s.]+$/,"")||i.config.text).toUpperCase();a===i.config.text&&i.config.lines||(i.config.text=a,i.config.ratio=[20,9],i.config.lines=[[[0,void 0,0]],Ro(a)],i.charWidths=pn(fl,100===i.store.meta.disclaimerWeight?.99:1.01))}return i.config.allowSimple&&i.store.meta.simpleDisclaimer?(i.store.data.disclaimer||(i.store.data.disclaimer=i.config.text),i.store.data.isSimpleDisclaimer=!0,i):(i.subscribe("view",i.placeTo),i.subscribe("_root_size",i.onResize),i.fraction=un.disclaimer.fraction||.07,i.fontWeight=i.store.meta.disclaimerWeight||400,i.lenFWi=i.fontWeight<300?2:3,i.size=i.config.size||1,i.init(),i)}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;this.element=Kr("div",{classes:this.getClass("_mk_disclaimer")}),this.store.roleMap.set(this.element,"disclaimer"),this.element.onmousedown=function(i){e.prototype.onClick.call(t,i)},this.variants=[];for(var i=0,r=Math.min(this.store.meta.disclaimerMaxLine||99,this.config.lines.length);i<r;i++)this.variants.push(this.buildVariant(this.config.lines[i],i));this.charWidths&&this.variants.forEach((function(e){return e.lines.forEach((function(e){return t.measureTextWidth(e)}))})),this.currentVariant=this.variants[0],this.element.appendChild(this.currentVariant.wrapper),this.placeTo()}}),Object.defineProperty(t.prototype,"buildVariant",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,r=Kr("div",{classes:[this.getClass("_mk_disclaimer_linesWrap"),this.getClass(this.store.clickArea.disclaimer?"_mk_clickArea":"_mk_noClickArea")]});return this.elements["wrapper".concat(t)]=r,this.store.roleMap.set(r,"disclaimer"),Tr({i:t,wrapper:r,ratio:this.config.ratio[t],lines:e.map((function(e,t){var o=i.config.text.substring(e[0],e[1]||void 0),n=Kr("span",{classes:i.getClass("_mk_disclaimer_line"),appendTo:r});return Tr({index:t,text:o,standardWidth:e[i.lenFWi]||mn(o,i.charWidths),wrapper:r,element:Kr("span",{classes:i.getClass("_mk_disclaimer_text"),text:o,appendTo:n})})}))})}}),Object.defineProperty(t.prototype,"registerPlace",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.places[e]=t}}),Object.defineProperty(t.prototype,"place",{get:function(){return this.places[this.store.view]||Object.values(this.places)[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeTo",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.place;if(e instanceof HTMLElement){if(this.store.isFullscreen){var t="".concat(function(){switch($r()){case Fr.desktop:return"calc(var(--media-width) + var(--info-width))";case Fr.tablet:return"var(--media-width)";case Fr.mobile:return io?"calc(var(--media-width) + var(--info-width))":"var(--media-width)"}}(),"!important");Zr(e,{width:t,maxWidth:t},null,"important")}e.appendChild(this.element),this.currentPlace&&(this.currentPlace.style.display="none"),this.currentPlace=e,this.currentPlace.style.display="flex",this.onResize(!0)}}}),Object.defineProperty(t.prototype,"onResize",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.store.isFullscreen?ro(this.store._root_size.width,this.store._root_size.height):this.store._root_size;if(xr(t)){var i=t.width,r=t.height;if(e||this.prevSize.width!==i||this.prevSize.height!==r){this.prevSize=t;var o="number"==typeof this.store.meta.disclaimerWidth?this.store.meta.disclaimerWidth:"onPlace"===this.store.meta.disclaimerWidth&&this.place instanceof HTMLElement?to(this.place).width||this.store.meta.mediaWidth:i;this.resize(i,r,o)}}}}),Object.defineProperty(t.prototype,"updateCssVars",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;(null===(t=this.engine.dispatcher)||void 0===t?void 0:t.setStyles)&&this.store.id?this.engine.dispatcher.setStyles(this.store.localId,{sdHeight:"".concat(this.store.stylesToken,"{").concat(this.getVar("--mk-sdHeight"),": ").concat(this.height,"px; ").concat(this.getVar("--mk-sdPadding"),": ").concat(this.p,"px; ").concat(this.getVar("--mk-sdLineHeight"),": ").concat(this.lineHeight,"px}")}):(Zr(this.element,void 0,((e={})[this.getVar("--mk-sdPadding")]="".concat(this.p,"px"),e[this.getVar("--mk-sdLineHeight")]="".concat(this.lineHeight,"px"),e)),this.store.hostNode.style.setProperty(this.getVar("--mk-sdHeight"),"".concat(this.height,"px")))}}),Object.defineProperty(t.prototype,"setVariant",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.variants[e]!==this.currentVariant&&(this.element.replaceChild(this.variants[e].wrapper,this.currentVariant.wrapper),this.currentVariant=this.variants[e])}}),Object.defineProperty(t.prototype,"resize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,r){var o=i||e,n=this.size*this.fraction,a=e*t*n*(r?1+n*(1.01+n):1)||0;this.p="number"==typeof this.store.disclaimerPaddings?this.store.disclaimerPaddings:function(e,t){return e<320||t<320?4:6}(o,t),this.textWidth=o-2*this.p,this.textHeight=Math.ceil(Math.max(a/this.textWidth,+this.store.meta.disclaimerMinHeight||0)),this.height=this.textHeight+2*this.p;for(var s=this.textWidth/this.textHeight,l=0,d=1/0,c=this.variants.length;c--;)Math.abs(s-this.variants[c].ratio)<d&&(l=c,d=Math.abs(s-this.variants[c].ratio));this.setVariant(l);var u=this.currentVariant.lines.length||1,h=Math.round(.07*this.textHeight);return this.lineHeight=Math.ceil((this.textHeight-h*(u-1))/u),this.fontSize=this.lineHeight*vl,this.yScale=this.fontSize/24,this.rescale(),this.updateCssVars(),{width:e,height:this.height}}}),Object.defineProperty(t.prototype,"measureTextWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(e&&"object"==typeof e&&e.text){var i=Kr("span",{classes:this.getClass("_mk_disclaimer_measure"),appendTo:document.body,text:e.text,styles:{fontWeight:String(this.fontWeight)}}),r=function(o){void 0===o&&(o=10),setTimeout((function(){if(1==o--||Math.abs(e.standardWidth/i.offsetWidth-1)<.03&&+i.offsetWidth&&e.realWidth!==i.offsetWidth){if(e.realWidth=+i.offsetWidth,t.rescaleLine(e),o)return r(1)}else if(--o)return r(o);i.remove()}),1e3)};r()}}}),Object.defineProperty(t.prototype,"rescale",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.currentVariant.lines.forEach((function(t){return e.rescaleLine(t)}))}}),Object.defineProperty(t.prototype,"rescaleLine",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.xScale=this.textWidth/(e.realWidth||e.standardWidth)||1,e.element.style.scale="".concat(e.xScale.toFixed(3)," ").concat((this.yScale||1).toFixed(3))}}),t}(Yr),_l=function(e){function t(t,i){var r=e.call(this,t)||this;return Object.defineProperty(r,"prevTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"workTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"fullTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.timer=r.timer.bind(r),xr(i)&&(r.store=i),r.subscribe(["state"],r.onState),r.subscribe(["resetTimer"],r.resetTimer),r}return gr(t,e),Object.defineProperty(t.prototype,"resetTimer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.workTime=Dr(e)?0|e:0}}),Object.defineProperty(t.prototype,"onState",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.state;3===e?this.start():(4===e||e<3)&&this.stop()}}),Object.defineProperty(t.prototype,"start",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.interval||(this.prevTime=Date.now(),this.interval=setInterval(this.timer,251))}}),Object.defineProperty(t.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.interval&&(clearInterval(this.interval),this.interval=null)}}),Object.defineProperty(t.prototype,"timer",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;if((null===(t=null===(e=this.store)||void 0===e?void 0:e.rootNode)||void 0===t?void 0:t.element)&&!this.store.rootNode.element.isConnected)return this.engine.nodeManager.checkup();var i=Date.now(),r=(i-this.prevTime)/1e3;this.workTime+=r,this.fullTime+=r,this.setProps(Tr({currentTime:this.workTime,fullTime:this.fullTime})),this.prevTime=i}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.stop(),e.prototype.destroy.call(this)}}),t}(Yr),yl=function(e){function t(t){var i=e.call(this,t)||this;return Object.defineProperty(i,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.interval=null,i.updateFocus=i.updateFocus.bind(i),window.addEventListener("blur",i.updateFocus),window.addEventListener("focus",i.updateFocus),i}return gr(t,e),Object.defineProperty(t.prototype,"updateFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||this.setProps(Tr({inFocus:ao.hasFocus()}))}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){window.removeEventListener("blur",this.updateFocus),window.removeEventListener("focus",this.updateFocus),e.prototype.destroy.call(this)}}),t}(Yr),wl=function(e){function t(t){var i=e.call(this,t)||this;return Object.defineProperty(i,"iframe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"closeProps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.onMessage=i.onMessage.bind(i),i.close=i.close.bind(i),i}return gr(t,e),Object.defineProperty(t.prototype,"open",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r,o,n;if(!this.store.isPopupOpen&&(this.setProps({isPopupOpen:!0}),this.engine.pause(!0),!xr(null===(i=this.store.meta.serviceForest)||void 0===i?void 0:i.popup)||(this.element=To(this.store.meta.serviceForest.popup,this.store),!this.element))){this.buildDefaultPopup(e);var a=(null===(r=this.store.popupCfg)||void 0===r?void 0:r.closeOnMsgProps)||(null===(n=null===(o=this.store.asmConfig)||void 0===o?void 0:o.popupCfg)||void 0===n?void 0:n.closeOnMsgProps);xr(a)&&Object.entries(a).length&&(this.closeProps=a,window.addEventListener("message",this.onMessage))}}}),Object.defineProperty(t.prototype,"buildDefaultPopup",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.element=Kr("div",{classes:this.getClass("_mk_popup")});var t=Kr("div",{classes:this.getClass("_mk_popup_body"),appendTo:this.element});Kr("div",{classes:this.getClass("_mk_popup_closeButton"),appendTo:t,onClick:this.close}),this.iframe=Kr("iframe",{classes:this.getClass("_mk_popup_frame"),attrs:{src:e,frameborder:"0"},appendTo:t}),this.iframe,ao.body.appendChild(this.element)}}),Object.defineProperty(t.prototype,"onMessage",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!this.isDestroyed&&xr(e)&&(go.warn("Popup onMessage. event, closeProps",e,this.closeProps),Object.entries(this.closeProps).every((function(t){var i=t[0],r=t[1];return So(i,e)==r}))&&this.close())}}),Object.defineProperty(t.prototype,"close",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;null===(e=this.element)||void 0===e||e.remove(),this.element=null,this.unListen(),this.isDestroyed||(this.setProps({isPopupOpen:!1}),this.engine.resume(!0))}}),Object.defineProperty(t.prototype,"unListen",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.closeProps&&window.removeEventListener("message",this.onMessage)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.unListen(),e.prototype.destroy.call(this)}}),t}(Yr),kl=function(){function e(e,t){var i;Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nodeManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"producer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventBus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disclaimer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewability",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"popup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"focus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startedAt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closeTab",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webLog",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(this,"customEvents",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"viewinSend",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modules",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(this,"asmConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),go.warn("New data ".concat(null===(i=e.banner)||void 0===i?void 0:i.creativeType,". Configs (inst, global):"),e,t),this.startedAt=performance.now(),this.config=e,this.handleState=this.handleState.bind(this);try{this.prepareWebLog(e),this.eventBus=new ml(this),this.store=new hn(this);var r=xr(t)?t:{};if(this.store.globalInitConfig=r,this.asmConfig=r.asmConfig,this.dispatcher=r.dispatcher,this.store.subscribe(["state","inFocus","visibility"],this.handleState),!xr(e))throw Gr.error(331);new hl(this,e),this.handlers=this.store.meta.handlers,zr(this,"disclaimer",this.store.data.disclaimer_id&&this.store.data.disclaimer_id in un.disclaimer.config?new gl(this):void 0),this.nodeManager=new pl(this),this.producer=new un.producers[this.store.producer](this),this.components=new bl(this),this.pixels=new Jn(this,this.store.data.statistics,"banner"),this.timer=new _l(this),this.store.hasIObserver&&(this.viewability=new Nn(this),this.viewability.observe(this.store.proxyNode)),this.initModules(),this.producer.playNextScene(),this.popup=this.store.data.openLinkInPopup?new wl(this):void 0,this.focus=new yl(this);var o=performance.now()-this.startedAt;go.info("Banner id: ".concat(this.store.id," rendered in"),o.toFixed(2),"ms"),this.store.firstRenderTime=o,this.store.data.vpaid||this.eventBus.sendEvent(po.Ready),this.raiseCoreEvent(1),this.store.isFullscreen&&(this.raiseCoreEvent(26),this.eventBus.sendEvent({event:po.FullScreenOn,hostNode:this.store.hostNode,rootNode:this.store.rootNode.element})),this.store.initConfig.initMode&&Sr(this.store.initConfig.debug)&&this.store.initConfig.debug.includes(5013)&&this.sendWebLog(5013,{message:this.store.initConfig.initMode}),this.beforeunload=this.beforeunload.bind(this),window.addEventListener("beforeunload",this.beforeunload),this.focus.updateFocus(),e.errTimeout&&clearTimeout(e.errTimeout)}catch(t){this.throwError(t,void 0,e)}}return Object.defineProperty(e.prototype,"raiseEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i;!this.isDestroyed&&xr(e)&&Er(t=e.event)&&this.pixels&&(this.pixels.sendSimplePixel(t,e.params,e.multiple),"closedByUser"===t&&xr(i=this.store.initConfig.banner.adChoices)&&Er(i.closeUrl)&&Ao(i.closeUrl+(xr(e.params)&&e.params.reason||"")))}}),Object.defineProperty(e.prototype,"initModules",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,r=this;xr(i=null===(t=null===(e=this.store.globalInitConfig)||void 0===e?void 0:e.asmConfig)||void 0===t?void 0:t.modules)&&Object.entries(i).forEach((function(e){var t=e[0],i=e[1];Pr(i)&&(r.modules[t]=new i(r))})),xr(i=this.store.meta.modules)&&Object.entries(i).forEach((function(e){var t=e[0],i=e[1];Pr(i)&&(r.modules[t]=new i(r))})),go.info("postView. initModules:",this.modules)}}),Object.defineProperty(e.prototype,"prepareWebLog",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;xr(e)&&xr(t=e.banner)&&(t.id&&(this.webLog.id=t.id),t.banner_template_id&&(this.webLog.tpl=t.banner_template_id),t.template_id&&(this.webLog.tpl=t.template_id),t.pad_id&&(this.webLog.p=t.pad_id),t.impression_id&&(this.webLog.impr=t.impression_id),xr(t.pattern)&&t.pattern.name&&(this.webLog.ptrn=t.pattern.name))}}),Object.defineProperty(e.prototype,"restore",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i;if(!this.isDestroyed&&this.store.proxyNode&&Cr(i=so(e.target||e.container))){i.innerHTML="",i.appendChild(this.store.proxyNode),this.nodeManager.observeHostNode(),xr(e.refs)&&xr(this.store.refNodes)&&Object.entries(this.store.refNodes).forEach((function(t){var i=t[0],r=t[1];r.element instanceof HTMLElement&&r.element.remove(),r.element=e.refs[i],r.element instanceof HTMLElement&&r.parent.element.appendChild(r.element)}));var r=["old","replace"].includes(e.callbackRestoreMode)?e.callbackRestoreMode:"new";return"old"!==r&&this.eventBus.loadCallbacks(e,"new"==r),this.raiseCoreEvent(29),null===(t=this.eventBus)||void 0===t||t.sendEvent({event:po.Restored,mode:"render",restoreCount:++this.store.restoreCount}),go.warn("Restore instance, id:",this.store.data.id,this.store.id),Gr.success}}}),Object.defineProperty(e.prototype,"sendWebLog",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){try{if("localhost"===ao.location.hostname&&"true"!==localStorage.getItem("forceWebLog"))return}catch(t){}var i="no_data";Object.entries(un.webErrorMapping).forEach((function(t){var r=t[0];t[1].includes(e)&&(i=r)}));var r=_r(_r({},this.webLog),{err:i,msg:String(e)});"number"==typeof e&&(r.code=e),xr(t)&&Er(t.message)&&(r.msg=t.message);var o=Object.entries(r).map((function(e){var t=e[0],i=e[1];return"".concat(t,"=").concat(i)})).join("&"),n="https://ad.mail.ru/web/log/?ljs=motion-lib&ver=1.0.381&"+encodeURI(o);xr(t)&&t.delay?function(e,t){var i,r=0;xr(t.config)&&Nr(r=t.delay)&&Er(i=t.delayProp)&&xr(t.config)?t.config[i]=setTimeout((function(){return Ao(e)}),r):Ao(e)}(n,t):Ao(n)}}),Object.defineProperty(e.prototype,"beforeunload",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.store&&(this.store.forcePixels&&function(){for(var e=bo.length-1;e>=0;e--)Sr(bo[e])&&!1===bo[e][1]&&Er(bo[e][0])&&(bo[e][1]=!0,navigator.sendBeacon(bo[e][0]))}(),this.store.isPageUnload=!0,this.raiseCoreEvent(16))}}),Object.defineProperty(e.prototype,"throwError",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r,o,n,a;if(!this.isDestroyed){var s,l=Mo(e,t);this.sendWebLog(l.code,e),go.error("Error:",l,"\r\n",e),null===(r=this.eventBus)||void 0===r||r.sendEvent(l),null===(o=this.eventBus)||void 0===o||o.sendEvent(po.Closed),(xr(i)&&xr(s=i.banner||i.data)||xr(s=null===(n=this.store)||void 0===n?void 0:n.data))&&Lr(s.statistics).forEach((function(e){xr(e)&&"error"===e.type&&Ao(e.url)})),this.raiseCoreEvent(19),(null===(a=this.store.asmConfig)||void 0===a?void 0:a.raiseError)&&setTimeout((function(){throw e}),15),this.destroy()}}}),Object.defineProperty(e.prototype,"handleState",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){var e=this.store,t=e.state,i=e.inFocus,r=e.visibility,o=e.servicePause,n=e.manualPause,a=e.autoPause&&((r||0)<50||!i)||o||n;a&&3===t?this.store.setProps(Tr({state:4})):a||4!==t&&2!==t||this.store.setProps(Tr({state:3}))}}}),Object.defineProperty(e.prototype,"start",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.resume()}}),Object.defineProperty(e.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(void 0===i&&(i=4),!this.isDestroyed&&!this.store.closedByUser)return Sr(this.store.videos)&&this.store.videos.forEach((function(r){return r.pause(e,t,i)})),this.store.servicePause=e,this.store.manualPause=this.store.manualPause||t,this.store.setProps({state:4}),Gr.success}}),Object.defineProperty(e.prototype,"useTheme",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;this.isDestroyed||null===(t=this.nodeManager)||void 0===t||t.setTheme(e)}}),Object.defineProperty(e.prototype,"resume",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!this.isDestroyed&&!this.store.closedByUser&&4===this.store.state)return Sr(this.store.videos)&&this.store.videos.forEach((function(i){return i.play(e,t)})),this.store.servicePause=!1,this.store.manualPause=!1,this.store.setProps({state:3}),Gr.success}}),Object.defineProperty(e.prototype,"repeat",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.store.sendData({resetTimer:0}),Sr(this.store.videos)&&this.store.videos.forEach((function(e){Br(e.element)&&(e.element.currentTime=0),e.play()})),this.store.servicePause=!1,this.store.setProps({state:3}),Gr.success}}),Object.defineProperty(e.prototype,"skip",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Gr.success}}),Object.defineProperty(e.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Gr.success}}),Object.defineProperty(e.prototype,"setVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Gr.success}}),Object.defineProperty(e.prototype,"getVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Gr.success}}),Object.defineProperty(e.prototype,"getState",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;return{status:this.status,version:"1.0.381",isDestroyed:null!==(e=this.isDestroyed)&&void 0!==e?e:!this.store,firstRenderTime:null===(t=this.store)||void 0===t?void 0:t.firstRenderTime}}}),Object.defineProperty(e.prototype,"raiseCoreEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r,o;if(!this.isDestroyed&&e){null===(i=this.store)||void 0===i||i.sendData(Tr({coreEvent:{event:e,data:t}}));var n=un.eventToDispatch[e];if(n&&(un.multipleEvents.includes(n)||!this.customEvents.includes(n))){this.customEvents.push(n),oo(this.store.proxyNode,n);var a=void 0,s=void 0;Pr(a=null===(r=this.store.initConfig)||void 0===r?void 0:r.extLogger)&&xr(s=null===(o=this.store.meta)||void 0===o?void 0:o.extLogging)&&s[e]&&a({event:s[e]})}}}}),Object.defineProperty(e.prototype,"setCss",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r;"function"==typeof(null===(i=this.dispatcher)||void 0===i?void 0:i.setStyles)&&(null===(r=this.dispatcher)||void 0===r||r.setStyles(this.store.localId,e,t))}}),Object.defineProperty(e.prototype,"setCssVars",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(xr(e)){var i=this.store.stylesToken+" {"+Object.entries(e).map((function(e){var i=e[0],r=e[1];return t.getVar("--mk-"+i)+":"+r+(i.endsWith("Px")?"px":"")})).join(";")+"}";this.setCss({cssVars:i})}}}),Object.defineProperty(e.prototype,"getClass",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return Er(e)?this.store.classMap[e]||e:Sr(e)?e.map((function(e){return t.store.classMap[e]||e})):e}}),Object.defineProperty(e.prototype,"getVar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.store.varMap[e]||e}}),Object.defineProperty(e.prototype,"close",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this.isDestroyed||(e&&this.eventBus.sendEvent(po.Completed),this.store.isFullscreen&&(this.raiseCoreEvent(27),this.eventBus.sendEvent({event:po.FullScreenOff,hostNode:this.store.hostNode,rootNode:this.store.rootNode.element})),t&&(this.eventBus.sendEvent(po.ClosedByUser),this.raiseCoreEvent(9)),this.eventBus.sendEvent({event:po.Closed,completed:e,closedByUser:t}),this.raiseCoreEvent(9),setTimeout((function(){i.destroy()}),15))}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r,o,n,a,s,l,d,c,u,h,p;if(this.isDestroyed)return this.closeTab&&this.closeTab.remove(),void(this.closeTab=null);xr(e)&&e.closeCode&&Er(p=null===(t=this.store.data.adChoices)||void 0===t?void 0:t.closeUrl)&&Ao(p+e.closeCode),this.isDestroyed=!0,null===(i=this.dispatcher)||void 0===i||i.delStyles(this.store.localId),null===(r=this.dispatcher)||void 0===r||r.delInstance(this.store),window.removeEventListener("beforeunload",this.beforeunload),null===(o=this.store)||void 0===o||o.destroy(),null===(n=this.nodeManager)||void 0===n||n.destroy(),null===(a=this.producer)||void 0===a||a.destroy(),null===(s=this.eventBus)||void 0===s||s.destroy(),null===(l=this.components)||void 0===l||l.destroy(),null===(d=this.disclaimer)||void 0===d||d.destroy(),null===(c=this.timer)||void 0===c||c.destroy(),null===(u=this.pixels)||void 0===u||u.destroy(),null===(h=this.focus)||void 0===h||h.destroy();for(var m=0,b=Object.keys(this);m<b.length;m++)delete this[b[m]];return this.status=(null==e?void 0:e.status)||new Gr({status:5007}),this.isDestroyed=!0,go.warn("MotionKit instance was destroyed"),this.status}}),e}(),xl=function(e){function t(t,i){var r=e.call(this,t)||this;return Object.defineProperty(r,"nStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.element=i,r.player=i,r.data=t.store.data,r.onTime=r.onTime.bind(r),r.onPlayPause=r.onPlayPause.bind(r),r.nStore=new on(r.engine,r),r.nStore.subscribe(["currentTime"],r.onTime),r.modules.manager=new ta(t,r,{mode:"master"}),r.modules.viewability=new Nn(t,r.nStore),r.modules.viewability.observe(i),r.modules.videoEventSender=new $n(t,r,{regState:!0}),i.addEventListener("pause",r.onPlayPause),i.addEventListener("play",r.onPlayPause),r.nStore.setProps({state:2,isReady:!0}),r}return gr(t,e),Object.defineProperty(t.prototype,"onPlayPause",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this.isDestroyed&&Br(this.element)&&this.nStore.setProps({state:this.element.paused?4:3})}}),Object.defineProperty(t.prototype,"useStore",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.nStore}}),Object.defineProperty(t.prototype,"onTime",{enumerable:!1,configurable:!0,writable:!0,value:function(e){xr(e)&&Sr(e.currentTime)&&e.currentTime[0]<e.currentTime[1]?this.nStore.setProps({state:6}):this.nStore.currentTime>0&&this.nStore.setProps({state:3,isReady:!0})}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.element.removeEventListener("pause",this.onPlayPause),this.element.removeEventListener("play",this.onPlayPause),e.prototype.destroy.call(this)}}),t}(Yr),Al=function(){function e(e){Object.defineProperty(this,"engine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"roleMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"video",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventBus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rolesFound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backgroundDepth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isCV",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"checkTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.onClick=this.onClick.bind(this),this.getVideo=this.getVideo.bind(this),this.onVisibility=this.onVisibility.bind(this),this.engine=e,this.store=e.store,this.eventBus=e.eventBus,this.linkTarget(this.store.config.target),this.checkup(),this.store.restoreCount=0}return Object.defineProperty(e.prototype,"linkTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i;if(!Cr(e))throw Gr.error(317);this.target=e,this.isCV="function"==typeof e.checkVisibility,this.roleMap=new Map,this.rolesFound=0,mo&&(this.parseTree(e),go.debug("rolesFound, roleMap:",this.rolesFound,this.roleMap)),this.handleVideo(),this.roleMap.set(e,"background"),this.backgroundDepth=(null===(i=null===(t=this.engine.config.asmConfig)||void 0===t?void 0:t.watcher)||void 0===i?void 0:i.backgroundDepth)||0,e.addEventListener("click",this.onClick,!0)}}),Object.defineProperty(e.prototype,"unlinkTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;null===(e=this.mObserver)||void 0===e||e.disconnect(),this.mObserver=void 0,this.vNode=void 0,this.video=void 0,this.interval&&(clearInterval(this.interval),this.interval=void 0),this.target.removeEventListener("click",this.onClick,!0),go.debug("Watcher. unlinkTarget")}}),Object.defineProperty(e.prototype,"parseTree",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(e instanceof HTMLElement){var i=e.dataset.role;Er(i)&&(this.roleMap.set(e,i),this.rolesFound++),Array.prototype.forEach.call(e.children,(function(e){return t.parseTree(e)}))}}}),Object.defineProperty(e.prototype,"isServiceArea",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r=null===(i=null===(t=this.engine.config.asmConfig)||void 0===t?void 0:t.watcher)||void 0===i?void 0:i.noClickSelectors;if(!(e instanceof Element&&Sr(r)))return!1;for(var o=0;o<r.length;o++){var n=this.store.config.target.querySelectorAll(r[o]);if(n.length&&Array.from(n).some((function(t){return t.contains(e)})))return go.warn("Click of service area"),!0}}}),Object.defineProperty(e.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r,o=e.target,n=0;if(!this.isDestroyed&&!this.isServiceArea(o)&&Cr(o)){for(;o instanceof Element&&o!==this.target&&!(r=o.dataset.role)&&!(r=this.roleMap.get(o));)o=o.parentElement,n++;var a=(r=r||"background").toLowerCase(),s="click"===a||this.store.clickArea.wholeview||this.store.clickArea[a]||"background"===a&&this.backgroundDepth&&n>=this.backgroundDepth;if(go.debug("Watcher.onClick. depth, role, isClickArea:",n,r,s),"nothing"!==a&&"noclick"!==a&&!this.engine.pixels.sendSimplePixel(r)&&(s||a.startsWith("card_"))){var l="ctabutton"===a&&(null===(i=null===(t=this.engine.pixels)||void 0===t?void 0:t.pixels)||void 0===i?void 0:i.ctaClick)?14:13;go.debug("Watcher.onClick. pixelEvent:",l),this.engine.raiseCoreEvent(l)}}}}),Object.defineProperty(e.prototype,"restore",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;return go.debug("Watcher.restore. manager:",this),this.unlinkTarget(),this.linkTarget(e),this.raiseCoreEvent(29),null===(t=this.eventBus)||void 0===t||t.sendEvent({event:po.Restored,mode:"render",restoreCount:++this.store.restoreCount}),Gr.success}}),Object.defineProperty(e.prototype,"checkVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{var e=getComputedStyle(this.target).display||"",t=getComputedStyle(this.target.parentElement).display||"";return e.includes("none")||t.includes("none")}catch(e){}}}),Object.defineProperty(e.prototype,"checkup",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.target;if(Cr(e)&&!(Date.now()-(this.checkTime||0)<715)){if(this.checkTime=Date.now(),e.isConnected){var t=e.parentElement instanceof HTMLElement?getComputedStyle(e.parentElement):{transform:"?"},i=!1;try{i=!e.getClientRects()[0].height||!e.parentElement.getClientRects()[0].height}catch(e){}return(this.isCV?!e.checkVisibility():this.checkVisibility())||i||t.transform.includes("rotate3d")?(this.store.isHidden=!0,this.engine.raiseCoreEvent(21)):this.store.isHidden=!1,this.store.isHidden}this.store.isHidden=!0}}}),Object.defineProperty(e.prototype,"handleVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed&&!1!==this.store.config.watchVideo&&(this.getVideo(),!this.video)){if(!this.store.config.noMutationObserver&&Pr(window.MutationObserver)&&!this.mObserver)try{return this.mObserver=new MutationObserver(this.getVideo),void this.mObserver.observe(this.target,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src"]})}catch(e){this.mObserver=null}this.store.subscribe("visibility",this.onVisibility)}}}),Object.defineProperty(e.prototype,"getVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;this.isDestroyed||this.video||(go.debug("Watcher. try to find video. id:",this.store.data.id),(this.video=this.findVideo(this.target))&&(this.vNode=this.vNode||new xl(this,this.video),this.roleMap.set(this.video,"image"),null===(e=this.mObserver)||void 0===e||e.disconnect(),this.mObserver=null,this.interval&&(clearInterval(this.interval),this.interval=null),this.store.unSubscribe("visibility",this.onVisibility),go.debug("Watcher. found video:",this.video)))}}),Object.defineProperty(e.prototype,"findVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e instanceof HTMLElement&&!this.video){if(Br(e))return e;for(var t=Array.from(e.children),i=0;i<t.length;i++){var r=this.findVideo(t[i]);if(r)return r}}}}),Object.defineProperty(e.prototype,"raiseCoreEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.engine.raiseCoreEvent(e,t)}}),Object.defineProperty(e.prototype,"onVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDestroyed||(this.checkup(),!this.video&&this.store.config.noMutationObserver&&(this.store.visibility>0?this.interval||(this.interval=setInterval(this.getVideo,354)):!this.interval&&this.store.visibility||(clearInterval(this.interval),this.interval=null)))}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;for(var t in null===(e=this.vNode)||void 0===e||e.destroy(),this.unlinkTarget(),this)delete this[t];this.isDestroyed=!0}}),e}(),Cl=function(e){function t(t,i){var r=e.call(this)||this;return Object.defineProperty(r,"engine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"muted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(r,"volume",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(r,"currentTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"remainTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"duration",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"progress",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"visibility",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"manualPause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"servicePause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isMobileSafari",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isReady",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"hasIObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isMediaReady",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isStarted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"initConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"clickArea",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"signs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"workTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"renderMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"pixelSendTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isHidden",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"restoreCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.engine=t,r.config=i,r.initConfig=i,r.data=i.banner,r.signs=Or(),r.hasIObserver=Pr(window.IntersectionObserver),r.renderMode=Ur.watch,r}return gr(t,e),t}(rn),Pl=function(){function e(e){var t,i,r,o,n,a,s,l=this;Object.defineProperty(this,"getVar",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setCssVars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventBus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewability",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"focus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stats",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"customEvents",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nodeManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extLogging",{enumerable:!0,configurable:!0,writable:!0,value:void 0});var d=performance.now();this.config=e,go.info("Run Watcher. config:",e);try{var c=e.dispatcher.applyPreProcs(e.banner,null===(i=null===(t=e.asmConfig)||void 0===t?void 0:t.watcher)||void 0===i?void 0:i.preprocessors);this.extLogging=null===(o=null===(r=e.asmConfig)||void 0===r?void 0:r.watcher)||void 0===o?void 0:o.extLogging,go.info("Watcher convert result:",c),c&&(e.banner=c);var u=this;if(this.store=new Cl(this,e),this.eventBus=new ml(u),!xr(e)||!xr(e.banner)||!Sr(this.stats=e.banner.statistics))throw Gr.error(331);if(!(e.target instanceof HTMLElement))throw Gr.error(581);var h=null!==(n=e.banner.clickArea)&&void 0!==n?n:e.banner.clickAreas;Dr(h)||(h=null===(s=null===(a=e.asmConfig)||void 0===a?void 0:a.watcher)||void 0===s?void 0:s.clickArea),this.store.clickArea=Bo(un.clickAreas,parseInt(h)),xr(this.store.clickArea)&&(this.store.clickArea.disclaimer=this.store.clickArea.wholeview),this.handleState=this.handleState.bind(this),this.store.subscribe(["state","inFocus","visibility"],this.handleState),this.pixels=new Jn(u,this.stats,"banner"),this.timer=new _l(u),this.focus=new yl(u),this.nodeManager=new Al(this),this.store.hasIObserver?(this.viewability=new Nn(u),this.viewability.observe(e.target)):this.store.visibility=100,this.store.subscribe("isShown",(function(){l.raiseCoreEvent(17)})),this.beforeunload=this.beforeunload.bind(this),window.addEventListener("beforeunload",this.beforeunload),this.raiseCoreEvent(1),this.timer.start();var p=performance.now()-d;this.focus.updateFocus(),go.info("Banner id: ".concat(e.banner.id," is ready to watch in"),p.toFixed(2),"ms")}catch(e){this.throwError(e)}}return Object.defineProperty(e.prototype,"beforeunload",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.store&&(this.store.isPageUnload=!0,this.raiseCoreEvent(16))}}),Object.defineProperty(e.prototype,"raiseEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!this.isDestroyed&&xr(e)&&Er(e.event)&&this.pixels&&this.pixels.sendSimplePixel(e.event,e.params,e.multiple)}}),Object.defineProperty(e.prototype,"handleState",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){var e=this.store,t=e.state,i=e.inFocus,r=e.visibility,o=e.servicePause,n=(r||0)<50||!i||o;n&&3===t?this.store.setProps(Tr({state:4})):n||4!==t&&2!==t||this.store.setProps(Tr({state:3}))}}}),Object.defineProperty(e.prototype,"restore",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.target;if(this.isDestroyed||!Cr(t))return Gr.error(581);go.debug("Watcher. restore",t);var i=["old","replace"].includes(e.callbackRestoreMode)?e.callbackRestoreMode:"new";return"old"!==i&&this.eventBus.loadCallbacks(e,"new"==i),this.nodeManager.restore(t)}}),Object.defineProperty(e.prototype,"raiseCoreEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r;if(!this.isDestroyed){null===(i=this.store)||void 0===i||i.sendData(Tr({coreEvent:{event:e,data:t}}));var o=un.eventToDispatch[e];if(o&&(un.multipleEvents.includes(o)||!this.customEvents.includes(o))){this.customEvents.push(o),oo(this.config.target,o);var n=void 0,a=void 0;Pr(n=null===(r=this.config)||void 0===r?void 0:r.extLogger)&&xr(a=this.extLogging)&&a[e]&&n({event:a[e]})}}}}),Object.defineProperty(e.prototype,"throwError",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,r,o;if(!this.isDestroyed){var n=Mo(e,t);go.error("Error:",n,"\r\n",e),null===(i=this.eventBus)||void 0===i||i.sendEvent(n),null===(r=this.eventBus)||void 0===r||r.sendEvent(po.Closed),Lr(this.stats).forEach((function(e){return xr(e)&&"error"===e.type&&Ao(e.url)})),this.raiseCoreEvent(19),(null===(o=this.config.asmConfig)||void 0===o?void 0:o.raiseError)&&setTimeout((function(){throw e}),15),this.destroy()}}}),Object.defineProperty(e.prototype,"getState",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;return{version:"1.0.381",isDestroyed:null!==(e=this.isDestroyed)&&void 0!==e?e:!this.store}}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r,o,n,a,s,l;if(!this.isDestroyed){var d;for(var c in zr(this,"isDestroyed",!0,!1),xr(e)&&e.closeCode&&Er(d=null===(t=this.config.banner.adChoices)||void 0===t?void 0:t.closeUrl)&&Ao(d+e.closeCode),null===(i=this.config.dispatcher)||void 0===i||i.delInstance(this.config),window.removeEventListener("beforeunload",this.beforeunload),null===(r=this.store)||void 0===r||r.destroy(),null===(o=this.eventBus)||void 0===o||o.destroy(),null===(n=this.timer)||void 0===n||n.destroy(),null===(a=this.pixels)||void 0===a||a.destroy(),null===(s=this.focus)||void 0===s||s.destroy(),null===(l=this.nodeManager)||void 0===l||l.destroy(),this)delete this[c];return this.isDestroyed=!0,go.warn("MotionKit Watcher instance was destroyed"),this.status=new Gr({status:5007}),this.status}}}),e}(),Sl=function(e,t){var i=this;Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"restore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raiseEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"skip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setVolume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getVolume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:void 0});var r=xr(e)&&"watch"===e.renderMode;if(xr(e)&&!r)if(Er(e.state))e.state;else for(var o in e){var n=e[o];if(Er(n)&&n.includes("8FsG7h4B8qEV5XZi"))break}var a=r?new Pl(e):new kl(e,t);un.methods.forEach((function(e){Pr(a[e])&&(i[e]=a[e].bind(a))})),Object.freeze(this)},Ml=function(e){function t(t){var i=e.call(this)||this;return Object.defineProperty(i,"dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"mainUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"section",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.dispatcher=t,i.mainUrl="https://ad.mail.ru/vp/",i.section="preroll",i}return gr(t,e),t}(rn),Il=["getProducer","request","start","stop","pause","clear","parse","watch","hasPreproc","isAsmInited","hasCreativeType"],Tl=["request","getProducer"],Ol=function(){return go.info("Run not implemented method"),Gr.error(566)};Ol.isStub=!0;var jl=function(){return go.info("Run not implemented method"),Promise.reject(Gr.error(566))};jl.isStub=!0;var Ll,El=function(e){return xr(e)?String(e.banner.id)+"_"+e.banner.impression_id:Oo()},Nl=function(){function e(){Object.defineProperty(this,"creatives",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(this,"configs",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(this,"instances",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(this,"preProcs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clear",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ids",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"globalCss",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parsers",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(this,"watchers",{enumerable:!0,configurable:!0,writable:!0,value:Or()}),Object.defineProperty(this,"mainCss",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"classMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"classBackMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"varMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"varBackMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),function(e){["mainCss","config","style","data","classMap","classBackMap","varMap","varBackMap"].forEach((function(t){return e[t]=Or()}))}(this),this.ids=[],this.isAsmInited=this.isAsmInited.bind(this),this.hasCreativeType=this.hasCreativeType.bind(this),this.init=this.init.bind(this),this.store=new Ml(this),this.mainCss=Or()}return Object.defineProperty(e.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return yr(this,void 0,void 0,(function(){var t,i,r,o,n,a;return wr(this,(function(s){if(go.table("Dispatcher. Init assembly:",e),!xr(e)||!xr(t=e.asmConfig)||!Er(t.asmName))throw Gr.error(578);if(i=xr(this.configs[t.asmName]),this.configs[t.asmName]=e,i)go.table("Repeat init assembly:",e);else{if(o=void 0,xr(r=t.parsers))for(n in r)Sr(o=this.parsers[n])?o.push.apply(o,r[n]):this.parsers[n]=r[n];Sr(t.preprocessors)&&(a=this.preProcs).push.apply(a,t.preprocessors)}return xr(t.watcher)&&(this.watchers[t.asmName]=t.watcher.engine),this.configs[t.asmName]=e,this.initGlobalStyles(e),this.initMethods(t),this.setCreatives(e),[2,Gr.success]}))}))}}),Object.defineProperty(e.prototype,"applyPreProcs",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!xr(e)||e.noPreprocessors)return!1;var i,r,o,n=this.preProcs.concat(t),a=n.length,s=!1,l=JSON.parse(JSON.stringify(e));if(l.settings=e.settings,!jr(l))for(var d=0;d<a;d++)if(xr(r=n[d])&&Pr(i=r.convert)&&(o=i(l))){s=!0,l=o;break}if(jr(l))for(d=0;d<a;d++)xr(r=n[d])&&(Pr(i=r.modify)||Pr(i=r.handler))&&(i(l),s=!0);return!(!jr(l)||!s)&&l}}),Object.defineProperty(e.prototype,"setCreatives",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.asmConfig,r=i.creatives,o=i.asmName;xr(r)&&Object.entries(r).forEach((function(i){var r=i[0],n=i[1];t.creatives[r]?go.log("Creative",r,"already registered"):(go.log("Register creative:",r),t.creatives[r]={asmName:o,config:e,meta:n})}))}}),Object.defineProperty(e.prototype,"getCreative",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.creatives[e]}}),Object.defineProperty(e.prototype,"initMethods",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i,r=this;xr(t=e.dispatcher)&&Il.forEach((function(e){if(!Pr(i=r[e])||i.isStub){var o=Tl.includes(e)?jl:Ol;go.log("Method registration:",e,null==i?void 0:i.isStub),r[e]=Pr(i=t[e])?i.bind(r):o}}))}}),Object.defineProperty(e.prototype,"isAsmInited",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return xr(this.configs)&&e in this.configs}}),Object.defineProperty(e.prototype,"hasCreativeType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return xr(this.creatives[e])}}),Object.defineProperty(e.prototype,"setStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var r=this;if(Er(e)&&xr(t)){e in this.style||(this.style[e]=document.createElement("style"),document.head.appendChild(this.style[e])),Object.entries(t).forEach((function(t){var i=t[0],o=t[1];r.data[e][i]=r.prepareCss(o)}));var o=Object.values(this.data[e]).join(""),n=this.style[e];this.style[e]instanceof HTMLStyleElement&&(Dr(i)?setTimeout((function(){n.innerHTML=o}),i):n.innerHTML=o)}}}),Object.defineProperty(e.prototype,"delStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.style[e]instanceof HTMLStyleElement&&this.style[e].remove()}}),Object.defineProperty(e.prototype,"getId",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;do{e=Oo()}while(this.ids.includes(e));return this.ids.push(e),this.data[e]=Or(),e}}),Object.defineProperty(e.prototype,"handleArea",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,r,o){void 0===o&&(o="");try{if("true"==window.localStorage.getItem("noObfuscate"))return r}catch(e){}for(var n,a;null!==(n=e.exec(r));){var s=n[1];if(!(s in t)){for(;(a=o+Zo())in i;);t[s]=a,i[a]=s}}return Object.entries(t).sort((function(e,t){return t[0].length-e[0].length})).forEach((function(e){return r=r.replace(new RegExp(e[0],"g"),e[1])})),r}}),Object.defineProperty(e.prototype,"prepareCss",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handleArea(/\.(_mk_[a-z].+?)\b/g,this.classMap,this.classBackMap,e);return this.handleArea(/(--mk-[a-z].+?)\b/g,this.varMap,this.varBackMap,t,"--")}}),Object.defineProperty(e.prototype,"handleEntry",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=document.createElement("style");document.head.appendChild(i);var r=this.prepareCss(t);i.appendChild(document.createTextNode(r)),this.mainCss[e]={elem:i,txt:r}}}),Object.defineProperty(e.prototype,"initGlobalStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(xr(e)){var i,r=e.asmConfig,o=e.branch;if(xr(r)&&(xr(r.css)||xr(r.branchCss)&&xr(r.branchCss[o])&&(i=o))){var n,a=performance.now();if(Object.entries(r.css).forEach((function(e){var i=e[0],r=e[1];t.mainCss[i]||t.handleEntry(i,r)})),xr(n=So("branchCss.".concat(o),r))&&Object.entries(n).forEach((function(e){var o=e[0],n=e[1],a=r.asmName+(i||"default")+o;t.mainCss[a]||t.handleEntry(a,n)})),"function"==typeof r.themeBuilder){var s=r.themeBuilder(r.themes,r.themeVarsMap,this.classMap._mk_proxyNode||"_mk_proxyNode");s&&this.handleEntry("".concat(r.asmName,"_themes"),s)}var l=performance.now();go.log("CSS init in ms:",(l-a).toFixed(2))}}}}),Object.defineProperty(e.prototype,"getInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(xr(e)&&xr(e.banner))return this.instances[El(e)]}}),Object.defineProperty(e.prototype,"delInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(go.info("Try clean instance: ",e),xr(e)&&xr(e.banner)){var t=El(e);go.info("Instance key to clean: ",t in this.instances,t),delete this.instances[El(e)]}}}),Object.defineProperty(e.prototype,"regInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(xr(e)&&xr(e.instance)&&xr(e.banner)){var t=El(e);return t in this.instances?this.instances[t]:(this.instances[t]=e,!1)}}}),Object.defineProperty(e.prototype,"getProducer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return yr(this,void 0,void 0,(function(){var t,i;return wr(this,(function(r){try{if(go.info("Run getProducer:",e),!xr(e))throw Gr.error(331);if(!this.isAsmInited(e.asmName))throw Gr.error(590);if(!Lo(t=this.configs[e.asmName].asmConfig,"producers"))throw Gr.error(591);if(!Pr(i=t.producers[e.type]||t.producers._default))throw Gr.error(591);return[2,new i(this,e)]}catch(e){throw go.error("getProducer error:",e),e}return[2]}))}))}}),Object.defineProperty(e.prototype,"watch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i;if(xr(e)){var r=Dl.getInstance(e);if(xr(r)&&(r=r.instance)instanceof Sl&&!r.getState().isDestroyed)return go.debug("Restore watcher instance id:",e.banner.id,e),r.restore(e),Promise.resolve(r);var o=null===(t=this.configs[e.asmName||"VKFeed"])||void 0===t?void 0:t.asmConfig,n=Tr(e,{renderMode:"watch",virtualization:!0,dispatcher:this,asmConfig:o});if(n.watcher=null===(i=null==o?void 0:o.watcher)||void 0===i?void 0:i.engine,!Pr(n.watcher))return Promise.reject(Gr.error(582));var a=new Sl(n);return Dl.regInstance(_r(_r({},e),{instance:a})),Promise.resolve(a)}go.error("Bad watching configuration:",e)}}),Object.defineProperty(e.prototype,"hasPreproc",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!~this.preProcs.findIndex((function(t){return t.name===e}))}}),e}(),Dl=new Nl,Bl=function(e,t){var i,r,o=xr(e)?Dl.getCreative(null===(i=e.banner)||void 0===i?void 0:i.creativeType):void 0,n=Tr(t,null==o?void 0:o.config);if(n.dispatcher=Dl,xr(e)&&e.virtualization){var a=Dl.getInstance(e);if(xr(a)&&(a=a.instance)instanceof Sl&&!a.getState().isDestroyed)return go.warn("Try to restore virtualized instance. id:",null===(r=e.banner)||void 0===r?void 0:r.id),a.restore(e),a}var s=new Sl(e,n);return e.virtualization&&Dl.regInstance(_r(_r({},e),{instance:s})),s};var Rl="id,delivery,type,codec,mediaType",zl="width,height,fileSize",Vl={1:{n:"VAST",a:{s:"version"},c:[2,3]},2:{n:"Error",l:3},3:{n:"Ad",a:{s:"id,adType",i:"sequence",b:"conditionalAd"},c:[4,100]},4:{n:"InLine",c:[5,6,7,8,9,10,17,19,"AdTitle","AdServingId","Description","Pricing","Error","Expires"]},5:{n:"AdSystem",a:{s:"version"}},6:{n:"Impression",a:{s:"id"},l:2},7:{n:"Category",a:{s:"authority"},l:1},8:{n:"Advertiser",a:{s:"id"}},9:{n:"ViewableImpression",a:{s:"id"},c:[81,82,83]},10:{n:"AdVerifications",c:11},11:{n:"Verification",a:{s:"vendor"},c:[12,13,14,90],l:1},12:{n:"JavaScriptResource",a:{s:"apiFramework",b:"browserOptional"},l:1},13:{n:"ExecutableResource",a:{s:"apiFramework,language"},l:1},14:{n:"TrackingEvents",c:15},15:{n:"Tracking",a:{s:"event",i:"offset"},l:2},17:{n:"Extensions",c:18},18:{n:"Extension",a:{s:"type"},l:1},19:{n:"Creatives",c:20},20:{n:"Creative",a:{s:"id,adId,apiFramework,ordId",i:"sequence"},l:1,c:[201,22,60,202]},201:{n:"CreativeExtensions",c:21},202:{n:"UniversalAdId",a:{s:"idRegistry"},l:1},21:{n:"CreativeExtension",a:{s:"type"},l:1},22:{n:"Linear",a:{s:"skipoffset"},c:[23,24,25,31,14,35,66]},23:{n:"Duration"},24:{n:"AdParameters",a:{s:"xmlEncoded"}},25:{n:"MediaFiles",c:[27,28,29]},26:{n:"Mezzanine",a:{s:Rl,i:zl},l:1},27:{n:"MediaFile",l:1,a:{i:zl+",bitrate,minBitrate,maxBitrate",s:Rl+",apiFramework",b:"scalable, maintainAspectRatio"}},28:{n:"InteractiveCreativeFile",a:{s:"type,apiFramework",b:"variableDuration"},l:1},29:{n:"ClosedCaptionFiles",c:30},30:{n:"ClosedCaptionFile",a:{s:"type,language"},l:1},31:{n:"VideoClicks",c:[32,33,34]},32:{n:"ClickThrough",a:{s:"id"}},33:{n:"ClickTracking",a:{s:"id"},l:2},34:{n:"CustomClick",a:{s:"id"},l:2},35:{n:"Icons",c:36},36:{n:"Icon",c:36,l:1},50:{n:"NonLinearAds",c:[51,54]},51:{n:"NonLinear",c:[52,53],l:1},52:{n:"NonLinearClickThrough"},53:{n:"NonLinearClickTracking",l:2},60:{n:"CompanionAds",a:{s:"required"},c:61},61:{n:"Companion",a:{s:"id,apiFramework,adSlotId,renderingMode",i:"width,height,assetWidth,assetHeight,expandedWidth,expandedHeight",f:"pxratio"},l:1,c:[62,63,24,64,65,66,14,"AltText"]},62:{n:"StaticResource",a:{s:"creativeType"},l:1},63:{n:"IFrameResource"},64:{n:"CompanionClickThrough"},65:{n:"CompanionClickTracking",a:{s:"id"},l:2},66:{n:"HTMLResource",l:1},81:{n:"Viewable",l:2},82:{n:"NotViewable",l:2},83:{n:"ViewUndetermined",l:2},90:{n:"VerificationParameters",c:91},91:{n:"VerificationParameter",a:{s:"type"},l:1},100:{n:"Wrapper",a:{s:"followAdditionalWrapper,allowMultipleAds,fallbackOnNoAd"},c:[5,6,2,9,10,17,19,"VASTAdTagURI","Pricing"]}},Hl={s:function(e){return e},i:function(e){return parseInt(e)},f:function(e){return parseFloat(e)},b:function(e){return"true"===e}},Wl={start:"playbackStarted",firstQuartile:{type:"playheadReachedValue",pvalue:25},midpoint:{type:"playheadReachedValue",pvalue:50},thirdQuartile:{type:"playheadReachedValue",pvalue:75},complete:"playbackCompleted",mute:"volumeOff",unmute:"volumeOn",pause:"playbackPaused",resume:"playbackResumed",fullscreen:"fullscreenOn",exitFullscreen:"fullscreenOff",close:"closedByUser",Error:"error",Impression:{type:"playheadViewabilityValue",target:"banner",duration:0,viewablePercent:"50"}},Fl=[1,60,3600];function Ul(e,t){var i;if(!(e instanceof Element))return null;var r=Or(),o=e.childNodes[0],n=null===(i=null==o?void 0:o.wholeText)||void 0===i?void 0:i.trim();if("number"==typeof t){var a=Vl[t];if(!xr(a)||!a.a&&!a.c)return n;!function(e,t,i){i.a&&Object.entries(i.a).forEach((function(i){var r=i[0];i[1].split(",").forEach((function(i){var o=t.getAttribute(i);o&&(e[i]=Hl[r](o))}))}))}(r,e,a),function(e,t,i){i.c&&(Array.isArray(i.c)?i.c:[i.c]).forEach((function(i){var r,o,n=Er(i)?i:null===(r=Vl[i])||void 0===r?void 0:r.n,a=Array.prototype.slice.apply(t.getElementsByTagName(n)).filter((function(e){return e.parentNode===t}));if(a.length){var s=a.map((function(e){return Ul(e,i)}));e[n]=!Er(i)&&(null===(o=Vl[i])||void 0===o?void 0:o.l)?s:s[0]}}))}(r,e,a)}return n&&(r.text=n),r}function Yl(e,t,i){if(Array.isArray(t)){var r=Wl[i]||i;t.forEach((function(t){var i=Tr(xr(r)?r:{type:r});i.url=t.text,e.push(i)}))}}function Gl(e,t){var i,r,o,n,a,s,l=[],d=null===(r=null===(i=t.Linear)||void 0===i?void 0:i.TrackingEvents)||void 0===r?void 0:r.Tracking;return Array.isArray(d)&&d.forEach((function(e){var t=Wl[e.event];l.push(_r(_r({},"string"==typeof t?{type:t}:t),{url:e.text}))})),Yl(l,null===(o=null==e?void 0:e.InLine)||void 0===o?void 0:o.Impression,"Impression"),Yl(l,null===(n=null==e?void 0:e.InLine)||void 0===n?void 0:n.Error,"Error"),Yl(l,null===(a=t.Linear.VideoClicks)||void 0===a?void 0:a.ClickTracking,"click"),Yl(l,null===(s=t.Linear.VideoClicks)||void 0===s?void 0:s.CustomClick,"click"),l}function Zl(e){return"string"==typeof e&&e?e.split(":").reverse().reduce((function(e,t,i){return e+Fl[i]*+t||0}),0):+e||0}var Xl,Ql={copy:["duration","creativeType","urlToNavigateOnClick","trackingLink","hasVolume","hasPause","allowClose","allowCloseDelay","linkText","ctaText","statistics"],map:[["bannerID","id"],["creativeType","format"]]};function Kl(e,t){if(void 0===t&&(t="preroll"),xr(e)&&"VPAID"===e.api&&Er(e.src)&&"application/javascript"===e.type){var i=Or();return Ql.copy.forEach((function(t){return i[t]=e[t]})),Ql.map.forEach((function(t){return i[t[1]]=e[t[0]]})),i.adChoices={marker:e.ordID},i.vpaid={src:e.src,params:{AdParameters:e.params},vars:{}},i}}!function(e){e[e.medical=6]="medical",e[e.alcohol=3]="alcohol",e[e.beer=4]="beer",e[e.tobacco=5]="tobacco",e[e.drugs=8]="drugs",e[e.dietary=9]="dietary",e[e.declaration=10]="declaration",e[e.finance=11]="finance"}(Xl||(Xl={}));var ql={copy:["src","duration","urlToNavigateOnClick","trackingLink","hasVolume","hasPause","allowClose","allowCloseDelay","linkText","ctaText","theme","disclaimer","mediafiles","title","description","statistics"],map:[["bannerID","id"],["type","format"],["ctaUrl","ctaLink"]]},Jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"lastLayout",{enumerable:!0,configurable:!0,writable:!0,value:null}),t}return gr(t,e),Object.defineProperty(t.prototype,"process",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;if(!this.isDestroyed){var i=this.getVariant();if(this.lastLayout!==i.layout){var r=this.lastLayout=i.layout,o=this.store.rootNode.element,n=this.store.vDOM,a=n.textArea.element;o.dataset.textScroll="h80"===r?String(a.scrollHeight>a.clientHeight):"false",o.dataset.cta=String(!("h56"===r&&this.size.width<614)),o.dataset.layout=r;var s=this.store.data.rating||this.store.data.votes;"v200"===r&&s&&(i.descDisplay="none");var l=null===(e=n.domain)||void 0===e?void 0:e.element;l&&(l.style.display="h80"!==r&&"h56"!==r||!s?"block":"none");var d=null===(t=n.logoDomainWrap)||void 0===t?void 0:t.element;d&&(d.style.display=s||"v200"===r?"none":"flex"),this.setCssVars(i)}}}}),t}(Ps),$l={root:{size:{vars:{layout:["h56","h80","v200"],dotOrder:[0,0,4],descDisplay:["block","block","-webkit-box"],headerOrder:[3,1,1]},filters:{height:function(e){return this.size.height<=e}},filterData:{pointsCnt:3,height:[60,100,1e3]},mapper:Jl}}},ed={closeBtn:!0,tabs:{main:{header:"*",items:[{text:"Скрыть объявление",iconUrl:"https://r.mradx.net/imgs/63/8e/d4b28cc0b905374f.svg",name:"hide",action:"hide"},{text:"Пожаловаться",iconUrl:"https://r.mradx.net/imgs/cf/aa/a8655ac54f10b068.svg",name:"complain",action:"complain"},{text:"О рекламодателе",iconUrl:"https://r.mradx.net/imgs/ee/63/84ed4e4a5ae73316.svg",name:"about",action:"redirect",actionValue:""},{text:"Скопировать ссылку",name:"copyUrl",action:"copy",actionValue:"",iconUrl:"https://r.mradx.net/imgs/b6/09/93a837dc06183017.svg"},{text:"Скопировать ERID ",iconUrl:"https://r.mradx.net/imgs/cf/e5/32db22916648f14d.svg",name:"copyErid",action:"copy",actionValue:""},{text:"Правила рекомендаций",name:"rules",action:"redirect",actionValue:"",iconUrl:"https://r.mradx.net/imgs/37/c0/ca37933876686dcd.svg"},{text:"VK Реклама",name:"VKAds",action:"redirect",classNames:["_mk_vkAds","_mk_adChoices_menuLine"],actionValue:"https://ads.vk.com/",iconUrl:"https://r.mradx.net/imgs/df/92/6fb16c27a25e2c38.svg"}]},hide:{header:"Уточните причину:",closeInfo:"Ваши ответы помогают нам подбирать более качественную рекламу",closeTitle:"Объявление скрыто",otherPlaceholder:"Напишите причину",items:[{id:1,text:"Не интересно",action:"reasonItem",actionValue:"closed"},{id:2,text:"Уже приобретено",action:"reasonItem",actionValue:"closed"},{id:3,text:"Вижу слишком часто",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"other"}]},complain:{header:"Уточните причину:",closeInfo:"Модератор скоро проверит объявление",closeTitle:"Жалоба отправлена",otherPlaceholder:"Напишите причину",items:[{id:4,text:"Оскорбительное содержание",action:"reasonItem",actionValue:"closed"},{id:5,text:"Сексуальный подтекст",action:"reasonItem",actionValue:"closed"},{id:6,text:"Нарушение закона",action:"reasonItem",actionValue:"closed"},{id:7,text:"Мошеннический сайт",action:"reasonItem",actionValue:"closed"},{id:9,text:"Другое",action:"reasonItem",actionValue:"other"}]},closed:{items:[{id:"closeTitle",classNames:["_mk_closeTitle"]},{id:"closeInfo",classNames:["_mk_closeInfo"]}]},other:{header:"Другое:",items:[{tg:"textarea",name:"textArea",classNames:["_mk_freeTextArea"]},{text:"Отправить",name:"sendButton",classNames:["_mk_freeButton"],action:"sendOther"}],footer:!0}},actions:_r({},Qo)};var td,id,rd,od=Object.assign({},zs,{classPrefix:"_mk_st_",proxyClass:"_mk_st_proxyNode",classMode:1,tree:{root:{role:"background",ch:["workArea","closeBtnWrap"],tr:1,wr:[{e:3,LISTEN:"ready",LISTENGLOBAL:"_media_ratio",SIZE:"_root_size"},{e:9,LISTEN:"ready",action:"textScrollDetector",value:!0},{e:9,LISTEN:"ready",action:"adaptiveMenuPosition",value:!0}]},workArea:{ch:["mediaWrap","disclaimer","infoWrap"]},mediaWrap:{ch:["media","mediaBackground","control_wrapper"],role:"image"},header:{ch:["headerIcon","headerLabel","logoDomainWrap","rating","adChoice"]},headerIcon:{txt:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path d="M0 7.2c0-3.4 0-5.1 1.05-6.15C2.11 0 3.8 0 7.2 0h.6c3.4 0 5.1 0 6.15 1.05C15 2.11 15 3.8 15 7.2v.6c0 3.4 0 5.1-1.05 6.15C12.89 15 11.2 15 7.8 15h-.6c-3.4 0-5.1 0-6.15-1.05C0 12.89 0 11.2 0 7.8Zm13-4.06a.6.6 0 0 1 .39 1.03l-1.41 1.4a.75.75 0 0 1-.62.22l-.96-.08-1.2 1.2a1.8 1.8 0 1 1-1.04-1.09l1.18-1.17-.12-1a.74.74 0 0 1 .22-.62l1.4-1.4a.6.6 0 0 1 1.03.37l.04 1.08Zm-5.1-.43a4.82 4.82 0 0 0-5.15 5.51 4.8 4.8 0 0 0 9.53-1.14l-1.6-.13a3.23 3.23 0 1 1-2.6-2.63Zm0 0" fill-rule="evenodd" fill="currentColor"/></svg>'},headerLabel:{role:"label",wr:{e:2,TEXT:"adLabel.text",default:"Реклама",before:1,action:"split"},ch:["ageRestrictions"],iif:{e:3,prop:"adLabel.show",value:!1}},ageRestrictions:{role:"agerestrictions",wr:2,iif:{e:1,prop:"ageRestrictions"}},media:{bl:1,tr:3,wr:[7,{e:8,replay:!0,mode:"master"}]},mediaBackground:{bl:{e:1,SRC:"$$media"},wr:{e:8,LISTEN:"media",mode:"slave"}},control_wrapper:{wr:{e:6,LISTEN:"media",TARGET:"*"}},logoDomainWrap:{ch:["icon","domain"],iif:[{e:1,prop:"domain"}]},domain:{wr:2,role:"domain"},icon:{role:"icon",bl:{e:1,SRC:"icon.src"},an:3,iif:[{e:1,prop:"icon"}]},disclaimer:{role:"disclaimer",bl:{e:3,view:"stable"}},infoWrap:{ch:["textArea","ctaButton"]},adChoice:{role:"acMenu",txt:'<svg width="14" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 12.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM14 7A7 7 0 1 1 0 7a7 7 0 0 1 14 0Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 11a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5A.75.75 0 0 1 7 11Z" fill="currentColor"/><path d="M6.1 3.9a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0Z" fill="currentColor"/></svg>'},closeBtnWrap:{role:"closeBanner",ch:["closeBtn","closeBtnSmall"]},closeBtn:{role:"acMenu",txt:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect width="20" height="20" rx="10" fill="black" fill-opacity="0.4"/>\n    <path d="M15 8.5C15.8284 8.5 16.5 9.17157 16.5 10C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 10C13.5 9.17157 14.1716 8.5 15 8.5ZM10 8.5C10.8284 8.5 11.5 9.17157 11.5 10C11.5 10.8284 10.8284 11.5 10 11.5C9.17157 11.5 8.5 10.8284 8.5 10C8.5 9.17157 9.17157 8.5 10 8.5ZM5 8.5C5.82843 8.5 6.5 9.17157 6.5 10C6.5 10.8284 5.82843 11.5 5 11.5C4.17157 11.5 3.5 10.8284 3.5 10C3.5 9.17157 4.17157 8.5 5 8.5Z" fill="white"/>\n</svg>'},closeBtnSmall:{role:"acMenu",txt:'<svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18 23.5C21.0376 23.5 23.5 21.0376 23.5 18C23.5 14.9624 21.0376 12.5 18 12.5C14.9624 12.5 12.5 14.9624 12.5 18C12.5 21.0376 14.9624 23.5 18 23.5ZM25 18C25 21.866 21.866 25 18 25C14.134 25 11 21.866 11 18C11 14.134 14.134 11 18 11C21.866 11 25 14.134 25 18Z" fill="#AEB7C2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18 22C17.5858 22 17.25 21.6642 17.25 21.25V17.75C17.25 17.3358 17.5858 17 18 17C18.4142 17 18.75 17.3358 18.75 17.75V21.25C18.75 21.6642 18.4142 22 18 22Z" fill="#AEB7C2"/>\n<path d="M17.1 14.9C17.1 14.4029 17.503 14 18 14C18.4971 14 18.9 14.4029 18.9 14.9C18.9 15.3971 18.4971 15.8 18 15.8C17.503 15.8 17.1 15.3971 17.1 14.9Z" fill="#AEB7C2"/>\n</svg>'},textArea:{ch:["header","title","description","rating","gradientMask"],tr:1,wr:{e:9,LISTEN:"ready",action:"gradientManager",value:!0}},gradientMask:{},rating:{bl:9,role:"rating",iif:[{e:1,prop:"rating"},{e:1,prop:"votes"}]},title:{role:"title",wr:2},description:{role:"description",wr:2},ctaButton:{role:"ctabutton",tr:{e:3,mrc:{p:50,d:3}},wr:[{e:2,TEXT:"ctaText",default:"Перейти"}]}},mappingPro:$l,adChoices:ed,disclaimerPaddings:2,serviceForest:{rating:{root:{cl:["_mk_st_rating"],ch:[1,2,"dot","votes"],iif:[{e:1,prop:"rating"},{e:1,prop:"votes"}]},1:{tg:"span",cl:["_mk_st_ratingValue"],TXT:"rating"},2:{tg:"div",cl:["_mk_st_ratingStar"],txt:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.75312 3.86628L5.32203 4.86337C5.29195 4.93294 5.27691 4.96773 5.25348 4.99475C5.23274 5.01867 5.20732 5.03807 5.1788 5.05177C5.14658 5.06724 5.1091 5.07254 5.03415 5.08316L4.4074 5.17191C2.64142 5.42199 1.75842 5.54703 1.38694 5.9606C1.06441 6.31969 0.93017 6.81028 1.02486 7.2839C1.13392 7.82938 1.82989 8.38786 3.22183 9.50482L3.4585 9.69474C3.52164 9.74541 3.55321 9.77074 3.57369 9.80269C3.5918 9.83095 3.60356 9.86282 3.60815 9.89609C3.61335 9.93369 3.60582 9.97351 3.59076 10.0531L3.51992 10.4276C3.13054 12.4862 2.93585 13.5154 3.24246 14.0183C3.50794 14.4538 3.97272 14.728 4.48166 14.7493C5.06943 14.774 5.87371 14.1044 7.48227 12.765L7.75847 12.535C7.84268 12.4649 7.88478 12.4298 7.93175 12.4164C7.97317 12.4046 8.01706 12.4046 8.05848 12.4164C8.10546 12.4298 8.14756 12.4649 8.23176 12.535L8.50797 12.765C10.1165 14.1044 10.9208 14.774 11.5086 14.7493C12.0175 14.728 12.4823 14.4538 12.7478 14.0183C13.0544 13.5154 12.8597 12.4862 12.4703 10.4276L12.3995 10.0531C12.3844 9.97351 12.3769 9.93369 12.3821 9.89609C12.3867 9.86282 12.3984 9.83095 12.4166 9.80269C12.437 9.77074 12.4686 9.74541 12.5317 9.69474L12.7684 9.50482C14.1603 8.38787 14.8563 7.82938 14.9654 7.2839C15.0601 6.81028 14.9258 6.31969 14.6033 5.9606C14.2318 5.54703 13.3488 5.42199 11.5828 5.17191L10.9561 5.08316C10.8811 5.07254 10.8437 5.06724 10.8114 5.05177C10.7829 5.03807 10.7575 5.01867 10.7368 4.99475C10.7133 4.96773 10.6983 4.93294 10.6682 4.86337L10.2371 3.86628C9.52957 2.22977 9.1758 1.41152 8.67965 1.16229C8.24887 0.945902 7.74137 0.945902 7.31058 1.16229C6.81444 1.41152 6.46067 2.22977 5.75312 3.86628Z" fill="#FFA000"/>\n</svg>'},dot:{tg:"span",cl:["_mk_st_ratingDot"],txt:"•"},votes:{cl:["_mk_st_ratingVotesBlock"],ch:[3,4]},3:{tg:"span",cl:["_mk_st_ratingVotes"],TXT:"votes"},4:{tg:"span",cl:["_mk_st_ratingVotesText"],txt:" отзывов"}}},actions:_r(_r({},zs.actions),{adaptiveMenuPosition:function(){if(this&&this.element){var e,t=this.element,i=function(){if("v200"!=t.getAttribute("data-layout")){var e=t.getBoundingClientRect(),i=window.innerHeight-e.bottom,r=e.top;i>=472?t.setAttribute("data-menu-position","bottom"):r>=472||r>i?t.setAttribute("data-menu-position","top"):t.setAttribute("data-menu-position","bottom")}};setTimeout((function(){i()}),100);var r,o=function(){clearTimeout(e),e=window.setTimeout((function(){i()}),200)},n=function(){clearTimeout(r),r=window.setTimeout((function(){i()}),100)};window.addEventListener("resize",o),window.addEventListener("scroll",n);var a,s=new MutationObserver((function(e){e.forEach((function(e){"attributes"!==e.type||"data-layout"!==e.attributeName&&"style"!==e.attributeName&&"class"!==e.attributeName||setTimeout(i,50)}))}));s.observe(t,{attributes:!0,attributeFilter:["data-layout","style","class"]});var l=t.getBoundingClientRect().top,d=function(){var e=t.getBoundingClientRect().top;Math.abs(e-l)>5&&(l=e,i()),a=requestAnimationFrame(d)};a=requestAnimationFrame(d);var c=function(){a&&cancelAnimationFrame(a),s.disconnect(),window.removeEventListener("resize",o),window.removeEventListener("scroll",n),clearTimeout(e),clearTimeout(r)};this.element&&this.element.addEventListener("destroy",(function(){c()})),this.disposables&&this.disposables.push([[],c])}}}),handlers:_r(_r({},zs.handlers),{postInjector:function(){var e,t,i;if(this&&this.element){var r,o,n=this.element,a=null===(i=null===(t=null===(e=this.store)||void 0===e?void 0:e.vDOM)||void 0===t?void 0:t.textArea)||void 0===i?void 0:i.element;a&&function(e,t){var i,r=function(){var i,r,o;return(null===(o=null===(r=null===(i=t.store)||void 0===i?void 0:i.vDOM)||void 0===r?void 0:r.gradientMask)||void 0===o?void 0:o.element)||e.querySelector("[data-gradient]")||null},o=function(i){var r,o,n=function(){var t=e.scrollTop,r=e.scrollHeight-e.clientHeight;0===t?i.setAttribute("data-gradient","bottom"):t>=r?i.setAttribute("data-gradient","top"):i.setAttribute("data-gradient","both")};e.addEventListener("scroll",n),n();var a=function(){return e.removeEventListener("scroll",n)};if(null===(r=t.disposables)||void 0===r||r.push([[],a]),e.addEventListener("destroy",a,{once:!0}),"undefined"!=typeof ResizeObserver){var s=new ResizeObserver((function(){return n()}));s.observe(e),null===(o=t.disposables)||void 0===o||o.push([[],function(){return s.disconnect()}])}},n=r();if(n)return o(n);var a=new MutationObserver((function(){var e=r();e&&(o(e),a.disconnect())}));a.observe(e,{childList:!0,subtree:!0}),null===(i=t.disposables)||void 0===i||i.push([[],function(){return a.disconnect()}])}(a,this),function(e){var t,i,r,o=null===(r=null===(i=null===(t=null==e?void 0:e.__store)||void 0===t?void 0:t.vDOM)||void 0===i?void 0:i.textArea)||void 0===r?void 0:r.element;if(o){var n,a=function(){if("h80"===e.getAttribute("data-layout")){var t=o.scrollHeight>o.clientHeight;e.setAttribute("data-text-scroll",t?"true":"false")}};setTimeout(a,100),window.addEventListener("resize",(function(){clearTimeout(n),n=window.setTimeout(a,100)})),new MutationObserver((function(e){e.forEach((function(e){"attributes"===e.type&&"data-layout"===e.attributeName&&setTimeout(a,50)}))})).observe(e,{attributes:!0,attributeFilter:["data-layout"]})}}(n),r=this,o=function(){var e,t,i,n,a=null===(i=null===(t=null===(e=r.store)||void 0===e?void 0:e.vDOM)||void 0===t?void 0:t.media)||void 0===i?void 0:i.element;if(a){var s=function(){var e,t,i=null===(t=null===(e=r.store)||void 0===e?void 0:e.getProps)||void 0===t?void 0:t.call(e,"mediaRatio");if(!i&&a.style.aspectRatio){var o=a.style.aspectRatio;if(o.includes("/")){var n=o.split("/").map((function(e){return parseFloat(e.trim())})),s=n[0],l=n[1];s&&l&&(i=s/l)}else s=parseFloat(o),!Number.isNaN(s)&&s>0&&(i=s)}i||(i=16/9);var d=i<.7?"9:16":Math.abs(i-1)<.1?"1:1":"16:9";a.dataset.aspectRatio=d};s(),(null===(n=r.store)||void 0===n?void 0:n.on)&&r.store.on("props",(function(e){void 0!==e.mediaRatio&&s()}))}else setTimeout(o,100)},o(),this.store.proxyNode.setAttribute("adChoiceSize","L")}}})}),nd={vkGames_interstitial:zs,vkGames_interstitial_lead_form:zs,vkGames_rewards:Ws,vkGames_rewards_lead_form:Ws,vkGames_sticky:od,vkGames_sticky_lead_form:od},ad=function(e){function t(t){var i=e.call(this)||this;return Object.defineProperty(i,"producer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"stage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.producer=t,i}return gr(t,e),t}(rn),sd=function(){function e(e,t){var i=this;Object.defineProperty(this,"dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hostNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"wrapNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"instances",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"disposables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dispatcher=e,this.config=t,this.store=new ad(this);var r=new Yr(this);this.disposables=[],["disposeAll","subscribe","unSubscribe"].forEach((function(e){return i[e]=r[e].bind(i)}))}return Object.defineProperty(e.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return yr(this,void 0,void 0,(function(){var t;return wr(this,(function(i){if(this.isDestroyed)throw Gr.error(5007);if(this.hostNode)throw Gr.error(5001);if(xr(e)&&(this.config=e),!xr(this.config))throw Gr.error(331);if(!Sr(this.config.banners))throw Gr.error(319);if(!Cr(t=so(this.config.container)))throw Gr.error(317);return this.config.directContainer||(t=t.parentElement),t.innerHTML="",this.hostNode=t,this.wrapNode=Kr("div",{classes:this.getClass("_mk_dmp_wrapNode"),appendTo:t}),[2,this]}))}))}}),Object.defineProperty(e.prototype,"getClass",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;return(null===(t=this.dispatcher.classMap)||void 0===t?void 0:t[e])||e}}),Object.defineProperty(e.prototype,"getVar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;return(null===(t=this.dispatcher.varMap)||void 0===t?void 0:t[e])||e}}),Object.defineProperty(e.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Promise.reject(Gr.error(566))}}),Object.defineProperty(e.prototype,"dispatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!this.isDestroyed&&xr(e)){var i=Er(t)?t:xr(t)?t.event:void 0;if(Er(i)){var r=e.config,o={event:i,id:r.id,impression_id:r.impression_id,data:t},n=this["_on".concat(i)];Pr(n)&&n.call(this,o),"Closed"!==i&&Pr(n=this.config["on".concat(i)])&&n(o)}}}}),Object.defineProperty(e.prototype,"setProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.isDestroyed||this.store.setProps(e,t,i)}}),Object.defineProperty(e.prototype,"sendData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.store.sendData(e)}}),Object.defineProperty(e.prototype,"makeInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(window.MotionKit)try{var i=Kr("div",{classes:this.getClass("_mk_dmp_entryNode"),appendTo:this.wrapNode}),r={node:i,config:e,state:2},o=Tr(e,{directContainer:!0},t),n=window.MotionKit({target:i,banner:o,notDestroyOnDisconnect:!0,eventBus:{dispatch:this.dispatch.bind(this,r)}});if(!n)return;return r.instance=n,r}catch(e){go.error("Error ",592,e)}}}),Object.defineProperty(e.prototype,"subscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(e.prototype,"unSubscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(e.prototype,"disposeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDestroyed)return Promise.reject(Gr.error(5007));zr(this,"isDestroyed",!0,!1),this.disposeAll(),Sr(this.instances)&&this.instances.forEach((function(e){return null==e?void 0:e.instance.destroy()})),xr(this.elements)&&Object.values(this.elements).forEach((function(e){return e.remove()})),this.wrapNode.remove();for(var e=this.config.onClosed,t=0,i=Object.keys(this);t<i.length;t++)delete this[i[t]];return Pr(e)&&e(),Promise.resolve(Gr.success)}}),e}(),ld=["row","column"],dd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"progresses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"showCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"initHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return gr(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return yr(this,void 0,void 0,(function(){return wr(this,(function(i){switch(i.label){case 0:return go.info("Producer init:",t),[4,e.prototype.init.call(this,t)];case 1:i.sent(),this.onOrientation=this.onOrientation.bind(this),this.setSizes(),this.wrapNode.setAttribute("stage","one");try{screen.orientation.addEventListener("change",this.onOrientation)}catch(e){}return[2,this]}}))}))}}),Object.defineProperty(t.prototype,"onOrientation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.wrapNode.setAttribute("view",function(e,t){Sr(t)||(t=["landscape","portrait"]);var i=0;try{if(Cr(e)){var r=getComputedStyle(e),o=r.height,n=r.width;i=Number(parseInt(n)<parseInt(o))}else i=Number(screen.orientation.type.includes("portrait"))}catch(e){}return t[i]}(window,ld))}}),Object.defineProperty(t.prototype,"setSizes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.onOrientation(),eo||(this.initHeight=getComputedStyle(this.hostNode).height,this.hostNode.style.height="fit-content",this.wrapNode.style.setProperty(this.getVar("--mk-entryHeight"),"323px"))}}),Object.defineProperty(t.prototype,"setProgressValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.progresses[this.store.current];Cr(t)&&t.style.setProperty("--progressValue",(100*(+e+.03||0)).toFixed()+"%")}}),Object.defineProperty(t.prototype,"_onTimeRemained",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!this.isDestroyed&&1===this.store.stage&&xr(e.data)&&(this.setProgressValue(e.data.progress),e.data.currentTime>=2.5&&Zr(this.elements.skip,{display:"block",opacity:"1"}))}}),Object.defineProperty(t.prototype,"_onClosed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed)if(2===this.store.stage)--this.showCount||this.destroy();else{var e=this.instances[this.store.current];e&&(e.state=9,this._onCompleted())}}}),Object.defineProperty(t.prototype,"_onSkipped",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._onCompleted()}}),Object.defineProperty(t.prototype,"_onCompleted",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;if(!this.isDestroyed&&1===this.store.stage&&this.instances[this.store.current]){this.setProgressValue(1);var t=null===(e=this.instances[this.store.current])||void 0===e?void 0:e.node;Cr(t)&&t.remove(),this.store.current++,this.playFirstStage()}}}),Object.defineProperty(t.prototype,"playFirstStage",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDestroyed){var e=this.config.banners;if(this.store.current>=e.length)return this.wrapNode.setAttribute("stage","second"),void this.playSecondStage();Zr(this.elements.skip,{display:"none",opacity:"0"});var t=this.makeInstance(e[this.store.current],{allowClose:!1,allowCloseDelay:3,skipMode:Hr.skipAndNothing,controls:{}});if(!t)return this.store.current++,void this.playFirstStage();this.instances.push(t)}}}),Object.defineProperty(t.prototype,"playSecondStage",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this.isDestroyed){this.store.stage=2;var t=this.config.maxAtMoment,i=this.instances.filter((function(e){return 9!==e.state}));if(Sr(i)){this.showCount=Math.min(i.length,t);for(var r=0,o=this.instances.length;r<o&&i.length<t;r++)9===this.instances[r].state&&i.push(this.instances[r]);i.length>=this.config.maxAtMoment&&(this.instances=i);var n=Math.min(i.length,this.config.maxAtMoment||1/0);if(this.elements.progressWrap.remove(),this.wrapNode.setAttribute("stage","two"),eo){var a=to(this.hostNode),s=Math.ceil(a.height/n);this.wrapNode.style.setProperty(this.getVar("--mk-entryHeight"),s+"px"),this.wrapNode.setAttribute("mobile","")}var l=this.elements.skip=Kr("div",{text:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke-width="2" viewBox="-14 -14 28 28"><circle r="12" pathLength="1"></circle></svg>',appendTo:this.wrapNode,classes:[this.getClass("_mk_is_closeDelayCountdown"),this.getClass("_mk_dmp_skipBtn")]}),d=Date.now(),c=function(t){if(!e.isDestroyed){var i=(t-d)/1e3,r=Math.ceil(5-i);l.style.setProperty(e.getVar("--mk-dasharray"),"".concat(((i+.35)/5).toFixed(2)," 1")),l.dataset.restDelay=String(r),r<=0&&(l.dataset.restDelay="",clearInterval(e.interval),l.onclick=e.destroy.bind(e),e.interval=null,l.innerHTML='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.41 6.41c.3-.3.8-.3 1.1 0L11 9.91l3.49-3.5a.78.78 0 0 1 1.1 1.1L12.09 11l3.5 3.49a.78.78 0 0 1-1.1 1.1L11 12.09l-3.49 3.5a.78.78 0 0 1-1.1-1.1L9.91 11 6.4 7.51c-.3-.3-.3-.8 0-1.1Z" fill="currentColor"/></svg>')}};for(c(d),l.style.setProperty(this.getVar("--mk-dasharray"),"0 1"),this.interval=setInterval((function(){return c(Date.now())}),350),r=0;r<n;r++)i[r]&&this.wrapNode.appendChild(i[r].node)}else this.destroy()}}}),Object.defineProperty(t.prototype,"makeProgressBars",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=Kr("div",{classes:this.getClass("_mk_dmp_progressWrap"),appendTo:this.wrapNode});return this.progresses=this.config.banners.map((function(i){return Kr("div",{appendTo:t,classes:e.getClass("_mk_dmp_progressBar")})})),this.elements.progressWrap=t,t}}),Object.defineProperty(t.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(){return yr(this,void 0,void 0,(function(){return wr(this,(function(e){switch(e.label){case 0:if(this.isDestroyed)throw Gr.error(5007);return this.hostNode||!this.config?[3,2]:[4,this.init()];case 1:e.sent(),e.label=2;case 2:if(!this.hostNode)throw Gr.error(5002);return this.store.current=0,this.instances=[],this.wrapNode.setAttribute("stage","first"),this.store.stage=1,this.makeProgressBars(),this.playFirstStage(),[2,this]}}))}))}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.initHeight&&(this.hostNode.style.height=this.initHeight),this.interval&&clearInterval(this.interval),e.prototype.destroy.call(this)}}),t}(sd),cd=Tr({asmName:"VKGames",css:{fonts:String('@font-face{font-family:BebasNeue;font-style:normal;font-weight:100;src:url(https://r.mradx.net/img/1B/4D1CA3.woff2) format("woff2")}@font-face{font-family:BebasNeue;font-style:normal;font-weight:300;src:url(https://r.mradx.net/img/BD/E58F98.woff2) format("woff2")}@font-face{font-family:Roboto;font-style:normal;font-weight:100;src:url(https://r.mradx.net/img/AB/96ACC2.woff2) format("woff2")}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:url(https://r.mradx.net/img/FA/D8007F.woff2) format("woff2")}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:url(https://r.mradx.net/img/85/9E13F5.woff2) format("woff2")}@font-face{font-family:Roboto;font-style:normal;font-weight:500;src:url(https://r.mradx.net/img/1B/179489.woff2) format("woff2")}@font-face{font-family:Roboto;font-style:normal;font-weight:600;src:url(https://r.mradx.net/img/9B/7002EA.woff2) format("woff2")}@font-face{font-family:Roboto;font-style:normal;font-weight:900;src:url(https://r.mradx.net/img/BC/D80775.woff2) format("woff2")}@font-face{font-display:swap;font-family:Roboto;font-style:italic;font-weight:100;src:url(https://r.mradx.net/img/AB/64CB0F.woff2) format("woff2");unicode-range:u+0301,u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:300;src:url(https://r.mradx.net/img/2E/E38809.woff2) format("woff2");unicode-range:u+0301,u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:400;src:url(https://r.mradx.net/img/32/E18AE4.woff2) format("woff2");unicode-range:u+0301,u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:500;src:url(https://r.mradx.net/img/41/F0F056.woff2) format("woff2");unicode-range:u+0301,u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:600;src:url(https://r.mradx.net/img/EC/85284F.woff2) format("woff2");unicode-range:u+0301,u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:900;src:url(https://r.mradx.net/img/68/20C3BF.woff2) format("woff2");unicode-range:u+0301,u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}'),popup:String('._mk_popup{align-items:center;background:rgba(0,0,0,.4);box-sizing:border-box;display:flex;flex-direction:row;height:100vh;justify-content:center;left:0;overflow:auto;padding:7vh 0;position:fixed;top:0;width:100vw;z-index:1000000}._mk_popup_body{background-color:#fff;-webkit-box-shadow:12px 12px 8px 0 rgba(34,60,80,.2);-moz-box-shadow:12px 12px 8px 0 rgba(34,60,80,.2);box-shadow:12px 12px 8px 0 rgba(34,60,80,.2);box-sizing:border-box;color:#fefefe;max-height:800px;max-width:630px;position:relative;z-index:20}._mk_popup_body,._mk_popup_frame{border-radius:16px;height:100%;width:100%}._mk_popup_frame{border:none;box-sizing:inherit;overflow:hidden}._mk_popup_closeButton{background-color:rgba(0,0,0,.35);background-color:#000;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMiAyMiI+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi40MSA2LjQxYy4zLS4zLjgtLjMgMS4xIDBMMTEgOS45MWwzLjQ5LTMuNWEuNzguNzggMCAwIDEgMS4xIDEuMUwxMi4wOSAxMWwzLjUgMy40OWEuNzguNzggMCAwIDEtMS4xIDEuMUwxMSAxMi4wOWwtMy40OSAzLjVhLjc4Ljc4IDAgMCAxLTEuMS0xLjFMOS45MSAxMSA2LjQgNy41MWMtLjMtLjMtLjMtLjggMC0xLjFaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=");background-position:50%;background-repeat:no-repeat;background-size:100%;border-radius:14px;box-sizing:border-box;cursor:pointer;height:28px;opacity:.35;padding:4px;position:absolute;transition:transform .15s ease-in,opacity .15s ease-in-out;width:28px}@media(min-width:700px){._mk_popup_closeButton{right:-38px;top:0}}@media(max-width:699px){._mk_popup_closeButton{right:10px;top:10px}}._mk_popup_closeButton:hover{opacity:.55;transform:scale(1.1) rotate(90deg)}'),vkGamesInterstitial:String('._mk_disclaimer{background-color:var(--mk-bgContent,transparent);box-sizing:border-box;display:flex;height:var(--mk-sdHeight,0);max-width:100%;padding:var(--mk-sdPadding,2px);position:relative;user-select:none;width:100%;z-index:10}._mk_disclaimer_place{display:none;position:relative;width:100%;z-index:50}._mk_disclaimer_place_bg:before{background:hsla(210,1%,41%,.498);content:"";display:block;height:100%;left:0;position:absolute;right:0;width:100%;z-index:2}._mk_disclaimer_place_bg{background-position:bottom;background-size:cover;bottom:-10px;filter:blur(8px);height:calc(100% + 20px);left:-10px;overflow:hidden;position:absolute;width:calc(100% + 20px);z-index:1}._mk_disclaimer_line{display:flex;flex-direction:column;height:var(--mk-sdLineHeight);justify-content:center;width:100%}._mk_disclaimer_linesWrap{display:flex;flex-direction:column;height:100%;justify-content:space-between;position:relative;width:100%;z-index:10}._mk_disclaimer_text{color:var(--mk-cDisclaimer,#818c99);display:inline-block;font:24px/24px BebasNeue,sans-serif;font-weight:var(--mk-sdFontWeidht,100);height:24px;position:relative;transform:translateY(2.5px);transform-origin:left center;width:100%}._mk_disclaimer_measure,._mk_disclaimer_text{letter-spacing:normal;text-transform:uppercase;white-space:nowrap}._mk_disclaimer_measure{font:24px/24px BebasNeue,sans-serif;font-weight:var(--mk-disclaimer-fontWeidht,300);height:auto;left:-1000px;position:absolute;top:-1000px;visibility:hidden}._mk_hidden{display:none}._mk_clickArea{cursor:pointer!important}._mk_noClickArea{cursor:default!important}.volumeTooltip{--tooltip-arrow-size:5px;background:rgba(0,0,0,.88);border-radius:4px;bottom:40px;display:none;font-size:12.5px;line-height:15px;padding:4.5px 9px;pointer-events:none;position:absolute;text-align:center;z-index:100}.volumeTooltip ._vText{color:#fff;font-variant-numeric:tabular-nums;white-space:nowrap}.volumeTooltip ._vArrow{border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgba(0,0,0,.88);left:50%;margin-left:-5px;position:absolute;top:100%}._mk_control{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;font-size:13px;height:var(--controls-height,40px);justify-content:space-between;padding:0 8px 4px;transition:transform var(--controls-transition-duration) var(--controls-transition-fn);white-space:nowrap;width:100%;will-change:transform}._mk_control_wrapper{bottom:var(--total-bottom-offset,0);display:flex;gap:var(--control-gap,16px);height:40px;left:0;padding:8px;position:absolute;width:100%;z-index:120}._mk_control_wrapper_left{display:flex;flex-direction:row;justify-content:flex-start;left:var(--offset-left,var(--offset-x,8px))}._mk_control_cta,._mk_control_skip{cursor:pointer}._mk_control_icon{background-position:50%;background-repeat:no-repeat;background-size:contain;border-radius:var(--controlRadius,6px);cursor:pointer;height:var(--mkit-controlSize,26px);position:relative;width:var(--mkit-controlSize,26px)}._mk_control_icon:hover{scale:1.1}._mk_control_icon:before{bottom:-7px;content:"";height:40px;left:-7px;position:absolute;width:40px;z-index:100}._mk_control_volume[data-state=volume-off]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtdmFsdWU9Im9mZiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0yMCAxMC43NjMgMi4zODEtMi4zODJBLjg3NS44NzUgMCAxIDEgMjMuNjIgOS42MkwyMS4yMzcgMTJsMi4zODIgMi4zODFhLjg3NS44NzUgMCAxIDEtMS4yMzggMS4yMzhMMjAgMTMuMjM3bC0yLjM4MSAyLjM4MmEuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOEwxOC43NjMgMTIgMTYuMzggOS42MTlhLjg3NS44NzUgMCAxIDEgMS4yNC0xLjIzOXptLTcuMDIgOC4wNmMtLjAzMSAxLjIwNy0uNjcgMS42MDktMS44MjguNjItMS43MTktMS40NjktMy42MDktMy4xOTQtNC4yNDItMy43MjEtLjYzMi0uNTI5LTEuNjQ1LS42Mi0zLjA3My0uNjJzLTEuODE1LS42MjEtMS44MTUtMS4yNDEtLjAxNC0xLjgzLS4wMTQtMi4wMDFjMC0uMDU1LjAwNS0uMDg2LjAxNC0uMTMuMDItLjA5NS0uMDU4LS45NzMgMC0xLjU5LjA4NS0uOTA2LjM4OC0xLjI0MSAxLjgxNS0xLjI0MXMyLjQ0LS4wOTIgMy4wNzMtLjYyYy42MzMtLjUyOSAyLjUyMy0yLjI1MyA0LjI0Mi0zLjcyMiAxLjE1OC0uOTg5IDEuNzk3LS41ODcgMS44MjkuNjIuMDQzIDEuNjA3IDAgMy44NSAwIDYuNjgzIDAgMi44My4wNDMgNS4zNTYgMCA2Ljk2M3oiLz48L3N2Zz4=")}._mk_control_volume[data-state=volume-on]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtdmFsdWU9Im9mZiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi45OCAxOC44MjNjLS4wMzEgMS4yMDctLjY3IDEuNjA5LTEuODI4LjYyLTEuNzE5LTEuNDY5LTMuNjA5LTMuMTk0LTQuMjQyLTMuNzIxLS42MzItLjUyOS0xLjY0NS0uNjItMy4wNzMtLjYycy0xLjgxNS0uNjIxLTEuODE1LTEuMjQxLS4wMTQtMS44My0uMDE0LTIuMDAxYzAtLjA1NS4wMDUtLjA4Ni4wMTQtLjEzLjAyLS4wOTUtLjA1OC0uOTczIDAtMS41OS4wODUtLjkwNi4zODgtMS4yNDEgMS44MTUtMS4yNDFzMi40NC0uMDkyIDMuMDczLS42MmMuNjMzLS41MjkgMi41MjMtMi4yNTMgNC4yNDItMy43MjIgMS4xNTgtLjk4OSAxLjc5Ny0uNTg3IDEuODI5LjYyLjA0MyAxLjYwNyAwIDMuODUgMCA2LjY4MyAwIDIuODMuMDQzIDUuMzU2IDAgNi45NjN6bTIuOTAxLTguNzA0QS44NzUuODc1IDAgMSAxIDE3LjEyIDguODhjLjE3Ni4xNzcuNDEuNDcuNjQuODcyLjM4NC42NzEuNjE2IDEuNDI1LjYxNiAyLjI0N3MtLjIzMiAxLjU3Ni0uNjE1IDIuMjQ3YTQuMiA0LjIgMCAwIDEtLjY0MS44NzIuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOGMuMDc0LS4wNzMuMjE0LS4yNDkuMzYtLjUwMy4yNDEtLjQyMy4zODQtLjg4Ny4zODQtMS4zNzhzLS4xNDMtLjk1NS0uMzg1LTEuMzc4YTIuNiAyLjYgMCAwIDAtLjM1OS0uNTAzeiIvPjwvc3ZnPg==")}._mk_control_volume[data-state=volume-on-high]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtdmFsdWU9Im9mZiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi45OCAxOC44MjNjLS4wMzEgMS4yMDctLjY3IDEuNjA5LTEuODI4LjYyLTEuNzE5LTEuNDY5LTMuNjA5LTMuMTk0LTQuMjQyLTMuNzIxLS42MzItLjUyOS0xLjY0NS0uNjItMy4wNzMtLjYycy0xLjgxNS0uNjIxLTEuODE1LTEuMjQxLS4wMTQtMS44My0uMDE0LTIuMDAxYzAtLjA1NS4wMDUtLjA4Ni4wMTQtLjEzLjAyLS4wOTUtLjA1OC0uOTczIDAtMS41OS4wODUtLjkwNi4zODgtMS4yNDEgMS44MTUtMS4yNDFzMi40NC0uMDkyIDMuMDczLS42MmMuNjMzLS41MjkgMi41MjMtMi4yNTMgNC4yNDItMy43MjIgMS4xNTgtLjk4OSAxLjc5Ny0uNTg3IDEuODI5LjYyLjA0MyAxLjYwNyAwIDMuODUgMCA2LjY4MyAwIDIuODMuMDQzIDUuMzU2IDAgNi45NjN6bTIuOTAxLTguNzA0QS44NzUuODc1IDAgMSAxIDE3LjEyIDguODhjLjE3Ni4xNzcuNDEuNDcuNjQuODcyLjM4NC42NzEuNjE2IDEuNDI1LjYxNiAyLjI0N3MtLjIzMiAxLjU3Ni0uNjE1IDIuMjQ3YTQuMiA0LjIgMCAwIDEtLjY0MS44NzIuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOGMuMDc0LS4wNzMuMjE0LS4yNDkuMzYtLjUwMy4yNDEtLjQyMy4zODQtLjg4Ny4zODQtMS4zNzhzLS4xNDMtLjk1NS0uMzg1LTEuMzc4YTIuNiAyLjYgMCAwIDAtLjM1OS0uNTAzem0zLTJBLjg3NS44NzUgMCAxIDEgMjAuMTIgNi44OGMuMjYzLjI2NC42Mi43NC45NjYgMS40MzIuNTE3IDEuMDMzLjg0MyAyLjI1NS44OSAzLjcxNi0uMDQ3IDEuNDAzLS4zNzMgMi42MjUtLjg5IDMuNjU4LS4zNDYuNjkyLS43MDMgMS4xNjgtLjk2NiAxLjQzMmEuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOGMuMTM4LS4xMzcuMzgzLS40NjQuNjM5LS45NzYuNDA3LS44MTQuNjY3LTEuNzkuNzA1LTIuODc2LS4wMzgtMS4xNDQtLjI5OC0yLjEyLS43MDUtMi45MzQtLjI1Ni0uNTEyLS41MDEtLjgzOS0uNjM5LS45NzZ6Ii8+PC9zdmc+")}._mk_control_progress{background-color:var(--mk-bgProgressBar,rgba(0,0,0,.2));bottom:var(--side-bottom,0);height:var(--mk-progressHeightPx,3px);left:0;overflow:hidden;position:absolute;width:100%;z-index:100}._mk_control_progress>div{background-color:var(--mk-cProgressBar,hsla(0,0%,100%,.5));height:var(--mk-progressHeightPx,3px);max-width:100%;transition:width .3s linear 0s;width:0}._mk_control_flow[data-state=play],._mk_control_flow[data-state=replay]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjZmZmIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIuMTIiIHN0cm9rZS13aWR0aD0iLjUiIGQ9Ik04LjEzMyA1LjEwNSAxOC42MyAxMS4zNWEuNzUuNzUgMCAwIDEgMCAxLjI4OUw4LjEzNSAxOC44OTRBLjc1Ljc1IDAgMCAxIDcgMTguMjVWNS43NWEuNzUuNzUgMCAwIDEgMS4xMzMtLjY0NXoiLz48L2c+PGRlZnM+PGZpbHRlciBpZD0iYSIgd2lkdGg9IjI4LjUiIGhlaWdodD0iMjYiIHg9IjAiIHk9IjAiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJoYXJkQWxwaGEiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIuNSIvPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4xNiAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzU5MTBfMTY0NCIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd181OTEwXzE2NDQiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48L2RlZnM+PC9zdmc+")}._mk_control_flow[data-state=pause]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxnIGZpbGwtcnVsZT0ibm9uemVybyI+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgY2xhc3M9Il9wYXVzZSIvPjxwYXRoIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9Ii4xMiIgc3Ryb2tlLXdpZHRoPSIuNSIgZD0iTTcuMTQ1IDVoMS43MWMuMzk4IDAgLjU0Mi4wNDcuNjg4LjEzNGEuODcuODcgMCAwIDEgLjMzOC4zOGMuMDc4LjE2NC4xMTkuMzI2LjExOS43NzR2MTEuNDI0YzAgLjQ0OC0uMDQxLjYxLS4xMi43NzRxLS4xMTcuMjQ3LS4zMzcuMzhjLS4yMi4xMzMtLjI5LjEzNC0uNjg4LjEzNGgtMS43MWMtLjM5OCAwLS41NDItLjA0Ny0uNjg4LS4xMzRzLS4yNi0uMjE2LS4zMzgtLjM4UzYgMTguMTYgNiAxNy43MTJWNi4yODhjMC0uNDQ4LjA0MS0uNjEuMTItLjc3NGEuODcuODcgMCAwIDEgLjMzNy0uMzhjLjE0Ni0uMDg3LjI5LS4xMzQuNjg4LS4xMzR6bTggMGgxLjcxYy4zOTggMCAuNTQyLjA0Ny42ODguMTM0YS44Ny44NyAwIDAgMSAuMzM4LjM4Yy4wNzguMTY0LjExOS4zMjYuMTE5Ljc3NHYxMS40MjRjMCAuNDQ4LS4wNDEuNjEtLjEyLjc3NGEuODcuODcgMCAwIDEtLjMzNy4zOGMtLjE0Ni4wODctLjI5LjEzNC0uNjg4LjEzNGgtMS43MWMtLjM5OCAwLS41NDItLjA0Ny0uNjg4LS4xMzRhLjg3Ljg3IDAgMCAxLS4zMzgtLjM4Yy0uMDc4LS4xNjQtLjExOS0uMzI2LS4xMTktLjc3NFY2LjI4OGMwLS40NDguMDQxLS42MS4xMi0uNzc0YS44Ny44NyAwIDAgMSAuMzM3LS4zOGMuMTQ2LS4wODcuMjktLjEzNC42ODgtLjEzNHoiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImEiIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgeD0iMCIgeT0iMCIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9ImhhcmRBbHBoYSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldC8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMi41Ii8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjE2IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfNTkxMF8xNjQ0Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzU5MTBfMTY0NCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=")}._mk_control_flow[data-state=ended],._mk_control_flow[data-state=none]{display:none}._mk_adChoices,._mk_adChoices_tab{cursor:default;font-family:Roboto,sans-serif;font-weight:400;overscroll-behavior:none}._mk_adChoicesClosed{background-color:var(--mk-bgContent)!important;border:.5px solid var(--mk-cBorder);border-radius:var(--mkext-bRadius-tl,var(--mkext-bRadius,0)) var(--mkext-bRadius-tr,var(--mkext-bRadius,0)) var(--mkext-bRadius-bl,var(--mkext-bRadius,0)) var(--mkext-bRadius-br,var(--mkext-bRadius,0))}._mk_adChoicesClosed[data-tab=closed]{margin:auto}._mk_adChoicesClosed[data-tab=closed] ._mk_adChoices_body{align-content:center;justify-content:center}._mk_adChoicesWrap{display:none;height:calc(var(--mkit-adchoice-height, 100%) - var(--mk-adchoiceTop, 0px) - var(--mk-adchoiceBottom, 0px));pointer-events:none;position:absolute;right:var(--mk-adchoiceRight);top:var(--mk-adchoiceTop);width:var(--mk-adchoiceWidth,100%);z-index:150}._mk_adChoices{background-color:var(--mk-bgAdChoice,#fff);border:1px solid var(--mk-cBorder,rgba(0,0,0,.12));border-radius:var(--mk-adchoiceBorderRadius,0);box-shadow:var(--mk-shadowAdChoice);color:var(--mk-cSubhead,#6d7885)!important;height:100%;pointer-events:all;position:absolute;width:100%}._mk_adChoices_tab{box-sizing:border-box;display:flex;flex-direction:column;font-size:13px;font-weight:400;height:100%;line-height:1.3;overflow-x:hidden;overflow-y:overlay;position:relative;scrollbar-color:var(--mk-cSubhead) var(--mk-bgContent);scrollbar-width:thin;width:100%;z-index:100}._mk_adChoices_tab::-webkit-scrollbar{height:0;width:0}._mk_adChoices_tab::-webkit-scrollbar-track{background:var(--mk-bgContent,#fff)}._mk_adChoices_tab::-webkit-scrollbar-thumb{background-color:var(--mk-cSubhead,#6d7885);border:1px solid var(--mk-cSubhead,#6d7885);border-radius:5px}._mk_adChoices_header{color:var(--mk-cSubhead,#6d7885);display:flex;flex:none;flex-direction:column;font-size:13px;font-weight:600;gap:4px;letter-spacing:.2px;line-height:1.2;padding:10px 8px 4px;width:100%}._mk_adChoices_body{display:flex;flex:1 1 auto;flex-direction:column;height:100%;margin:8px 8px 4px}._mk_adChoices_footer{flex:none;margin:4px 8px 8px}._mk_adChoices_about{font-size:12px;font-weight:400;line-height:1.3}._mk_adChoices_description{font-weight:400;margin-bottom:6px;padding-left:var(--avm-button-xpadding,20px)}._mk_adChoices_header_line{box-sizing:border-box;font-size:120%;width:100%}._mk_adChoices_menuExtender{flex-grow:1;width:100%}._mk_adChoices_menuLine{align-items:center;border-radius:8px;box-sizing:border-box!important;color:var(--mk-cMuted,#2c2d2e);cursor:pointer;display:flex;flex-direction:row;gap:8px;height:32px;letter-spacing:.1px;margin:0 -4px;padding:6px 8px;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:border-box}._mk_adChoices_menuLine span{white-space:nowrap;max-lines:1;max-width:270px;overflow:hidden;text-overflow:ellipsis}._mk_adChoices_menuLine svg{flex:0 0 20px;height:20px;width:20px}._mk_adChoices_text1{color:#e1e3e6;font-size:120%;line-height:1.25;margin:0 var(--avm-discount2-radius,10px);padding:calc(2px + var(--avm-discount2-tmargin, 12px)) var(--avm-discount2-radius,10px)}._mk_adChoices_text2{color:#969a9f;margin:0 var(--avm-discount2-radius,10px);padding:4px var(--avm-discount2-radius,10px)}._mk_adChoices_close_button{background-color:var(--mkit-overlayDark,rgba(0,0,0,.4));border-radius:11px;cursor:pointer;height:22px;pointer-events:all;position:absolute;right:4px;top:4px;width:22px;z-index:155}._mk_adChoices_close_button:before{content:"";height:30px;position:absolute;right:-4px;top:-4px;width:30px}._mk_freeButton{align-items:center;background-color:var(--mkit-bgAccent,#2688eb);border-radius:11px;color:var(--mkit-cContrast,#fff);cursor:pointer;display:flex;font-size:13px;font-weight:600;height:32px;justify-content:center;padding:8px 16px;width:100%}._mk_freeButton:hover{background-color:var(--mkit-bgAccentHover)}._mk_closeTitle{color:var(--mk-сPrimary);font-size:15px;font-weight:600;text-align:center}._mk_closeInfo{color:var(--mk-cSubhead,#6d7885);text-align:center}._mk_vkAds{margin-top:auto}._mk_freeTextArea{background-color:var(--mkit-bgTextArea);border:1px solid var(--mk-cBorder,rgba(0,0,0,.12));border-radius:11px;box-sizing:border-box;color:var(--mkit-cSecond);flex:1 1 auto;font:14px/1.3 Roboto,sans-serif;height:100%;padding:8px 12px;resize:none;width:100%}._mk_freeTextArea:focus{outline:none}._mk_is_control_wrapper,._mk_proxyNode{overflow:hidden}._mk_is_proxyNode{box-sizing:border-box;display:flex;font-family:Roboto,sans-serif;height:100%!important;overflow:hidden;overscroll-behavior-y:none!important;position:relative;width:100%!important;z-index:1;--mk-adchoiceWidth:230px;--mk-adchoiceTop:46px;--mk-adchoiceRight:8px;--mk-sdPadding:0;--mk-adchoiceBottom:8px;--mk-adchoiceBorderRadius:8px;--mk-bgAdChoice:var(--vkui--color_background_content,#fff);--mk-bgSecondAlpha:var(--vkui--color_background_content--hover,#f5f5f7);--mk-сPrimary:var(--vkui--color_text_primary,#000);--mk-cMuted:var(--vkui--color_text_primary,#000);--mk-cBorder:var(--vkui--vkontakte_background_hover_alpha,rgba(174,183,194,.12));--mk-sdFontWeidht:100;--mk-borderRadiusPx:var(--vkui--size_border_radius_paper--regular,12px);--mk-bgContent:var(--vkui--color_background_content,#fff)!important;--mk-shadowAdChoice:0px 0px 2px 0px var(--vkui--color_image_border_alpha,rgba(0,0,0,.08)),0px 4px 16px 0px var(--vkui--color_image_border_alpha,rgba(0,0,0,.08))}._mk_is_proxyNode *{box-sizing:inherit;-webkit-font-smoothing:antialiased}._mk_is_proxyNode ._mk_adChoicesWrap{max-height:330px!important}._mk_is_root{align-self:center;background-color:var(--vkui--color_background_content,#fff);border-radius:var(--mk-borderRadiusPx);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;flex:1 1 auto;flex-direction:column;gap:16px;height:100%;justify-self:stretch;overflow:hidden;padding:var(--mk-paddingPx,20px);width:100%}._mk_is_mainArea{display:flex;flex-direction:var(--mk-direction,row);gap:var(--mk-gapPx,20px);height:var(--mk-mainHeightPx);justify-content:stretch;width:100%}._mk_is_mediaWrap{border-radius:calc(var(--mk-borderRadiusPx)/3*2);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;flex:none;height:var(--mk-mediaHeightPx);max-height:var(--mk-mediaHeightPx);max-width:var(--mk-mediaWidthPx);order:3;outline:.5px solid var(--Stroke-Image-Border-Alpha,rgba(0,0,0,.08));overflow:hidden;position:relative;width:var(--mk-mediaWidthPx);z-index:55}._mk_is_ctaButtonOnMedia ._mk_is_mediaWrap{border-radius:0 0 8px 8px}._mk_is_proxyNode[view=column] ._mk_is_mediaWrap{order:8}._mk_is_media{height:100%;object-fit:contain;position:relative;width:100%;z-index:50}._mk_is_mediaBackground{align-items:center;filter:blur(8px);height:120%;justify-content:center;left:-10%;object-fit:cover;position:absolute;top:-10%;width:120%;will-change:contents;z-index:30}._mk_is_domainArea{align-items:center;background:var(--vkui--color_overlay_primary,rgba(0,0,0,.4));border:.5px solid var(--vkui--color_separator_primary_alpha,rgba(0,0,0,.12));border-radius:6px;display:flex;flex-direction:row;gap:2px;height:24px;left:8px;padding:4px 6px 4px 4px;position:absolute;top:8px;z-index:58}._mk_is_icon{border-radius:4px;height:16px;overflow:hidden;width:16px}._mk_is_domain{color:var(--vkui--color_text_contrast,#fff);font-size:12px;font-weight:400;line-height:14px;max-width:calc(var(--mk-mediaWidthPx) - 48px);overflow:hidden;white-space:nowrap}._mk_is_header{align-items:center;display:flex;flex-direction:row;gap:6px;height:18px;margin-bottom:14px;position:relative}._mk_is_headerIcon{color:var(--vkui--color_icon_secondary,#99a2ad);height:16px;width:16px}._mk_is_headerLabel{color:var(--vkui--color_text_subhead,#939393);font-size:14px;font-weight:300;line-height:18px;text-wrap-mode:nowrap;display:flex;flex-direction:row;white-space-collapse:collapse}._mk_is_ageRestrictions:before{content:"•";margin:0 4px}._mk_is_adChoice{color:var(--vkui--color_icon_tertiary,#aeb7c2);cursor:pointer;margin-top:2px;position:relative}._mk_is_adChoice:before{border-radius:50%;content:"";height:30px;left:-7px;position:absolute;top:-5px;width:30px}._mk_is_closeBtnWrap{border-radius:50%;cursor:pointer;height:44px;padding:8px;position:absolute;right:6px;top:6px;transition:background-color .15s ease-out;width:44px;z-index:80}._mk_is_closeBtnWrap:hover{background:var(--vkui--vkontakte_background_hover_alpha,rgba(174,183,194,.12))}._mk_is_closeBtn{transition:transform .15s ease-in}._mk_is_closeBtn:hover{transform:rotate(90deg)}._mk_PV_countDown,._mk_is_closeDelayCountdown{flex:none;height:28px;position:relative;width:28px}._mk_PV_countDown circle,._mk_is_closeDelayCountdown circle{fill:none;transform:rotate(-90deg);stroke-linecap:round;stroke:var(--vkui--color_track_buffer--active,#3f72b0);stroke-dasharray:var(--mk-dasharray,0 1);transition:stroke-dasharray .51s linear}._mk_PV_countDown:after,._mk_is_closeDelayCountdown:after{color:var(--vkui--color_text_primary,#000);content:attr(data-rest-delay);font-size:15px;font-weight:500;line-height:28px;position:absolute;right:0;text-align:center;top:0;width:28px}._mk_is_closeBtn,._mk_is_skipBtn{background:var(--vkui--vkontakte_background_hover_alpha,rgba(174,183,194,.12));border-radius:50%;color:var(--vkui--vkontakte_color_icon_outline_medium,#818c99);height:28px;padding:4px;width:28px}._mk_is_closeBtn:hover,._mk_is_skipBtn:hover{color:var(--vkui--color_write_bar_icon--hover,#7c8795)}._mk_is_infoWrap{display:flex;flex-direction:column;gap:6px;height:var(--mk-infoHeightPx);max-height:var(--mk-infoHeightPx);order:var(--mk-infoOrder,5);overflow:hidden;position:relative;width:var(--mk-infoWidthPx)}._mk_is_description,._mk_is_title{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}._mk_is_textArea{flex-direction:column;flex-grow:1;gap:var(--mk-infoGapPx,6px);width:var(--mk-infoWidthPx)}._mk_is_title{color:var(--vkui--color_text_primary,#000);font-size:var(--mk-titleFsPx,20px);font-weight:500;letter-spacing:-2%;line-height:var(--mk-titleLineHeightPx,24px);line-clamp:var(--mk-titleLines,3);-webkit-line-clamp:var(--mk-titleLines,3);height:calc(var(--mk-titleLineHeightPx, 24px)*var(--mk-titleLines, 3))}._mk_is_description{color:var(--vkui--color_text_secondary,#666);display:var(--mk-descDisplay,block);font-size:var(--mk-descFsPx,15px);font-weight:400;letter-spacing:-.7%;line-height:var(--mk-descLineHeightPx,20px);margin-top:var(--mk-infoGapPx,6px);line-clamp:var(--mk-descLines,3);-webkit-line-clamp:var(--mk-descLines,3);flex:1 1 auto;height:calc(var(--mk-descLineHeightPx, 20px)*var(--mk-descLines, 3))}._mk_is_ctaButton{align-items:center;background-color:var(--vkui--color_background_accent_themed,#447bba);border-radius:8px;color:var(--vkui--color_text_contrast_themed,#fff);display:flex;flex:none;font-size:var(--mk-ctaFsPx,14px);font-weight:500;height:var(--mk-ctaHeightPx,36px);justify-content:center;justify-self:flex-end;letter-spacing:-1%;line-height:var(--mk-ctaLineHeightPx,18px);margin-top:var(--mk-stubHeightPx);order:10;text-align:center;transition:background-color .3s ease-out;width:100%}._mk_is_ctaButtonOnMedia{--total-bottom-offset:40px;--side-bottom:-40px;--progressHeight:0}._mk_is_ctaButtonOnMedia ._mk_is_ctaButton{bottom:0;left:0;position:absolute;z-index:70}._mk_is_ctaButton:hover{background-color:var(--vkui--color_background_accent_themed--hover,#4177b5)}.stub{display:var(--mk-stubDisplay,none);justify-self:stretch;order:8}.vkuiDiv{padding:var(--vkui--size_base_padding_vertical--regular,12px) var(--vkui--size_base_padding_horizontal--regular,16px)}._mk_postView,._mk_postViewReplay{background-color:rgba(76,77,78,.251);color:#fff;display:flex;font-size:14px;font-weight:500;gap:6px;height:100%;left:0;line-height:18px;padding:8px;position:absolute;top:0;width:100%;z-index:110}._mk_postViewReplay{align-items:center;background-color:rgba(90,102,117,.467);justify-content:center}._mk_PVR_circle{background-color:#ff4500;border-radius:50%;height:50px;width:50px}._mk_PV_closeButton,._mk_PV_domain,._mk_PV_openButton,._mk_PV_repeatButton{background-color:rgba(255,255,51,.467);border-radius:6px;color:#fff;height:30px;padding:6px 12px}._mk_PV_text{background:#4682b4;color:#ff0;display:inline;font-size:20px;font-weight:700;height:fit-content;padding:12px}._mk_PV_icon{border-radius:20px;flex:none;height:40px;overflow:hidden;width:40px}._mk_adChoicesClosed ._mk_adChoices_body{align-items:center;background:var(--vkui--color_background_content,#fff);border-radius:var(--vkui--size_border_radius_paper--regular,12px);gap:8px;margin:0}._mk_adChoicesClosed ._mk_adChoices_menuLine{color:var(--vkui--color_text_secondary,#666);font-size:18px;font-weight:400;line-height:var(--mk-titleLineHeightPx,20px);text-align:center}._mk_adChoicesClosed ._mk_adChoices_menuLine:first-child{color:var(--vkui--color_text_primary,#000);font-size:20px;font-weight:500;line-height:var(--mk-titleLineHeightPx,24px)}'),vkGamesRewards:String('._mk_rw_root{align-self:center;background-color:var(--vkui--color_background_content,#fff);border-radius:var(--mkext-bRadius,var(--mk-borderRadiusPx,0));display:flex;display:-webkit-box;display:-webkit-flex;display:-moz-box;flex:1 1 auto;flex-direction:column;height:100%;justify-self:stretch;overflow:hidden;padding:var(--mk-rootPaddingPx,0);position:relative;width:100%}._mk_rw_root ._mk_adChoices{max-height:332px}._mk_rw_root ._mk_controls{justify-content:flex-end}._mk_rw_root[direction=row] ._mk_rw_ctaInfoButtonWrap{align-items:flex-start}._mk_rw_root[direction=column] ._mk_rw_textArea{text-align:center}._mk_rw_root[view=mobile] ._mk_rw_rightBottomWrap{background:transparent;padding:0;top:7px}._mk_rw_root[view=fullscreen]{gap:var(--mk-rootPaddingPx,20px)}._mk_rw_root[view=fullscreen] ._mk_rw_mediaWrap{border-radius:calc(var(--mk-borderRadiusPx)/3*2)}._mk_rw_root ._mk_control_progress{background:hsla(0,0%,100%,.122);border-radius:1.5px;bottom:22px;left:16px;width:calc(100% - 32px)}._mk_rw_root ._mk_control_progress div{background:#f8a01c}._mk_rw_workArea{display:flex;flex-direction:var(--mk-direction,row);flex-grow:1;gap:var(--mk-areaGapPx,0);position:relative}._mk_rw_mediaWrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;flex:none;height:var(--mk-mediaHeightPx);max-height:var(--mk-mediaHeightPx);max-width:var(--mk-mediaWidthPx);outline:.5px solid var(--Stroke-Image-Border-Alpha,rgba(0,0,0,.08));overflow:hidden;position:relative;width:var(--mk-mediaWidthPx);z-index:55}._mk_rw_mediaWrap ._mk_rw_header{background:var(--vkui--color_overlay_primary,rgba(0,0,0,.4));border:.5px solid var(--vkui--color_separator_primary_alpha,rgba(0,0,0,.12));border-radius:9px;color:var(--vkui--color_text_contrast,#fff);justify-items:center;left:var(--mk-menuOffsetPx,16px);padding:6px 9px;position:absolute;top:var(--mk-menuOffsetPx,16px);z-index:110}._mk_rw_media{height:100%;object-fit:contain;position:relative;width:100%;z-index:50}._mk_rw_mediaBackground{align-items:center;filter:blur(8px);height:120%;justify-content:center;left:-10%;object-fit:cover;position:absolute;top:-10%;width:120%;will-change:contents;z-index:30}._mk_rw_controls{bottom:0;justify-content:flex-end;padding-bottom:46px;right:0;width:100%}._mk_rw_controls,._mk_rw_rightBottomWrap{display:flex;flex-direction:row;position:absolute;z-index:110}._mk_rw_rightBottomWrap{gap:16px;padding:4px 14px;right:calc(var(--mk-menuOffsetPx, 16px) + var(--mk-addXOffsetPx, 0px))}._mk_rw_infoWrap{box-sizing:border-box;flex-grow:1;gap:var(--mk-gapPx,6px);height:var(--mk-infoHeightPx);overflow:hidden;padding:var(--mk-vertPaddingPx,20px) var(--mk-horPaddingPx,20px) var(--mk-bottomPaddingPx,20px);position:relative;width:var(--mk-infoWidthPx)}._mk_rw_infoWrap,._mk_rw_textArea{display:flex;flex-direction:column}._mk_rw_textArea{flex:1 1 auto;justify-content:center;width:100%}._mk_rw_textArea ._mk_rw_ctaInfoButtonWrap{margin-top:calc(var(--mk-gapPx, 12px)*2)}._mk_rw_description,._mk_rw_title{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}._mk_rw_title{color:var(--vkui--color_text_primary,#fff);font-size:var(--mk-titleFsPx,20px);font-weight:500;letter-spacing:-2%;line-height:var(--mk-titleLineHeightPx,24px);line-clamp:var(--mk-titleLines,3);-webkit-line-clamp:var(--mk-titleLines,3);height:calc(var(--mk-titleLineHeightPx, 24px)*var(--mk-titleLines, 3));max-height:calc(var(--mk-titleLineHeightPx, 24px)*var(--mk-titleLines, 3))}._mk_rw_description{color:var(--vkui--color_text_secondary,#666);display:var(--mk-descDisplay,block);font-size:var(--mk-descFsPx,15px);font-weight:400;letter-spacing:-.7%;line-height:var(--mk-descLineHeightPx,20px);margin-top:var(--mk-gapPx,6px);line-clamp:var(--mk-descLines,3);-webkit-line-clamp:var(--mk-descLines,3);height:calc(var(--mk-descLineHeightPx, 20px)*var(--mk-descLines, 3));max-height:calc(var(--mk-descLineHeightPx, 20px)*var(--mk-descLines, 3))}._mk_rw_ctaInfoButtonWrap{align-items:center;display:flex;flex-direction:column;height:var(--mk-textCtaHeightPx,40px);width:100%}._mk_rw_ctaButton,._mk_rw_ctaInfoButton{background-color:#2688eb;color:#fff;height:var(--mk-textCtaHeightPx,40px)}._mk_rw_ctaButton:hover,._mk_rw_ctaInfoButton:hover{background-color:#356cac}._mk_rw_ctaInfoButton{border-radius:var(--mk-borderRadiusPx,12px);display:inline-flex;font-size:var(--mk-textCtaFSPx,40px);font-weight:600;height:var(--mk-textCtaHeightPx,40px);justify-content:center;line-height:var(--mk-textCtaHeightPx,40px);padding:0 24px;text-align:center;width:unset;width:var(--mk-textCtaWidth,unset)}._mk_rw_domainArea{align-items:center;background:var(--vkui--color_overlay_primary,rgba(0,0,0,.4));border:.5px solid var(--vkui--color_separator_primary_alpha,rgba(0,0,0,.12));border-radius:6px;display:flex;flex-direction:row;gap:2px;height:24px;left:8px;padding:4px 6px 4px 4px;position:absolute;top:8px;z-index:58}._mk_rw_icon{border-radius:4px;height:16px;overflow:hidden;width:16px}._mk_rw_domain{color:var(--vkui--color_text_contrast,#fff);font-size:12px;font-weight:400;line-height:14px;max-width:calc(var(--mk-mediaWidthPx) - 48px);white-space:nowrap}._mk_rw_header{align-items:center;box-sizing:content-box;color:var(--vkui--color_icon_secondary,#99a2ad);display:flex;flex-direction:row;gap:6px;height:18px}._mk_rw_headerIcon{height:16px;margin-top:-2px;width:16px}._mk_rw_headerLabel{font-size:14px;font-weight:300;line-height:18px;text-wrap-mode:nowrap;display:flex;flex-direction:row;white-space-collapse:collapse}._mk_rw_ageRestrictions:before{content:"•";margin:0 4px}._mk_rw_adChoice{cursor:pointer;margin-top:2px}._mk_rw_ctaArea,._mk_rw_rightBottomWrap{align-items:center;background-color:rgba(28,29,30,.8);border-radius:12px;bottom:46px;display:flex;flex-direction:row;height:40px}._mk_rw_ctaArea{animation:loading 2s ease-in-out infinite;background:linear-gradient(120deg,hsla(0,0%,100%,0) 45%,hsla(0,0%,100%,.333) 50%,hsla(0,0%,100%,0) 55%) rgba(28,29,30,.8);background-position-x:180%;background-size:200% 100%;flex-shrink:1;left:var(--mk-menuOffsetPx,16px);max-width:calc(100% - 32px);padding:6px 6px 6px 10px;position:absolute;z-index:130}._mk_rw_ctaLogo{border-radius:50%;flex:none;height:20px;margin-right:8px;overflow:hidden;width:20px}._mk_rw_ctaLinkText{color:#fff;flex-shrink:1;font-size:14px;font-weight:400;line-height:18px;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._mk_rw_ctaButton{border-radius:8px;font-size:14px;font-weight:500;height:28px;letter-spacing:.15px;line-height:18px;margin-left:12px;padding:5px 16px;transition:transform .2s}._mk_rw_ctaButton:hover{transform:scale(1.035)}._mk_rw_vpaidRunner,._mk_rw_vpaidWrap{border:none;height:100%;margin:0;overflow:hidden;padding:0;position:relative;width:100%}._mk_rw_vpaidHeader{align-items:center;background:#000;border-radius:12px;box-sizing:border-box;color:#fff;display:flex;flex-direction:row;gap:7px;justify-content:center;padding:3px 5px;position:absolute;right:5px;top:5px;z-index:155}._mk_rw_closeBtnWrap{border-radius:50%;cursor:pointer;height:44px;padding:8px;position:absolute;right:6px;top:6px;transition:background-color .15s ease-out;width:44px;z-index:80}._mk_rw_closeBtnWrap:hover{background:var(--vkui--vkontakte_background_hover_alpha,rgba(174,183,194,.12))}._mk_rw_closeDelayCountdown{height:28px;position:relative;width:28px}._mk_rw_closeDelayCountdown circle{fill:none;transform:rotate(-90deg);stroke-linecap:round;stroke:var(--vkui--color_track_buffer--active,#3f72b0);stroke-dasharray:var(--mk-dasharray,0 1);transition:all .51s linear}._mk_rw_closeDelayCountdown:after{color:var(--vkui--color_text_primary,#000);content:attr(data-rest-delay);font-size:15px;font-weight:500;line-height:28px;position:absolute;right:0;text-align:center;top:0;width:28px}._mk_rw_closeBtn{background:var(--vkui--vkontakte_background_hover_alpha,rgba(174,183,194,.12));border-radius:50%;color:var(--vkui--vkontakte_color_icon_outline_medium,#818c99);display:none;height:28px;padding:4px;width:28px}._mk_rw_closeBtn:hover{color:var(--vkui--color_write_bar_icon--hover,#7c8795)}@keyframes loading{to{background-position-x:-20%}}'),producer:String('._mk_dmp_wrapNode{background-color:var(--vkui--color_background_content,#fff);border-radius:12px;box-sizing:content-box;display:flex;flex-direction:column;font-family:Roboto,sans-serif;height:100%;overflow:hidden;position:relative;width:100%}._mk_dmp_wrapNode[stage=two][view=row]{flex-direction:row}._mk_dmp_wrapNode[stage=two][view=row]>._mk_dmp_entryNode{height:100%;width:50%!important}._mk_dmp_wrapNode[stage=two][view=column]>._mk_dmp_entryNode{height:50%!important;min-height:50%!important;width:100%!important}._mk_dmp_wrapNode[mobile][stage=two][view=row]{flex-direction:row}._mk_dmp_wrapNode[mobile][stage=two][view=column]{flex-direction:column}._mk_dmp_entryNode{flex:1 1 auto;height:var(--mk-entryHeight,100%);min-height:323px;width:100%;z-index:1}._mk_dmp_entryNode ._mk_adChoicesClosed{box-sizing:border-box;padding:var(--mk-paddingPx,20px)}._mk_dmp_entryNode ._mk_is_closeDelayCountdown{display:none}._mk_dmp_progressWrap{align-items:flex-end;display:flex;flex-direction:row;gap:4px;height:15px;justify-content:center;padding:0 20px;width:calc(100% - 40px);z-index:3}._mk_dmp_progressBar{position:relative;--progressValue:0%;background:var(--vkui--color_background_tertiary_alpha--active,rgba(0,0,0,.11));flex:1 1 auto;height:2px}._mk_dmp_progressBar:after{background:var(--vkui--color_background_accent_tint--active,#67a6ff);bottom:0;content:"";height:2px;left:0;max-width:100%;position:absolute;transition:width .3s linear;width:var(--progressValue)}._mk_dmp_skipBtn{border-radius:50%;color:var(--vkui--color_icon_tertiary,#aeb7c2);cursor:pointer;height:24px;padding:8px;position:absolute;right:12px;top:6px;transition:background-color,opacity .15s ease-out;width:24px;z-index:9;--mk-dasharray:0 1}._mk_dmp_skipBtn:hover{background:var(--vkui--vkontakte_background_hover_alpha,rgba(174,183,194,.12));color:var(--vkui--color_icon_primary--active,#282b2f)}._mk_dmp_skipBtn svg{transition:transform .15s ease-out}._mk_dmp_skipBtn:hover svg{transform:scale(1.15)}._mk_dmp_skipBtn:after{height:40px;line-height:40px;width:40px}'),vkGamesSticky:String('._mk_disclaimer{background-color:var(--mk-bgContent,transparent);box-sizing:border-box;display:flex;height:var(--mk-sdHeight,0);max-width:100%;padding:var(--mk-sdPadding,2px);position:relative;user-select:none;width:100%;z-index:10}._mk_disclaimer_place{display:none;position:relative;width:100%;z-index:50}._mk_disclaimer_place_bg:before{background:hsla(210,1%,41%,.498);content:"";display:block;height:100%;left:0;position:absolute;right:0;width:100%;z-index:2}._mk_disclaimer_place_bg{background-position:bottom;background-size:cover;bottom:-10px;filter:blur(8px);height:calc(100% + 20px);left:-10px;overflow:hidden;position:absolute;width:calc(100% + 20px);z-index:1}._mk_disclaimer_line{display:flex;flex-direction:column;height:var(--mk-sdLineHeight);justify-content:center;width:100%}._mk_disclaimer_linesWrap{display:flex;flex-direction:column;height:100%;justify-content:space-between;position:relative;width:100%;z-index:10}._mk_disclaimer_text{color:var(--mk-cDisclaimer,#818c99);display:inline-block;font:24px/24px BebasNeue,sans-serif;font-weight:var(--mk-sdFontWeidht,100);height:24px;position:relative;transform:translateY(2.5px);transform-origin:left center;width:100%}._mk_disclaimer_measure,._mk_disclaimer_text{letter-spacing:normal;text-transform:uppercase;white-space:nowrap}._mk_disclaimer_measure{font:24px/24px BebasNeue,sans-serif;font-weight:var(--mk-disclaimer-fontWeidht,300);height:auto;left:-1000px;position:absolute;top:-1000px;visibility:hidden}._mk_hidden{display:none}._mk_clickArea{cursor:pointer!important}._mk_noClickArea{cursor:default!important}.volumeTooltip{--tooltip-arrow-size:5px;background:rgba(0,0,0,.88);border-radius:4px;bottom:40px;display:none;font-size:12.5px;line-height:15px;padding:4.5px 9px;pointer-events:none;position:absolute;text-align:center;z-index:100}.volumeTooltip ._vText{color:#fff;font-variant-numeric:tabular-nums;white-space:nowrap}.volumeTooltip ._vArrow{border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgba(0,0,0,.88);left:50%;margin-left:-5px;position:absolute;top:100%}._mk_control{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;font-size:13px;height:var(--controls-height,40px);justify-content:space-between;padding:0 8px 4px;transition:transform var(--controls-transition-duration) var(--controls-transition-fn);white-space:nowrap;width:100%;will-change:transform}._mk_control_wrapper{bottom:var(--total-bottom-offset,0);display:flex;gap:var(--control-gap,16px);height:40px;left:0;padding:8px;position:absolute;width:100%;z-index:120}._mk_control_wrapper_left{display:flex;flex-direction:row;justify-content:flex-start;left:var(--offset-left,var(--offset-x,8px))}._mk_control_cta,._mk_control_skip{cursor:pointer}._mk_control_icon{background-position:50%;background-repeat:no-repeat;background-size:contain;border-radius:var(--controlRadius,6px);cursor:pointer;height:var(--mkit-controlSize,26px);position:relative;width:var(--mkit-controlSize,26px)}._mk_control_icon:hover{scale:1.1}._mk_control_icon:before{bottom:-7px;content:"";height:40px;left:-7px;position:absolute;width:40px;z-index:100}._mk_control_volume[data-state=volume-off]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtdmFsdWU9Im9mZiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0yMCAxMC43NjMgMi4zODEtMi4zODJBLjg3NS44NzUgMCAxIDEgMjMuNjIgOS42MkwyMS4yMzcgMTJsMi4zODIgMi4zODFhLjg3NS44NzUgMCAxIDEtMS4yMzggMS4yMzhMMjAgMTMuMjM3bC0yLjM4MSAyLjM4MmEuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOEwxOC43NjMgMTIgMTYuMzggOS42MTlhLjg3NS44NzUgMCAxIDEgMS4yNC0xLjIzOXptLTcuMDIgOC4wNmMtLjAzMSAxLjIwNy0uNjcgMS42MDktMS44MjguNjItMS43MTktMS40NjktMy42MDktMy4xOTQtNC4yNDItMy43MjEtLjYzMi0uNTI5LTEuNjQ1LS42Mi0zLjA3My0uNjJzLTEuODE1LS42MjEtMS44MTUtMS4yNDEtLjAxNC0xLjgzLS4wMTQtMi4wMDFjMC0uMDU1LjAwNS0uMDg2LjAxNC0uMTMuMDItLjA5NS0uMDU4LS45NzMgMC0xLjU5LjA4NS0uOTA2LjM4OC0xLjI0MSAxLjgxNS0xLjI0MXMyLjQ0LS4wOTIgMy4wNzMtLjYyYy42MzMtLjUyOSAyLjUyMy0yLjI1MyA0LjI0Mi0zLjcyMiAxLjE1OC0uOTg5IDEuNzk3LS41ODcgMS44MjkuNjIuMDQzIDEuNjA3IDAgMy44NSAwIDYuNjgzIDAgMi44My4wNDMgNS4zNTYgMCA2Ljk2M3oiLz48L3N2Zz4=")}._mk_control_volume[data-state=volume-on]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtdmFsdWU9Im9mZiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi45OCAxOC44MjNjLS4wMzEgMS4yMDctLjY3IDEuNjA5LTEuODI4LjYyLTEuNzE5LTEuNDY5LTMuNjA5LTMuMTk0LTQuMjQyLTMuNzIxLS42MzItLjUyOS0xLjY0NS0uNjItMy4wNzMtLjYycy0xLjgxNS0uNjIxLTEuODE1LTEuMjQxLS4wMTQtMS44My0uMDE0LTIuMDAxYzAtLjA1NS4wMDUtLjA4Ni4wMTQtLjEzLjAyLS4wOTUtLjA1OC0uOTczIDAtMS41OS4wODUtLjkwNi4zODgtMS4yNDEgMS44MTUtMS4yNDFzMi40NC0uMDkyIDMuMDczLS42MmMuNjMzLS41MjkgMi41MjMtMi4yNTMgNC4yNDItMy43MjIgMS4xNTgtLjk4OSAxLjc5Ny0uNTg3IDEuODI5LjYyLjA0MyAxLjYwNyAwIDMuODUgMCA2LjY4MyAwIDIuODMuMDQzIDUuMzU2IDAgNi45NjN6bTIuOTAxLTguNzA0QS44NzUuODc1IDAgMSAxIDE3LjEyIDguODhjLjE3Ni4xNzcuNDEuNDcuNjQuODcyLjM4NC42NzEuNjE2IDEuNDI1LjYxNiAyLjI0N3MtLjIzMiAxLjU3Ni0uNjE1IDIuMjQ3YTQuMiA0LjIgMCAwIDEtLjY0MS44NzIuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOGMuMDc0LS4wNzMuMjE0LS4yNDkuMzYtLjUwMy4yNDEtLjQyMy4zODQtLjg4Ny4zODQtMS4zNzhzLS4xNDMtLjk1NS0uMzg1LTEuMzc4YTIuNiAyLjYgMCAwIDAtLjM1OS0uNTAzeiIvPjwvc3ZnPg==")}._mk_control_volume[data-state=volume-on-high]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtdmFsdWU9Im9mZiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi45OCAxOC44MjNjLS4wMzEgMS4yMDctLjY3IDEuNjA5LTEuODI4LjYyLTEuNzE5LTEuNDY5LTMuNjA5LTMuMTk0LTQuMjQyLTMuNzIxLS42MzItLjUyOS0xLjY0NS0uNjItMy4wNzMtLjYycy0xLjgxNS0uNjIxLTEuODE1LTEuMjQxLS4wMTQtMS44My0uMDE0LTIuMDAxYzAtLjA1NS4wMDUtLjA4Ni4wMTQtLjEzLjAyLS4wOTUtLjA1OC0uOTczIDAtMS41OS4wODUtLjkwNi4zODgtMS4yNDEgMS44MTUtMS4yNDFzMi40NC0uMDkyIDMuMDczLS42MmMuNjMzLS41MjkgMi41MjMtMi4yNTMgNC4yNDItMy43MjIgMS4xNTgtLjk4OSAxLjc5Ny0uNTg3IDEuODI5LjYyLjA0MyAxLjYwNyAwIDMuODUgMCA2LjY4MyAwIDIuODMuMDQzIDUuMzU2IDAgNi45NjN6bTIuOTAxLTguNzA0QS44NzUuODc1IDAgMSAxIDE3LjEyIDguODhjLjE3Ni4xNzcuNDEuNDcuNjQuODcyLjM4NC42NzEuNjE2IDEuNDI1LjYxNiAyLjI0N3MtLjIzMiAxLjU3Ni0uNjE1IDIuMjQ3YTQuMiA0LjIgMCAwIDEtLjY0MS44NzIuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOGMuMDc0LS4wNzMuMjE0LS4yNDkuMzYtLjUwMy4yNDEtLjQyMy4zODQtLjg4Ny4zODQtMS4zNzhzLS4xNDMtLjk1NS0uMzg1LTEuMzc4YTIuNiAyLjYgMCAwIDAtLjM1OS0uNTAzem0zLTJBLjg3NS44NzUgMCAxIDEgMjAuMTIgNi44OGMuMjYzLjI2NC42Mi43NC45NjYgMS40MzIuNTE3IDEuMDMzLjg0MyAyLjI1NS44OSAzLjcxNi0uMDQ3IDEuNDAzLS4zNzMgMi42MjUtLjg5IDMuNjU4LS4zNDYuNjkyLS43MDMgMS4xNjgtLjk2NiAxLjQzMmEuODc1Ljg3NSAwIDEgMS0xLjIzOC0xLjIzOGMuMTM4LS4xMzcuMzgzLS40NjQuNjM5LS45NzYuNDA3LS44MTQuNjY3LTEuNzkuNzA1LTIuODc2LS4wMzgtMS4xNDQtLjI5OC0yLjEyLS43MDUtMi45MzQtLjI1Ni0uNTEyLS41MDEtLjgzOS0uNjM5LS45NzZ6Ii8+PC9zdmc+")}._mk_control_progress{background-color:var(--mk-bgProgressBar,rgba(0,0,0,.2));bottom:var(--side-bottom,0);height:var(--mk-progressHeightPx,3px);left:0;overflow:hidden;position:absolute;width:100%;z-index:100}._mk_control_progress>div{background-color:var(--mk-cProgressBar,hsla(0,0%,100%,.5));height:var(--mk-progressHeightPx,3px);max-width:100%;transition:width .3s linear 0s;width:0}._mk_control_flow[data-state=play],._mk_control_flow[data-state=replay]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjZmZmIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIuMTIiIHN0cm9rZS13aWR0aD0iLjUiIGQ9Ik04LjEzMyA1LjEwNSAxOC42MyAxMS4zNWEuNzUuNzUgMCAwIDEgMCAxLjI4OUw4LjEzNSAxOC44OTRBLjc1Ljc1IDAgMCAxIDcgMTguMjVWNS43NWEuNzUuNzUgMCAwIDEgMS4xMzMtLjY0NXoiLz48L2c+PGRlZnM+PGZpbHRlciBpZD0iYSIgd2lkdGg9IjI4LjUiIGhlaWdodD0iMjYiIHg9IjAiIHk9IjAiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJoYXJkQWxwaGEiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIuNSIvPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4xNiAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzU5MTBfMTY0NCIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd181OTEwXzE2NDQiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48L2RlZnM+PC9zdmc+")}._mk_control_flow[data-state=pause]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxnIGZpbGwtcnVsZT0ibm9uemVybyI+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgY2xhc3M9Il9wYXVzZSIvPjxwYXRoIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9Ii4xMiIgc3Ryb2tlLXdpZHRoPSIuNSIgZD0iTTcuMTQ1IDVoMS43MWMuMzk4IDAgLjU0Mi4wNDcuNjg4LjEzNGEuODcuODcgMCAwIDEgLjMzOC4zOGMuMDc4LjE2NC4xMTkuMzI2LjExOS43NzR2MTEuNDI0YzAgLjQ0OC0uMDQxLjYxLS4xMi43NzRxLS4xMTcuMjQ3LS4zMzcuMzhjLS4yMi4xMzMtLjI5LjEzNC0uNjg4LjEzNGgtMS43MWMtLjM5OCAwLS41NDItLjA0Ny0uNjg4LS4xMzRzLS4yNi0uMjE2LS4zMzgtLjM4UzYgMTguMTYgNiAxNy43MTJWNi4yODhjMC0uNDQ4LjA0MS0uNjEuMTItLjc3NGEuODcuODcgMCAwIDEgLjMzNy0uMzhjLjE0Ni0uMDg3LjI5LS4xMzQuNjg4LS4xMzR6bTggMGgxLjcxYy4zOTggMCAuNTQyLjA0Ny42ODguMTM0YS44Ny44NyAwIDAgMSAuMzM4LjM4Yy4wNzguMTY0LjExOS4zMjYuMTE5Ljc3NHYxMS40MjRjMCAuNDQ4LS4wNDEuNjEtLjEyLjc3NGEuODcuODcgMCAwIDEtLjMzNy4zOGMtLjE0Ni4wODctLjI5LjEzNC0uNjg4LjEzNGgtMS43MWMtLjM5OCAwLS41NDItLjA0Ny0uNjg4LS4xMzRhLjg3Ljg3IDAgMCAxLS4zMzgtLjM4Yy0uMDc4LS4xNjQtLjExOS0uMzI2LS4xMTktLjc3NFY2LjI4OGMwLS40NDguMDQxLS42MS4xMi0uNzc0YS44Ny44NyAwIDAgMSAuMzM3LS4zOGMuMTQ2LS4wODcuMjktLjEzNC42ODgtLjEzNHoiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImEiIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgeD0iMCIgeT0iMCIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9ImhhcmRBbHBoYSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldC8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMi41Ii8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjE2IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfNTkxMF8xNjQ0Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzU5MTBfMTY0NCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=")}._mk_control_flow[data-state=ended],._mk_control_flow[data-state=none]{display:none}._mk_adChoices,._mk_adChoices_tab{cursor:default;font-family:Roboto,sans-serif;font-weight:400;overscroll-behavior:none}._mk_adChoicesClosed{background-color:var(--mk-bgContent)!important;border:.5px solid var(--mk-cBorder);border-radius:var(--mkext-bRadius-tl,var(--mkext-bRadius,0)) var(--mkext-bRadius-tr,var(--mkext-bRadius,0)) var(--mkext-bRadius-bl,var(--mkext-bRadius,0)) var(--mkext-bRadius-br,var(--mkext-bRadius,0))}._mk_adChoicesClosed[data-tab=closed]{margin:auto}._mk_adChoicesClosed[data-tab=closed] ._mk_adChoices_body{align-content:center;justify-content:center}._mk_adChoicesWrap{display:none;height:calc(var(--mkit-adchoice-height, 100%) - var(--mk-adchoiceTop, 0px) - var(--mk-adchoiceBottom, 0px));pointer-events:none;position:absolute;right:var(--mk-adchoiceRight);top:var(--mk-adchoiceTop);width:var(--mk-adchoiceWidth,100%);z-index:150}._mk_adChoices{background-color:var(--mk-bgAdChoice,#fff);border:1px solid var(--mk-cBorder,rgba(0,0,0,.12));border-radius:var(--mk-adchoiceBorderRadius,0);box-shadow:var(--mk-shadowAdChoice);color:var(--mk-cSubhead,#6d7885)!important;height:100%;pointer-events:all;position:absolute;width:100%}._mk_adChoices_tab{box-sizing:border-box;display:flex;flex-direction:column;font-size:13px;font-weight:400;height:100%;line-height:1.3;overflow-x:hidden;overflow-y:overlay;position:relative;scrollbar-color:var(--mk-cSubhead) var(--mk-bgContent);scrollbar-width:thin;width:100%;z-index:100}._mk_adChoices_tab::-webkit-scrollbar{height:0;width:0}._mk_adChoices_tab::-webkit-scrollbar-track{background:var(--mk-bgContent,#fff)}._mk_adChoices_tab::-webkit-scrollbar-thumb{background-color:var(--mk-cSubhead,#6d7885);border:1px solid var(--mk-cSubhead,#6d7885);border-radius:5px}._mk_adChoices_header{color:var(--mk-cSubhead,#6d7885);display:flex;flex:none;flex-direction:column;font-size:13px;font-weight:600;gap:4px;letter-spacing:.2px;line-height:1.2;padding:10px 8px 4px;width:100%}._mk_adChoices_body{display:flex;flex:1 1 auto;flex-direction:column;height:100%;margin:8px 8px 4px}._mk_adChoices_footer{flex:none;margin:4px 8px 8px}._mk_adChoices_about{font-size:12px;font-weight:400;line-height:1.3}._mk_adChoices_description{font-weight:400;margin-bottom:6px;padding-left:var(--avm-button-xpadding,20px)}._mk_adChoices_header_line{box-sizing:border-box;font-size:120%;width:100%}._mk_adChoices_menuExtender{flex-grow:1;width:100%}._mk_adChoices_menuLine{align-items:center;border-radius:8px;box-sizing:border-box!important;color:var(--mk-cMuted,#2c2d2e);cursor:pointer;display:flex;flex-direction:row;gap:8px;height:32px;letter-spacing:.1px;margin:0 -4px;padding:6px 8px;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:border-box}._mk_adChoices_menuLine span{white-space:nowrap;max-lines:1;max-width:270px;overflow:hidden;text-overflow:ellipsis}._mk_adChoices_menuLine svg{flex:0 0 20px;height:20px;width:20px}._mk_adChoices_text1{color:#e1e3e6;font-size:120%;line-height:1.25;margin:0 var(--avm-discount2-radius,10px);padding:calc(2px + var(--avm-discount2-tmargin, 12px)) var(--avm-discount2-radius,10px)}._mk_adChoices_text2{color:#969a9f;margin:0 var(--avm-discount2-radius,10px);padding:4px var(--avm-discount2-radius,10px)}._mk_adChoices_close_button{background-color:var(--mkit-overlayDark,rgba(0,0,0,.4));border-radius:11px;cursor:pointer;height:22px;pointer-events:all;position:absolute;right:4px;top:4px;width:22px;z-index:155}._mk_adChoices_close_button:before{content:"";height:30px;position:absolute;right:-4px;top:-4px;width:30px}._mk_freeButton{align-items:center;background-color:var(--mkit-bgAccent,#2688eb);border-radius:11px;color:var(--mkit-cContrast,#fff);cursor:pointer;display:flex;font-size:13px;font-weight:600;height:32px;justify-content:center;padding:8px 16px;width:100%}._mk_freeButton:hover{background-color:var(--mkit-bgAccentHover)}._mk_closeTitle{color:var(--mk-сPrimary);font-size:15px;font-weight:600;text-align:center}._mk_closeInfo{color:var(--mk-cSubhead,#6d7885);text-align:center}._mk_vkAds{margin-top:auto}._mk_freeTextArea{background-color:var(--mkit-bgTextArea);border:1px solid var(--mk-cBorder,rgba(0,0,0,.12));border-radius:11px;box-sizing:border-box;color:var(--mkit-cSecond);flex:1 1 auto;font:14px/1.3 Roboto,sans-serif;height:100%;padding:8px 12px;resize:none;width:100%}._mk_freeTextArea:focus{outline:none}._mk_st_proxyNode{--mk-сPrimary:var(--vkui--color_text_primary,#000);--mk-cSubhead:var(--vkui--color_text_secondary,#818c99);--mk-bgContent:var(--vkui--color_background_content,#fff);--mk-cBorder:var(--vkui--color_separator_primary_alpha,rgba(0,0,0,.12));--mkext-bRadius:8px;--mkext-bRadius-tl:8px;--mkext-bRadius-tr:8px;--mkext-bRadius-bl:8px;--mkext-bRadius-br:8px;align-items:center!important;border:none!important;border-radius:inherit!important;cursor:pointer!important;display:flex!important;flex-direction:column!important;height:100%!important;justify-content:center!important;max-height:100%!important;max-width:100%!important;outline:none!important;overflow:hidden!important;position:sticky!important;width:100%!important}._mk_st_proxyNode *{box-sizing:inherit;-webkit-font-smoothing:auto;border:none!important;outline:none!important}._mk_st_proxyNode svg{margin:0;padding:0}._mk_st_proxyNode ._mk_adChoices{transition:top .3s ease-in-out}._mk_st_proxyNode ._mk_adChoicesWrap{height:100%!important}._mk_st_proxyNode ._mk_adChoices{height:auto!important;overflow-y:auto}._mk_st_proxyNode ._mk_adChoices ._mk_adChoices_menuLine svg{display:none}._mk_st_proxyNode:has(._mk_st_root[data-layout=v200]) ._mk_adChoices{max-height:100%}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])){overflow:visible!important}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])) ._mk_adChoices,._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])) ._mk_adChoices_tab{overflow:visible!important}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])) ._mk_adChoices{right:0!important}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])):has(._mk_st_root[data-menu-position=top]) ._mk_adChoicesWrap{top:-310px!important}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])):has(._mk_st_root[data-menu-position=top]) ._mk_adChoices{bottom:auto!important;transform-origin:bottom center}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])):has(._mk_st_root[data-menu-position=bottom]) ._mk_adChoicesWrap{top:calc(100% + 4px)!important}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])):has(._mk_st_root[data-menu-position=bottom]) ._mk_adChoices{bottom:auto!important;transform-origin:top center}._mk_st_proxyNode:not(:has(._mk_st_root[data-layout=v200])):has(._mk_st_root[data-cta=false]) ._mk_st_ctaButton{display:none!important}._mk_st_root{background-color:var(--vkui--color_background_content,#fff);border-radius:inherit;cursor:pointer;display:flex;flex-direction:column;height:100%;width:100%}._mk_st_gradientMask{order:9}._mk_st_rating{align-items:center;display:flex;flex-shrink:0;gap:4px;order:8}._mk_st_ratingVotesBlock{align-items:center;display:flex;gap:2px;order:9}._mk_st_ratingValue{color:var(--vkui--color_text_tertiary,#99a2ad);font-family:SF Pro Text;font-size:12px;font-weight:400;line-height:14px;word-wrap:break-word;order:1}._mk_st_ratingStar{align-items:center;display:flex;flex-shrink:0;order:3}._mk_st_ratingStar svg{height:16px;width:16px}._mk_st_ratingVotes{order:5}._mk_st_ratingVotes,._mk_st_ratingVotesText{color:var(--vkui--color_text_tertiary,#99a2ad);font-family:SF Pro Text;font-size:12px;font-weight:400;line-height:14px;word-wrap:break-word}._mk_st_ratingVotesText{order:7}._mk_st_ratingDot{color:var(--vkui--color_text_tertiary,#99a2ad);display:var(--mk-dotDisplay,inline);font-family:SF Pro Text;font-size:12px;font-weight:400;line-height:14px;order:var(--mk-dotOrder,0)}._mk_st_root[data-layout=v200] ._mk_st_textArea ._mk_st_rating{display:flex!important}._mk_st_root[data-layout=h56] ._mk_st_textArea ._mk_st_rating,._mk_st_root[data-layout=h80] ._mk_st_textArea ._mk_st_rating,._mk_st_root[data-layout=v200] ._mk_st_header ._mk_st_rating{display:none!important}._mk_st_root[data-layout=h56] ._mk_st_header ._mk_st_rating,._mk_st_root[data-layout=h80] ._mk_st_header ._mk_st_rating{display:flex!important}._mk_st_header{background:var(--vkui--color_overlay_primary,rgba(0,0,0,.4));border-radius:16px;height:auto;justify-content:space-between;left:4px;order:var(--mk-headerOrder,1);padding:2px 4px;position:absolute;top:4px;width:auto;z-index:1000}._mk_st_header,._mk_st_headerLabel{align-items:center;display:flex;gap:4px}._mk_st_headerLabel{font-family:var(--Font-Family-Base,"SF Pro Text");font-feature-settings:"liga" off,"clig" off;font-size:12px;font-style:normal;font-weight:400;letter-spacing:var(--Font-Letter-Spacing-Caption-1,0);line-height:14px}._mk_st_headerIcon,._mk_st_headerLabel{color:var(--vkui--color_text_contrast,#fff)}._mk_st_headerIcon{align-items:center;display:flex;height:14px;justify-content:center;padding:2px;width:14px}._mk_st_logoDomainWrap{display:none}._mk_st_adChoice{color:#6d7885!important;cursor:pointer!important;display:none;height:14px!important;width:14px!important}._mk_st_workArea{border-radius:inherit;flex-direction:column;height:100%;width:100%}._mk_st_mediaWrap,._mk_st_workArea{align-items:center;display:flex;position:relative}._mk_st_mediaWrap{flex-shrink:0!important;justify-content:center;max-height:200px!important;max-height:var(--media-height);max-width:var(--media-width);overflow:hidden!important;width:100%!important;width:var(--media-width);z-index:55}._mk_st_mediaBackground{align-items:center;filter:blur(8px);height:120%;justify-content:center;left:-10%;object-fit:cover;position:absolute;top:-10%;width:120%;will-change:contents;z-index:30}._mk_st_media{height:100%;object-fit:contain;position:relative;width:100%;z-index:50}._mk_st_control_wrapper{bottom:0!important;display:none!important;height:100%!important;left:0!important;position:fixed!important;width:100%!important;z-index:1000!important}._mk_st_infoWrap{align-items:center;height:100%;justify-content:space-between;padding:8px 12px}._mk_st_infoWrap,._mk_st_textArea{display:flex;flex-direction:column}._mk_st_textArea{gap:4px;margin-bottom:6px;width:100%}._mk_st_textarea_gradient_mask{border-radius:inherit;bottom:0;left:0;pointer-events:none;position:absolute;right:0;top:0;z-index:2}._mk_st_textarea_gradient_mask[data-gradient=bottom]{background:linear-gradient(180deg,transparent 0,hsla(0,0%,100%,.9) 70%,#fff)}._mk_st_textarea_gradient_mask[data-gradient=top]{background:linear-gradient(0deg,transparent 0,hsla(0,0%,100%,.9) 30%,#fff)}._mk_st_textarea_gradient_mask[data-gradient=both]{background:linear-gradient(0deg,transparent 0,hsla(0,0%,100%,.9) 30%,#fff),linear-gradient(180deg,transparent 0,hsla(0,0%,100%,.9) 70%,#fff)}._mk_st_title{color:var(--vkui--color_text_primary_invariably,#000);display:-webkit-box;font-size:13px;font-weight:500;line-height:16px;line-clamp:var(--mk-titleLines,2);-webkit-line-clamp:var(--mk-titleLines,2);order:2}._mk_st_description,._mk_st_title{margin:0;-webkit-box-orient:vertical;overflow:hidden;position:relative;text-align:left}._mk_st_description{color:var(--vkui--color_text_secondary,#818c99);display:var(--mk-descDisplay,-webkit-box);font-size:12px;font-weight:400;line-height:14px;line-clamp:var(--mk-descLines,2);-webkit-line-clamp:var(--mk-descLines,2);order:5}._mk_st_ctaButton{align-items:center;background-color:var(--vkui--color_background_secondary_alpha,rgba(235,242,250,.99));border:none;border-radius:8px;color:var(--vkui--color_text_accent_themed,#3770b1);cursor:pointer;display:flex;font-size:14px;font-weight:500;justify-content:center;line-height:18px;margin-top:6px;opacity:1;padding:4px 12px;transition:background-color .2s ease;visibility:visible;width:100%;z-index:100}._mk_st_ctaButton:active,._mk_st_ctaButton:hover{opacity:1}._mk_st_closeBtnWrap{position:absolute;right:4px;top:4px;z-index:100}._mk_st_closeBtnWrap ._mk_st_closeBtnSmall{display:none}._mk_st_closeBtn{align-items:center;background-color:var(--vkui--color_overlay_primary,rgba(0,0,0,.4));border:none;border-radius:32px;color:var(--vkui--color_text_contrast,#fff);cursor:pointer;display:flex;height:20px;justify-content:center;transition:opacity .2s ease;width:20px}._mk_st_closeBtn:hover{opacity:.8}._mk_st_root[data-layout=h80]{flex-direction:row!important;height:80px!important;min-width:240px!important;overflow:visible!important;width:100%!important}._mk_st_root[data-layout=h80] ._mk_st_workArea{align-items:center!important;flex-direction:row!important;gap:12px!important}._mk_st_root[data-layout=h80] ._mk_st_workArea ._mk_disclaimer{background-color:var(--vkui--color_background_secondary_alpha,rgba(235,242,250,.99))}._mk_st_root[data-layout=h80] ._mk_st_workArea ._mk_disclaimer_place{bottom:0;left:0;position:absolute;z-index:60}._mk_st_root[data-layout=h80] ._mk_st_mediaWrap{flex-shrink:0!important;height:80px!important;width:80px!important}._mk_st_root[data-layout=h80] ._mk_st_media{height:80px!important;max-height:80px!important;min-height:80px!important}._mk_st_root[data-layout=h80] ._mk_st_infoWrap{align-items:center!important;display:flex!important;flex:1!important;flex-direction:row!important;gap:8px!important;min-width:0!important}._mk_st_root[data-layout=h80] ._mk_st_header{align-items:center;background:transparent;border-radius:0;gap:4px;justify-content:flex-start;padding:0;position:static;z-index:55}._mk_st_root[data-layout=h80] ._mk_st_header ._mk_st_logoDomainWrap{align-items:center;display:flex;gap:4px;z-index:100}._mk_st_root[data-layout=h80] ._mk_st_header ._mk_st_logoDomainWrap ._mk_st_domain{color:var(--vkui--color_text_tertiary,#99a2ad);font-size:12px;font-weight:400;line-height:14px}._mk_st_root[data-layout=h80] ._mk_st_header ._mk_st_logoDomainWrap ._mk_st_icon{border-radius:50%;color:var(--vkui--color_text_tertiary,#99a2ad);height:16px;width:16px}._mk_st_root[data-layout=h80] ._mk_st_headerLabel{color:var(--vkui--color_text_tertiary,#99a2ad)}._mk_st_root[data-layout=h80] ._mk_st_headerIcon{display:none}._mk_st_root[data-layout=h80] ._mk_st_title{font-size:15px!important;line-height:20px!important;weight:500!important;line-clamp:5!important;flex-shrink:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._mk_st_root[data-layout=h80] ._mk_st_description{font-size:13px!important;line-height:16px!important;weight:400!important;line-clamp:5!important;flex-shrink:1;line-height:1.2;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;hyphens:auto}._mk_st_root[data-layout=h80] ._mk_st_ctaButton{border-radius:10px!important;flex-shrink:0!important;font-size:14px!important;font-weight:500!important;height:28px!important;line-height:18px!important;margin-left:auto!important;min-width:80px!important;padding:4px 12px!important;width:auto!important}._mk_st_root[data-layout=h80] ._mk_st_infoArea{display:flex!important;flex:1!important;flex-direction:column!important;gap:4px!important;justify-content:center!important;min-width:0!important;overflow:hidden}._mk_st_root[data-layout=h80] ._mk_st_textArea{display:flex!important;flex:1!important;flex-direction:column!important;gap:0!important;justify-content:flex-start!important;max-height:100%;min-width:0!important;overflow-y:hidden;padding:4px 0;position:relative}._mk_st_root[data-layout=h80] ._mk_st_textArea ._mk_st_description,._mk_st_root[data-layout=h80] ._mk_st_textArea ._mk_st_header,._mk_st_root[data-layout=h80] ._mk_st_textArea ._mk_st_title{flex-shrink:0}._mk_st_root[data-layout=h80] ._mk_st_textArea::-webkit-scrollbar{background:transparent;width:0}._mk_st_root[data-layout=h80] ._mk_st_textArea:hover{overflow-y:auto}._mk_st_root[data-layout=h80] ._mk_st_textArea:hover::-webkit-scrollbar{width:4px}._mk_st_root[data-layout=h80] ._mk_st_textArea:hover::-webkit-scrollbar-track{background:transparent}._mk_st_root[data-layout=h80] ._mk_st_textArea:hover::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:2px}._mk_st_root[data-layout=h80] img._mk_st_media{object-fit:cover;object-position:center}._mk_st_root[data-layout=h80] img._mk_st_media[data-aspect-ratio="9:16"]{animation:imageScroll 16s linear infinite;height:80px;min-height:200%!important;object-fit:cover;object-position:top;overflow:hidden;transform-origin:top;width:100%}._mk_st_root[data-layout=h80] img._mk_st_media[data-aspect-ratio="9:16"]:hover{animation-duration:8s}._mk_st_root[data-layout=h80] ._mk_st_closeBtn{background-color:transparent}._mk_st_root[data-layout=h80] ._mk_st_closeBtn svg rect{fill:transparent}._mk_st_root[data-layout=h80] ._mk_st_closeBtn svg path{fill:var(--vkui--color_icon_secondary,#99a2ad)}._mk_st_root[data-layout=h80] ._mk_st_closeBtn:hover svg rect{fill:var(--vkui--color_transparent--hover,rgba(0,16,61,.04))}._mk_st_root[data-layout=h56]{flex-direction:row!important;height:100%!important;max-height:100%!important;min-height:56px!important;min-width:240px!important;overflow:visible!important;width:100%!important}._mk_st_root[data-layout=h56] ._mk_st_workArea{align-items:center;flex-direction:row}._mk_st_root[data-layout=h56] ._mk_st_workArea ._mk_disclaimer{background-color:var(--vkui--color_background_secondary_alpha,rgba(235,242,250,.99))}._mk_st_root[data-layout=h56] ._mk_st_workArea ._mk_disclaimer_place{bottom:0;left:0;position:absolute;z-index:60}._mk_st_root[data-layout=h56] ._mk_st_mediaWrap{flex-shrink:0;height:100%!important;max-height:100%!important;min-height:56px!important;min-height:56px;width:56px!important}._mk_st_root[data-layout=h56] ._mk_st_media{height:56px!important;max-height:56px!important;min-height:56px!important}._mk_st_root[data-layout=h56] ._mk_st_infoWrap{align-items:center;display:flex;flex:1;flex-direction:row;gap:6px;min-width:0;padding-right:16px}._mk_st_root[data-layout=h56] ._mk_st_header{align-items:center;background:transparent;border-radius:0;gap:4px;justify-content:flex-start;padding:0;position:static;z-index:55}._mk_st_root[data-layout=h56] ._mk_st_header ._mk_st_logoDomainWrap{align-items:center;display:flex;gap:4px;z-index:100}._mk_st_root[data-layout=h56] ._mk_st_header ._mk_st_logoDomainWrap ._mk_st_domain{color:var(--vkui--color_text_tertiary,#99a2ad);font-size:12px;font-weight:400;line-height:14px}._mk_st_root[data-layout=h56] ._mk_st_header ._mk_st_logoDomainWrap ._mk_st_icon{border-radius:50%;color:var(--vkui--color_text_tertiary,#99a2ad);height:16px;width:16px}._mk_st_root[data-layout=h56] ._mk_st_headerIcon,._mk_st_root[data-layout=h56] ._mk_st_headerLabel{color:var(--vkui--color_text_tertiary,#99a2ad)}._mk_st_root[data-layout=h56] ._mk_st_title{font-size:12px!important;line-height:14px!important;weight:500!important;line-clamp:2!important;display:block!important;flex-shrink:0!important;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important}._mk_st_root[data-layout=h56] ._mk_st_description{display:none}._mk_st_root[data-layout=h56] ._mk_st_ctaButton{border-radius:8px!important;flex-shrink:0;font-size:14px!important;font-weight:500!important;height:28px!important;line-height:18px!important;margin-left:auto;margin-right:8px;min-width:60px;padding:4px 12px!important;width:auto}._mk_st_root[data-layout=h56] ._mk_st_infoArea{display:flex;flex:1;flex-direction:column;gap:2px;justify-content:center;min-width:0;overflow:hidden}._mk_st_root[data-layout=h56] ._mk_st_textArea{display:flex;flex:1;flex-direction:column;gap:2px;justify-content:flex-start;min-width:0;overflow-y:hidden;padding:2px 0;position:relative}._mk_st_root[data-layout=h56] ._mk_st_textArea::-webkit-scrollbar{background:transparent;width:0}._mk_st_root[data-layout=h56] ._mk_st_textArea:hover{overflow-y:auto}._mk_st_root[data-layout=h56] ._mk_st_textArea:hover::-webkit-scrollbar{width:4px}._mk_st_root[data-layout=h56] ._mk_st_textArea:hover::-webkit-scrollbar-track{background:transparent}._mk_st_root[data-layout=h56] ._mk_st_textArea:hover::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:2px}._mk_st_root[data-layout=h56] ._mk_st_closeBtnSmall{background-color:transparent;display:flex;position:absolute;right:-10px;top:-10px}._mk_st_root[data-layout=h56] ._mk_st_closeBtnSmall svg rect{fill:transparent}._mk_st_root[data-layout=h56] ._mk_st_closeBtnSmall svg path{fill:var(--vkui--color_icon_secondary,#99a2ad)}._mk_st_root[data-layout=h56] ._mk_st_closeBtnSmall:hover svg rect{fill:var(--vkui--color_transparent--hover,rgba(0,16,61,.04))}._mk_st_root[data-layout=h56] ._mk_st_closeBtn{display:none}._mk_st_closeBtn,._mk_st_ctaButton,._mk_st_description,._mk_st_domain,._mk_st_domainArea,._mk_st_icon,._mk_st_infoWrap,._mk_st_media,._mk_st_mediaWrap,._mk_st_textArea,._mk_st_title,._mk_st_workArea{box-sizing:border-box;max-height:100%;max-width:100%;overflow:hidden}._mk_st_menu{align-items:center;border-radius:50%;cursor:pointer;display:flex;height:32px;justify-content:center;transition:background-color .2s ease;width:32px}._mk_st_menu:hover{background-color:rgba(0,16,61,.04)}._mk_st_proxyNode[adchoicesize~=L] ._mk_adChoices{border-radius:12px;height:calc(100% - 32px);margin:0 2px 2px 0;max-height:332px;max-width:320px;top:30px}._mk_st_proxyNode[adchoicesize~=L] ._mk_adChoices_menuExtender{display:block}._mk_st_proxyNode[adchoicesize~=L] ._mk_adChoicesWrap{max-width:330px;right:var(--mk-adchoiceRight,0);top:var(--mk-adchoiceTop,0)}@keyframes imageScroll{0%{transform:translateY(0)}50%{transform:translateY(calc(-100% + 80px))}to{transform:translateY(0)}}')},dispatcher:{parse:function(e){go.info("Run parse:",e);try{if(!xr(e))return Gr.error(589);if("motion-ads"===e.type)return e;var t=void 0;if(!xr(t=this.parsers)||!Sr(t=t[e.type]))return;for(var i=0,r=t.length;i<r;i++){var o=Pr(t[i])?t[i].call(this,e.data):0;if(xr(o))return o}}catch(e){go.error("Parse error:",e)}},request:function(e){return yr(this,void 0,void 0,(function(){var t,i,r,o;return wr(this,(function(n){go.info("Run request:",e);try{if(!xr(e))throw Gr.error(588);if(t=e.endpoint||(null===(o=this.store)||void 0===o?void 0:o.mainUrl),!Er(i=e.url||t+(t.endsWith("/")?"":"/")+e.slot+(e.params?"?"+e.params:"")))throw Gr.error(567);return[2,fetch(i,{headers:{"Content-Type":"text/plain"},credentials:"include"}).then((function(e){if(e.ok)return r=e.headers.get("Content-Type").toLowerCase().includes("xml")?"xml":"json",e.text();throw Gr.error(568)})).then((function(e){if(!e.trim())throw Gr.error(569);if("xml"===r)return{type:"xml",data:e};try{return{type:"visit",data:JSON.parse(e)}}catch(e){go.error("Request a-error:",e)}return{type:"text",data:e}})).catch((function(e){throw go.error("Request b-error:",e),e}))]}catch(e){throw go.error("Request z-error:",e),e}return[2]}))}))}},parsers:{xml:[function(e,t){void 0===t&&(t="preroll");var i=(new DOMParser).parseFromString(e,"text/xml"),r={};i.documentElement.childNodes.forEach((function(e){"tagName"in e&&e.tagName&&(r[e.tagName]=1)}));var o=Object.keys(r).length;if(1!==o&&!r.Error)throw Gr.error(o?710:569);if(r.Error){var n=function(e){var t=[];if(!(e instanceof NodeList))return t;e.forEach((function(e){var i=e.tagName;if(Er(i)&&"#cdata-section"===e.firstChild.nodeName){var r=Wl[i],o=Tr(xr(r)?r:{type:r||"?"});o.url=e.firstChild.wholeText,t.push(o)}}))}(i.documentElement.childNodes);throw Sr(n)&&Ao(n[0].url),Gr.error(1===o?569:710)}return function(e){var t,i,r,o=null===(i=null===(t=e.InLine)||void 0===t?void 0:t.Creatives)||void 0===i?void 0:i.Creative;if(!Array.isArray(o))return Er(null===(r=e.Wrapper)||void 0===r?void 0:r.VASTAdTagURI)?[{type:"additionalData",url:e.Wrapper.VASTAdTagURI}]:[];var n=o.filter((function(e){return xr(e)&&xr(e.Linear)})),a=o.filter((function(e){return xr(e)&&xr(e.CompanionAds)})),s=n.map((function(t){return function(e,t){var i,r,o,n,a;if(t.Linear){var s={id:t.id,type:"motion-ads",video:{duration:Zl(t.Linear.Duration)},trackingLink:null===(r=null===(i=t.Linear.VideoClicks)||void 0===i?void 0:i.ClickThrough)||void 0===r?void 0:r.text,urlToNavigateOnClick:null===(n=null===(o=t.Linear.VideoClicks)||void 0===o?void 0:o.ClickThrough)||void 0===n?void 0:n.text,statistics:Gl(e,t),params:xr(a=t.Linear.AdParameters)?a.text:Er(a=t.Linear.AdParameters)?a:void 0};return function(e,t){var i,r,o=null===(r=null===(i=e.Linear)||void 0===i?void 0:i.MediaFiles)||void 0===r?void 0:r.MediaFile;if(Array.isArray(o)&&o.length){var n=o.find((function(e){return"VPAID"===e.apiFramework}));n?t.vpaid={src:n.text}:t.video.mediafiles=o.map((function(e){return{height:e.height,src:e.text,width:e.width}}))}}(t,s),s}}(e,t)}));return 1===s.length&&1===a.length&&function(e,t){var i,r=t.Companion;Sr(r)&&(r.forEach((function(t){Sr(t.StaticResource)&&(e.resources=t.StaticResource.map((function(e){var i={type:e.creativeType,src:e.text};return t.width&&(i.width=t.width),t.height&&(i.height=t.height),i})))})),e.resources&&(e.image=Tr({type:"static",src:null===(i=e.resources.filter((function(e){return xr(e)&&Er(e.src)&&Er(e.type)&&e.src.startsWith("http")&&e.type.includes("image")})).sort((function(e,t){return(t.width||0)-(e.width||0)}))[0])||void 0===i?void 0:i.src})))}(s[0],a[0].CompanionAds),s}(function(e){var t=e.documentElement.getElementsByTagName("Ad");if(!t||1!==t.length)throw Gr.error(101);return Ul(t[0],3)}(i))}],vpaid:[Kl],json:[Kl,function(e){if(xr(e)&&"motion-ads"===e.type)return e;if(xr(e)&&["video","html","additionalData","video-motion","application/javascript"].includes(e.type)){var t=Or();return ql.copy.forEach((function(i){return t[i]=e[i]})),ql.map.forEach((function(i){return t[i[1]]=e[i[0]]})),Er(e.iconUrl)&&(t.icon={type:"static",url:e.iconUrl}),"dark"===e.theme&&(t.isDarkTheme=!0),Er(e.specialDisclaimer)?t.disclaimer_id=Xl[e.specialDisclaimer]:xr(e.specialDisclaimer)&&(t.disclaimer_id=e.specialDisclaimer.id||Xl[e.specialDisclaimer.type],Er(e.specialDisclaimer.text)&&(t.disclaimer=e.specialDisclaimer.text)),t}}],visit:[function(e){var t,i=this;if(xr(e)&&xr(e.sections)&&Object.keys(e.sections).length){var r,o,n=0;if(Sr(r=null===(t=this.parsers)||void 0===t?void 0:t.json)){var a=Tr({sections:{},settings:e.settings||{}}),s=function(t){var s=e.sections[t];if(Sr(s)){var l=a.sections[t]=[];s.forEach((function(e){for(o=0;o<r.length;o++){var t=Pr(r[o])?r[o].call(i,e):0;if(t){l.push(t),n++;break}}}))}};for(var l in e.sections)s(l);return n?a:void 0}}}],aloneToVisit:function(e,t){var i;return void 0===t&&(t="preroll"),{sections:(i={},i[t]=[],i)}}},producers:{_default:dd},creatives:nd});go.log("MotionKit ".concat("VKGames"," npm v. ").concat("1.0.381",":").concat("11705:0"," engine is ready...")),Object.setPrototypeOf(Nl.prototype,Ir),Object.setPrototypeOf(Sl.prototype,Ir),Object.setPrototypeOf(Wn.prototype,Ir),Object.setPrototypeOf(Gr.prototype,Ir),Object.setPrototypeOf(Yr.prototype,Ir),Object.setPrototypeOf(rn.prototype,Ir);var ud={create:function(e,t){var i;if(Pr(t=null===(i=window.MotionKitSDK)||void 0===i?void 0:i.create)||(t=Bl))return t(e,td)},init:function(e){if((td=Tr(e)).dispatcher=Dl,td.asmConfig=cd,go.log("Init, cfg:",td),td.noHandleQueue||setTimeout((function(){return function(e){var t=window._MotionKit;i._dG("_MotionKit",[]),Sr(t)&&t.forEach((function(t,i){Pr(t)?t():xr(t)&&(t.initMode="buffer",setTimeout((function(){return function(e,t){var i=window.MotionKitSDK;xr(i)&&Pr(i.create)?i.create(e):Pr(window.MotionKit)?window.MotionKit(e):new Sl(e,t)}(t,e)}),15*i))}))}(td)}),15),td.noWindowEntry){if(xr(Dl)&&Pr(Dl.init))return Dl.init(td)}else if(xr(window))return function(e){Ll=Ll||e;try{window.MotionKit&&!Pr(window.MotionKit)&&delete window.MotionKit}catch(e){}Lo(window,"MotionKit")||Object.defineProperties(window,{MotionKit:{value:function(e,t,i){return Pr(e)?e():Bl(e,i||Ll)},enumerable:!1,writable:!1,configurable:!1}});try{!window.MotionKitSDK||xr(window.MotionKitSDK)&&Pr(window.MotionKitSDK.create)||delete window.MotionKitSDK}catch(e){}if(!Lo(window,"MotionKitSDK")){var t,i={create:function(e,t){return go.debug("MotionKitSDK create:",e,t),Bl(e,t||Ll)},init:function(e){return(Ll=Tr(e)).dispatcher=Dl,Dl.init(Ll)},getVersion:function(){return"MotionKit ".concat("VKGames"," ver. ").concat("1.0.381",":").concat("11705:0")}},r=Object.freeze(Gr.error(566));Il.forEach((function(e){return i[e]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Pr(t=Dl[e])?t.apply(Dl,i):Tl.includes(e)?Promise.reject(r):r}})),Object.freeze(i),Object.defineProperties(window,{MotionKitSDK:{value:i,enumerable:!1,writable:!1,configurable:!1}})}}(td),window.MotionKitSDK.init(td);return Promise.reject(Gr.error(577))},getVersion:function(){return"MotionKit ".concat("VKGames"," npm v.").concat("1.0.381",":").concat("11705:0")}},hd=Object.freeze(Gr.error(566));xr(rd=null==cd?void 0:cd.dispatcher)&&window.MotionKitSDK&&Object.entries(rd).forEach((function(e){var t=e[0],i=e[1];Pr(i)&&(ud[t]=i.bind(window.MotionKitSDK))})),Il.forEach((function(e){Pr(ud[e])||(ud[e]=function(){for(var t,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return Pr(id=null===(t=window.MotionKitSDK)||void 0===t?void 0:t[e])?id.apply(window.MotionKitSDK,i):Tl.includes(e)?Promise.reject(hd):hd})})),xr(cd)&&cd.autoInit&&(go.log("Auto init assembly:",cd),(Lo(window,"MotionKitSDK")?window.MotionKitSDK:ud).init({dispatcher:Dl,asmConfig:cd}).then((function(e){return go.log("Auto init success:",e),e})).catch((function(e){go.error("Auto init error:",e)})));const pd=ud;var md=fr.A,bd="InterstitialBackground-module_background__Al-e0",fd="InterstitialBackground-module_mobile__Op7AE";(0,T.A)(".InterstitialBackground-module_background__Al-e0{background-color:var(--vkui--color_avatar_overlay);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;left:0;position:absolute;top:0;width:100%;z-index:1;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;text-align:left;text-decoration:none}.InterstitialBackground-module_mobile__Op7AE{background-color:var(--vkui--color_background_content)}");const vd=(0,s.forwardRef)((({children:e},t)=>{const{viewWidth:i}=(0,o.wmp)(),n=i<=o.Gcd.MOBILE;return(0,r.Y)("div",{ref:t,className:w(bd,n&&fd),children:e})}));vd.displayName="InterstitialBackground";var gd="InterstitialMotionAd-module_banner__6-8U8",_d="InterstitialMotionAd-module_bannerFullscreen__-svJj",yd="InterstitialMotionAd-module_bannerCenteredScroll__roF9M",wd="InterstitialMotionAd-module_inner__J8Zpb";(0,T.A)(".InterstitialMotionAd-module_banner__6-8U8{background-color:var(--vkui--color_background_content);border-radius:var(--vkui--size_border_radius_paper--regular);bottom:0;height:320px;margin:auto;max-height:100%;max-width:100%;overflow:hidden;position:absolute;top:0;width:620px}.InterstitialMotionAd-module_banner__6-8U8.InterstitialMotionAd-module_bannerFullscreen__-svJj{border-radius:0;height:100%;left:0;top:0;width:100%}.InterstitialMotionAd-module_bannerCenteredScroll__roF9M{position:-webkit-sticky;position:sticky;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.InterstitialMotionAd-module_inner__J8Zpb{height:100%;width:100%}");const kd="vkGames_interstitial_lead_form",xd=({motionAdParams:e,onClose:t})=>{const i={adFormat:"interstitial",isMotion:!0,isInterstitialMulti:!1},n=e.data,{isDesktop:a}=(0,o.wmp)(),l=(0,s.useRef)(null),d=(0,s.useRef)(null),c=(0,s.useRef)(!1),u=(0,s.useRef)(!1),[h,p]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{c.current=!1,u.current=!1,e.onStatEvent({...i,stage:R,bannerId:String(e.data.id)})}),[e]),(0,s.useEffect)((()=>{(async()=>{const r=l.current;if(!r)return;const o={};n.creativeType===kd&&(o.appApi={showModal:(t,i)=>{e.showMiniAppModal({hash:t,appId:ve},(()=>{i()}))}});try{await md.init(o);const a={container:r,banner:n,onClicked:()=>{c.current||(c.current=!0,e.onClick())},onClosed:t,onClosedByUser:t,onReady:()=>{u.current||(u.current=!0,e.onImpression()),e.onStatEvent({...i,stage:z,bannerId:String(e.data.id)})},onShowed:()=>{e.onStatEvent({...i,stage:V,bannerId:String(e.data.id)})},onError:t=>{e.onStatEvent({...i,stage:H,bannerId:String(e.data.id),error:String(t.code)})}};md.create(a)}catch(r){throw(0,It.Fk)(r),e.onStatEvent({...i,stage:W,bannerId:String(e.data.id),error:String(r)}),t(),r}})()}),[]),(0,s.useLayoutEffect)((()=>{const e=d.current;e&&Yt(e)&&p(!0)}),[]),(0,r.Y)(vd,{ref:d,children:(0,r.Y)("div",{className:w(gd,!a&&_d,h&&yd),children:(0,r.Y)("div",{className:wd,children:(0,r.Y)("div",{ref:l})})})})},Ad=e=>(0,r.Y)(Te.u,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"skip_forward_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,r.Y)("path",{fill:"currentColor",d:"M19 12.5c-.313-.193-.712-.402-1.212-.676L10.74 7.963c-1.228-.673-1.843-1.01-2.346-.958-.44.046-.838.268-1.098.611C7 8.01 7 8.688 7 10.046v7.909c0 1.357 0 2.036.297 2.429.26.343.658.565 1.098.61.503.053 1.118-.284 2.346-.957l7.047-3.861c.5-.274.9-.483 1.212-.676v4a1 1 0 1 0 2 0v-11a1 1 0 1 0-2 0z"})}),Cd=(0,s.forwardRef)((({className:e,onClick:t,icon:i,size:n},a)=>{const{getLang:s}=ze(),l=Pt[i];return(0,r.Y)("div",{className:e,onClick:t,ref:a,"data-testid":"adsBannerAdChoicesButton",children:(0,r.Y)(o.K0,{className:w(wt.button,"l"===n&&wt.buttonLarge),"aria-label":s("apps_ad_options"),children:(0,r.Y)(l,{className:wt.icon})})})}));Cd.displayName="AdChoiceButton";var Pd="InterstitialMulti-module_root__rplSV",Sd="InterstitialMulti-module_rootMulti__iaOoi",Md="InterstitialMulti-module_rootMobile__7aeHX",Id="InterstitialMulti-module_rootMobileLandscape__dfhGS",Td="InterstitialMulti-module_rootSticky__KqDNw",Od="InterstitialMulti-module_banner__g63zY",jd="InterstitialMulti-module_bannerMulti__KRFol",Ld="InterstitialMulti-module_bannerMobileLandscape__E-Wxa",Ed="InterstitialMulti-module_bannerVertical__Hu0wV",Nd="InterstitialMulti-module_progress__lUZs1",Dd="InterstitialMulti-module_progressItem__gHAjy",Bd="InterstitialMulti-module_skip__TIkSL",Rd="InterstitialMulti-module_closeTimer__wlu1v",zd="InterstitialMulti-module_icon__0q9h8",Vd="InterstitialMulti-module_adChoiceSmall__mJNQY",Hd="InterstitialMulti-module_divider__dfT-o";(0,T.A)(".InterstitialMulti-module_root__rplSV{background-color:var(--vkui--color_background_content);border-radius:var(--vkui--size_border_radius_paper--regular);bottom:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin:auto;max-height:100%;max-width:100%;overflow:hidden;position:absolute;top:0;width:600px}.InterstitialMulti-module_rootMulti__iaOoi{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.InterstitialMulti-module_rootMobile__7aeHX{border-radius:0;height:100%}.InterstitialMulti-module_rootMobileLandscape__dfhGS{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column}.InterstitialMulti-module_rootSticky__KqDNw{position:-webkit-sticky;position:sticky;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.InterstitialMulti-module_root__rplSV.InterstitialMulti-module_rootSticky__KqDNw{bottom:unset;margin:unset}.InterstitialMulti-module_banner__g63zY{border-radius:inherit;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;overflow:hidden;z-index:1}.InterstitialMulti-module_bannerMulti__KRFol{padding-left:var(--vkui--size_base_padding_horizontal--regular);padding-right:var(--vkui--size_base_padding_horizontal--regular);padding-top:44px}.InterstitialMulti-module_bannerMobileLandscape__E-Wxa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;padding:8px 44px 8px 8px}.InterstitialMulti-module_bannerMulti__KRFol.InterstitialMulti-module_bannerVertical__Hu0wV{padding:0}.InterstitialMulti-module_progress__lUZs1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;gap:4px;padding:var(--vkui--size_base_padding_vertical--regular) var(--vkui--size_base_padding_horizontal--regular) 0}.InterstitialMulti-module_progressItem__gHAjy{width:50%}.InterstitialMulti-module_skip__TIkSL{position:absolute;right:8px;top:18px;z-index:2}.InterstitialMulti-module_closeTimer__wlu1v{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:44px;position:absolute;right:0;top:0;width:44px;z-index:2;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center}.InterstitialMulti-module_icon__0q9h8{color:var(--vkui--color_icon_medium)}.InterstitialMulti-module_adChoiceSmall__mJNQY{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;background-color:var(--vkui--color_overlay_primary);border-radius:50%;color:var(--vkui--color_icon_contrast);height:20px;justify-content:center;position:absolute;right:4px;top:4px;width:20px;z-index:3}.InterstitialMulti-module_divider__dfT-o{width:8px}");const Wd=({fixedValue:e,onHalfProgress:t,maxShowTimeSeconds:i,onCompleted:n,isPaused:a})=>{const[l,d]=(0,s.useState)(0);return(0,s.useEffect)((()=>{if(void 0===e){const e=function(e,t,i,r,o){let n,a=!1,s=!1,l=0;return function d(){requestAnimationFrame((c=>{if(n=n??c,"hidden"===document.visibilityState||o())return n=c,void d();l+=c-n,n=c;const u=l/(1e3*e),h=Math.round(Math.min(100*u,100));t(h),h>50&&!s&&(s=!0,i()),h>=100&&!a&&r(),h<100&&!a&&d()}))}(),()=>{a=!0}}(i,d,t,n,a);return()=>e()}}),[e]),(0,r.Y)(o.kej,{value:e??l,className:Dd})},Fd=0,Ud=.5,Yd=1,Gd=1.5,Zd=2,Xd=({interstitialMulti:e,onClose:t,leadAdsSupport:i})=>{const n=Qt(),a=(0,s.useRef)(null),[l,d]=(0,s.useState)(Fd),[c,u]=(0,s.useState)(!1),h=(0,s.useRef)(!1),p=e[0],m=e[1],b=(0,s.useRef)(null),f=(0,s.useRef)(null),{viewWidth:v}=(0,o.wmp)(),g=v<=o.Gcd.SMALL_TABLET,[_,y]=(0,s.useState)(null),k=(0,r.Y)(Cd,{onClick:e=>{e.stopPropagation(),e.preventDefault(),y((e=>null===e?{ref:b,options:Vt(p.data.adChoices?.options??[],(()=>{l===Fd||l===Ud?d(Yd):t()}))}:null))},ref:b,className:w(g&&Vd),icon:g?"more":"info"}),x=(0,r.Y)(Cd,{onClick:e=>{e.stopPropagation(),e.preventDefault(),y((e=>null===e?{ref:f,options:Vt(m.data.adChoices?.options??[],(()=>{l===Yd||l===Gd?d(Zd):t()}))}:null))},ref:f,className:w(g&&Vd),icon:g?"more":"info"}),A=()=>h.current,C={leadAdsSupport:i,mode:"multi",onClose:()=>{l===Zd&&t()},onShowLeadads:()=>{h.current=!0},onHideLeadads:()=>{h.current=!1}},P=()=>{d((e=>e===Ud?Yd:Zd))};return(0,s.useLayoutEffect)((()=>{const e=a.current;e&&e.clientHeight>1.5*document.documentElement.clientHeight&&u(!0)}),[]),(0,r.Y)(vd,{ref:a,children:(0,r.FD)("div",{className:w(Pd,c&&Td,g&&Md,g&&n&&Id,l===Zd&&!g&&Sd),children:[l<Zd&&(0,r.FD)("div",{className:Nd,children:[(0,r.Y)(Wd,{fixedValue:l<Yd?void 0:100,maxShowTimeSeconds:10,onHalfProgress:()=>{d(Ud)},onCompleted:()=>{d(Yd)},isPaused:A}),(0,r.Y)(Wd,{fixedValue:l<Yd?0:void 0,maxShowTimeSeconds:10,onHalfProgress:()=>{d(Gd)},onCompleted:()=>{d(Zd)},isPaused:A})]}),l===Ud&&(0,r.Y)(o.K0,{className:Bd,onClick:P,children:(0,r.Y)(Ad,{className:zd})}),l===Gd&&(0,r.Y)(o.K0,{className:Bd,onClick:P,children:(0,r.Y)(Ad,{className:zd})}),l===Zd&&(0,r.Y)("div",{className:Rd,children:(0,r.Y)(ji,{onClose:e=>{e.stopPropagation(),t()},timerPaused:h})}),(0,r.FD)("div",{className:w(Od,l===Zd&&jd,!g&&Ed,l===Zd&&g&&n&&Ld),children:[l<Yd&&(0,r.Y)(mr,{...C,interstitialAdParams:p}),l<Zd&&l>=Yd&&(0,r.Y)(mr,{...C,interstitialAdParams:m}),l===Zd&&(0,r.FD)(r.FK,{children:[(0,r.Y)(mr,{...C,interstitialAdParams:p,mode:g?"small":"multi",imageSize:200,skipSendStats:!0,adChoice:k}),g&&n&&(0,r.Y)("div",{className:Hd}),(0,r.Y)(mr,{...C,interstitialAdParams:m,mode:g?"small":"multi",imageSize:200,skipSendStats:!0,adChoice:x})]})]}),_&&(0,r.Y)(kt,{toggleRef:_.ref,options:_.options,onClose:()=>{y(null)}})]})})},Qd=({interstitialMulti:e,onClose:t,leadAdsSupport:i})=>{const n=(0,s.useRef)(null),a=(0,s.useRef)(null),[l,d]=(0,s.useState)(!1),c=Qt(),{viewWidth:u}=(0,o.wmp)(),h=u<=o.Gcd.SMALL_TABLET,p=(0,s.useRef)(0),m=(0,s.useRef)(0),b=({id:t,event:i})=>{const r=void 0!==t?e.find((({data:e})=>e.id===t)):void 0;switch(i){case"Ready":return void(p.current<2&&(r?.onImpression(),p.current+=1));case"Clicked":return void(m.current<2&&(r?.onClick(),m.current+=1))}};return(0,s.useEffect)((()=>{(async()=>{const r=a.current;if(!r)return;const o={container:r,banners:e.map((({data:e})=>e)),maxAtMoment:2,asmName:"VKGames",onClicked:b,onClosed:t,onReady:b,onError:({code:e})=>{(0,It.Fk)("InterstitialMultiMotion error",e)}},n={},s=e.some((({data:e})=>e.creativeType===kd));s&&i&&(n.appApi={showModal:(t,i)=>{e[0].showMiniAppModal({hash:t,appId:ve},(()=>{i()}))}});try{await md.init(n);const e=await md.getProducer(o);await e.play()}catch(r){throw(0,It.Fk)(r),t(),r}})()}),[]),(0,s.useLayoutEffect)((()=>{const e=n.current;e&&Yt(e)&&d(!0)}),[]),(0,r.Y)(vd,{ref:n,children:(0,r.Y)("div",{className:w(Pd,l&&Td,h&&Md,h&&c&&Id),children:(0,r.Y)("div",{ref:a})})})},Kd=({bannerAdParams:e,onAdReady:t,onAdShown:i,bannerData:n,onUserClick:a,onUserClose:l,onUpdateDimensions:d,leadAdsSupport:c,onShowLeadads:u,onHideLeadads:h})=>{const p=(0,s.useRef)(null),m=(0,s.useRef)(null),b=n.bannerData,f=(0,s.useRef)(!1),v=(0,s.useRef)(!1),{isDesktop:g}=(0,o.wmp)(),_=Qt(),y=()=>({banner_height:p?.current?.clientHeight??0,banner_width:p?.current?.clientWidth??0});(0,s.useEffect)((()=>{(async()=>{const e=m.current;if(!e)return;const r={};c&&"vkGames_sticky_lead_form"===b.creativeType&&(r.appApi={showModal:(e,t)=>{u(),n.showMiniAppModal({hash:e,appId:ve},(()=>{h(),t()}))}});try{await md.init(r);const o={container:e,banner:{...b},onClicked:()=>{f.current||(f.current=!0,a?.())},onClosed:()=>{l?.()},onClosedByUser:()=>{l?.()},onReady:()=>{v.current||(v.current=!0,t?.(y()))},onShowed:()=>{d?.(y()),i?.()},onError:e=>{(0,It.Fk)("MotionAdBanner",e)}};md.create(o)}catch(e){throw(0,It.Fk)(e),l(),e}})()}),[b,d,u,h,l]);const{containerClass:w,containerHeight:k}=ni(e,{isDesktop:g,isLandscape:_,bannerAnimationEnabled:!0});return(0,r.FD)("div",{className:w,style:{height:k},ref:p,children:[(0,r.Y)("div",{ref:m}),";"]})};function qd(e){return e.type===ge||"ShoppableAds"===e.creativeType}var Jd="RewardMotionAd-module_container__lZdhA",$d="RewardMotionAd-module_wide__TYLlZ",ec="RewardMotionAd-module_fullscreen__LVWxQ";(0,T.A)(".RewardMotionAd-module_container__lZdhA{background-color:var(--vkui--color_background_content);border-radius:12px;bottom:0;height:370px;margin:auto;max-height:100%;max-width:100%;top:0;width:626px}.RewardMotionAd-module_wide__TYLlZ{height:370px;width:829px}.RewardMotionAd-module_fullscreen__LVWxQ{--mkext-bRadius:0;border-radius:0;height:100%;width:100%}");const tc=({rewardAdParams:e})=>{const t={adFormat:"reward",isMotion:!0,isInterstitialMulti:!1},i=(0,s.useRef)(null),n=(0,s.useRef)(null),{isDesktop:l}=(0,o.wmp)(),[d,c]=(0,s.useState)(!1);return(0,s.useLayoutEffect)((()=>{c(rc(i,l));const e=a((()=>{c(rc(i,l))}),100);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[l]),(0,s.useEffect)((()=>{e.onStatEvent({...t,stage:R,bannerId:String(e.data.id)});const i=n.current;if(i)try{const t={};"vkGames_rewards_lead_form"===e.data.creativeType&&(t.appApi={showModal:(t,i)=>{e.showMiniAppModal({hash:t,appId:ve},(()=>{i()}))}}),md.init(t);const r=function(e,t){let i=!1,r=!1,o=!1;const n={adFormat:"reward",isMotion:!0,isInterstitialMulti:!1};return{container:e,allowClose:!1,allowCloseDelay:0,banner:{...t.data,creativeType:"vkGames_rewards"},onReady:()=>{t.onStatEvent({...n,stage:z,bannerId:String(t.data.id)})},onShowed:()=>{t.onStatEvent({...n,stage:V,bannerId:String(t.data.id)})},onError:e=>{t.onStatEvent({...n,stage:H,bannerId:String(t.data.id),error:String(e.code)})},onClicked:()=>{i||(i=!0,t.onClick())},onCompleted:()=>{r||(r=!0,t.onDestroy(o,!1))},onClosed:()=>{r||(r=!0,t.onDestroy(o,!1))},onClosedByUser:()=>{r||(r=!0,t.onDestroy(o,!0))},onTimeRemained:e=>{1===e.progress&&(o=!0)}}}(i,e);md.create(r)}catch(i){throw(0,It.Fk)(i),e.onStatEvent({...t,stage:W,bannerId:String(e.data.id),error:String(i)}),e.onDestroy(!1,!1),i}}),[e]),(0,r.Y)(vd,{ref:i,children:(0,r.Y)("div",{className:w(Jd,d&&ec,!!e.data.title&&$d),children:(0,r.Y)("div",{ref:n})})})},ic=900;function rc(e,t){const i=e.current;return i?!t||i.clientWidth<=ic:!t}var oc=i(365815),nc=i(48265),ac=i(62495);class sc{static getDefaultEventParams(){return{selectedSlot:0,alreadyUsedSlots:[],skippedReasons:[]}}getUpdateTs(){return this.lastUpdateTimestamp}saveUpdateTs(){this.lastUpdateTimestamp=Date.now()}setInProgress(e){this.updateInProgress=e}getInProgress(){return this.updateInProgress}getAbortController(){return this.abortController}setAbortController(e){this.abortController=e}setAdsEvent(e){this.adsEventParams=e}getAdsEventParams(){return this.adsEventParams}constructor(){this.lastUpdateTimestamp=0,this.updateInProgress=!1,this.abortController=new AbortController,this.adsEventParams=sc.getDefaultEventParams()}}const lc=async(e,t,i)=>new Promise(((r,o)=>{const n=document.createElement("script");let a;function s(){n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(d(),r())}function l(){d(),o()}function d(){clearTimeout(a),n.removeEventListener("load",s),n.removeEventListener("readystatechange",s),n.removeEventListener("error",l)}n.addEventListener("load",s),n.addEventListener("readystatechange",s),n.addEventListener("error",l),i?.nonce&&(n.nonce=i.nonce),i?.crossOrigin&&(n.crossOrigin=i.crossOrigin),i?.async&&(n.async=i.async),n.src=e,document.head.appendChild(n),t&&(a=window.setTimeout(l,t))})),dc=2147483647,cc=[nc.IT.TrackEvent];function uc(e){return"object"==typeof e&&null!=e}function hc(e){return"[object Object]"===Object.prototype.toString.call(e)}function pc(e,t){if(e===t)return!0;if(uc(e)&&uc(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!pc(e[i],t[i]))return!1;return!0}}function mc(e){const t=Object.keys(e).map((t=>{let i=e[t];return t=encodeURIComponent(t||""),i=encodeURIComponent(i||""),`${t}=${i}`}));return t.join("&")}function bc(e,t){const i=e.split(",").map((e=>e.trim()));return i.every((e=>!e||t.includes(e)))}function fc(e){return uc(e)&&"dryRun"in e&&e.dryRun}function vc(e){return e.type.endsWith("Failed")}const gc=(0,s.createContext)({loadBannerAd:async()=>null,getBannerAdAutoUpdateInterval:()=>0,handleBannerAd:async()=>({banner_width:0,banner_height:0}),hideBannerAd:()=>!1,getOpenedBannerAd:()=>null,handleBannerAdUserClose:()=>null,handleBannerAdClick:()=>null,preloadInterstitialAds:async()=>!0,preloadRewardAds:async()=>!0,showInterstitialAds:async()=>!0,hideInterstitialAds:()=>null,handleInterstitialAdsClick:()=>null,showRewardAds:async()=>!0,getBannerAdAvailability:()=>E});class _c extends s.Component{componentDidUpdate(e,t){const i=t.rewardAd?.admanContainer,r=this.state.rewardAd?.admanContainer,o=this.rewardAdsContainerRef.current;o&&r!==i&&(i&&o.contains(i.getPlayer)&&o?.removeChild(i.getPlayer),r&&o?.appendChild(r.getPlayer)),this.setIframeStyles()}async componentDidMount(){this.setIframeStyles(),this.context.registerAdsController(this.getAdsController),this.adsConfig=await this.getCurrentAdsConfig().catch((()=>{}))}get miniAppId(){return this.hostController.getMiniAppInfo().app.id}render(){const e={getBannerAdAutoUpdateInterval:this.getBannerAdAutoUpdateInterval,handleBannerAdUserClose:this.handleBannerAdUserClose,handleBannerAdClick:this.handleBannerAdClick,...this.getAdsController()},{bannerAd:t,bannerAdParams:i,onBannerAdReady:o,onBannerAdShown:n,interstitialAd:a,interstitialMulti:s,motionRewardAd:l}=this.state;let d=null,c=null;a&&(Ft(a)?d=a:c=a);let u=null,h=null;t&&(!function(e){return e.bannerData.type===ge}(t)?h=t:u=t);let p=null,m=null;if(s){const[e,t]=s;Ft(e)&&Ft(t)&&(m=[e,t]),Ft(e)||Ft(t)||(p=[e,t])}return(0,r.Y)(gc.Provider,{value:e,children:(0,r.FD)(r.FK,{children:[this.props.children,h&&i&&o&&n&&(0,r.Y)(oi,{bannerData:h,bannerAdParams:i,onUserClose:this.handleBannerAdUserClose,onUserClick:this.handleBannerAdClick,onAdReady:o,onAdShown:n,bannerAnimationEnabled:this.getBannerAdAvailability().animated,onUpdateDimensions:this.handleBannerUpdateDimensions,onShowLeadads:this.handleBannerLeadFormShow,onHideLeadads:this.handleBannerLeadFormHide,leadAdsSupport:this.getLeadAdsModalSupport()},h.bannerData.bannerID),u&&i&&o&&n&&(0,r.Y)(Kd,{bannerData:u,bannerAdParams:i,onUserClose:this.handleBannerAdUserClose,onUserClick:this.handleBannerAdClick,onAdReady:o,onAdShown:n,onUpdateDimensions:this.handleBannerUpdateDimensions,onShowLeadads:this.handleBannerLeadFormShow,onHideLeadads:this.handleBannerLeadFormHide,leadAdsSupport:this.getLeadAdsModalSupport()},u.bannerData.id),c&&(0,r.Y)(mr,{interstitialAdParams:c,mode:"interstitial",onClose:this.hideInterstitialAds,leadAdsSupport:this.getLeadAdsModalSupport()}),p&&(0,r.Y)(Xd,{interstitialMulti:p,onClose:this.hideInterstitialAds,leadAdsSupport:this.getLeadAdsModalSupport()}),m&&(0,r.Y)(Qd,{interstitialMulti:m,onClose:this.hideInterstitialAds,leadAdsSupport:this.getLeadAdsModalSupport()}),d&&(0,r.Y)(xd,{motionAdParams:d,onClose:this.hideInterstitialAds}),l&&(0,r.Y)(tc,{rewardAdParams:l}),(0,r.Y)("div",{ref:this.rewardAdsContainerRef})]})})}get hostController(){if(!this.context.host)throw(0,It.Fk)("MiniApp is not initialized"),new Error("MiniApp is not initialized");return this.context.host}get adEventStatCollector(){return this.context.stats?.adEventStatCollector}get adsDevNullStatCollector(){if(this.hostController.featureEnabled(ac.o.WriteDebugStats))return this.context.stats?.adsDevNullStatCollector}get disableGetAdsConfigFromApi(){return Boolean(this.hostController.featureToggles.disableGetAdsConfigFromApi)}async fetchAdsConfig(){if(this.disableGetAdsConfigFromApi||!this.context.props?.userId)return;const{getHostToken:e,getMiniAppInfo:t,requestApiMethod:i}=this.hostController,{app:{id:r},apiVersion:o}=t();try{const t=await e(),n=await i("apps.getAppAdvertisementConfig",{app_id:r,v:o,access_token:t});if(!n?.response)throw(0,It.Fk)("Fetch Ads config error"),new Error("Fetch Ads config error");const{sign_timestamp:a,id:s,sign:l,rewarded:d,banner:c,interstitial:u,test_mode:h}=n?.response,p={site_id:s,sign:l,sign_timestamp:a,rewarded:d,banner:c,interstitial:u,user_id:this.context.props?.userId,lang:this.context.props?.locale,test_mode:h};if(this.checkAdsConfig(p))return p}catch(e){throw(0,It.Fk)(e),e}}getAdsConfigFromProps(){if(!this.context.props?.adsConfig)return;const{adsConfig:e,userId:t,locale:i}=this.context.props,r={...e,user_id:t||e.user_id,lang:i||e.lang};return this.checkAdsConfig(r)?r:void 0}async getAdsConfigFromApi(){const e=this.context.props?.adsPlatformConfig,t=await this.fetchAdsConfig();if(!t)return;const i=(e,t)=>({...e,...t}),r={...t,rewarded:i(t.rewarded,e?.rewarded),interstitial:i(t.interstitial,e?.interstitial),banner:i(t.banner,e?.banner)};return this.checkAdsConfig(r)?r:void 0}async getCurrentAdsConfig(){const e=this.getAdsConfigFromProps();if(this.adsConfig||e)return this.adsConfig??e;this.adsConfigPromise=this.adsConfigPromise||this.getAdsConfigFromApi();const t=await this.adsConfigPromise;return this.adsConfigPromise=null,t}checkAdsConfig(e){return Boolean(e.rewarded&&e.interstitial&&e.banner&&e.user_id&&e.lang)||(()=>{throw(0,It.Fk)(oc.XY.invalidAdConfig()),oc.XY.invalidAdConfig()})()}setIframeStyles(){const{bannerAdParams:e,bannerAdDimensions:t}=this.state,{iframePropsState:i}=this.hostController.getMiniAppState(),[r,o]=i,n={};if("resize"===e?.layout_type&&t){const i=t.banner_height,r=t.banner_width;n.boxSizing="border-box";const o=this.props.isDesktop||Xt();"vertical"===e.orientation&&o?"left"===e.banner_align?n.paddingLeft=r:n.paddingRight=r:"top"===e.banner_location?n.paddingTop=i:n.paddingBottom=i}pc(n,this.iframeStyle)||(this.iframeStyle=n,o({...r,style:n}))}componentWillUnmount(){this.state.bannerAdAutoUpdateIntervalId&&window.clearInterval(this.state.bannerAdAutoUpdateIntervalId)}logBannerAdShown(e){this.adEventStatCollector?.logBannerAdsShown(this.miniAppId,e)}logBannerAdUpdated(e){this.adEventStatCollector?.logBannerAdsUpdated(this.miniAppId,e)}logInterstitialAdShown(e){this.adEventStatCollector?.logInterstitialAdsShown(this.miniAppId,e)}constructor(e){super(e),this.iframeStyle={},this.savedInterstitialAds=[],this.savedInterstitialMulti=null,this.usedInterstitialSlots=[],this.selectedInterstitialAdsSlot=0,this.skippedInterstitialAdsReasons=[],this.savedRewardAds=[],this.savedMotionRewardAds=[],this.skippedRewards=[],this.adsConfigPromise=null,this.selectedRewardAdsSlot=0,this.rewardAdsTimeRemained=!1,this.rewardRequestCount=0,this.motionRewardRequestCount=0,this.rewardAdsContainerRef=(0,s.createRef)(),this.updateManagers={banner:new sc,interstitial:new sc,interstitialCheck:new sc,reward:new sc,rewardCheck:new sc},this.lastShownIds={},this.getAdsController=()=>({loadBannerAd:()=>this.loadBannerAd(!1,sc.getDefaultEventParams()),handleBannerAd:(e,t,i)=>this.handleBannerAd(e,t,!1,i),hideBannerAd:this.hideBannerAd,getOpenedBannerAd:this.getOpenedBannerAd,preloadInterstitialAds:this.preloadInterstitialAds,preloadInterstitialMulti:this.preloadInterstitialMulti,preloadRewardAds:this.preloadRewardAds,showInterstitialAds:this.showInterstitialAds,showInterstitialMulti:this.showInterstitialMulti,hideInterstitialAds:this.hideInterstitialAds,handleInterstitialAdsClick:this.handleInterstitialAdsClick,showRewardAds:this.showRewardAds,getBannerAdAvailability:this.getBannerAdAvailability,...this.state}),this.isValidBannerResponse=e=>{const[t]=e;return!(!t?.banner||!t?.json||0===Object.keys(t.json).length)},this.loadBannerAd=async(e,t)=>{const i=await this.getCurrentAdsConfig();if(!i)return this.failIfNoAdsConfig(),null;0===i.banner.slot_ids.length&&this.failIfNoAdsConfig(),await this.loadFpidScript();const r=this.updateManagers.banner.getUpdateTs(),o=Date.now();if(!e){if(this.getOpenedBannerAd()||this.state.bannerAdAutoUpdateIntervalId)throw oc.XY.bannerAdAlreadyShown();if(r+this.getBannerAdLimitMs()>o)throw oc.XY.requestsLimitReached()}if(this.updateManagers.banner.getInProgress())throw oc.XY.requestsLimitReached();const n=i.banner.slot_ids,a=n.find((e=>!t.alreadyUsedSlots.includes(e))),s=async i=>{if(a&&t.alreadyUsedSlots.push(a),t.skippedReasons.push(i),n.length===t.alreadyUsedSlots.length)throw this.state.bannerAdAutoUpdateIntervalId?this.adEventStatCollector?.logBannerAdsUpdateNotFound(this.miniAppId,t):this.adEventStatCollector?.logBannerAdsNotFound(this.miniAppId,t),this.updateManagers.banner.saveUpdateTs(),this.updateManagers.banner.setAdsEvent(t),oc.XY.noAds();return this.loadBannerAd(e,t)};if(!a)return s(me);this.failIfUserIsBanned(a),this.lastShownIds[a]||(this.lastShownIds[a]=[]);const l=this.lastShownIds[a],d=l.length?{[ne]:l.join(",")}:void 0,c=this.getSearchParams(a,d),u=this.hostController.featureEnabled(ac.o.StickyMotionExperiment),h=this.hostController.featureEnabled(ac.o.StickyMotion);if(h&&c.set(ae,"1"),u){c.set(le,String(32331));const e=this.hostController.featureToggles.motionStickyExperimentGroup;e&&c.set(de,String(e))}const p=`${U}?${c.toString()}`,m=new AbortController,b=m.signal;this.updateManagers.banner.setAbortController(m),this.updateManagers.banner.setInProgress(!0);const f=await fetch(p,{signal:b}).then((e=>e.json())).catch((e=>{if((0,It.Fk)("Failed to fetch banner"),"AbortError"===e.name)throw oc.XY.customError();throw oc.XY.noAds()})).finally((()=>{this.updateManagers.banner.setInProgress(!1)}));if(this.isValidBannerResponse(f)){const e=f[0].json;t.selectedSlot=a,this.updateManagers.banner.saveUpdateTs(),this.updateManagers.banner.setAdsEvent(t);const i=h?e.id??e.bannerID:e.bannerID;return i&&l.push(i),l.length>5&&l.shift(),function(e,t){return{bannerData:e,adChoices:{options:Vt(e.adChoices?.options??[],t)}}}(e,this.handleBannerAdUserClose)}return s(me)},this.getSearchParams=(e,t)=>{const i=new URLSearchParams;if(!this.adsConfig)return i;i.set(X,e.toString()),i.set(Q,this.adsConfig.site_id.toString()),i.set(J,this.adsConfig.lang),i.set(K,this.adsConfig.user_id.toString()),i.set(q,this.miniAppId.toString()),i.set($,this.adsConfig.sign),i.set(te,this.adsConfig.sign_timestamp.toString()),this.adsConfig.test_mode&&i.set(ee,"1");const r=this.getFpid();return r&&i.set(oe,r),t&&Object.entries(t).forEach((([e,t])=>{i.set(e,t)})),i},this.isBannerLeadFormVisible=!1,this.handleBannerLeadFormShow=()=>{this.isBannerLeadFormVisible=!0},this.handleBannerLeadFormHide=()=>{this.isBannerLeadFormVisible=!1},this.handleBannerAd=(e,t,i,r)=>{let o;const n=this.getBannerAdAutoUpdateInterval();return!this.state.bannerAdAutoUpdateIntervalId&&n>0&&(o=window.setInterval((async()=>{if(!document.hasFocus()||this.isBannerLeadFormVisible)return;const e=await this.loadBannerAd(!0,sc.getDefaultEventParams()).catch((e=>{if(e===oc.XY.noAds())return null;throw e})),i=this.updateManagers.banner.getAdsEventParams();if(e){const i=await this.handleBannerAd(e,t,!0,r);i&&this.context.handlers?.sendEventToMiniApp(nc.BS.BannerAdUpdated,{result:!0,...i,...t})}else this.adEventStatCollector?.logBannerAdsUpdateNotFound(this.miniAppId,i)}),n)),new Promise((n=>{o&&this.setState({bannerAdAutoUpdateIntervalId:o}),this.setState({bannerAd:{...e,showMiniAppModal:r},bannerAdParams:t,onBannerAdShown:()=>{i?this.logBannerAdUpdated(this.updateManagers.banner.getAdsEventParams()):this.logBannerAdShown(this.updateManagers.banner.getAdsEventParams())},onBannerAdReady:e=>{this.setState({bannerAdDimensions:e}),n(e)}})}))},this.getBannerAdAutoUpdateInterval=()=>this.adsConfig?.banner.autoupdate_ms||0,this.getBannerAdLimitMs=()=>this.adsConfig?.banner.limit_ms||0,this.getRewardAdLimitMs=()=>this.adsConfig?.rewarded.limit_ms||0,this.getInterstitialAdLimitMs=()=>this.adsConfig?.interstitial.limit_ms||0,this.hideBannerAd=()=>{this.updateManagers.banner.getAbortController().abort();const e=this.getOpenedBannerAd();if(!e)return!1;this.state.bannerAdAutoUpdateIntervalId&&window.clearInterval(this.state.bannerAdAutoUpdateIntervalId);const t=this.updateManagers.banner.getAdsEventParams();return this.adEventStatCollector?.logBannerAdsHidden(this.miniAppId,t),this.setState({bannerAd:void 0,bannerAdParams:void 0,bannerAdDimensions:void 0,bannerAdAutoUpdateIntervalId:void 0}),e},this.handleBannerAdUserClose=()=>{const e=this.getOpenedBannerAd();if(!e||!this.context.handlers?.sendEventToMiniApp)return;this.context.handlers?.sendEventToMiniApp(nc.BS.BannerAdClosedByUser,{...e});const t=this.updateManagers.banner.getAdsEventParams();this.adEventStatCollector?.logBannerAdsHiddenByUser(this.miniAppId,t),this.setState({bannerAd:void 0,bannerAdParams:void 0,bannerAdDimensions:void 0})},this.handleBannerAdClick=()=>{const e=this.updateManagers.banner.getAdsEventParams();this.adEventStatCollector?.logBannerAdsClick(this.miniAppId,e)},this.handleBannerUpdateDimensions=e=>{this.setState({bannerAdDimensions:e})},this.getOpenedBannerAd=()=>{const{bannerAdParams:e,bannerAdDimensions:t}=this.state;return e&&t?{...t,...e}:null},this.checkInterstitialPreload=(e,t)=>e?(t||this.failIfInterOrRewardOpened(),0===e.interstitial.slot_ids.length&&this.failIfNoAdsConfig(),e):(this.failIfNoAdsConfig(),!1),this.preloadInterstitialAds=async({isRewardFallback:e,isWaterfallCall:t,isCheckAds:i})=>{const r=await this.getCurrentAdsConfig(),o=this.checkInterstitialPreload(r,i);if(!o)return!1;if(t||(this.usedInterstitialSlots=[],this.skippedInterstitialAdsReasons=[]),!e&&!t){const e=i?this.updateManagers.interstitialCheck:this.updateManagers.interstitial,t=e.getUpdateTs(),r=Date.now();if(t+this.getInterstitialAdLimitMs()>r)throw oc.XY.requestsLimitReached();e.saveUpdateTs()}await this.loadFpidScript();const n=o.interstitial.slot_ids,a=n.find((e=>!this.usedInterstitialSlots.includes(e)));if(this.savedInterstitialAds.length>0)return!0;const s=async t=>{if(a&&this.usedInterstitialSlots.push(a),this.skippedInterstitialAdsReasons.push(t),n.length===this.usedInterstitialSlots.length){const t={selectedSlot:0,type:e?F.REWARD:F.INTERSTITIAL,alreadyUsedSlots:[...this.usedInterstitialSlots],skippedReasons:[...this.skippedInterstitialAdsReasons],actualAdFormat:F.INTERSTITIAL};return e&&(t.alreadyUsedSlots=[...Ht(this.skippedRewards),...this.usedInterstitialSlots],t.skippedReasons=[...Wt(this.skippedRewards),...this.skippedInterstitialAdsReasons],this.skippedRewards=[]),this.adEventStatCollector?.logInterstitialAdsNotFound(this.miniAppId,t),this.usedInterstitialSlots=[],this.skippedInterstitialAdsReasons=[],!1}return this.preloadInterstitialAds({isCheckAds:i,isRewardFallback:e,isWaterfallCall:!0})};if(!a)return s(me);if(-1===a){if(e)return!1;this.failIfUserIsBanned(a)}const l={adFormat:"interstitial",isMotion:this.isMotionInterstitialEnabled(),isInterstitialMulti:!1,motionExpGroup:this.getMotionAdsAbGroup(),motionRewardExpGroup:this.getMotionRewardAdsAbGroup(),slotId:a,appId:this.miniAppId};try{const e=await this.loadInterstitial(a,!1);if(this.isValidBannerResponse(e)){const[t]=e;return this.savedInterstitialAds.push(t.json),this.selectedInterstitialAdsSlot=a,this.adsDevNullStatCollector?.logAdsResponse({...l,count:e.length,isValidResponse:!0}),!0}return this.adsDevNullStatCollector?.logAdsResponse({...l,count:0,isValidResponse:!1}),s(me)}catch(e){return this.context.host?.onError?.(e),this.adsDevNullStatCollector?.logAdsResponse({...l,count:0,isValidResponse:!1,error:String(e)}),s(be)}},this.loadInterstitial=async(e,t)=>{const i=this.getSearchParams(e);!t&&this.isMotionInterstitialEnabled()&&i.set(ae,"1"),t&&this.hostController.featureEnabled(ac.o.InterstitialMultiMotion)&&i.set(ae,"1"),t&&this.hostController.featureEnabled(ac.o.InterstitialMultiMotionExperiment)&&i.set(le,String(30530));const r=`${U}?${i.toString()}`,o=await fetch(r).then((e=>e.json()));return o},this.interstitialWaterfall=async(e,t)=>{let i={interstitialAd:null,selectedSlot:null,skipped:[]};const r=void 0!==t?[t]:e.interstitial.slot_ids;for(const e of r)try{const t=await this.loadInterstitial(e,!0);if(this.isValidBannerResponse(t)){const[r]=t;i={...i,interstitialAd:r.json,selectedSlot:e};break}i.skipped.push({slot:e,reason:me})}catch(t){this.context.host?.onError?.(t),i.skipped.push({slot:e,reason:be});break}return i},this.getInterstitialMultiPromises=e=>{const t=e.interstitial.slot_ids;return this.hostController.featureEnabled(ac.o.InterstitialMultiNewWaterfall)?t.length>=2?[this.interstitialWaterfall(e,t[0]),this.interstitialWaterfall(e,t[1])]:[this.interstitialWaterfall(e,t[0])]:[this.interstitialWaterfall(e,void 0),this.interstitialWaterfall(e,void 0)]},this.handleInterstitialMultiLoaded=(e,t)=>{if(e.interstitialAd&&t?.interstitialAd){if(!this.hostController.featureEnabled(ac.o.InterstitialMultiMotion))return this.savedInterstitialMulti=[{...e,skipped:[...this.skippedRewards,...e.skipped]},{...t,skipped:[...this.skippedRewards,...t.skipped]}],"multi";if(Ut(e.interstitialAd)&&Ut(t.interstitialAd))return this.savedInterstitialMulti=[{...e,skipped:[...this.skippedRewards,...e.skipped]},{...t,skipped:[...this.skippedRewards,...t.skipped]}],"multi"}let i=null,r=null;if(e.interstitialAd?i=e:r=e,void 0!==t&&(t.interstitialAd?i=t:r=t),i){if(this.savedInterstitialAds.push(i.interstitialAd),this.skippedInterstitialAdsReasons=Wt(i.skipped),this.usedInterstitialSlots=Ht(i.skipped),this.selectedInterstitialAdsSlot=i.selectedSlot,r){const e={selectedSlot:0,type:F.REWARD,alreadyUsedSlots:[...Ht(this.skippedRewards),...Ht(r.skipped)],skippedReasons:[...Wt(this.skippedRewards),...Wt(r.skipped)],actualAdFormat:F.INTERSTITIAL};this.adEventStatCollector?.logInterstitialAdsNotFound(this.miniAppId,e)}return"single"}for(const i of[e,t]){if(void 0===i)continue;const e={selectedSlot:0,type:F.REWARD,alreadyUsedSlots:[...Ht(this.skippedRewards),...Ht(i.skipped)],skippedReasons:[...Wt(this.skippedRewards),...Wt(i.skipped)],actualAdFormat:F.INTERSTITIAL};this.adEventStatCollector?.logInterstitialAdsNotFound(this.miniAppId,e)}return!1},this.preloadInterstitialMulti=async({isCheckAds:e})=>{const t=this.checkInterstitialPreload(this.adsConfig,e);if(!t||t.interstitial.slot_ids.includes(-1))return!1;if(this.savedInterstitialMulti)return"multi";if(this.savedInterstitialAds.length>0)return"single";await this.loadFpidScript();const[i,r]=await Promise.all(this.getInterstitialMultiPromises(t)),o=this.handleInterstitialMultiLoaded(i,r);return this.skippedRewards=[],o},this.getRewardQueryParams=e=>{const t={[K]:e.user_id,[q]:this.miniAppId,[ie]:2,[re]:1,[$]:e.sign,[te]:e.sign_timestamp.toString()};return this.adsConfig?.test_mode&&(t[ee]=1),t},this.preloadRewardAds=async({isCheckAds:e,isWaterfallCall:t,useWaterfall:i})=>{const r=await this.getCurrentAdsConfig();if(!r)return this.failIfNoAdsConfig(),!1;if(e||this.failIfInterOrRewardOpened(),0===r.rewarded.slot_ids.length&&this.failIfNoAdsConfig(),!t){this.skippedRewards=[];const t=e?this.updateManagers.rewardCheck:this.updateManagers.reward,i=t.getUpdateTs(),o=Date.now();if(i+this.getRewardAdLimitMs()>o)throw oc.XY.requestsLimitReached();t.saveUpdateTs(),this.failIfUserIsBanned((r.rewarded.slot_ids??[])[0])}if(this.isMotionRewardEnabled()){if(this.savedMotionRewardAds.length)return!0;const e=await this.rewardWaterfall(r);if(this.skippedRewards=e.skipped,!e.rewardAd&&!i){const e={selectedSlot:void 0,alreadyUsedSlots:[...Ht(this.skippedRewards)],skippedReasons:[...Wt(this.skippedRewards)]};this.skippedRewards=[],this.adEventStatCollector?.logRewardAdsNotFound(this.miniAppId,e)}return e.rewardAd&&this.savedMotionRewardAds.push(e),!!e.rewardAd}if(this.savedRewardAds.length>0)return!0;const o={adFormat:"reward",isMotion:!1,isInterstitialMulti:!1,motionExpGroup:this.getMotionAdsAbGroup(),motionRewardExpGroup:this.getMotionRewardAdsAbGroup(),appId:this.miniAppId};return this.adsDevNullStatCollector?.logAdsRequest({...o,count:this.rewardRequestCount++,isValidResponse:!1,slotId:-1}),this.loadAdmanScript().then((()=>new Promise((t=>{if(!window.AdmanHTML)return t(!1),void this.adsDevNullStatCollector?.logAdsResponse({...o,count:0,isValidResponse:!1,error:"No adman after load",slotId:-1});const n=new mi,a=this.adsConfig?.rewarded.slot_ids.filter((e=>!this.skippedRewards.find((t=>t.slot===e)))),s={type:F.REWARD,selectedSlot:0},l=this.getRewardQueryParams(r);1===this.rewardRequestCount&&(l[pe]=1);const d=new window.AdmanHTML,c=a[0];this.selectedRewardAdsSlot=c,d.init({slot:c,wrapper:n.getContent,videoEl:n.getVideoContainer,videoQuality:360,params:l,browser:G,config:Z});const u={},h=(e,t)=>{d[e](((...i)=>{t(...i),u[e]&&u[e](...i)})),d[e]=t=>{u[e]=t}},p=d.start;d.start=()=>{n.admanStart(d),p.apply(d,[])};const m=d.destroy;d.destroy=()=>{m.apply(d,[])};const b=r=>{if(d.destroy(),this.skippedRewards.push({slot:c,reason:r}),this.adsConfig?.rewarded.slot_ids.length!==this.skippedRewards.length)this.preloadRewardAds({useWaterfall:i,isCheckAds:e,isWaterfallCall:!0}).then(t);else{if(!i){const e={selectedSlot:this.selectedRewardAdsSlot,alreadyUsedSlots:[...Ht(this.skippedRewards)],skippedReasons:[...Wt(this.skippedRewards)]};this.adEventStatCollector?.logRewardAdsNotFound(this.miniAppId,e),this.skippedRewards=[]}t(!1)}};h("onError",(()=>{b(be),this.adsDevNullStatCollector?.logAdsResponse({...o,count:0,isValidResponse:!1,error:"admanCallback: onError",slotId:c})})),h("onReady",(()=>{const e=d.getBannersForSection("preroll"),i=e.some((e=>e.type&&"statistics"!==e.type));i?(this.savedRewardAds.push({adman:d,admanContainer:n,stats:s,timestamp:Date.now()}),t(!0)):b(me),this.adsDevNullStatCollector?.logAdsResponse({...o,count:e.length,isValidResponse:i,slotId:c})})),h("onStarted",((e,t)=>{t?.hasVolume||n.hideMutedButton(),d.setVolume(0)})),h("onCompleted",(()=>{d.destroy()})),h("onPlayed",(()=>n.hideControls()))})))).catch((e=>(this.context.host?.onError?.(e),this.adsDevNullStatCollector?.logAdsResponse({...o,count:0,isValidResponse:!1,error:"Load adman failed",slotId:-1}),!1)))},this.rewardWaterfall=async e=>{let t={rewardAd:null,selectedSlot:null,skipped:[]};for(const i of e.rewarded.slot_ids)try{const r=await this.loadMotionReward(e,i);if(r){t={...t,rewardAd:r,selectedSlot:i};break}t.skipped.push({slot:i,reason:me})}catch(e){this.context.host?.onError?.(e),t.skipped.push({slot:i,reason:be})}return t},this.loadMotionReward=async(e,t)=>{const i=this.getRewardQueryParams(e),r=this.getFpid();r&&(i[oe]=r),i[ce]="admanhtml",i[ue]="2.2.76",i[he]=0,i[se]=1,0===this.motionRewardRequestCount&&(i[pe]=1);const o={adFormat:"reward",isMotion:!0,isInterstitialMulti:!1,motionExpGroup:this.getMotionAdsAbGroup(),motionRewardExpGroup:this.getMotionRewardAdsAbGroup(),slotId:t,appId:this.miniAppId};this.adsDevNullStatCollector?.logAdsRequest({...o,count:this.motionRewardRequestCount++,isValidResponse:!1});try{const[e,r,n]=await async function(e,t){await md.init();const i=Object.entries(t).map((([e,t])=>[e,t.toString()])),r=await md.request({endpoint:"https://ad.mail.ru/vp/",slot:e,params:new URLSearchParams(i).toString()}),o=r.error?r:null,n=md.parse(r)??r.data;return[n,n?.sections?.preroll?.find(qd)??null,o]}(t.toString(),i);return n?this.adsDevNullStatCollector?.logAdsResponse({...o,isValidResponse:!1,count:0,error:`${String(n.error)} ${String(n.message)}`}):this.adsDevNullStatCollector?.logAdsResponse({...o,count:e?.sections?.preroll?.length??0,isValidResponse:!!r}),r}catch(e){return this.adsDevNullStatCollector?.logAdsResponse({...o,isValidResponse:!1,count:0,error:String(e)}),null}},this.loadAdmanScript=async()=>{if(!this.admanInitialized())return lc("//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",2e3).then((()=>new Promise(((e,t)=>{let i;const r=()=>{clearTimeout(i),this.admanInitialized()?e(!0):(this.context.host?.onError?.(new Error("Adman script could not be initialized")),t())};this.admanInitialized()?e(!0):i=window.setTimeout(r,2e3)}))))},this.loadFpidScript=async()=>{if(!this.fpidInitialized())return lc("https://ad.mail.ru/static/sync-loader.js",2e3,{nonce:"",crossOrigin:"anonymous",async:!0}).catch((()=>{this.context.host?.onError?.(new Error("Failed to load fpid script"))}))},this.getFpidFromStorage=()=>{let e=null;const t=y.getItem(Y);if(t)try{e=JSON.parse(t).fpid}catch(e){(0,It.Fk)("Failed to get fpId from localStorage")}return e},this.getFpid=()=>window.rb_sync?.id||this.getFpidFromStorage(),this.admanInitialized=()=>!!window.AdmanHTML,this.fpidInitialized=()=>!!y.getItem(Y),this.showInterstitialAds=(e,t)=>{const i=this.savedInterstitialAds.shift();return i?new Promise((r=>{const o={type:e?F.REWARD:F.INTERSTITIAL,selectedSlot:this.selectedInterstitialAdsSlot,alreadyUsedSlots:[...this.usedInterstitialSlots],skippedReasons:[...this.skippedInterstitialAdsReasons],actualAdFormat:F.INTERSTITIAL};e&&(o.alreadyUsedSlots=[...Ht(this.skippedRewards),...this.usedInterstitialSlots],o.skippedReasons=[...Wt(this.skippedRewards),...this.skippedInterstitialAdsReasons]),this.setState({interstitialAd:{data:i,onImpression:()=>{this.logInterstitialAdShown(o)},onClick:()=>{this.handleInterstitialAdsClick(o)},onDestroy:()=>{this.sendViewRestore(),r(!0)},showMiniAppModal:t,onStatEvent:e=>{this.handleShowAdStatEvent({motionExpGroup:this.getMotionAdsAbGroup(),motionRewardExpGroup:this.getMotionRewardAdsAbGroup(),slotId:o.selectedSlot,appId:this.miniAppId,...e})}}}),this.sendViewHide(),this.adsConfig?.interstitial.callbacks?.onInterstitialAdsShown?.()})):Promise.resolve(!1)},this.showInterstitialMulti=e=>{if(!this.savedInterstitialMulti)return Promise.resolve(!1);const[t,i]=this.savedInterstitialMulti;return this.savedInterstitialMulti=null,new Promise((r=>{const o=t=>{const i={type:F.REWARD,selectedSlot:t.selectedSlot,alreadyUsedSlots:Ht(t.skipped),skippedReasons:Wt(t.skipped),actualAdFormat:F.INTERSTITIAL};return{data:t.interstitialAd,onImpression:()=>{this.logInterstitialAdShown(i)},onClick:()=>{this.handleInterstitialAdsClick(i)},onDestroy:()=>{this.sendViewRestore(),r(!0)},showMiniAppModal:e,onStatEvent:e=>{this.handleShowAdStatEvent({motionExpGroup:this.getMotionAdsAbGroup(),motionRewardExpGroup:this.getMotionRewardAdsAbGroup(),slotId:i.selectedSlot,appId:this.miniAppId,...e})}}};this.setState({interstitialMulti:[o(t),o(i)]}),this.sendViewHide(),this.adsConfig?.interstitial.callbacks?.onInterstitialAdsShown?.()}))},this.hideInterstitialAds=()=>{this.state.interstitialAd?.onDestroy(),this.state.interstitialMulti?.[0].onDestroy(),this.adsConfig?.interstitial.callbacks?.onInterstitialAdsHidden?.({selectedSlot:this.selectedInterstitialAdsSlot,alreadyUsedSlots:this.usedInterstitialSlots,skippedReasons:this.skippedInterstitialAdsReasons}),this.setState({interstitialAd:void 0,interstitialMulti:void 0})},this.handleInterstitialAdsClick=e=>{this.adEventStatCollector?.logInterstitialAdsClick(this.miniAppId,e)},this.showRewardAds=e=>{if(this.isMotionRewardEnabled())return this.showMotionReward(e);const t=this.savedRewardAds.shift();if(!t)return Promise.resolve(!1);const i=t.adman;return this.setState({rewardAd:t},(()=>{Yt(t.admanContainer.getPlayer)&&t.admanContainer.addStickyClass()})),new Promise((e=>{i.start("preroll"),this.sendViewHide(),this.adsConfig?.rewarded.callbacks?.onRewardAdsShown?.({selectedSlot:this.selectedRewardAdsSlot,alreadyUsedSlots:[...Ht(this.skippedRewards)],skippedReasons:[...Wt(this.skippedRewards)]}),i.onTimeRemained((()=>{this.rewardAdsTimeRemained=!0})),i.onCompleted((()=>{this.setState({rewardAd:void 0}),this.adsConfig?.rewarded.callbacks?.onRewardAdsFinished?.();const t={selectedSlot:this.selectedRewardAdsSlot,alreadyUsedSlots:[...Ht(this.skippedRewards)],skippedReasons:[...Wt(this.skippedRewards)]};this.rewardAdsTimeRemained?this.adEventStatCollector?.logRewardAdsHidden(this.miniAppId,t):this.adEventStatCollector?.logRewardAdsNotFound(this.miniAppId,t),this.sendViewRestore(),e(this.rewardAdsTimeRemained),this.rewardAdsTimeRemained=!1}));let t=!1;i.onClicked((()=>{if(!t){t=!0;const e={selectedSlot:this.selectedRewardAdsSlot,alreadyUsedSlots:[...Ht(this.skippedRewards)],skippedReasons:[...Wt(this.skippedRewards)]};this.handleRewardAdClick(e)}}))}))},this.getLeadAdsModalSupport=()=>Boolean(this.adsConfig?.interstitial.leadAdsModal),this.showMotionReward=e=>{const t=this.savedMotionRewardAds.shift();if(!t)return Promise.resolve(!1);const i={selectedSlot:t.selectedSlot,alreadyUsedSlots:[...Ht(t.skipped)],skippedReasons:[...Wt(t.skipped)]};return new Promise(((r,o)=>{this.setState({motionRewardAd:{data:t.rewardAd,onClick:()=>{this.handleRewardAdClick(i)},onDestroy:(e,t)=>{t&&(this.adEventStatCollector?.logRewardAdsHiddenByUser(this.miniAppId,i),o(oc.XY.userDenied())),e?this.adEventStatCollector?.logRewardAdsHidden(this.miniAppId,i):this.adEventStatCollector?.logRewardAdsNotFound(this.miniAppId,i),this.adsConfig?.rewarded.callbacks?.onRewardAdsFinished?.(),this.sendViewRestore(),this.setState({motionRewardAd:void 0}),r(!0)},onStatEvent:e=>{this.handleShowAdStatEvent({motionExpGroup:this.getMotionAdsAbGroup(),motionRewardExpGroup:this.getMotionRewardAdsAbGroup(),slotId:t.selectedSlot,appId:this.miniAppId,...e})},showMiniAppModal:e}}),this.sendViewHide(),this.adsConfig?.rewarded.callbacks?.onRewardAdsShown?.(i)}))},this.handleRewardAdClick=e=>{this.adEventStatCollector?.logRewardAdsClick(this.miniAppId,e)},this.handleShowAdStatEvent=e=>{this.adsDevNullStatCollector?.logAdsShow(e)},this.getBannerAdAvailability=()=>{const{position:e={},orientation:t={},heightType:i={},isAvailable:r,animated:o,verticalOverlay:n,verticalRight:a}=this.adsConfig?.banner.bannerAvailability||{};return{isAvailable:r??E.isAvailable,animated:o??E.animated,position:{...E.position,...e},heightType:{...E.heightType,...i},orientation:{...E.orientation,...t},verticalOverlay:n??E.verticalOverlay,verticalRight:a??E.verticalRight}},this.failIfUserIsBanned=e=>{if(-1===e)throw oc.XY.userIsBanned()},this.failIfInterOrRewardOpened=()=>{if(this.state.rewardAd||this.state.motionRewardAd||this.state.interstitialAd||this.state.interstitialMulti)throw oc.XY.requestsLimitReached()},this.failIfNoAdsConfig=()=>{throw oc.XY.invalidAdConfig()},this.sendViewHide=()=>{this.context.handlers?.sendEventToMiniApp(nc.BS.ViewHide,{})},this.sendViewRestore=()=>{this.context.handlers?.sendEventToMiniApp(nc.BS.ViewRestore,{})},this.isMotionInterstitialEnabled=()=>Boolean(this.adsConfig?.interstitial.motion),this.getMotionAdsAbGroup=()=>0,this.isMotionRewardEnabled=()=>Boolean(this.adsConfig?.rewarded.motion),this.getMotionRewardAdsAbGroup=()=>0,this.state={}}}_c.contextType=d;const yc=e=>{const t=(0,o.wmp)();return(0,r.Y)(_c,{...e,isDesktop:t.isDesktop})};var wc=i(217570);const kc={eventsCount:2,timeFrameMs:1e3},xc={VKWebAppAllowNotifications:kc,VKWebAppDenyNotifications:kc,VKWebAppAllowMessagesFromGroup:kc,VKWebAppJoinGroup:kc,VKWebAppLeaveGroup:kc,VKWebAppAddToFavorites:kc,VKWebAppGetAuthToken:kc,VKWebAppGetSilentToken:kc,VKWebAppGetPhoneNumber:kc,VKWebAppGetGroupInfo:kc,VKWebAppShowNativeAds:kc,VKWebAppShowGoodOrderBox:kc,VKWebAppSendCustomEvent:{eventsCount:16,timeFrameMs:2e3}};let Ac=class{get successDescriptor(){return`${this.handlerName}Result`}get errorDescriptor(){return`${this.handlerName}Failed`}get updateModalData(){return e=>this.updateModalDataHook?.({data:e})}get floodRate(){return xc[this.handlerName]}handleModal(e){if(this.controller.modalRequest){const t={handlerName:this.handlerName,...e};this.updateModalDataHook=this.controller.modalRequest(t)}}sanitizeCallArguments(){if(!this.callArguments)return{};const e=["request_id"],t={...this.callArguments};for(const i of e)delete t[i];return t}logBridgeEvent(e){const{app:{id:t}}=this.controller.getMiniAppInfo();this.controller.logBridgeEvent({miniAppId:t,event:{event_type:this.handlerName,is_success:!vc(e)},bridgeLog:this.getBridgeMethodLog?.(),callArguments:this.sanitizeCallArguments(),...this.buildBridgeEventErrorData(e)})}constructor({handlers:e,ads:t}){if(this.handlerName="",this.updateModalDataHook=null,this.handle=e=>{this.parseHandlerParams(e).catch(console.error)},this.parseHandlerParams=e=>Promise.resolve({...e}),this.setData=e=>{this.callArguments=e},this.handleFailed=e=>{const t=(0,oc.u$)(e);return Promise.resolve({type:this.errorDescriptor,data:{error_type:(0,oc.hv)(t)?"api_error":"client_error",error_data:t}})},this.wrapResult=e=>({result:e}),this.handleSuccess=e=>Promise.resolve({data:e,type:this.successDescriptor}),this.buildBridgeEventErrorData=e=>{if(!function(e){return vc(e)&&"error_data"in e.data&&"error_type"in e.data}(e))return{};const{error_type:t,error_data:i}=e.data;return{error:{error_type:t,error_code:i.error_code},bridgeLog:(0,oc.M6)(i)}},this.getLang=(e,t)=>this.controller.getLang(e,t),!e||!t)throw(0,It.Fk)("Handler controllers are not initialized"),new Error("Handler controllers are not initialized");this.controller=e,this.adsController=t}};class Cc extends Ac{get successDescriptor(){return this.handlerName}getSupportedHandlersList(){const e=new Set(nc.Le),t=this.controller.getOverrideHandlers(),i=Object.keys(t).filter((e=>!1!==t[e].supported));return Object.values(nc.IT).forEach((r=>{!this.controller.modalRequest&&(this.controller.modalRequest||nc.ci.includes(r))||i.includes(r)||e.has(r)||t.hasOwnProperty(r)&&!1===t[r].supported||i.push(r)})),i}constructor(...e){super(...e),this.handlerName=nc.IT.SetSupportedHandlers,this.handle=()=>(Cc.cachedSupportedHandlers||(Cc.cachedSupportedHandlers=this.getSupportedHandlersList()),this.handleSuccess({supportedHandlers:Cc.cachedSupportedHandlers}))}}var Pc,Sc;!function(e){e.TRANSACTION="transaction"}(Pc||(Pc={})),function(e){e.TRANSACTION="VKWebAppOpenPayFormResult"}(Sc||(Sc={}));class Mc extends Ac{confirm(){return new Promise(((e,t)=>{this.handleModal({type:"AddToFavoritesConfirmModal",data:{},actions:{onAccept:e,onDeny:()=>t({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.AddToFavorites,this.handle=e=>this.controller.requestApiMethod("apps.get",{app_id:this.controller.getMiniAppInfo().app.id}).then((t=>t.response.items[0].is_favorite?this.handleSuccess({result:!0}):this.parseHandlerParams(e).then((e=>this.confirm().then((()=>this.updateModalData({loading:!0}))).then((()=>this.addToFavorites(e))).finally((()=>this.updateModalData({shouldClosed:!0}))))))).catch(this.handleFailed),this.addToFavorites=e=>this.controller.requestApiMethod("apps.addToMenu",e).then((()=>this.handleSuccess({result:!0})))}}class Ic extends Error{constructor(e){super(`${e.error_code}: ${e.error_reason}`),this.error=e}}class Tc{constructor(){this.resolveHandler=n,this.rejectHandler=n,this.get=()=>this.promise,this.resolve=e=>this.resolveHandler(e),this.reject=e=>this.rejectHandler(e),this.promise=new Promise(((e,t)=>{this.resolveHandler=e,this.rejectHandler=t}))}}const Oc=["notify","friends","photos","audio","video","stories","pages","menu","wallmenu","status","notes","messages","wall","ads","offline","docs","groups","notifications","stats","email","adsweb","market","phone","group_messages"];var jc,Lc=i(918918);!function(e){e.INVALID_TOKEN="invalid_token"}(jc||(jc={}));const Ec=["id","name","screen_name","is_closed","type","description","members_count","is_member","photo_50","photo_100","photo_200"];var Nc=i(337574);class Dc extends Ac{confirm(e){return new Promise((t=>{const i=new URLSearchParams({app_id:`${e}`,theme:this.controller.getMiniAppInfo().config.appearance,origin:"*"});this.handleModal({type:"GetSilentTokenOverlay",appearance:Nc.b.OVERLAY,data:{url:`${this.controller.getMiniAppInfo().policyConfirmationUrl}?${i}`},actions:{onAccept:i=>{Dc.successfullyConfirmed[e]=!0,t(i)}}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.GetSilentToken,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.getMiniAppInfo().app.needPolicyConfirmation&&!Dc.successfullyConfirmed[e.app_id]?this.confirm(e.app_id):this.controller.requestApiMethod("auth.getCredentialsForApp",e).then((({response:e})=>e)))).then((e=>this.handleSuccess(e))).catch(this.handleFailed).finally((()=>this.updateModalData({shouldClosed:!0}))),this.parseHandlerParams=e=>(e.app_id||(e.app_id=e.app_id??this.controller.getMiniAppInfo().app.id),"number"!=typeof e.app_id?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("app_id","number")}):e.app_id<=0?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.greaterThanZero("app_id")}):Promise.resolve(e))}}Dc.successfullyConfirmed={};const Bc=0,Rc=2;const zc=[],Vc="vk-connect";class Hc{isValidEvent(e){const{isValidEvent:t}=this.config;return t?t(e):e.data?.type===Vc&&this.config.iframe?.contentWindow===e.source}constructor(e){this.destroy=()=>{window.removeEventListener("message",this.handleMessage)},this.sendMessage=e=>{if(!this.config.iframe)throw new Error("No iframe passed for bridge!");const{originMessage:t,message:i}=e;t?.params&&t.params.request_id&&(i.data.request_id=t.params.request_id),(0,It.V4)("send to app",e.message);const r=this.config.iframe?.contentWindow;r?.postMessage(i,"*")},this.handleMessage=e=>{this.isValidEvent(e)&&((0,It.V4)("received from app",e.data),this.config.handler(e.data)?.catch(It.Fk))},this.config=e,window.addEventListener("message",this.handleMessage)}}const Wc=[51618648,6703670];const Fc=51528700,Uc=6217559,Yc=[7132546,Fc],Gc=[Fc];const Zc=[],Xc=e=>Zc.includes(e);const Qc="type",Kc="timezone",qc="event",Jc="json",$c="screen",eu="timestamp",tu="vk_platform",iu={TYPE_NAVGO:"type_navgo",TYPE_VIEW:"type_view",TYPE_CLICK:"type_click",TYPE_ACTION:"type_action"},ru="type",ou="timezone",nu="event",au="json",su="screen",lu="client_time",du="mini_app_id",cu="url",uu="vk_platform",hu="user_id",pu="track_code";const mu="formLoad",bu="closeWindow",fu="pageLoad",vu="paySuccess",gu="fireEvent",_u=-1,yu=1,wu=1,ku=2,xu="CreateOrder",Au="AwaitFrame",Cu="AwaitPayment",Pu="AwaitOrder",Su="Success",Mu="Error",Iu="goods_order",Tu="goods_subscription",Ou="form_cancel-button-click",ju="ok";const Lu="AES-GCM",Eu="anonym_crypto_key",Nu="anonym_crypto_iv",Du=e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0))).buffer,Bu=async()=>({localStorageKey:localStorage.getItem(Eu)||"",localStorageIV:localStorage.getItem(Nu)||""}),Ru=async(e,t)=>({key:await crypto.subtle.importKey("jwk",JSON.parse(e),Lu,!0,["encrypt","decrypt"]),iv:Du(t)}),zu=async(e,t,i)=>{if(!i)return"";const r=(e=>(new TextEncoder).encode(e))(i);return(e=>btoa(String.fromCharCode(...new Uint8Array(e))))(await window.crypto.subtle.encrypt({name:Lu,iv:t},e,r))},Vu=async(e,t,i)=>{if(!i)return"";return(e=>(new TextDecoder).decode(e))(await window.crypto.subtle.decrypt({name:Lu,iv:t},e,Du(i)))};var Hu=i(467e3);const Wu="https://top-fwz1.mail.ru/js/code.js",Fu=2579437,Uu="open",Yu="close",Gu="custom",Zu="startTimespent",Xu="stopTimespent";var Qu={VKWebAppInit:class extends Ac{getHandleSuccess(e){return(e=>{zc.push(e)})(e),this.handleSuccess({result:!0})}constructor(...e){super(...e),this.handlerName=nc.IT.Init,this.handle=()=>{const{app:{id:e}}=this.controller.getMiniAppInfo();if((e=>zc.includes(e))(e))return this.handleSuccess({result:!1});this.updateConfig();const t=this.sendSupportedHandlers();return t?t.then((()=>this.getHandleSuccess(e))).catch(this.handleFailed):this.getHandleSuccess(e)},this.sendSupportedHandlers=()=>this.controller.invoke({params:{},handler:nc.IT.SetSupportedHandlers,type:Vc}),this.updateConfig=()=>{this.controller.sendEventToMiniApp(nc.BS.UpdateConfig,this.controller.getMiniAppConfig())}}},VKWebAppGetClientVersion:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.GetClientVersion,this.handle=()=>this.handleSuccess({platform:wc._C,version:wc.i8})}},VKWebAppGetAuthToken:class extends Ac{get successDescriptor(){return"VKWebAppAccessTokenReceived"}get errorDescriptor(){return"VKWebAppAccessTokenFailed"}constructor(...e){super(...e),this.handlerName=nc.IT.GetAuthToken,this.getAppTokenTryTimes=1,this.maxGetAppTokenTryTimes=3,this.handle=(e,t=!1)=>(this.getAppTokenTryTimes=1,this.parseHandlerParams(e).then((e=>this.getMiniAppToken(e,!1,Number(t)))).then(this.handleSuccess).catch(this.handleFailed)),this.parseHandlerParams=({app_id:e,scope:t})=>{const{app:{id:i},whiteListScopes:r=Oc}=this.controller.getMiniAppInfo();if(!t&&""!==t)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("scope")});if(!e)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("app_id")});if("string"!=typeof t)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.wrongType("scope","string")});if("number"!=typeof e)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.wrongType("app_id","number")});if(e!==i)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongAppId()});return bc(t,r)?Promise.resolve({scope:t,app_id:e}):Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("scopes",`one of "${r.join('", "')}" listed separated by commas`)})},this.getMiniAppToken=(e,t=!1,i=0)=>this.controller.getHostToken(t).then((t=>this.fetchMiniAppToken({...e,access_token:t,force:i}))).then((t=>!t.error&&t.response?.access_token?Promise.resolve(t.response):i||t.error?"invalid_token"===t.error_type&&this.getAppTokenTryTimes<=this.maxGetAppTokenTryTimes?(this.getAppTokenTryTimes++,this.getMiniAppToken(e,!0,i)):Promise.reject({code:oc.OQ.UNKNOWN,reason:t.error_type||""}):this.confirm(e).then((e=>(this.updateModalData({loading:!0}),e))).then((t=>this.getMiniAppToken({...e,scope:t},!1,1))).finally((()=>this.updateModalData({shouldClosed:!0}))))),this.fetchMiniAppToken=e=>{const t=this.controller.getMiniAppToken(e);if(t)return t;const i=Lc.A.stringify(e),{authUrl:r,anonymAuthUrl:o}=this.controller.getMiniAppInfo(),n=this.controller.isAnonymousLaunch;return fetch(`${n&&o?o:r}?${i}`,{mode:"cors",credentials:"include"}).then((e=>e.json()))},this.confirm=e=>{const{app:t}=this.controller.getMiniAppInfo();return new Promise(((i,r)=>{this.handleModal({type:"GetAuthTokenModal",data:{appTitle:t.title,scope:e.scope,isEditScope:!1},actions:{onAccept:e=>i(e),onDeny:()=>r({error_code:oc.OQ.USER_DENIED,error_reason:"User denied"}),onEditScopes:()=>this.updateModalData({isEditScope:!0})}})}))}}},VKWebAppCallAPIMethod:class extends Ac{sanitizeCallArguments(){const{method:e,params:t}=super.sanitizeCallArguments(),{v:i,version:r}=t;return{method:e,version:i||r}}getBridgeMethodLog(){return JSON.stringify(this.sanitizeCallArguments())}enrichErrorMessage(e,t){const i=(0,oc.u$)(e);return(0,oc.hv)(i)?{...i,error_msg:`API(${t}): ${i.error_msg}`}:i}constructor(...e){super(...e),this.handlerName=nc.IT.CallApiMethod,this.handle=e=>this.parseHandlerParams(e).then((({method:e,params:t})=>{const{v:i,version:r,access_token:o,...n}=t,a={version:i||r,accessToken:o};return this.controller.requestApiMethodAsMiniApp(e,n,a)})).then(this.handleSuccess).catch((t=>this.handleFailed(this.enrichErrorMessage(t,e.method)))),this.parseHandlerParams=e=>{const{method:t,params:i}=e;return i?i.access_token?i.v||i.version?isNaN(parseInt(i.v,10))&&isNaN(parseInt(i.version,10))?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("v","number")}):Promise.resolve({params:i,method:t}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("v")}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("access_token")}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("params")})}}},VKWebAppCheckAllowedScopes:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.CheckAllowedScopes,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("apps.checkAllowedScopes",e))).then((({response:e})=>this.handleSuccess({result:e}))).catch(this.handleFailed),this.parseHandlerParams=({scopes:e})=>{if(!e)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("scopes")});if("string"!=typeof e)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("scopes","string")});const{whiteListScopes:t=Oc}=this.controller.getMiniAppInfo();return!!this.controller.featureEnabled(ac.o.CheckAllowedScopesNoValidation)||bc(e,t)?Promise.resolve({scopes:e}):Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("scopes",`"${t.join('", "')}"`)})}}},VKWebAppGetGeodata:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.GetGeodata,this.timeoutFails=0,this.handle=()=>this.getGeoData(),this.getGeoData=()=>this.promisifyGetGeodata().then((e=>this.handleSuccess({available:!0,lat:e.coords.latitude,long:e.coords.longitude}))).catch(this.handleFailed),this.handleGeodataError=e=>{switch(e.code){case 3:return this.timeoutFails++,this.timeoutFails<2?this.getGeoData():Promise.reject({error_code:oc.OQ.CUSTOM,error_reason:"Geolocation timeout error"});case 2:return Promise.reject({error_code:oc.OQ.CUSTOM,error_reason:"Device can't get geodata"});case 1:return Promise.reject({error_code:oc.OQ.USER_DENIED,error_reason:"User didn't allowed"});default:return Promise.reject({error_code:oc.OQ.CUSTOM,error_reason:"Unknown error"})}},this.promisifyGetGeodata=()=>new Promise(((e,t)=>navigator.geolocation.getCurrentPosition(e,t))).catch(this.handleGeodataError)}},VKWebAppGetLaunchParams:class extends Ac{getSearchParams(e){try{return new URL(e).searchParams}catch{return new URLSearchParams}}constructor(...e){super(...e),this.handlerName=nc.IT.GetLaunchParams,this.handle=()=>{const{id:e,url:t}=this.controller.getMiniAppInfo().app,i=this.getSearchParams(t),r={vk_profile_id:"vk_profile_id",vk_group_id:"group_id"},o={mini_app_id:e,referer:i.get("vk_ref")||"other"};return Object.keys(r).forEach((e=>{const t=i.get(e),n=Number(t),a=r[e];null===t||isNaN(n)||(o[a]=n)}),o),this.controller.requestApiMethod("apps.getAppLaunchParams",o).then((({response:e})=>this.handleSuccess(e))).catch(this.handleFailed)}}},VKWebAppStorageGet:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.StorageGet,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("storage.get",{global:e.global,keys:e.keys.join(",")}).then((({response:e})=>this.prepareAnonymStorageData(e))).then(this.handleSuccess))).catch(this.handleFailed),this.parseHandlerParams=e=>e.keys?Array.isArray(e.keys)?e.hasOwnProperty("global")&&"boolean"!=typeof e.global?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("global","boolean")}):Promise.resolve({request_id:e.request_id,global:e.global?1:0,keys:e.keys}):Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("keys","array")}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("keys")}),this.prepareAnonymStorageData=async e=>{if(!this.controller.isAnonymousLaunch)return{keys:e};if(!window.hasOwnProperty("crypto"))return Promise.reject({error_code:oc.OQ.CRYPTO_UNSUPPORTED,error_reason:oc.XY.cryptoUnsupported()});const{localStorageKey:t,localStorageIV:i}=await Bu();if(!t||!i)return Promise.reject({error_reason:oc.XY.missingCryptoKey(),error_code:oc.OQ.MISSING_CRYPTO_KEY});try{const{key:r,iv:o}=await Ru(t,i);for(let t=0;t<e.length;t++)e[t].value=await Vu(r,o,e[t].value);return{keys:e}}catch{return Promise.reject({error_reason:oc.XY.missingCryptoKey(),error_code:oc.OQ.MISSING_CRYPTO_KEY})}}}},VKWebAppStorageSet:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.StorageSet,this.handle=e=>this.parseHandlerParams(e).then((e=>this.prepareAnonymStorageData(e))).then((e=>this.controller.requestApiMethod("storage.set",e))).then((({response:e})=>this.wrapResult(Boolean(e)))).then(this.handleSuccess).catch(this.handleFailed),this.parseHandlerParams=e=>e.key?e.hasOwnProperty("value")&&"string"!=typeof e.value?Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.invalidParam("value","string")}):e.hasOwnProperty("global")&&"boolean"!=typeof e.global?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("global","boolean")}):Promise.resolve({request_id:e.request_id,global:e.global?1:0,key:e.key,value:e.value}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("key")}),this.prepareAnonymStorageData=async e=>{if(!this.controller.isAnonymousLaunch)return e;if(!window.hasOwnProperty("crypto"))return Promise.reject({code:oc.OQ.CRYPTO_UNSUPPORTED,reason:oc.XY.cryptoUnsupported()});const{localStorageKey:t,localStorageIV:i}=await Bu(),r=t&&i,{key:o,iv:n}=r?await Ru(t,i):await(async()=>{const e=await window.crypto.subtle.generateKey({name:Lu,length:256},!0,["encrypt","decrypt"]),t=window.crypto.getRandomValues(new Uint8Array(12)),i=await window.crypto.subtle.exportKey("jwk",e);return localStorage.setItem(Eu,JSON.stringify(i)),localStorage.setItem(Nu,btoa(String.fromCharCode(...t))),{key:e,iv:t}})();return e.value=await zu(o,n,e.value),e}}},VKWebAppGetUserInfo:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.GetUserInfo,this.handle=e=>{const t=["id","first_name","last_name","sex","city","country","photo_100","photo_200","photo_max_orig","timezone","bdate","bdate_visibility","can_access_closed","is_closed"];return this.parseHandlerParams(e).then((e=>this.controller.isAnonymousLaunch?this.handleSuccess({id:0,first_name:this.getLang("vkconnect_mini_apps_catalog_anonymous_user_name"),last_name:this.getLang("vkconnect_mini_apps_catalog_anonymous_user_surname")}):this.controller.requestApiMethod("users.get",{...e,fields:t.join(",")}).then((({response:e})=>e.map(this.sanitizeUserInfo))).then(this.handleResult).then(this.handleSuccess))).catch(this.handleFailed)},this.parseHandlerParams=e=>{if(this.controller.isAnonymousLaunch&&(e.user_ids||e.user_id))return Promise.reject({error_code:oc.OQ.ANONYMOUS_ACCESS_UNSUPPORTED,error_reason:oc.XY.anonymousAccessUnsupported(nc.IT.GetUserInfo)});if(e.user_ids&&"string"!=typeof e.user_ids)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.wrongType("user_ids","string")});const t={};return e.user_ids&&(t.user_ids=e.user_ids),e.user_id&&(t.user_ids=String(e.user_id)),Promise.resolve(t)},this.handleResult=e=>new Promise(((t,i)=>{if(0===e.length)return i({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("user_id","valid user ID")});t(e.length>1?this.wrapResult(e):e[0])})),this.sanitizeUserInfo=({...e})=>{if(e.bdate_visibility===Bc)delete e.bdate;else if(e.bdate&&e.bdate_visibility===Rc){const[t,i]=e.bdate.split(".");e.bdate=`${t}.${i}`}return e}}},VKWebAppCreateHash:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.CreateHash,this.handle=e=>this.parseHandlerParams(e).then((({payload:e})=>this.controller.requestApiMethod("apps.getSecretHash",{request_id:e}))).then((({response:e})=>{const t={sign:e.sign,ts:e.ts};return e.edu_sign&&(t.edu_sign=e.edu_sign),e.request_id&&(t.payload=e.request_id),this.handleSuccess(t)})).catch(this.handleFailed),this.parseHandlerParams=e=>e.hasOwnProperty("payload")&&"string"!=typeof e.payload?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("payload","string")}):Promise.resolve(e)}},VKWebAppConversionHit:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.ConversionHit,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("ads.conversionHit",e))).then((({response:e})=>this.handleSuccess({result:!e}))).catch(this.handleFailed),this.parseHandlerParams=e=>e.pixel_code?"string"!=typeof e.pixel_code?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("pixel_code","string")}):e.conversion_event?"string"!=typeof e.conversion_event?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("conversion_event","string")}):e.conversion_value?"number"!=typeof e.conversion_value?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("conversion_value","number")}):Promise.resolve(e):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("conversion_value")}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("conversion_event")}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("pixel_code")})}},VKWebAppAllowNotifications:class extends Ac{confirm(){return new Promise(((e,t)=>{this.handleModal({type:"AllowNotificationsModal",data:{},actions:{onAccept:e,onDeny:()=>t({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.AllowNotifications,this.handle=e=>this.parseHandlerParams(e).then((e=>this.checkUserNotificationsEnabled().then((t=>t||this.confirm().then((()=>this.updateModalData({loading:!0}))).then((()=>this.allowUserNotifications(e))).then((({response:e})=>Boolean(e))))).then(this.wrapResult).then(this.handleSuccess).finally((()=>this.updateModalData({shouldClosed:!0}))))).catch(this.handleFailed),this.checkUserNotificationsEnabled=async()=>{const{response:e}=await this.controller.requestApiMethod("apps.get",{fields:"are_notifications_enabled,is_trusted"}),{items:t}=e,[i]=t;if(!["game","html5_game"].includes(i?.type)&&!i?.is_trusted)throw new Ic({error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(this.handlerName,"Notifications are not allowed for untrusted apps.")});return Boolean(i.are_notifications_enabled)},this.allowUserNotifications=e=>this.controller.requestApiMethod("apps.allowNotifications",e)}},VKWebAppDenyNotifications:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.DenyNotifications,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("apps.denyNotifications",e).then((({response:e})=>this.wrapResult(Boolean(e)))).then(this.handleSuccess))).catch(this.handleFailed)}},VKWebAppGetPhoneNumber:class extends Ac{confirm(){return new Promise(((e,t)=>{this.handleModal({type:"GetPhoneNumberConfirmModal",data:{},actions:{onAccept:e,onDeny:()=>t({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.GetPhoneNumber,this.handle=e=>this.parseHandlerParams(e).then((e=>{const{hostSettings:t}=this.controller.getMiniAppInfo();return(t.permissions?.includes("phone_number")?Promise.resolve(!0):this.confirm().then((()=>this.updateModalData({loading:!0})))).then((()=>this.controller.setHostPermissions("phone_number",1).catch(It.Fk))).then((()=>this.getPhoneNumber(e))).finally((()=>this.updateModalData({shouldClosed:!0})))})).catch(this.handleFailed),this.getPhoneNumber=e=>this.controller.requestApiMethod("account.getPhone",e).then((({response:e})=>this.handleSuccess({...e,isValid:!0})))}},VKWebAppGetEmail:class extends Ac{confirm(){return new Promise(((e,t)=>{this.handleModal({type:"GetEmailConfirmModal",data:{},actions:{onAccept:e,onDeny:()=>t({error_code:oc.OQ.ACCESS_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.GetEmail,this.handle=e=>this.parseHandlerParams(e).then((e=>{const{hostSettings:t}=this.controller.getMiniAppInfo();return(t.permissions?.includes("email")?Promise.resolve(!0):this.confirm().then((()=>this.updateModalData({loading:!0})))).then((()=>this.controller.setHostPermissions("email",1).catch(It.Fk))).then((()=>this.getEmail(e))).finally((()=>this.updateModalData({shouldClosed:!0})))})).catch(this.handleFailed),this.getEmail=e=>this.controller.requestApiMethod("account.getEmail",e).then((({response:e})=>this.handleSuccess(e)))}},VKWebAppStorageGetKeys:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.StorageGetKeys,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("storage.getKeys",e).then((({response:e})=>this.handleSuccess({keys:e}))))).catch(this.handleFailed),this.parseHandlerParams=e=>"number"!=typeof e.count?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("count","number")}):"number"!=typeof e.offset?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("offset","number")}):Promise.resolve({request_id:e.request_id,count:e.count,offset:e.offset})}},VKWebAppActionDone:class extends Ac{get successDescriptor(){return"transaction"===this.params?.type?"VKWebAppOpenPayFormResult":super.successDescriptor}constructor(...e){super(...e),this.handlerName=nc.IT.ActionDone,this.params=null,this.handle=(e,t)=>{if(t?.type===wc.sn)return this.parseHandlerParams(e).then((e=>(this.params=e,"transaction"===e.type?this.handleSuccess(e):Promise.reject({error_code:oc.OQ.UNKNOWN,error_reason:oc.XY.unsupportedPlatform()})))).catch(this.handleFailed);this.controller.sendMessageToHost({message:{params:e,handler:nc.IT.ActionDone}})},this.parseHandlerParams=e=>Promise.resolve(e)}},VKWebAppAddToFavorites:Mc,VKWebAppAllowMessagesFromGroup:class extends Ac{confirm(e){return new Promise(((t,i)=>{this.handleModal({type:"AllowMessagesFromGroupModal",data:{avatar:e.photo_100||"",group:e.name||""},actions:{onAccept:()=>t(e),onDeny:()=>i({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.AllowMessagesFromGroup,this.handle=e=>this.parseHandlerParams(e).then((e=>this.getGroupInfo(e).then((t=>t.is_messages_blocked?this.confirm(t).then((()=>this.updateModalData({loading:!0}))).then((()=>this.allowMessageFromGroup(e))).finally((()=>this.updateModalData({shouldClosed:!0}))):this.handleSuccess({result:!0}))))).catch(this.handleFailed),this.getGroupInfo=e=>this.controller.requestApiMethod("groups.getById",{group_ids:e.group_id,fields:"is_messages_blocked"}).then((e=>e.response.groups[0])),this.allowMessageFromGroup=e=>this.controller.requestApiMethod("messages.allowMessagesFromGroup",e).then((()=>this.handleSuccess({result:!0}))),this.parseHandlerParams=({group_id:e,key:t})=>e?"number"!=typeof e?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("group_id","number")}):t&&"string"!=typeof t?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("key","string")}):Promise.resolve({key:t,group_id:e}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("group_id")})}},VKWebAppJoinGroup:class extends Ac{confirm(e){return new Promise(((t,i)=>{this.handleModal({type:"JoinLeaveGroupModal",data:{action:u.bw.JOIN,avatar:e.photo_100||"",group:e.name||""},actions:{onAccept:t,onDeny:()=>i({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.JoinGroup,this.handle=async e=>this.parseHandlerParams(e).then((e=>this.getGroupInfo(e).then((t=>t.is_member?this.handleSuccess({result:!0}):this.confirm(t).then((()=>this.updateModalData({loading:!0}))).then((()=>this.joinGroup(e))).then((()=>this.handleSuccess({result:!0}))))))).catch(this.handleFailed).finally((()=>this.updateModalData({shouldClosed:!0}))),this.getGroupInfo=({group_id:e})=>this.controller.requestApiMethod("groups.getById",{group_ids:e,fields:"is_member"}).then((e=>e.response.groups[0])),this.joinGroup=({group_id:e})=>this.controller.requestApiMethod("groups.join",{group_id:e}),this.parseHandlerParams=e=>e.group_id?"number"!=typeof e.group_id?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("group_id","number")}):Promise.resolve({request_id:e.request_id,group_id:e.group_id}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("group_id")})}},VKWebAppLeaveGroup:class extends Ac{confirm(e){return new Promise(((t,i)=>{this.handleModal({type:"JoinLeaveGroupModal",data:{action:u.bw.LEAVE,avatar:e.photo_100||"",group:e.name||""},actions:{onAccept:t,onDeny:()=>i({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.LeaveGroup,this.handle=e=>this.parseHandlerParams(e).then((e=>this.getGroupInfo(e).then((t=>t.is_member?this.confirm(t).then((()=>this.updateModalData({loading:!0}))).then((()=>this.leaveGroup(e))).then((()=>this.handleSuccess({result:!0}))):this.handleSuccess({result:!0}))))).catch(this.handleFailed).finally((()=>this.updateModalData({shouldClosed:!0}))),this.getGroupInfo=({group_id:e})=>this.controller.requestApiMethod("groups.getById",{group_ids:e,fields:"is_member"}).then((e=>e.response.groups[0])),this.leaveGroup=({group_id:e})=>this.controller.requestApiMethod("groups.leave",{group_id:e}).then((()=>this.handleSuccess({result:!0}))),this.parseHandlerParams=e=>e.group_id?"number"!=typeof e.group_id?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("group_id","number")}):Promise.resolve({request_id:e.request_id,group_id:e.group_id}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("group_id")})}},VKWebAppTrackEvent:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.TrackEvent,this.handle=e=>this.parseHandlerParams(e).then(this.transformParams).then((e=>this.controller.trackMyTrackerEvent?.(Gu,e))).then((()=>this.handleSuccess(this.wrapResult(!0)))).catch(this.handleFailed),this.transformParams=({event_name:e,custom_user_id:t,event_params:i})=>Promise.resolve((0,Hu.B)({eventName:e,customUserId:t,eventParams:i})),this.parseHandlerParams=({event_name:e,custom_user_id:t,request_id:i,event_params:r})=>e?"string"!=typeof e?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("event_name","string")}):t&&"string"!=typeof t?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("custom_user_id","string")}):r&&!hc(r)?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("event_params","object")}):Promise.resolve({event_name:e,custom_user_id:t,request_id:i,event_params:r}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("event_name")})}},VKWebAppClose:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.Close,this.handle=e=>this.parseHandlerParams(e).then((e=>(this.controller.sendMessageToHost({message:{params:e,handler:nc.IT.Close}}),this.handleSuccess(e)))).catch(this.handleFailed),this.parseHandlerParams=e=>{const{status:t,payload:i}=e;if(void 0===t)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("status")});if(!(e=>wc.IC.includes(e))(t))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("status",'"success" or "failed"')});const r={status:t};if(void 0!==i){if("object"!=typeof i)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("payload","object")});r.payload=i}return Promise.resolve(r)}}},VKWebAppOpenApp:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.OpenApp,this.handle=e=>(this.controller.sendMessageToHost({message:{params:e,handler:nc.IT.OpenApp}}),this.handleSuccess({result:!0}))}},VKWebAppOpenPayForm:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.OpenPayForm,this.handle=e=>{this.controller.sendMessageToHost({message:{params:e,handler:nc.IT.OpenPayForm}})}}},VKWebAppGetGroupInfo:class extends Ac{confirm(e){return new Promise(((t,i)=>{this.handleModal({type:"GetGroupInfoConfirmModal",data:{avatar:e.photo_100||"",group:e.name||""},actions:{onAccept:()=>t(e),onDeny:()=>i({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})}})}))}constructor(...e){super(...e),this.handlerName=nc.IT.GetGroupInfo,this.handle=e=>this.parseHandlerParams(e).then(this.getGroupInfo).then(this.checkGroups).then(this.handleSuccess).catch(this.handleFailed),this.getGroupInfo=e=>this.controller.requestApiMethod("groups.getById",{group_ids:e.group_ids,fields:Ec.join(",")}).then((({response:e})=>e.groups)),this.checkGroups=e=>new Promise(((t,i)=>{const r=[];e.forEach((e=>{2!==e.is_closed?r.push(e):(e.is_member||i({error_code:oc.OQ.ACCESS_DENIED,error_reason:"User is not a member of the given private group"}),this.confirm(e).then((()=>r.push(e))).catch(i).finally((()=>this.updateModalData({shouldClosed:!0}))))})),t(r.length>1?this.wrapResult(r):r[0])})),this.parseHandlerParams=({request_id:e,group_id:t,group_ids:i})=>{if(!t&&!i)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:'Missing required param "group_id" or "group_ids".'});if(t&&"number"!=typeof t)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("group_id","number")});if(t&&t<=0)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.greaterThanZero("group_id")});if(i&&"string"!=typeof i)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("group_ids","string")});const r=(i||"").split(",").map((e=>Number(e.trim())));return r.push(t||0),Promise.resolve({request_id:e,group_ids:r.filter(Boolean).join(",")})}}},VKWebAppAlert:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.Alert,this.handle=e=>new Promise(((t,i)=>{this.parseHandlerParams(e).then((({actions:e,...i})=>{const r=e?.map((({handler:e,title:i,mode:r,style:o})=>({action:()=>t({response:e}),autoClose:!0,title:i,mode:r,style:o})));return this.controller.modalRequest?.({handlerName:nc.IT.Alert,type:"Alert",data:{...i,actions:r}})})).catch(i)})).then(this.handleSuccess).catch(this.handleFailed),this.parseHandlerParams=({title:e,style:t,message:i,actions:r})=>{if(!e)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("title")});if("string"!=typeof e)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("title","string")});if(t&&"string"!=typeof t)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("style","string")});if(!i)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("message")});if("string"!=typeof i)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("message","string")});const o=["cancel","destructive","default"],n=r?.some((({title:e,handler:t,style:i,mode:r})=>"string"!=typeof e||t&&"object"!=typeof t||i&&"string"!=typeof i||r&&(e=>!o.some((t=>t===e)))(r)));return r&&n?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:'Param "actions" is invalid'}):Promise.resolve({title:e,style:t,message:i,actions:r})}}},VKWebAppGetConfig:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.GetConfig,this.handle=()=>this.handleSuccess(this.controller.getMiniAppConfig())}},VKWebAppScrollTop:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.ScrollTop,this.handle=()=>{const{scrollTarget:e}=this.controller.getMiniAppInfo().config;return this.handleSuccess({scrollTop:e.scrollTop})}}},VKWebAppScrollTopStart:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.ScrollTopStart,this.handle=()=>{const{app:{id:e},config:{scrollTarget:t}}=this.controller.getMiniAppInfo();return Xc(e)?this.handleFailed({error_code:oc.OQ.CUSTOM,error_reason:oc.XY.scrollSubscriberAlreadyExist()}):((e=>{Zc.push(e)})(e),this.handleSuccess({result:!0,scrollTop:t.scrollTop.toString()}))}}},VKWebAppScrollTopStop:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.ScrollTopStop,this.handle=()=>{const{app:{id:e},config:{scrollTarget:t}}=this.controller.getMiniAppInfo();return(e=>{Zc.splice(Zc.indexOf(e),1)})(e),this.handleSuccess({result:!0,scrollTop:t.scrollTop.toString()})}}},VKWebAppShowImages:class extends Ac{checkUrlString(e){try{return!!new URL(e)}catch{return!1}}constructor(...e){super(...e),this.handlerName=nc.IT.ShowImages,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.modalRequest&&this.controller.modalRequest({data:e,handlerName:nc.IT.ShowImages,type:"ShowImages"}))).then((()=>this.handleSuccess({result:!0}))).catch(this.handleFailed),this.parseHandlerParams=e=>{const{images:t,start_index:i}=e;if(!e.hasOwnProperty("images"))return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("images")});if(!Array.isArray(t))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("images","array")});if(!t.length)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:'Param "array" should have minimum one element.'});if(!t.every((e=>this.checkUrlString(e))))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:'Param "array" should contain valid links.'});if(!t.every((e=>e.startsWith("https://"))))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:'Param "array" should contain https links.'});if(e.hasOwnProperty("start_index")){if("number"!=typeof i)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("start_index","number")});if(i<0)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:'Param "start_index" should be non-negative number.'});if(void 0===t[i])return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:'Param "start_index" should be a valid index in the pictures array.'})}return Promise.resolve(e)}}},VKWebAppRetargetingPixel:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.RetargetingPixel,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("ads.retargetingHit",{...e}))).then((()=>this.handleSuccess({result:!0}))).catch(this.handleFailed),this.parseHandlerParams=e=>{const{pixel_code:t,event:i,products_event:r,products_params:o,target_group_id:n,price_list_id:a}=e;return t?"string"!=typeof t?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("pixel_code","string")}):i&&"string"!=typeof i?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("event","string")}):a&&"number"!=typeof a?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("price_list_id","number")}):n&&"number"!=typeof n?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("target_group_id","number")}):r&&"string"!=typeof r?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("products_event","string")}):o&&"string"!=typeof o?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("products_params","string")}):Promise.resolve({request_id:e.request_id,pixel_code:t,event:i,products_event:r,products_params:o,target_group_id:n,price_list_id:a}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("pixel_code")})}}},VKWebAppSetTitle:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.SetTitle,this.handle=e=>this.parseHandlerParams(e).then((e=>(this.controller.sendMessageToHost({message:{params:e,handler:nc.IT.SetTitle}}),this.handleSuccess({result:!0})))).catch(this.handleFailed),this.parseHandlerParams=e=>e.title?Promise.resolve({title:`${this.controller.getMiniAppInfo().app.title} — ${e.title}`}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("title")})}},VKWebAppSetLocation:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.SetLocation,this.handle=e=>this.parseHandlerParams(e).then((({location:e})=>this.controller.setLocation(e))).then((()=>this.handleSuccess({result:!0}))).catch(this.handleFailed),this.parseHandlerParams=({request_id:e,location:t})=>t?"string"!=typeof t?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("location","string")}):Promise.resolve({request_id:e,location:t}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("location")})}},SetSupportedHandlers:Cc,VKWebAppCopyText:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.CopyText,this.handle=e=>this.parseHandlerParams(e).then((e=>Et(e.text).then((e=>e?{result:!0}:Promise.reject({error_code:oc.OQ.CUSTOM,error_reason:"Can’t copy text on this device"}))).then(this.handleSuccess))).catch(this.handleFailed),this.parseHandlerParams=e=>e.text?"string"!=typeof e.text?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("text","string")}):Promise.resolve({request_id:e.request_id,text:e.text}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("text")})}},VKWebAppScroll:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.Scroll,this.handle=e=>this.parseHandlerParams(e).then((e=>{const{scrollTarget:t}=this.controller.getMiniAppInfo().config,{top:i,speed:r}=e,o=r||400,n=window.scrollY,a=i-window.scrollY,s=performance.now();return new Promise((e=>{if("HTML"===t.tagName){const t=i=>{const r=(i-s)/o;window.scrollTo(window.scrollX,n+a*(r>1?1:r)),r>=1?e({top:window.scrollY,height:document.documentElement.clientHeight}):window.requestAnimationFrame(t)};window.requestAnimationFrame(t)}else t.scrollTop=i,e({top:i,height:t.clientHeight})}))})).then(this.handleSuccess).catch(this.handleFailed),this.parseHandlerParams=e=>{const{top:t,speed:i}=e,r={request_id:e.request_id,top:t};if(void 0===t)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("top")});if("number"!=typeof t)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("top","number")});if(void 0!==i){if("number"!=typeof i)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("speed","number")});r.speed=i}return Promise.resolve(r)}}},VKWebAppResizeWindow:class extends Ac{get minWidth(){const e=this.controller.getMiniAppInfo().app.id;return Yc.includes(e)?400:630}get minHeight(){const e=this.controller.getMiniAppInfo().app.id;return Gc.includes(e)?400:500}constructor(...e){super(...e),this.handlerName=nc.IT.ResizeWindow,this.handle=e=>this.parseHandlerParams(e).then((e=>(this.controller.resizeWindow(e.width,e.height),this.handleSuccess(e)))).catch(this.handleFailed),this.parseHandlerParams=({width:e,height:t})=>e||t?e&&"number"!=typeof e?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("width","number")}):t&&"number"!=typeof t?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("height","number")}):Promise.resolve({width:e&&Math.max(this.minWidth,Math.min(e,1e3)),height:t&&Math.max(this.minHeight,Math.min(t,1e4))}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:'Missing required param "width" or "height"'})}},VKWebAppGetSilentToken:Dc,VKWebAppShowSlidesSheet:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.ShowSlidesSheet,this.handle=e=>new Promise(((t,i)=>{const r=e=>t({result:!0,action:"reject",slide_index:e}),o=()=>t({result:!0,action:"confirm"}),n=()=>t({result:!0,action:"cancel"});this.parseHandlerParams(e).then((e=>this.controller.modalRequest&&this.controller.modalRequest({type:"SlidesSheetModal",data:e,handlerName:nc.IT.ShowSlidesSheet,actions:{onDeny:r,onConfirm:o,onClose:n}}))).catch(i)})).then(this.handleSuccess).catch(this.handleFailed),this.parseHandlerParams=e=>{if(!e.slides)return Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("slides")});if(!Array.isArray(e.slides))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("slides","array")});if(!e.slides.length||e.slides.length>10)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS});const t=e.slides.some((e=>!e.title||!e.subtitle||!e.media.blob||"image"!==e.media.type));return t?Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingOrWrongTypeParam()}):Promise.resolve(e)}}},VKWebAppForceLogout:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.AppForceLogout,this.handle=()=>{const e=this.controller.getMiniAppInfo().logoutHash,t=this.controller.getMiniAppConfig().app_id;return this.logout({hash:e,app_id:t}).then((e=>(this.controller.sendMessageToHost({message:{handler:nc.IT.AppForceLogout,params:e}}),this.handleSuccess({result:!0})))).catch(this.handleFailed)},this.logout=e=>{const t=this.controller.getMiniAppInfo().loginUrl,i={act:"connect_logout",hash:e.hash,app_id:e.app_id};if(Object.assign({},i,e.captchaResult),!e.hash)return Promise.reject({error_code:oc.OQ.UNKNOWN});const r=new Tc,o=e=>{const n=mc(e);fetch(`${t}/?${n}`,{mode:"cors",credentials:"include"}).then((e=>e.json())).then((e=>{if("okay"!==e.type)if(e.error?.error_code!==oc.OQ.CAPTCHA_ERROR)r.reject(e);else{const t=this.controller.getMiniAppInfo().onCaptcha;if(!t)return void r.reject({type:"error",error:"onCaptcha function is missing"});const{captcha_sid:n,captcha_img:a}=e.error;t({captcha_sid:n,captcha_img:a}).then((e=>{const t=Object.assign({},i,e);o(t)}))}else r.resolve(e)})).catch((()=>(0,It.Fk)("Can't logout")))};return o(i),r.get()}}},VKWebAppAuthByExchangeToken:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.AuthByExchangeToken,this.handle=e=>{if(this.controller.featureToggles.disableAuthByExchangeToken)return this.handleFailed({error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(this.handlerName)});const t=this.controller.getMiniAppInfo().exchangeHash;return this.parseHandlerParams(e).then((e=>{const{keep_alive:i,exchange_token:r}=e;return this.exchangeToken(r,t).then((()=>(this.controller.sendMessageToHost({message:{handler:nc.IT.AuthByExchangeToken,params:{keep_alive:i}}}),this.handleSuccess({result:!0}))))})).catch(this.handleFailed)},this.exchangeToken=(e,t)=>{const{loginUrl:i,onCaptcha:r}=this.controller.getMiniAppInfo(),o={token:e,hash:t},n=new Tc;t||n.reject({error_code:oc.OQ.UNKNOWN});const a=e=>{const t=mc(e);fetch(`${i}/?act=connect_exchange_token&${t}`,{mode:"cors",credentials:"include"}).then((e=>e.json())).then((e=>{if("okay"!==e.type)if(e.error?.error_code!==oc.OQ.CAPTCHA_ERROR)n.reject(e);else if(r){const{captcha_sid:t,captcha_img:i}=e.error;r({captcha_sid:t,captcha_img:i}).then((e=>{const t=Object.assign({},o,e);a(t)}))}else n.reject({type:"error",error:"onCaptcha function is missing"});else n.resolve(e)})).catch(n.reject)};return a(o),n.get()},this.parseHandlerParams=e=>e.exchange_token?"string"!=typeof e.exchange_token?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("exchange_token","string")}):Promise.resolve(e):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("exchange_token")})}},VKWebAppTranslate:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.Translate,this.handle=e=>this.parseHandlerParams(e).then((({texts:e,translation_language:t})=>this.controller.requestApiMethod("translations.translate",{translation_language:t,texts:e.join(",")}))).then((({response:e})=>this.handleSuccess({result:e}))).catch(this.handleFailed),this.parseHandlerParams=({request_id:e,texts:t,translation_language:i})=>t?Array.isArray(t)?i?"string"!=typeof i?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("translation_language","string")}):Promise.resolve({request_id:e,texts:t,translation_language:i}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("translation_language")}):Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("texts","array")}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("texts")})}},VKWebAppShowBannerAd:class extends Ac{getErrorCode(e){switch(e){case oc.XY.noAds():return oc.OQ.NO_ADS;case oc.XY.requestsLimitReached():return oc.OQ.REQUEST_LIMIT_REACHED;case oc.XY.userDenied():return oc.OQ.USER_DENIED;default:return oc.OQ.CUSTOM}}constructor(...e){super(...e),this.handlerName=nc.IT.ShowBannerAd,this.handle=async e=>{const t=this.validateParams(e),i=this.adsController.getBannerAdAvailability();if(!i.isAvailable)return this.handleFailed({error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(this.handlerName),error_description:oc.Rk.BANNER_IN_INTERNAL_APP});if(!i.position?.[t.banner_location])return this.handleFailed({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam(),error_description:oc.Rk.BANNER_TOP_IN_DIRECT_GAMES});if(t.orientation&&!i.orientation?.[t.orientation]&&(t.orientation="horizontal"),t.height_type&&!i.heightType?.[t.height_type]&&(t.height_type="regular"),"resize"===t.layout_type&&void 0!==t.banner_align&&"vertical"!==t.orientation)return this.handleFailed({error_code:oc.OQ.INVALID_PARAMS,error_reason:'Param "banner_align" can not be used with layout_type="resize"'});if(!this.isVerticalBannerLayoutTypeValid(t,i))return this.handleFailed({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("layout_type","resize")});if(!this.isVerticalBannerAlignValid(t,i))return this.handleFailed({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("banner_align","left")});try{const e=await this.adsController.loadBannerAd();if(!e)return this.handleSuccess({result:!1});const i=await this.adsController.handleBannerAd(e,t,this.handleMiniAppModal);return this.handleSuccess({result:!0,...i,...t})}catch(e){return this.handleFailed({error_code:this.getErrorCode(e),error_reason:e})}},this.validateParams=e=>{const t={...e};void 0!==t.banner_location&&["bottom","top"].includes(t.banner_location)||(t.banner_location="bottom");void 0!==t.layout_type&&["resize","overlay"].includes(t.layout_type)||(t.layout_type="resize");void 0!==t.height_type&&["compact","regular"].includes(t.height_type)||(t.height_type="regular");return void 0!==t.orientation&&["vertical","horizontal"].includes(t.orientation)||(t.orientation="horizontal"),"vertical"===t.orientation&&(void 0!==t.banner_align&&"center"!==t.banner_align||(t.banner_align="right")),t},this.isVerticalBannerLayoutTypeValid=(e,t)=>!("vertical"===e.orientation&&"overlay"===e.layout_type&&!t.verticalOverlay),this.isVerticalBannerAlignValid=(e,t)=>!("vertical"===e.orientation&&"right"===e.banner_align&&!t.verticalRight),this.handleMiniAppModal=(e,t)=>{this.controller.featureEnabled(ac.o.MiniAppSpaModalInShowNativeAds)?this.handleModal({type:"MiniAppSpaModal",data:e,actions:{onClose:t}}):this.handleModal({type:"MiniAppModal",data:e,actions:{onAccept:t}})}}},VKWebAppHideBannerAd:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.HideBannerAd,this.handle=async()=>{const e=this.adsController.hideBannerAd();return e?this.handleSuccess({result:!0,...e}):this.handleSuccess({result:!1})}}},VKWebAppCheckBannerAd:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.CheckBannerAd,this.handle=async()=>{const e=this.adsController.getOpenedBannerAd();return e?this.handleSuccess({result:!0,...e}):this.handleSuccess({result:!1})}}},VKWebAppCheckNativeAds:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.CheckNativeAds,this.handle=async e=>{const t={...e},i=t.ad_format;void 0===t.use_waterfall&&"reward"===i&&(t.use_waterfall=!0);try{return"interstitial"===i?this.preloadInterstitialAds(!1):this.preloadRewardAds(Boolean(t.use_waterfall))}catch(e){return this.handleFailed({error_code:oc.OQ.CUSTOM,error_reason:e})}},this.preloadInterstitialAds=async e=>{try{const t=await this.adsController.preloadInterstitialAds({isCheckAds:!0,isWaterfallCall:!1,isRewardFallback:e});return this.handleSuccess({result:t})}catch(e){return e===oc.XY.userIsBanned()?this.handleFailed({error_reason:e,error_code:oc.OQ.CUSTOM}):this.handleSuccess({result:!1})}},this.preloadInterstitialMulti=async()=>{try{const e=await this.adsController.preloadInterstitialMulti({isCheckAds:!0});return this.handleSuccess({result:"multi"===e||"single"===e})}catch(e){return e===oc.XY.userIsBanned()?this.handleFailed({error_reason:e,error_code:oc.OQ.CUSTOM}):this.handleSuccess({result:!1})}},this.preloadRewardAds=async e=>{let t=!1,i=!1;const r=await this.adsController.preloadRewardAds({isCheckAds:!0,isWaterfallCall:!1,useWaterfall:e}).catch((e=>(e===oc.XY.requestsLimitReached()&&(t=!0),e===oc.XY.userIsBanned()&&(i=!0),!1)));return r?this.handleSuccess({result:r}):i?this.handleFailed({error_reason:oc.XY.userIsBanned(),error_code:oc.OQ.CUSTOM}):e&&!t?this.preloadInterstitialMulti():this.handleSuccess({result:!1})}}},VKWebAppShowNativeAds:class extends Ac{getErrorCode(e){switch(e){case oc.XY.requestsLimitReached():return oc.OQ.REQUEST_LIMIT_REACHED;case oc.XY.userDenied():return oc.OQ.USER_DENIED;default:return oc.OQ.CUSTOM}}constructor(...e){super(...e),this.handlerName=nc.IT.ShowNativeAds,this.handle=async e=>{const t={...e},i=t.ad_format;void 0===t.use_waterfall&&"reward"===i&&(t.use_waterfall=!0);try{if("interstitial"===i){const e=await this.showInterstitialAds(!1);return e?this.handleSuccess({result:e}):this.handleFailed({error_code:oc.OQ.NO_ADS,error_reason:oc.XY.noAds()})}const e=await this.showRewardAds(Boolean(t.use_waterfall));return e?this.handleSuccess({result:e}):this.handleFailed({error_code:oc.OQ.NO_ADS,error_reason:oc.XY.noAds()})}catch(e){return this.handleFailed({error_code:this.getErrorCode(e),error_reason:e})}},this.showInterstitialAds=async e=>this.adsController.preloadInterstitialAds({isRewardFallback:e,isCheckAds:!1,isWaterfallCall:!1}).then((t=>!!t&&this.adsController.showInterstitialAds(e,this.handleMiniAppModal))),this.showInterstitialMulti=async()=>this.adsController.preloadInterstitialMulti({isCheckAds:!1}).then((e=>{switch(e){case"multi":return this.adsController.showInterstitialMulti(this.handleMiniAppModal);case"single":return this.adsController.showInterstitialAds(!0,this.handleMiniAppModal);default:return!1}})),this.handleMiniAppModal=(e,t)=>{this.controller.featureEnabled(ac.o.MiniAppSpaModalInShowNativeAds)?this.handleModal({type:"MiniAppSpaModal",data:e,actions:{onClose:t}}):this.handleModal({type:"MiniAppModal",data:e,actions:{onAccept:t}})},this.showRewardAds=async e=>await this.adsController.preloadRewardAds({useWaterfall:e,isCheckAds:!1,isWaterfallCall:!1})?this.adsController.showRewardAds(this.handleMiniAppModal):!!e&&this.showInterstitialMulti()}},VKWebAppKeyboardLock:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.KeyboardLock,this.handle=e=>{const t=window.navigator.keyboard;if(!t)return this.handleFailed({error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(nc.IT.KeyboardLock,'Your browser does not support this bridge method: "keyboard" does not exist on type "Navigator"')});const{app:{id:i}}=this.controller.getMiniAppInfo();return Wc.includes(i)?this.parseHandlerParams(e).then((({keys:e,unlock:i=!1})=>(i?t.unlock(e):t.lock(e),this.handleSuccess({result:!0})))).catch(this.handleFailed):this.handleFailed({error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(nc.IT.KeyboardLock,"Your application is not allowed to use this method")})},this.parseHandlerParams=({request_id:e,keys:t,unlock:i})=>{if(i&&"boolean"!=typeof i)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("unlock","boolean")});if(t){if(!Array.isArray(t))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("keys","array")});if(!t.every((e=>"string"==typeof e)))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType("keys","array of strings")})}return Promise.resolve({request_id:e,keys:t,unlock:i})}}},VKWebAppAddToMenu:class extends Mc{constructor(...e){super(...e),this.handlerName=nc.IT.AddToMenu}},VKWebAppShowGoodOrderBox:class extends Ac{constructor(...e){super(...e),this.handlerName=nc.IT.ShowGoodOrderBox,this.polingEnabled=!0,this.handle=e=>this.parseHandlerParams(e).then(this.showModalWithLoader).then(this.createOrder).then(this.insertPayFrame).then(this.pollOrderInfo).then(this.showSuccessModal).then(this.handleSuccess).catch(this.handleFailed).finally(this.handleFinally),this.showModalWithLoader=e=>(this.billingBridge=new Hc({handler:this.handleBridgeEvent,isValidEvent:this.isValidBillingEvent}),this.handleModal({type:"GoodOrderBoxModal",data:{state:xu,isMidasPaymentFrame:this.isMidasPaymentFrame},actions:{onUserDenied:this.onUserDenied,onCloseModal:()=>this.updateModalData({shouldClosed:!0})}}),e),this.createOrder=async e=>new Promise(((t,i)=>{this.rejectCreateOrder=i;(async()=>{try{const i=await this.controller.requestApiMethod("goodsOrders.createOrder",{item_id:e.external_item_id});t(i.response)}catch{this.updateModalData({state:Mu}),i({error_code:oc.OQ.CREATE_GOOD_ORDER,error_reason:oc.XY.goodOrder("Create")})}})()})),this.insertPayFrame=async({payment_url:e,order_id:t})=>(this.updateModalData({url:e,state:Au}),t),this.pollOrderInfo=e=>new Promise(((t,i)=>{this.rejectPolling=i;const r=async()=>{if(this.polingEnabled)try{const{response:{payment_status:o,order_status:n}}=await this.controller.requestApiMethod("goodsOrders.getOrder",{order_id:e}),a=o===_u,s=n===ku;o===yu&&n===wu&&t({order_id:e}),(a||s)&&(this.updateModalData({state:Mu}),i({error_code:oc.OQ.FAILURE_GOOD_ORDER_PAYMENT,error_reason:oc.XY.goodOrder("Payment")})),setTimeout((()=>{r()}),1e3)}catch{this.updateModalData({state:Mu}),i({error_code:oc.OQ.GET_GOOD_ORDER,error_reason:oc.XY.goodOrder("Get")})}};setTimeout((()=>{r()}),5e3)})),this.showSuccessModal=({order_id:e})=>(this.updateModalData({state:Su}),{order_id:e}),this.isValidBillingEvent=e=>{if("string"==typeof e.data)try{return"billing"===JSON.parse(e.data)?.type}catch(e){throw this.rejectPolling?.({error_code:oc.OQ.CONNECTION_LOST,error_reason:oc.XY.parsingMessageError()}),(0,It.Fk)(oc.XY.parsingMessageError(),e),this.updateModalData({state:Mu}),e}return!1},this.handleBridgeEvent=e=>{const t=JSON.parse(e),i={[mu]:this.handleBillingFormDataLoad,[bu]:()=>this.handleBillingCloseWindow(t),[fu]:this.handleBillingPageLoad,[vu]:this.handleBillingPaySuccess,[gu]:()=>this.handleBillingFireEvent(t)};t.action&&i[t.action]?.()},this.handleBillingPaySuccess=()=>{this.isMidasPaymentFrame||this.updateModalData({state:Pu})},this.handleBillingPageLoad=()=>{this.updateModalData({state:Cu})},this.handleBillingFireEvent=e=>{e.action_params?.eventName===Ou&&this.onUserDenied()},this.handleBillingFormDataLoad=()=>{this.updateModalData({state:Cu})},this.handleBillingCloseWindow=e=>{e.action_params?.status===ju&&this.updateModalData({state:Pu})},this.handleFinally=()=>{this.billingBridge?.destroy(),this.polingEnabled=!1},this.onUserDenied=()=>{this.updateModalData({shouldClosed:!0}),this.rejectPolling?.({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()}),this.rejectCreateOrder?.({error_code:oc.OQ.USER_DENIED,error_reason:oc.XY.userDenied()})},this.parseHandlerParams=e=>e.type?e.type!==Iu&&e.type!==Tu?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("type",`"${Iu}" or "${Tu}"`)}):e.external_item_id?e.hasOwnProperty("external_item_id")&&"string"!=typeof e.external_item_id?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.invalidParam("external_item_id","string")}):(this.isMidasPaymentFrame=e.type===Iu,Promise.resolve({type:e.type,external_item_id:e.external_item_id})):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("external_item_id")}):Promise.reject({error_code:oc.OQ.MISSING_PARAM,error_reason:oc.XY.missingParam("type")})}},VKWebAppSendCustomEvent:class extends Ac{buildEvent(e){const t=this.controller.getMiniAppInfo(),i=e.type||iu.TYPE_ACTION,r=t.app.hash?`#${t.app.hash}`:"",o=t.app.url+r,n=this.getSearchParams(o);return{[ru]:i,[i]:{type:"type_mini_app_custom_event_item"},[ou]:e.timezone||"",[nu]:e.event,[au]:e.json||"",[su]:e.screen||"none",[lu]:e.timestamp||Date.now(),[du]:t.app.id,[cu]:o,[uu]:e.vk_platform??n.get("vk_platform")??wc._C,[hu]:n.get("vk_user_id")??this.controller.userId,[pu]:this.controller.statsConfig?.data?.trackCode}}getSearchParams(e){try{return new URL(e).searchParams}catch{return new URLSearchParams}}constructor(...e){super(...e),this.handlerName=nc.IT.SendCustomEvent,this.handle=e=>this.parseHandlerParams(e).then((e=>this.buildEvent(e))).then((e=>this.sendCustomEvent({events:JSON.stringify([e])}))).then((()=>this.handleSuccess({result:!0}))).catch(this.handleFailed),this.sendCustomEvent=e=>this.controller.requestApiMethod("statEvents.addMiniApps",e),this.parseHandlerParams=e=>{const{type:t,timezone:i,event:r,json:o,screen:n,timestamp:a,vk_platform:s}=e;if(void 0!==t){if("string"!=typeof t)return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType(Qc,"string")});if(!Object.values(iu).includes(t))return Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:`Param "${Qc}" should be one of ${Object.values(iu).join(", ")}`})}return void 0!==i&&"string"!=typeof i?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType(Kc,"string")}):"string"!=typeof r?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType(qc,"string")}):void 0!==o&&"string"!=typeof o?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType(Jc,"string")}):void 0!==n&&"string"!=typeof n?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType($c,"string")}):void 0!==a&&"number"!=typeof a?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType(eu,"number")}):void 0!==s&&"string"!=typeof s?Promise.reject({error_code:oc.OQ.INVALID_PARAMS,error_reason:oc.XY.wrongType(tu,"string")}):Promise.resolve(e)}}}};class Ku extends Ac{get floodRate(){return this.overrideHandler.floodRate??super.floodRate}get isDryRunAllowed(){return fc(this.overrideHandler.supported)}async handleDryRun(e,t){const{modalRequested:i,supported:r}=t;i&&await new Promise((t=>{this.handleModal({type:"SkipActionModal",data:{handlerName:this.handlerName,params:e},actions:{onClose:t}})})).finally((()=>this.updateModalData({shouldClosed:!0})));const{dryRunResponse:o,dryRunError:n}=function(e){if(!fc(e))return;const t={};return"dryRunResponse"in e&&e.dryRunResponse&&(t.dryRunResponse=e.dryRunResponse),"dryRunError"in e&&e.dryRunError&&(t.dryRunError=e.dryRunError),t}(r)||{};return n?this.handleFailed(n):this.handleSuccess(o||this.wrapResult(!0))}constructor(e,t,i,r){super(e),this.handle=e=>!1!==this.overrideHandler.supported&&this.overrideHandler.handle?this.isDryRunAllowed?this.handleDryRun(e,this.overrideHandler):this.overrideHandler.handle(e,this.defaultHandler?.handle):this.handleFailed({error_code:oc.OQ.UNKNOWN,error_reason:oc.XY.unsupportedPlatform()}),this.overrideHandler=i,this.defaultHandler=r,this.handlerName=t}}const qu=(0,s.createContext)({}),Ju=[nc.IT.Init,nc.IT.SetSupportedHandlers,nc.IT.ActionDone,nc.IT.Alert,nc.IT.AuthByExchangeToken,nc.IT.CallApiMethod,nc.IT.CheckAllowedScopes,nc.IT.Close,nc.IT.CreateHash,nc.IT.GetAuthToken,nc.IT.GetClientVersion,nc.IT.GetConfig,nc.IT.GetEmail,nc.IT.GetGeodata,nc.IT.GetGroupInfo,nc.IT.GetLaunchParams,nc.IT.GetPhoneNumber,nc.IT.GetSilentToken,nc.IT.GetUserInfo,nc.IT.ResizeWindow,nc.IT.Scroll,nc.IT.ShowSlidesSheet,nc.IT.StorageGet,nc.IT.StorageGetKeys,nc.IT.TrackEvent,nc.IT.Translate];class $u{checkFloodExceeded(e,t){if(!t)return!1;const i=this.getQueue(e);return this.cleanupOldEntries(i,Date.now(),t.timeFrameMs),i.timestamps.length>=t.eventsCount}registerEvent(e,t){if(!t)return;this.getQueue(e).timestamps.push(Date.now())}cleanupOldEntries(e,t,i){const r=t-i;e.timestamps=e.timestamps.filter((e=>e>r))}getQueue(e){let t=this.queues.get(e);return t||(t={timestamps:[]},this.queues.set(e,t)),t}constructor(){this.queues=new Map}}class eh extends s.Component{render(){return(0,r.Y)(qu.Provider,{value:{},children:this.props.children})}componentDidMount(){this.context.registerHandlersController(this.getHandlersController),this.context.props?.onReady?.({sendMessageToMiniApp:this.sendMessageToMiniApp,sendEventToMiniApp:this.sendEventToMiniApp,lifecycle:this.context.lifecycle,getMessageHandler:e=>this.getMessageHandler({handler:e,params:{},type:Vc})}),this.lifecycleHooks.onMount.add((()=>{const{getIframeRef:e}=this.hostController,{current:t}=e();if(!t)throw new Error("no iframe to create bridge");this.bridge=new Hc({iframe:t,handler:this.invoke}),this.initHostEventsHandlers(),this.initSessionManager()}),{once:!0})}initHostEventsHandlers(){const{onHostEventResize:e,onConfigChange:t,onHostEventMessage:i,onHostEventScroll:r,onHostEventHashChange:o,getMiniAppInfo:n}=this.hostController;n().config.viewportSize||e(this.triggerUpdateConfig),t(this.triggerUpdateConfig),i(this.handleHostMessage),r(this.handleScrollTop),o(this.handleHashChange)}componentWillUnmount(){(e=>{zc.splice(zc.indexOf(e),1)})(this.hostController.getMiniAppInfo().app.id),this.bridge?.destroy()}get sessionUuid(){return this.context.stats?.sessionUuid||""}get lifecycleHooks(){return this.context.lifecycle.hooks}async handle(e,t){try{const i=await e.handle(t.params);i&&(this.sendMessageToMiniApp({message:i,originMessage:t}),e.logBridgeEvent(i))}catch(e){return(0,It.Fk)("[Client Error]",e)}}get hostController(){if(!this.context.host)throw(0,It.Fk)("MiniApp is not initialized"),new Error("MiniApp is not initialized");return this.context.host}async requestApiMethod(e,t){const i={...t};if(!this.context.host)throw(0,It.Fk)("Mini-app controller is not initialized"),new Error("Mini-app controller is not initialized");const{apiVersion:r,app:o}=this.hostController.getMiniAppInfo(),n=await this.context.host.getHostToken();return this.context.host.requestApiMethod(e,{...i,v:r,app_id:o.id,access_token:n})}requestApiMethodAsMiniApp(e,t,i){if(!this.context.host)throw(0,It.Fk)("Mini-app controller is not initialized"),new Error("Mini-app controller is not initialized");const{app:r}=this.hostController.getMiniAppInfo();return this.context.host.requestApiMethod(e,{...t,api_id:r.id},i)}initSessionManager(){this.context.stats?.initSessionManager?.({requestApiMethod:this.requestApiMethod.bind(this)})}constructor(e){super(e),this.handlers=Qu,this.floodControlService=new $u,this.invoke=async e=>{const t=this.checkSupportStatus(e);if(t)return this.sendErrorToMiniApp(e,t);if(!hc(e.params))return void this.sendErrorToMiniApp(e,{error_code:oc.OQ.INVALID_PARAMS,error_reason:"Parameters should be passed as object"});this.lifecycleHooks.onBridgeMethod.fire({params:e,miniAppInfo:this.hostController.getMiniAppInfo()}),e.params.request_id||nc.oB.includes(e.handler)||(0,It.xM)("[Client Error]",e.handler,oc.XY.missingParam("request_id"));const i=this.getMessageHandler(e);if(i){if(this.hostController.featureEnabled(ac.o.MiniAppsVkBridgeFloodControl)){const t=i.floodRate;if(this.floodControlService.checkFloodExceeded(e.handler,t))return void this.sendErrorToMiniApp(e,{error_code:oc.OQ.REQUEST_LIMIT_REACHED,error_reason:oc.XY.requestsLimitReached()});this.floodControlService.registerEvent(e.handler,t)}await this.handle(i,e)}else this.sendErrorToMiniApp(e,{error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(e.handler)})},this.getOverrideHandlers=()=>this.context.props?.handlers??{},this.getOverrideHandler=e=>{const{[e]:t}=this.getOverrideHandlers();return t},this.triggerUpdateConfig=a((()=>{this.sendEventToMiniApp(nc.BS.UpdateConfig,this.hostController.getMiniAppConfig())}),50),this.handleHostMessage=e=>{e.data?.type===wc.sn&&((0,It.V4)("received from host",e.data),this.invoke(e.data)?.catch(It.Fk))},this.handleScrollTop=()=>{const{app:e,config:t}=this.hostController.getMiniAppInfo(),{scrollTarget:i}=t;Xc(e.id)&&this.sendEventToMiniApp(nc.BS.ScrollTop,{scrollTop:i.scrollTop})},this.handleHashChange=e=>{const{hashState:t}=this.hostController.getMiniAppState(),[i,r]=t;try{const t=new URL(e.newURL).hash.replace("#","");if(t===i)return;r(t),this.sendEventToMiniApp(nc.BS.ChangeFragment,{location:decodeURIComponent(t)})}catch(e){return}},this.sendErrorToMiniApp=(e,t)=>{e.type===wc.sn||this.sendMessageToMiniApp({message:{type:`${e.handler}Failed`,data:{error_type:"client_error",error_data:t}},originMessage:e})},this.sendMessageToMiniApp=e=>{this.bridge?.sendMessage(e)},this.getInternalHandlerCheck=e=>{const{app:t}=this.hostController.getMiniAppInfo();if(!t?.internal&&nc.Le.includes(e.handler))return{error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(e.handler)}},this.getDryRunHandlerCheck=e=>{const t=this.getOverrideHandler(e.handler);if(fc(t?.supported)&&Ju.some((t=>t===e.handler)))return{error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatform(e.handler)}},this.getModalRequestedHandlerCheck=e=>{const t=this.getOverrideHandler(e.handler);if((nc.ci.includes(e.handler)||t?.modalRequested)&&!this.context.props?.onModalRequest)return{error_code:oc.OQ.UNSUPPORTED_PLATFORM,error_reason:oc.XY.unsupportedPlatformNoModal(e.handler)}},this.getAnonymousHandlerCheck=e=>{if(this.hostController.isAnonymousLaunch&&nc.g0.includes(e.handler))return{error_code:oc.OQ.ANONYMOUS_ACCESS_UNSUPPORTED,error_reason:oc.XY.anonymousAccessUnsupported(e.handler)}},this.getShowAdsHandlerCheck=e=>{if(this.hostController.appIsInFullscreen()&&nc.Br.includes(e.handler))return{error_code:oc.OQ.CUSTOM,error_reason:oc.XY.appIsInFullscreen()}},this.checkSupportStatus=e=>this.getAnonymousHandlerCheck(e)||this.getInternalHandlerCheck(e)||this.getModalRequestedHandlerCheck(e)||this.getDryRunHandlerCheck(e)||this.getShowAdsHandlerCheck(e),this.getMessageHandler=e=>{let t,i;const r=this.getOverrideHandlers(),{ads:o,handlers:n}=this.context;return this.handlers.hasOwnProperty(e.handler)&&(t=new this.handlers[e.handler]({ads:o,handlers:n})),r.hasOwnProperty(e.handler)&&(i=new Ku({ads:o,handlers:n},e.handler,r[e.handler],t)),i?.setData(e.params),t?.setData(e.params),i||t},this.logBridgeEvent=({miniAppId:e,event:t,error:i,bridgeLog:r,callArguments:o})=>{const{current:n}=this.hostController.getIframeRef(),a=this.context.stats?.bridgeEventStatsCollector;if(n){const s={webviewUrl:n.src,miniAppId:e,event:t,error:i,bridgeLog:r,callArguments:o};a?a.logEvent({...s,sessionUuid:this.sessionUuid}):this.context.props?.logBridgeEvent?.(s)}},this.resizeWindow=(e,t)=>{this.context.props?.onResizeWindow?.(e,t)},this.logBridgeEventSuccess=e=>{const{app:{id:t}}=this.hostController.getMiniAppInfo();this.logBridgeEvent({miniAppId:t,event:{event_type:e,is_success:!0}})},this.logBridgeEventError=e=>{const{app:{id:t}}=this.hostController.getMiniAppInfo();this.logBridgeEvent({miniAppId:t,event:{event_type:e,is_success:!1},error:{error_type:"client_error",error_code:oc.OQ.CUSTOM}})},this.sendEventToMiniApp=(e,t)=>{try{this.sendMessageToMiniApp({message:{type:e,data:t}}),this.logBridgeEventSuccess(e)}catch(t){this.logBridgeEventError(e)}},this.setLocation=e=>{const{hashState:[,t]}=this.hostController.getMiniAppState();history.pushState(null,"",e?`#${e}`:""),t(e),this.sendEventToMiniApp(nc.BS.LocationChanged,{location:e})},this.getLang=(e,t)=>this.context.props?.getLang?this.context.props?.getLang(e,t):e,this.getHandlersController=()=>{if(!this.context.host)throw(0,It.Fk)("Mini-app controller is not initialized"),new Error("Mini-app controller is not initialized");return{...this.context.host,invoke:this.invoke,getOverrideHandlers:this.getOverrideHandlers,requestApiMethod:this.requestApiMethod.bind(this),requestApiMethodAsMiniApp:this.requestApiMethodAsMiniApp.bind(this),getMiniAppToken:this.context.props?.onGetMiniAppToken??n,sendMessageToMiniApp:this.sendMessageToMiniApp,sendEventToMiniApp:this.sendEventToMiniApp,resizeWindow:this.context.props?.onResizeWindow??n,modalRequest:this.context.props?.onModalRequest,logBridgeEvent:this.logBridgeEvent,setLocation:this.setLocation,getLang:this.getLang,trackMyTrackerEvent:this.context.stats?.trackMyTrackerEvent,statsConfig:this.context.stats?.statsConfig}}}}var th;eh.contextType=d,function(e){e.onBeforeMount="onBeforeMount",e.onMount="onMount",e.onDestroy="onDestroy",e.onBridgeMethod="onBridgeMethod",e.onInit="onInit",e.onIframeTimeoutError="onIframeTimeoutError"}(th||(th={}));var ih=i(369475);var rh=i(338577);const oh=e=>{const t=(0,s.useRef)(e.config),i=((e,t)=>{const i=(0,s.useRef)(new rh.q);return(0,s.useEffect)((()=>{e()&&i.current.fire()}),t),(0,s.useEffect)((()=>()=>i.current.clear()),[]),i.current.add.bind(i.current)})((()=>!pc(e.config,t.current)),[e.config]);return(0,s.useEffect)((()=>{t.current=e.config}),[e.config]),{onConfigChange:i}},nh={width:"100%",height:"100%",scrolling:"yes",frameBorder:"0"},ah=e=>{const t=(0,s.useState)({}),i=(0,s.useState)((({url:e,hash:t=""})=>{const i=new URL(e).hash.substring(1);return t||i})(e.app));return{hostSettingsState:t,hashState:i,exchangeHashState:(0,s.useState)(""),logoutHashState:(0,s.useState)(""),iframePropsState:(0,s.useState)({...nh,...e.iframeProps})}},sh=e=>{const t=(0,s.useRef)(null),[i,r]=(0,s.useState)(null),{hostSettingsState:o,hashState:a,exchangeHashState:l,logoutHashState:d,iframePropsState:c}=ah(e),{onHostEventHashChange:u,onHostEventMessage:h,onHostEventResize:p,onHostEventScroll:m}=(({scrollTarget:e})=>{const t=(0,s.useRef)({hashchange:new rh.q("window(hashchange)"),resize:new rh.q("window(resize)"),message:new rh.q(""),scroll:new rh.q("window(scroll)")}),i=(0,s.useCallback)((e=>i=>t.current[e].add(i)),[]),r=(0,s.useCallback)((()=>{Object.keys(t.current).forEach((i=>{const r=i,o=t.current[r],n=o.fire;"scroll"===r&&e&&"HTML"!==e.tagName?e.removeEventListener(r,n):window.removeEventListener(r,n),o.clear()}))}),[]);return(0,s.useEffect)((()=>(Object.keys(t.current).forEach((i=>{const r=i,o=t.current[r].fire;"scroll"===r&&e&&"HTML"!==e.tagName?e.addEventListener(r,o):window.addEventListener(r,o)})),r)),[]),(0,s.useMemo)((()=>({onHostEventHashChange:i("hashchange"),onHostEventResize:i("resize"),onHostEventMessage:i("message"),onHostEventScroll:i("scroll")})),[])})({scrollTarget:e.config.scrollTarget}),{onConfigChange:b}=oh(e),[f,v]=o,[g]=a,[_,y]=l,[w,k]=d,[x,A]=c,C=()=>({...e,hash:g,logoutHash:w,exchangeHash:_,hostSettings:f}),P=()=>t,S=(0,s.useCallback)((async t=>{if(i&&!t)return i;{const i=await e.onGetHostToken(t);return r(i),i}}),[!!i]),M=(0,s.useCallback)(((t,i,r)=>{const o={...i};return Object.entries(o).forEach((([e,t])=>{void 0===t&&delete o[e]})),e.requestApiMethod?e.requestApiMethod(t,o,r):(0,ih.nc)(e.apiUrl,t,o).then((e=>(0,ih.Ow)(e)?Promise.reject(e.error):e))}),[]),I=(0,s.useCallback)((()=>S().then((t=>M("apps.getDevicePermissions",{access_token:t,device_id:e.host.id,app_id:e.app.id,v:5.128}))).then((({response:e})=>{v({...e})})).catch((()=>{(0,It.Fk)("Can't get host permissions")}))),[e.app.id]),T=(0,s.useCallback)(((t,i,r,o)=>{const{onCaptcha:n}=e;if(n){const{captcha_sid:e,captcha_img:t}=o.error;n({captcha_sid:e,captcha_img:t}).then((e=>{const t=Object.assign({},r,e);i(t)}))}else t.reject({type:"error",error:"onCaptcha function is missing"})}),[]),O=(0,s.useCallback)((()=>{const t={app_id:e.host.id,version:1};if(!e.app.internal)return Promise.reject();const i=new Tc,r=e.loginUrl,o={mode:"cors",credentials:"include"},n=e=>{const a=mc(e);fetch(`${r}/?act=web_token&${a}`,o).then((e=>e.json())).then((e=>{if(e.data.logout_hash)return k(e.data.logout_hash),void i.resolve(e);e.error?.error_code!==oc.OQ.CAPTCHA_ERROR?i.reject(e):T(i,n,t,e)})).catch((()=>(0,It.Fk)("Can't get logout hash")))};return n(t),i.get()}),[e.app.internal]),j=(0,s.useCallback)((()=>{const t={app_id:e.host.id};if(!e.app.internal)return Promise.reject();const i=new Tc,r=e.loginUrl,o={mode:"cors",credentials:"include"},n=e=>{const a=mc(e);fetch(`${r}/?act=connect_exchange_hash&${a}`,o).then((e=>e.json())).then((e=>{if("okay"===e.type)return y(e.data.hash),void i.resolve(e);e.error?.error_code!==oc.OQ.CAPTCHA_ERROR?i.reject(e):T(i,n,t,e)})).catch((()=>(0,It.Fk)("Can't get exchange hash")))};return n(t),i.get()}),[e.app.internal]),L=()=>{r(null)},E=t=>{(0,It.V4)("send to host",t.message),e.onMessage&&e.onMessage(t)},N=(0,s.useCallback)(((t,i)=>S().then((r=>M("apps.setDevicePermissions",{name:t,value:i,access_token:r,device_id:e.host.id,app_id:e.app.id,v:e.apiVersion||5.128}))).then(I).catch((()=>{(0,It.Fk)("Can't set host permissions")}))),[e.app.id]),D=(0,s.useMemo)((()=>{if(!e.featureEnabled(ac.o.AnonymousLaunch))return!1;const t=new URLSearchParams(e.app.url).get("vk_is_unauth");return!!Number(t)}),[e.app.url]),B=(0,s.useCallback)((()=>S().then((t=>M("apps.install",{access_token:t,app_id:e.app.id,v:e.apiVersion}))).catch((()=>{throw(0,It.Fk)("Can't installed game"),new Error("MiniAppSDK: Cant installed game")}))),[e.app.id]),R=(0,s.useMemo)((()=>{const{app:t}=e;return void 0!==t.isInstalled&&!t.isInstalled&&!D}),[]),z=(0,s.useCallback)((()=>{if(!R)return;(window.requestIdleCallback||window.setTimeout)((()=>{B().catch(It.Fk)}))}),[]),V=(0,s.useCallback)((()=>{const{__vkPayLegacyForceMobile:t,app:i}=e,r=Number(i.id)===Uc,o={...i.query};r&&(o.is_mobile=t?"":"1");const n=r&&o.action?`https://web-view.vkpay.io/${o.action}`:i.url,a=new URL(n);return Object.keys(o).length>0&&(a.search=`${a.search?`${a.search}&`:"?"}${Lc.A.stringify(o)}`),a.hash=g,a.toString()}),[g]),H=()=>{const{config:e,host:t,apiUrl:i,app:r}=C(),{isLayer:o,insets:n,scheme:a,appearance:s,adaptivity:l,integration:d,backButton:c,viewportSize:u}=e,{id:h,title:p}=t,m={insets:n,scheme:a,appearance:s,adaptivity:l,integration:d,app:p,app_id:h,vk_platform:wc._C,back_button:c,api_host:new URL(i).host,viewport_width:u?.width??window.innerWidth,viewport_height:u?.height??window.innerHeight,avail_width:u?.width??window.innerWidth,avail_height:u?.height??window.innerHeight,is_layer:o};try{const e=new URLSearchParams(r.url).get("vk_platform");e&&Object.assign(m,{vk_platform:e})}catch(e){(0,It.Fk)(e)}return m},W=()=>({hostSettingsState:o,hashState:a,exchangeHashState:l,logoutHashState:d,iframePropsState:c}),F=()=>{const e=document.fullscreenElement;return null!==e&&t.current===e};return(0,s.useEffect)((()=>{t.current&&e.setRef?.(t.current)}),[t.current]),(0,s.useEffect)((()=>{A({...x,...e.iframeProps}),e.featureToggles?.disableAuthByExchangeToken||(j().catch(It.Fk),O().catch(It.Fk)),I().catch(It.Fk),z()}),[]),(0,s.useMemo)((()=>({getIframeRef:P,getMiniAppState:W,onConfigChange:b,onHostEventHashChange:u,onHostEventMessage:h,onHostEventResize:p,onHostEventScroll:m,buildUrl:V,getHostToken:S,clearHostToken:L,getMiniAppConfig:H,getMiniAppInfo:C,sendMessageToHost:E,setHostPermissions:N,requestApiMethod:M,onError:e.onError??n,featureEnabled:e.featureEnabled,featureToggles:e.featureToggles||{},isAnonymousLaunch:D,appIsInFullscreen:F,userId:e.userId})),[e,g,w,_,f,x])},lh="start_time",dh="act_result_time",ch="screen_open_time",uh="webview_start_load_time",hh="webview_end_load_time",ph="app_init_time",mh="end_time",bh=[lh,ch,uh,hh,ph,mh],fh=0,vh=1,gh=5,_h="Storage troubles",yh="App iframe not loaded",wh="Not app init",kh="Early app closing",xh="mini_apps_performance_storage",Ah=(0,s.createContext)({sessionUuid:""});function Ch(){return(0,s.useContext)(Ah)}const Ph=(0,s.createContext)(l.Bl);var Sh,Mh;!function(e){e.ACTIVATE="activate",e.DEACTIVATE="deactivate"}(Sh||(Sh={})),function(e){e.BEFORE_LEAVE="beforeLeave"}(Mh||(Mh={}));class Ih{destroy(){Object.values(this.eventHooks).forEach((e=>e.clear())),window.removeEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.removeEventListener("pagehide",this.onPageHide.bind(this))}activate(){this.eventHooks[Sh.ACTIVATE].fire()}deactivate(){this.eventHooks[Sh.DEACTIVATE].fire()}onVisibilityChange(){document.hidden?this.deactivate():this.activate()}onPageHide(){this.eventHooks[Mh.BEFORE_LEAVE].fire()}constructor(){this.eventHooks={[Sh.ACTIVATE]:new rh.q(Sh.ACTIVATE),[Sh.DEACTIVATE]:new rh.q(Sh.DEACTIVATE),[Mh.BEFORE_LEAVE]:new rh.q(Mh.BEFORE_LEAVE)},window.addEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.addEventListener("pagehide",this.onPageHide.bind(this))}}const Th=({children:e,iframe:t,lifecycle:i,...o})=>{const{onBridgeMethod:n,onInit:a,onDestroy:l}=i.hooks,d=Ch();return(0,s.useEffect)((()=>{i.fire(th.onBeforeMount,o);const e=new Ih,t=()=>{e.destroy(),i.fire(th.onDestroy,o)};e.eventHooks[Mh.BEFORE_LEAVE].add(t);const r=n.add((({params:{handler:e}})=>{e===nc.IT.Init&&(d.performanceStatsService?.setInitType("bridge"),i.fire(th.onInit,o),r())}));return t}),[]),(0,s.useEffect)((()=>{if(t){i.fire(th.onMount,{...o,iframe:t});const e=()=>{d.performanceStatsService?.setInitType("frame_load"),i.fire(th.onInit,o),t.removeEventListener("load",e)};o.app.isWithoutInitApp&&t.addEventListener("load",e);const r=setTimeout((()=>{i.fire(th.onIframeTimeoutError,o),t.removeEventListener("load",e)}),3e4),n=()=>{window.clearTimeout(r),t.removeEventListener("load",e)};a.add(n,{once:!0}),l.add(n,{once:!0})}}),[t]),(0,r.Y)(Ph.Provider,{value:i,children:e})},Oh=({props:e,children:t})=>{const{id:i}=e.app,o=(0,l.y5)(i),n=sh(e),{getMiniAppInfo:a}=n,c=Ch(),u=n.getIframeRef(),h=(0,s.useRef)(null),p=(0,s.useRef)(null),m=(0,s.useMemo)((()=>({iframeRef:u,lifecycle:o,props:e,get ads(){return h.current?.()||null},get handlers(){return p.current?.()||null},host:n,stats:c,registerAdsController:e=>{h.current=e},registerHandlersController:e=>{p.current=e}})),[u.current,e,n]);return(0,s.useEffect)((()=>{e.onExternalInit?.((()=>{o.fire(th.onInit,a()),c.performanceStatsService?.setInitType("external")}))}),[]),(0,r.Y)(d.Provider,{value:m,children:(0,r.Y)(Th,{...a(),iframe:u.current,lifecycle:o,children:t})})},jh=["sign","access_token","auth_key","secret","sid","sign_keys"];class Lh{async waitForReady(){await new Promise((e=>{this.pushEvent({type:"onready",callback:e})}))}transformMiniAppInfoToEventParams({id:e,url:t}){const[,i]=t.split("?"),r=new URLSearchParams(i),o=r.get("vk_user_id")||"";return jh.forEach((e=>{r.has(e)&&r.delete(e)})),{miniAppId:e,platformUserId:o,queryParams:r.toString()}}trackTimeSpentEvent({userId:e,activityId:t,eventType:i}){this.pushEvent({id:Fu,type:i,activity:t,userid:e,canUseInBackground:!0})}constructor({id:e,url:t,isEnabledMyTrackerTrackEvents:r}){this.initSubscribes=(e,t)=>{if(t){const{onDestroy:t,onMount:i}=(0,l.x0)(e).hooks;this.pageActivity=new Ih,this.unsubscribePageActivity=this.pageActivity.eventHooks[Mh.BEFORE_LEAVE].add(this.trackMiniAppClose),i.add(this.trackMiniAppOpen,{once:!0}),t.add((()=>{this.trackMiniAppClose(),this.destroy()}),{once:!0})}},this.trackEvent=async(e,t)=>{if(!Lh.initialized)try{(e=>document.head.querySelectorAll(`script[src="${e}"]`).length>0)(Wu)||await lc(Wu,3e3,{async:!0,crossOrigin:"anonymous"}),await this.waitForReady(),Lh.initialized=!0}catch{(0,It.Fk)("Failed to load MyTracker script")}this.pushEvent({id:Fu,type:"miniAppEvent",params:{...this.miniAppEventParams,...t,eventType:e}})},this.pushEvent=e=>{window._tmr.push(e)},this.trackMiniAppOpen=async()=>{await this.trackEvent(Uu)},this.trackMiniAppClose=async()=>{await this.trackEvent(Yu)},this.destroy=()=>{this.pageActivity?.destroy(),this.unsubscribePageActivity?.()},i._dG("_tmr",window._tmr||[]),this.miniAppEventParams=this.transformMiniAppInfoToEventParams({id:e,url:t}),this.initSubscribes(e,r)}}Lh.initialized=!1;var Eh={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Nh;const Dh=new Uint8Array(16);function Bh(){if(!Nh&&(Nh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nh(Dh)}const Rh=[];for(let e=0;e<256;++e)Rh.push((e+256).toString(16).slice(1));function zh(e,t,i){if(Eh.randomUUID&&!t&&!e)return Eh.randomUUID();const r=(e=e||{}).random||(e.rng||Bh)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=r[e];return t}return function(e,t=0){return Rh[e[t+0]]+Rh[e[t+1]]+Rh[e[t+2]]+Rh[e[t+3]]+"-"+Rh[e[t+4]]+Rh[e[t+5]]+"-"+Rh[e[t+6]]+Rh[e[t+7]]+"-"+Rh[e[t+8]]+Rh[e[t+9]]+"-"+Rh[e[t+10]]+Rh[e[t+11]]+Rh[e[t+12]]+Rh[e[t+13]]+Rh[e[t+14]]+Rh[e[t+15]]}(r)}var Vh,Hh,Wh,Fh,Uh,Yh,Gh,Zh;!function(e){e.TYPE_ACTION="type_action"}(Vh||(Vh={})),function(e){e.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",e.TYPE_AD_MINI_APPS_EVENT_ITEM="type_ad_mini_apps_event_item",e.TYPE_MINI_APPS_SESSION="type_mini_apps_session"}(Hh||(Hh={})),function(e){e.MINI_APPS_PERFORMANCE="type_mini_apps_performance",e.WEB_APP_STARTS="type_web_app_starts",e.ACCESSIBILITY_ERRORS_COVERAGE="type_accessibility_errors_coverage_item"}(Wh||(Wh={})),function(e){e.TYPE_DEV_NULL_ITEM="type_dev_null_item"}(Fh||(Fh={})),function(e){e[e.BANNER_NOT_UPDATED=0]="BANNER_NOT_UPDATED",e[e.BANNER_UPDATED=1]="BANNER_UPDATED",e[e.BANNER_NOT_CHANGED=2]="BANNER_NOT_CHANGED"}(Uh||(Uh={})),function(e){e.SHOW_AD="show_ad",e.CLICK_AD="click_ad"}(Yh||(Yh={})),function(e){e.SHOW_BANNER_AD="show_banner_ad",e.HIDE_BY_USER="hide_by_user",e.HIDE_BY_APP="hide_by_app",e.CLICK_BANNER_AD="click_banner_ad"}(Gh||(Gh={})),function(e){e.SESSION_END="session",e.SESSION_PART="session_part"}(Zh||(Zh={}));class Xh{logEvent({event:e,options:t}){const i={...this.productionStatCollector.getBaseEvent(),type:Vh.TYPE_ACTION,[Vh.TYPE_ACTION]:e};this.productionStatCollector.logEvent({event:i,options:t})}constructor(e){this.productionStatCollector=e}}class Qh{getCurrentTime(){return Date.now().toString(10)+"000"}getIntId(){return Math.floor(Math.random()*dc)}logEvent({event:e,options:t}){e.type&&e[e.type]?this.sendStatEvent?(this.sendStatEvent("saveProductionStats","productionStats",e,t),this.lastEvent=e):(0,It.Fk)("ProductionStatCollector: sendStatEvent not provided."):(0,It.Fk)("ProductionStatCollector: invalid event.",e)}getBaseEvent(e){return{id:this.getIntId(),prev_id:this.lastEvent?.id,timestamp:this.getCurrentTime(),url:window.location.href,screen:e}}constructor(e){this.lastEvent=null,this.sendStatEvent=e}}Qh.MAX_INT32=2147483647;class Kh{logEvent({webviewUrl:e,miniAppId:t,event:i,error:r,sessionUuid:o,bridgeLog:n,callArguments:a}){const s=this.bridgeMethodsToLogCallArguments.includes(i.event_type),l={...i};s&&a&&(l.call_arguments=function(e){const t=JSON.stringify(e);if(!(t.length>256))return t}(a));const d={webview_url:e,mini_app_id:t,event:l,error:r,session_uuid:o,bridge_log:n?.slice(0,256),track_code:this.statsConfig?.data?.trackCode},c={type:Hh.TYPE_BRIDGE_EVENT_ITEM,[Hh.TYPE_BRIDGE_EVENT_ITEM]:d};this.actionStatCollector.logEvent({event:c})}constructor(e,t,i){this.productStatCollector=new Qh(e),this.actionStatCollector=new Xh(this.productStatCollector),this.bridgeMethodsToLogCallArguments=t||cc,this.statsConfig=i}}class qh{logEvent({miniAppId:e,adFormat:t,options:i,adAvailable:r,eventType:o,updated:n}){const a={mini_app_id:e,event:{event_type:o,ad_format:t,ad_available:r,actual_slot_id:Number(i.selectedSlot),skipped_slots:i.alreadyUsedSlots||[],actual_ad_format:i.actualAdFormat||t,skipped_reasons:i.skippedReasons||[],banner_updated:n,banner_id:i.bannerId||0}};this.statsConfig?.data?.trackCode&&(a.track_code={track_code:this.statsConfig.data.trackCode});const s={type:Hh.TYPE_AD_MINI_APPS_EVENT_ITEM,[Hh.TYPE_AD_MINI_APPS_EVENT_ITEM]:a};this.actionStatCollector.logEvent({event:s})}logBannerAdsShown(e,t){this.logEvent({miniAppId:e,adFormat:B,options:t,adAvailable:!0,eventType:Gh.SHOW_BANNER_AD})}logBannerAdsNotFound(e,t){this.logEvent({miniAppId:e,adFormat:B,options:t,adAvailable:!1,eventType:Gh.SHOW_BANNER_AD})}logBannerAdsHidden(e,t){this.logEvent({miniAppId:e,adFormat:B,options:t,adAvailable:!0,eventType:Gh.HIDE_BY_APP})}logBannerAdsHiddenByUser(e,t){this.logEvent({miniAppId:e,adFormat:B,options:t,adAvailable:!0,eventType:Gh.HIDE_BY_USER})}logBannerAdsUpdated(e,t){this.logEvent({miniAppId:e,adFormat:B,options:t,adAvailable:!0,eventType:Gh.SHOW_BANNER_AD,updated:Uh.BANNER_UPDATED})}logBannerAdsUpdateNotFound(e,t){this.logEvent({miniAppId:e,adFormat:B,options:t,adAvailable:!1,eventType:Gh.SHOW_BANNER_AD,updated:Uh.BANNER_NOT_CHANGED})}logBannerAdsClick(e,t){this.logEvent({miniAppId:e,adFormat:B,options:t,adAvailable:!0,eventType:Gh.CLICK_BANNER_AD})}logRewardAdsNotFound(e,t){this.logEvent({miniAppId:e,adFormat:N,options:t,adAvailable:!1,eventType:Yh.SHOW_AD})}logRewardAdsHidden(e,t){this.logEvent({miniAppId:e,adFormat:N,options:t,adAvailable:!0,eventType:Yh.SHOW_AD})}logRewardAdsHiddenByUser(e,t){this.logEvent({miniAppId:e,adFormat:N,options:t,adAvailable:!0,eventType:Gh.HIDE_BY_USER})}logRewardAdsClick(e,t){this.logEvent({miniAppId:e,adFormat:N,options:t,adAvailable:!0,eventType:Yh.CLICK_AD})}logInterstitialAdsShown(e,t){this.logEvent({miniAppId:e,adFormat:t.type||D,options:t,adAvailable:!0,eventType:Yh.SHOW_AD})}logInterstitialAdsNotFound(e,t){this.logEvent({miniAppId:e,adFormat:t.type||D,options:t,adAvailable:!1,eventType:Yh.SHOW_AD})}logInterstitialAdsClick(e,t){this.logEvent({miniAppId:e,adFormat:t.type||D,options:t,adAvailable:!0,eventType:Yh.CLICK_AD})}constructor(e,t){this.productStatCollector=new Qh(e),this.actionStatCollector=new Xh(this.productStatCollector),this.statsConfig=t}}class Jh{getCurrentTime(){return Date.now().toString(10)+"000"}getIntId(){return Math.floor(Math.random()*dc)}getBaseEvent(){return{id:this.getIntId(),timestamp:this.getCurrentTime()}}logEvent({event:e,options:t}){e.type&&e[e.type]?this.sendStatEvent?this.sendStatEvent("saveCustomStats","customStats",e,t):(0,It.Fk)("CustomStatCollector: sendStatEvent not provided."):(0,It.Fk)("CustomStatCollector: invalid event.",e)}constructor(e){this.sendStatEvent=e}}class $h{logEvent({event:e,options:t}){const i={...this.customStatCollector.getBaseEvent(),type:Fh.TYPE_DEV_NULL_ITEM,[Fh.TYPE_DEV_NULL_ITEM]:e};this.customStatCollector.logEvent({event:i,options:t})}constructor(e){this.customStatCollector=e}}class ep{logEvent({event:e}){this.devNullStatCollector.logEvent({event:e})}logAdsRequest({adFormat:e,count:t,isMotion:i,isValidResponse:r,isInterstitialMulti:o,motionExpGroup:n,motionRewardExpGroup:a,appId:s,slotId:l}){const d={key:fe,value:t,value_str:e+"_request",value2:i?1:0,value3:o?1:0,value4:r?1:0,value5:n,value6:a,value7:s,value8:l};this.logEvent({event:d})}logAdsResponse({adFormat:e,count:t,isMotion:i,isValidResponse:r,isInterstitialMulti:o,error:n,motionExpGroup:a,motionRewardExpGroup:s,appId:l,slotId:d}){const c={key:fe,value:t,value_str:e,value2:i?1:0,value3:o?1:0,value4:r?1:0,value5:a,value6:s,value7:l,value8:d};n&&(c.value_str2=n),this.logEvent({event:c})}logAdsShow({adFormat:e,stage:t,bannerId:i,isMotion:r,isInterstitialMulti:o,error:n,motionExpGroup:a,motionRewardExpGroup:s,appId:l,slotId:d}){const c={key:fe,value:t,value_str:e+"_show",value2:r?1:0,value3:o?1:0,value4:1,value_str3:i,value5:a,value6:s,value7:l,value8:d};n&&(c.value_str2=n),this.logEvent({event:c})}constructor(e){this.devNullStatCollector=new $h(new Jh(e))}}class tp{logEvent({appUrl:e,sessionPart:t,session:i}){const r=this.createSessionPartEventStats(t,e),o=this.createSessionEndEventStats(i,e);if(this.forceSendStatEvent){const e=this.createGeneralStatEvents(),t=r&&{...this.productStatCollector.getBaseEvent(),type:Vh.TYPE_ACTION,[Vh.TYPE_ACTION]:r},i=o&&{...this.productStatCollector.getBaseEvent(),type:Vh.TYPE_ACTION,[Vh.TYPE_ACTION]:o};return t&&e.productionStats.push(t),i&&e.productionStats.push(i),void(e.productionStats.length&&this.forceSendStatEvent(e))}this.sendStatEvent&&(r&&this.actionStatCollector.logEvent({event:r}),o&&this.actionStatCollector.logEvent({event:o}))}createGeneralStatEvents(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[],benchmarkMainStats:[],vkResStats:[]}}createSessionPartEventStats(e,t){if(!e)return null;const{sessionUuid:i,appId:r,partId:o,duration:n}=e;return{type:Hh.TYPE_MINI_APPS_SESSION,[Hh.TYPE_MINI_APPS_SESSION]:{type:Zh.SESSION_PART,event:Zh.SESSION_PART,webview_url:t,session_uuid:i,mini_app_id:r,part_id:o,session_duration:n,track_code:this.statsConfig?.data?.trackCode}}}createSessionEndEventStats(e,t){if(!e||!e.duration)return null;const{sessionUuid:i,appId:r,duration:o}=e;return{type:Hh.TYPE_MINI_APPS_SESSION,[Hh.TYPE_MINI_APPS_SESSION]:{type:Zh.SESSION_END,event:Zh.SESSION_END,webview_url:t,session_uuid:i,mini_app_id:r,session_duration:o,track_code:this.statsConfig?.data?.trackCode}}}constructor(e,t,i){this.productStatCollector=new Qh(e),this.actionStatCollector=new Xh(this.productStatCollector),this.forceSendStatEvent=t,this.sendStatEvent=e,this.statsConfig=i}}class ip{getStorage(){const e=y.getItem(xh);if(!e)return{};return JSON.parse(e)||{}}setStorage(e){y.setItem(xh,JSON.stringify(e))}isStorageEmpty(){const e=this.getStorage();return 0===Object.keys(e).length}getPerformance(e){return this.getStorage()[e]||{}}clearPerformance(e,t=!1){const i=this.getStorage();t?delete i[e]:i[e]={sent:!0},this.setStorage(i)}writePerformance(e,t){const i={...this.getStorage(),[e]:{...this.getPerformance(e),...t}};this.setStorage(i)}writeStartPerformance(e,t){const i={...this.getStorage(),[e]:{...t}};this.setStorage(i)}}const rp=e=>bh.every((t=>e[t])),op=e=>{const t=(e=>bh.reduce(((t,i)=>(e[i]||t.push(i),t)),[]))(e),i={errorCode:fh};if(t.length>2)i.errorCode=fh,i.errorDescription=_h;else switch(t[0]){case hh:i.errorCode=vh,i.errorDescription=yh;break;case ph:case mh:i.errorCode=gh,i.errorDescription=wh;break;default:i.errorCode=fh,i.errorDescription=_h}return i};class np{createPerformanceEventData(e,t){const i=t?t.toString():Date.now().toString(10);return{[e]:i}}storePerformanceEvent(e,t,i,r){const o=t===lh,n=t===mh,a={app_id:e,session_uuid:this.sessionUuid};this.performanceFromProps.hasOwnProperty("isDirectLink")&&(a.is_direct_link=this.performanceFromProps.isDirectLink),o&&(a.webview_url=i||"",a.is_fallback_start=!r),a.init_type=this.initType;const s={...this.createPerformanceEventData(t,r),...a},l=this.performanceStorage;return o?l.writeStartPerformance(this.storageKey,s):l.writePerformance(this.storageKey,s),n}sendPerformanceEvent(e,t){const i=this.performanceStorage,r=t||this.storageKey,o=i.getPerformance(r),{app_id:n,webview_url:a,error_code:s,sent:l}=o;if(l||this.isCollisionSending(o))return void i.clearPerformance(r,l);const d={...o,app_id:n||e,webview_url:a||"",is_success:void 0===s};if(d.is_success&&!rp(d)){const{attempts:n}=o;if(!(void 0!==n&&n>0))return i.writePerformance(r,{attempts:1}),void setTimeout((()=>{this.sendPerformanceEvent(e,t)}),1e4);{const{errorCode:e,errorDescription:t}=op(d);d.error_code=e,d.error_description=t,d.is_success=!1}}this.miniAppPerformanceCollector.logEvent({event:d,callback:()=>{this.performanceStorage.clearPerformance(r)}})}sendErrorPerformanceEvent(e,t){const i=this.performanceStorage,{errorCode:r,errorDescription:o}=t,n={error_code:r,error_description:o};i.writePerformance(this.storageKey,n),this.sendPerformanceEvent(e)}sendPerformanceStatsError(e,t=fh,i){const r={errorCode:t,errorDescription:i};this.sendErrorPerformanceEvent(e,r)}checkUnfinishedPerformanceTasks(){this.performanceStorage.isStorageEmpty()||this.finishPerformanceTasks()}isCollisionSending(e){const{attempts:t=0}=e;return t>0&&1===Object.keys(e).length}onAppClose(e){const t=this.performanceStorage.getPerformance(this.storageKey),i={...t,app_id:e},r=0===Object.keys(t).length;rp(i)&&!i.sent?this.sendPerformanceEvent(e):r||this.sendPerformanceStatsError(e,gh,kh)}finishPerformanceTasks(){const e=this.performanceStorage,t=e.getStorage();Object.keys(t).forEach((t=>{const i=e.getPerformance(t),{sent:r,start_time:o,app_id:n}=i,a=Number(o||0),s=Date.now()>a+6048e5,l=Date.now()<a+3e5;r||s?e.clearPerformance(t,!0):!l&&n&&this.sendPerformanceEvent(n,t)}))}collectPerformanceFrame(e){if(this.collectPerformanceStats({appId:this.appId,step:uh}),e){const t=()=>{this.collectPerformanceStats({appId:this.appId,step:hh}),e.removeEventListener("load",t)};e.addEventListener("load",t)}}setInitType(e){this.initType=e}constructor({miniAppPerformanceCollector:e,sessionUuid:t,appId:i,webviewUrl:r,performanceFromProps:o}){this.initType="no_init",this.collectPerformanceStats=({appId:e,step:t,webviewUrl:i,externalTime:r})=>{try{this.storePerformanceEvent(e,t,i,r)&&this.sendPerformanceEvent(e)}catch(t){this.sendPerformanceStatsError(e,fh,t)}},this.collectPerformanceStart=()=>{this.checkUnfinishedPerformanceTasks();const{startTime:e,actResultTime:t}=this.performanceFromProps;this.collectPerformanceStats({appId:this.appId,step:lh,webviewUrl:this.webviewUrl,externalTime:e}),t&&this.collectPerformanceStats({appId:this.appId,step:dh,externalTime:t}),this.collectPerformanceStats({appId:this.appId,step:ch})},this.collectPerformanceAfterInit=()=>{this.collectPerformanceStats({appId:this.appId,step:ph}),this.collectPerformanceStats({appId:this.appId,step:mh})},this.collectPerformanceOnFrameError=()=>{this.sendPerformanceStatsError(this.appId,vh,yh)},this.collectPerformanceOnDestroy=()=>{this.onAppClose(this.appId),this.removeOnDestroy(),window.removeEventListener("beforeunload",this.collectPerformanceOnDestroy)},this.performanceStorage=new ip,this.miniAppPerformanceCollector=e,this.sessionUuid=t,this.appId=i,this.webviewUrl=r,this.performanceFromProps=o??{},this.storageKey=`${i}_${t}`;const{onBeforeMount:n,onMount:a,onInit:s,onDestroy:d,onIframeTimeoutError:c}=(0,l.x0)(this.appId).hooks;n.add((()=>this.collectPerformanceStart()),{once:!0}),a.add((({iframe:e})=>this.collectPerformanceFrame(e)),{once:!0}),s.add(this.collectPerformanceAfterInit,{once:!0}),c.add(this.collectPerformanceOnFrameError,{once:!0}),this.removeOnDestroy=d.add(this.collectPerformanceOnDestroy,{once:!0}),window.addEventListener("beforeunload",this.collectPerformanceOnDestroy)}}class ap{logEvent({event:e}){e.type&&e[e.type]?this.sendStatEvent("saveBenchmarkMainStats","benchmarkMainStats",e):(0,It.Fk)("BenchmarkMainStatCollector: invalid event.",e)}getBaseEvent(){return{id:this.getIntId(),timestamp:this.getCurrentTime()}}getIntId(){return Math.floor(Math.random()*dc)}getCurrentTime(){return(1e3*Date.now()).toString(10)}constructor(e){this.sendStatEvent=e}}class sp{logEvent({event:e,callback:t}){const i={...this.benchmarkMainStatCollector.getBaseEvent(),type:Wh.MINI_APPS_PERFORMANCE,[Wh.MINI_APPS_PERFORMANCE]:e};this.benchmarkMainStatCollector.logEvent({event:i}),t?.()}constructor(e){this.benchmarkMainStatCollector=new ap(e)}}const lp={triggerEvents:["mouseover","mousedown","keypress","scroll"],timeout:36e5,focusElement:window},dp="app_sessions",cp="app_session_parts",up="sessionPartEnd",hp="sessionGoing",pp="sessionPartStart",mp="partEnd",bp="partStart",fp="partGoing",vp="activity",gp="close",_p="open";function yp(){return/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(window.navigator.userAgent.toLowerCase())}class wp{load(){let e;try{e=JSON.parse(y.getItem(dp)||"{}")}catch(t){e={}}return e}remove(e){const t=this.load();delete t[e],y.setItem(dp,JSON.stringify(t))}save(e){const t=this.load();t[e.sessionUuid]=e,y.setItem(dp,JSON.stringify(t))}loadPart(){let e;try{e=JSON.parse(y.getItem(cp)||"{}")}catch(t){e={}}return e}removePart(e,t){const i=this.loadPart();delete i[this.buildPartKey(e,t)],y.setItem(cp,JSON.stringify(i))}savePart(e){const t=this.loadPart();t[this.buildPartKey(e.sessionUuid,e.partId)]=e,y.setItem(cp,JSON.stringify(t))}buildPartKey(e,t){return`${e}_${t}`}}const kp=(e,t)=>Math.floor((t-e)/1e3);const xp=new class{_onVisibilityChange(){this.wakeLockSentinel&&"visible"===document.visibilityState&&this.lock().catch(console.error)}requestWakeLock(){return navigator.wakeLock?this.wakeLockSentinel?Promise.resolve():navigator.wakeLock.request("screen").then((e=>{this.wakeLockSentinel=e})):Promise.reject()}isLocked(){return!!this.wakeLockSentinel&&!this.wakeLockSentinel.released}lock(){return this.requestWakeLock().then((()=>{this.wakeLockSentinel&&document.addEventListener("visibilitychange",this.onVisibilityChange)}))}unlock(){return this.wakeLockSentinel?(document.removeEventListener("visibilitychange",this.onVisibilityChange),this.wakeLockSentinel.release().finally((()=>{this.wakeLockSentinel=null}))):Promise.resolve()}constructor(){this.onVisibilityChange=this._onVisibilityChange.bind(this)}};var Ap;!function(e){e.IDLE="idle",e.UNIDLE="unidle"}(Ap||(Ap={}));const Cp=/iphone/i.test(window.navigator.userAgent.toLowerCase())||/ipad/i.test(window.navigator.userAgent.toLowerCase())||/ipod/i.test(window.navigator.userAgent.toLowerCase());class Pp{stop(){this.started=!1,Mp(this.opts.element,this.opts.triggerEvents,this.cbActive),yp()&&this._isTopLevel()&&Mp(document,["visibilitychange"],this.onVisiblityChange),yp()&&Cp||(Mp(this.opts.focusElement,["focus"],this.cbActive),Mp(this.opts.focusElement,["blur"],this.cbInactive)),clearTimeout(this.setIdleTo),clearTimeout(this.checkIdleCbTo),clearTimeout(this.sendCbTO),this.is_idle=!0}idle(e){this.is_idle=!0,e||this.opts.onIdleCb(),this.eventHooks[Ap.IDLE].fire()}unidle(e){this.is_idle=!1,e||this.opts.onUnIdleCb(),this.eventHooks[Ap.UNIDLE].fire()}start(){this.started=!0,this.is_idle=!this._isFocused(),yp()&&this._isTopLevel()&&Sp(document,["visibilitychange"],this.onVisiblityChange),yp()&&Cp||(Sp(this.opts.focusElement,["focus"],this.cbActive),Sp(this.opts.focusElement,["blur"],this.cbInactive)),clearTimeout(this.checkIdleCbTo),this.checkIdleCb(),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout)}constructor(e){this.started=!1,this.is_idle=!0,this.eventHooks={[Ap.IDLE]:new rh.q(Ap.IDLE),[Ap.UNIDLE]:new rh.q(Ap.UNIDLE)},this.activeTimeStart=null,this.checkIdleCb=()=>{this.started&&(Sp(this.opts.element,this.opts.triggerEvents,this.cbActive),clearTimeout(this.setIdleTo),this.setIdleTo=setTimeout(this.cbInactive,this.opts.idleTimeout))},this.cbActive=()=>{this.started&&(this.activeTimeStart=(new Date).getTime(),clearTimeout(this.setIdleTo),this.is_idle&&(this.is_idle=!1,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout((()=>{this.eventHooks[Ap.UNIDLE].fire(),this.opts.onUnIdleCb&&this.opts.onUnIdleCb()}),100)),Mp(this.opts.element,this.opts.triggerEvents,this.cbActive),clearTimeout(this.checkIdleCbTo),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout))},this.cbInactive=()=>{this.started&&(xp.isLocked()||(this.activeTimeStart=null,this.is_idle||(this.is_idle=!0,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout((()=>{this.eventHooks[Ap.IDLE].fire(),this.opts.onIdleCb&&this.opts.onIdleCb()}),100)),clearTimeout(this.checkIdleCbTo),Mp(this.opts.element,this.opts.triggerEvents,this.cbActive),Sp(this.opts.element,this.opts.triggerEvents,this.cbActive),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout)))},this.getActiveTime=()=>!this.is_idle&&this.activeTimeStart?(new Date).getTime()-this.activeTimeStart:0,this.onVisiblityChange=()=>{"visible"===document.visibilityState?this.cbActive():this.cbInactive()},this._isTopLevel=()=>{const{focusElement:e}=this.opts;return e===window||e===document},this._isFocused=()=>{const{focusElement:e}=this.opts;return this._isTopLevel()?"string"==typeof document.visibilityState&&"visible"===document.visibilityState:document.activeElement===e},this.opts={triggerEvents:["mousemove","keydown"],onIdleCb:n,onUnIdleCb:n,focusElement:e.element,idleTimeout:3e4,...e}}}function Sp(e,t,i){t.forEach((t=>{e.addEventListener(t,i,{passive:yp()})}))}function Mp(e,t,i){t.forEach((t=>{e.removeEventListener(t,i)}))}class Ip{start(){this.isStarted=!0,this.idleManager?.start(),this.startPart()}destroy(){this.idleManager?.stop();const e=this.endPart();return this.isStarted=!1,this.options.pageActiveState&&(this.options.pageActiveState.eventHooks[Sh.ACTIVATE].remove(this.onExternalUnIdle),this.options.pageActiveState.eventHooks[Sh.DEACTIVATE].remove(this.onExternalIdle)),this.log("Destroy"),e}log(e,...t){(0,It.V4)(`[SessionPartTracker][${this.sessionUuid}] ${e}`,...t)}constructor(e,t,i={},r){this.partNumber=0,this.partStartTime=0,this.isStarted=!1,this.startPart=()=>{this.partStartTime&&this.endPart(),this.partStartTime=(new Date).valueOf(),this.log("Start part"),this.eventHooks[bp].fire(),this.partGoingTimer=setInterval((()=>{const e={sessionUuid:this.sessionUuid,appId:this.appId,partId:this.partNumber,start:this.partStartTime,lastActivity:(new Date).valueOf()};this.eventHooks[fp].fire(e)}),1e4)},this.endPart=()=>{const e=(new Date).valueOf(),t=kp(this.partStartTime,e);if(!this.isStarted||!this.partStartTime)return;const i=this.partNumber,r=this.partStartTime;if(this.partNumber+=1,this.partStartTime=0,clearInterval(this.partGoingTimer),t>0){const o={sessionUuid:this.sessionUuid,appId:this.appId,partId:i,start:r,end:e,duration:t};return this.eventHooks[mp].fire(o),this.log(`End part ${o.partId} duration: ${o.duration}`),o}this.log(`Skip part ${i} duration: ${t}`)},this.onExternalIdle=()=>{this.isStarted&&this.idleManager?.idle(!1)},this.onExternalUnIdle=()=>{this.isStarted&&this.idleManager?.unidle(!1)},this.sessionUuid=t,this.appId=e,this.options=Object.assign({},lp,i),this.eventHooks=r,this.idleManager=new Pp({id:this.sessionUuid,element:document,focusElement:this.options.focusElement,triggerEvents:this.options.triggerEvents,idleTimeout:this.options.timeout}),this.idleManager.eventHooks[Ap.IDLE].add(this.endPart),this.idleManager.eventHooks[Ap.UNIDLE].add(this.startPart),this.options.pageActiveState&&(this.options.pageActiveState.eventHooks[Sh.ACTIVATE].add(this.onExternalUnIdle),this.options.pageActiveState.eventHooks[Sh.DEACTIVATE].add(this.onExternalIdle))}}class Tp{start(){return this.startTime||(this.startTime=(new Date).valueOf(),this.lastActivityTime=this.startTime,this.partTracker.start(),this.log("Start session")),this.session}continue(e){this.sessionUuid!==e.sessionUuid&&this.log(`WARNING! Requested to start session with different id: ${e.sessionUuid}`),this.startTime||(this.startTime=e.start,this.lastActivityTime=e.lastActivity,this.partTracker.start(),this.log("Continue session"))}destroy(){this.eventHooks[mp].remove(this.onPartEnd),this.eventHooks[fp].remove(this.updateSessionLastActiveTime),this.eventHooks[bp].remove(this.onPartStart);const e=(new Date).valueOf(),t=this.partTracker.destroy();return[this.endSession(e),t]}get session(){return{sessionUuid:this.sessionUuid,lastActivity:this.endTime||Number(this.lastActivityTime),start:Number(this.startTime),appId:this.appId,...this.endTime?{duration:kp(Number(this.startTime),this.endTime)}:{}}}endSession(e){if(!this.startTime)return;this.endTime=e;const t=this.session;return this.log("End session",t.duration),t}log(e,...t){(0,It.V4)(`[SessionTrackerService][${this.sessionUuid}] ${e}`,...t)}constructor(e,t,i,r){this.onPartEnd=e=>{this.lastActivityTime=e.end,this.eventHooks[up].fire(e)},this.updateSessionLastActiveTime=e=>{this.lastActivityTime=e.lastActivity||(new Date).valueOf(),this.eventHooks[hp].fire(e)},this.onPartStart=()=>{this.eventHooks[pp].fire()},this.sessionUuid=t,this.appId=e,this.partTracker=i,this.eventHooks=r,this.eventHooks[mp].add(this.onPartEnd),this.eventHooks[fp].add(this.updateSessionLastActiveTime),this.eventHooks[bp].add(this.onPartStart)}}class Op{start(){this.eventHooks[mp].add(this.partEnd),this.eventHooks[fp].add(this.partGoing),this.sendStats(_p)}destroy(){this.eventHooks[mp].remove(this.partEnd),this.eventHooks[fp].remove(this.partGoing),this.sendStats(gp)}constructor(e){this.partGoing=()=>{this.totalActiveDuration+=10,this.totalActiveDuration>=910&&this.durationAfterRequest<60||(this.durationAfterRequest+=10,this.durationAfterRequest>=60&&(this.durationAfterRequest-=60,this.sendStats(vp)))},this.partEnd=e=>{const t=e.duration%10;this.totalActiveDuration+=t,this.totalActiveDuration<910&&(this.durationAfterRequest+=t)},this.sendStats=async(e,t)=>{const i=()=>{!t&&setTimeout((()=>{this.sendStats(e,!0)}),1e4)};try{await this.requestApiMethod("stats.trackVisitor",{app_id:this.appId,session_uuid:this.sessionUuid,session_duration:this.totalActiveDuration,type:e})}catch{i()}},this.sessionUuid=e.sessionUuid,this.appId=e.appId,this.requestApiMethod=e.requestApiMethod,this.eventHooks=e.eventHooks,this.totalActiveDuration=0,this.durationAfterRequest=0}}class jp{init(){this.submitStoredEndedSessions(),this.submitStoredSessionParts(),this.removeOnInit=this.onInit.add(this.initSession,{once:!0}),this.isExternalInitAvailable||this.onExternalSessionStart?.(this.initSession),this.onDestroy.add(this.stopSession)}submitStoredEndedSessions(){const e=this.loadSessions();Object.entries(e).forEach((([e,t])=>this.sessions.set(e,t)));for(const e of this.sessions.values())if(e.duration||(new Date).valueOf()-e.lastActivity>72e5){const t=e.duration||kp(e.start,e.lastActivity),i={...e,duration:t};this.submitSession(i)}}submitStoredSessionParts(){const e=this.loadSessionParts();Object.entries(e).forEach((([,e])=>{if(e.duration&&e.end)this.submitSessionPart(e);else if(e.lastActivity&&(new Date).valueOf()-e.lastActivity>6e4){const t=kp(e.start,e.lastActivity),i={...e,duration:t,end:e.lastActivity};this.submitSessionPart(i)}}))}startSession(e,t){const i={focusElement:document,pageActiveState:this.pageActiveState};this.partTracker=new Ip(e,t,i,this.eventHooks),this.activeSessionService=new Tp(e,t,this.partTracker,this.eventHooks),this.disableVisitorTrackerService||(this.visitorTrackerService=new Op({appId:e,sessionUuid:t,requestApiMethod:this.requestApiMethod,eventHooks:this.eventHooks})),this.visitorTrackerService&&this.visitorTrackerService.start(),this.eventHooks[up].add(this.onSessionPartEnd),this.eventHooks[hp].add(this.onSessionGoing),this.eventHooks[pp].add(this.onSessionPartStart),this.sessions.has(t)?this.activeSessionService.continue(this.sessions.get(t)):this.activeSessionService.start()}destroy(){if(!this.activeSessionService)return;this.eventHooks[up].remove(this.onSessionPartEnd),this.eventHooks[hp].remove(this.onSessionGoing),this.eventHooks[pp].remove(this.onSessionPartStart);const[e,t]=this.activeSessionService.destroy();if(this.visitorTrackerService&&this.visitorTrackerService.destroy(),t&&e){const i=e.duration||kp(e.start,e.lastActivity);this.submitSessionPartAndSessionEnd({...e,duration:i},t)}else if(t&&this.submitSessionPart(t),e){const t=e.duration||kp(e.start,e.lastActivity);this.submitSession({...e,duration:t})}}saveSession(e){return this.sessionsStorage.save(e)}saveSessionPart(e){return this.sessionsStorage.savePart(e)}submitSession(e){e.duration>0&&this.sessionEventStatCollector.logEvent({session:e,appUrl:this.appUrl}),this.sessionsStorage.remove(e.sessionUuid),this.sessions.delete(e.sessionUuid)}submitSessionPart(e){this.sessionEventStatCollector.logEvent({sessionPart:e,appUrl:this.appUrl}),this.sessionsStorage.removePart(e.sessionUuid,e.partId)}submitSessionPartAndSessionEnd(e,t){this.sessionEventStatCollector.logEvent({appUrl:this.appUrl,session:e,sessionPart:t}),this.sessionsStorage.remove(e.sessionUuid),this.sessions.delete(e.sessionUuid),this.sessionsStorage.removePart(t.sessionUuid,t.partId)}loadSessions(){const e=this.sessionsStorage.load();return this.log("Loaded sessions",e),e}loadSessionParts(){const e=this.sessionsStorage.loadPart();return this.log("Loaded session parts",e),e}log(e,...t){(0,It.V4)(`[SessionsManager] ${e}`,...t)}static create(e){new jp(e)}constructor(e){this.sessions=new Map,this.eventHooks={[mp]:new rh.q(mp),[fp]:new rh.q(fp),[bp]:new rh.q(bp),[up]:new rh.q(up),[hp]:new rh.q(hp),[pp]:new rh.q(pp)},this.initSession=()=>{this.activeSessionService||(this.startSession(this.appId,this.sessionUuid),this.removeOnBeforeLeave=this.pageActiveState.eventHooks[Mh.BEFORE_LEAVE].add(this.stopSession,{once:!0}))},this.onSessionPartEnd=e=>{this.onMyTrackerTrackTimeSpentEvent?.(Xu),this.activeSessionService&&(yp()?this.saveSessionPart(e):e.duration>0&&this.submitSessionPart(e),this.saveSession(this.activeSessionService.session))},this.onSessionGoing=e=>{this.activeSessionService&&(this.saveSession(this.activeSessionService.session),this.saveSessionPart(e))},this.onSessionPartStart=()=>{if(this.onMyTrackerTrackTimeSpentEvent?.(Zu),!yp())return;const e=this.loadSessionParts();Object.entries(e).forEach((([,e])=>{this.activeSessionService&&e.duration&&e.end&&e.sessionUuid===this.activeSessionService.session.sessionUuid&&this.submitSessionPart(e)}))},this.stopSession=()=>{this.onDestroy.remove(this.stopSession),this.removeOnInit?.(),this.removeOnBeforeLeave?.(),this.destroy(),this.pageActiveState.destroy()},this.sessionsStorage=new wp,this.sessionEventStatCollector=e.sessionEventStatCollector,this.appUrl=e.appUrl,this.pageActiveState=new Ih,this.requestApiMethod=e.requestApiMethod,this.sessionUuid=e.sessionUuid,this.appId=e.appId,this.disableVisitorTrackerService=e.disableVisitorTrackerService,this.onExternalSessionStart=e.onExternalSessionStart,this.isExternalInitAvailable=e.isExternalInitAvailable,this.onMyTrackerTrackTimeSpentEvent=e.onMyTrackerTrackTimeSpentEvent;const{onDestroy:t,onInit:i}=(0,l.x0)(this.appId).hooks;this.onDestroy=t,this.onInit=i,this.init()}}const Lp=({children:e,sendStatEvent:t,forceSendStatEvent:i,bridgeMethodsToLogCallArguments:o,featureToggles:n,sessionUuidFromProps:a,app:{id:l,url:d,myTrackerTimeSpentCounterId:c},performanceFromProps:u,onExternalSessionStart:h,featureEnabled:p,userId:m,statsConfig:b})=>{const f=p?.(ac.o.MiniAppsSDKMyTracker),v=Boolean(c),g=(0,s.useMemo)((()=>a||zh()),[]),_=(0,s.useMemo)((()=>t&&new Kh(t,o,b)),[]),y=(0,s.useMemo)((()=>t&&new qh(t,b)),[]),w=(0,s.useMemo)((()=>t&&new ep(t)),[]),k=(0,s.useMemo)((()=>(t||i)&&new tp(t,i,b)),[]),x=(0,s.useMemo)((()=>{if(!n?.enableCollectPerformance||!t)return;const e={miniAppPerformanceCollector:new sp(t),sessionUuid:g,appId:l,webviewUrl:d,performanceFromProps:u};return new np(e)}),[]),A=(0,s.useMemo)((()=>{if(f||v)return new Lh({id:l,url:d,isEnabledMyTrackerTrackEvents:f})}),[]);return(0,r.Y)(Ah.Provider,{value:{bridgeEventStatsCollector:_,adEventStatCollector:y,adsDevNullStatCollector:w,initSessionManager:({requestApiMethod:e})=>{if(!k||!n?.enableSessionManager)return;const t=p?.(ac.o.PerfomanceStatsInGames),i={requestApiMethod:e,sessionEventStatCollector:k,disableVisitorTrackerService:n?.disableVisitorTrackerService,onExternalSessionStart:h,isExternalInitAvailable:t,appId:l,sessionUuid:g,appUrl:d,onMyTrackerTrackTimeSpentEvent:e=>{c&&A?.trackTimeSpentEvent({activityId:c,eventType:e,userId:m})}};jp.create(i)},sessionUuid:g,performanceStatsService:x,trackMyTrackerEvent:(()=>{if(f)return A?.trackEvent})(),statsConfig:b},children:e})},Ep=({children:e,...t})=>{const i=(({sendStatEvent:e,forceSendStatEvent:t,bridgeMethodsToLogCallArguments:i,featureToggles:r,sessionUuid:o,app:n,config:{performance:a}={},featureEnabled:l,onExternalSessionStart:d,userId:c,statsConfig:u})=>(0,s.useMemo)((()=>({sendStatEvent:e,forceSendStatEvent:t,bridgeMethodsToLogCallArguments:i,featureToggles:r,sessionUuidFromProps:o,app:n,performanceFromProps:a,onExternalSessionStart:d,featureEnabled:l,userId:c,statsConfig:u})),[e,t,i,r,o,n,a,d,l,c,u]))(t);return(0,r.Y)(Lp,{...i,children:(0,r.Y)(Oh,{props:t,children:(0,r.Y)(eh,{children:e})})})},Np=e=>{const t=h(e);return(0,r.Y)(o.ZAh,{children:(0,r.Y)(Re,{getLang:t.getLang,children:(0,r.Y)(Ep,{...t,children:(0,r.Y)(yc,{children:(0,r.Y)(c,{})})})})})}},356643:(e,t,i)=>{i.d(t,{uH:()=>u,bw:()=>d,Sp:()=>c});var r,o,n,a,s=i(516427),l=i(217570);(o=r||(r={})).AUTO="auto",o.ADAPTIVE="adaptive",o.FORCE_MOBILE="force_mobile",function(e){e.FULLSCREEN="fullscreen",e.CONTENT="content",e.POPUP="popup",e.POPUP_FULLSCREEN="popup_fullscreen"}(n||(n={})),function(e){e.BACK="back",e.CLOSE="close",e.NONE="none"}(a||(a={}));const d={JOIN:"join",LEAVE:"leave"},c={BRIGHT_LIGHT:"bright_light",SPACE_GRAY:"space_gray",VKCOM_LIGHT:"vkcom_light",VKCOM_DARK:"vkcom_dark"},u={iframeProps:{},loginUrl:l.PN,apiVersion:l.gU,featureToggles:{},featureEnabled:()=>!1,locale:"ru",config:{adaptivity:r.AUTO,backButton:a.CLOSE,integration:n.FULLSCREEN,appearance:s.zM2.LIGHT,scrollTarget:document.documentElement}}},543273:(e,t,i)=>{i.d(t,{Bl:()=>n,x0:()=>a,y5:()=>s});var r=i(815287),o=i(865419);const n=new o.t,a=e=>{const t=new o.t({predicate:({app:t})=>t.id===e}),i=t.wrap(n);return t.hooks.onDestroy.addAfterAll((()=>{t.clear(),i()})),t},s=e=>(0,r.useMemo)((()=>a(e)),[e])},369475:(e,t,i)=>{i.d(t,{Ow:()=>n,nc:()=>o});var r=i(918918);const o=(e,t,i)=>{const o=((e,t)=>{delete t.callback,Object.keys(t).forEach((e=>{"object"!=typeof t[e]||Array.isArray(t[e])||(t[e]=JSON.stringify(t[e]))}));const i={method:e,format:"json",...t};return r.A.stringify(i)})(t,i);return fetch(`${e}/${t}`,{method:"POST",mode:"cors",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>e.json()))},n=e=>e.error},467e3:(e,t,i)=>{i.d(t,{B:()=>r});const r=({...e})=>(Object.keys(e).forEach((t=>void 0===e[t]&&delete e[t])),e)},286347:(e,t,i)=>{i.d(t,{j:()=>n});var r=i(221020),o=i(110577);const n=e=>(0,r.Y)(o.u,{viewBox:"0 0 12 12",width:12,height:12,vkuiIconId:"favorite_12",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,r.Y)("path",{d:"m4.559 3.376-.277.653a.3.3 0 0 1-.044.086.2.2 0 0 1-.048.037.3.3 0 0 1-.093.02l-.403.059c-1.136.163-1.703.245-1.942.516a1.01 1.01 0 0 0-.233.866c.07.357.518.723 1.412 1.454l.153.124c.04.033.06.05.074.07q.017.03.022.062a.3.3 0 0 1-.011.103l-.046.245c-.25 1.347-.375 2.02-.178 2.35.17.285.47.465.796.479.378.016.895-.423 1.93-1.3l.177-.15a.4.4 0 0 1 .111-.077.15.15 0 0 1 .082 0c.03.008.057.031.111.077l.178.15c1.034.877 1.55 1.316 1.929 1.3a.98.98 0 0 0 .796-.479c.197-.33.072-1.003-.178-2.35l-.046-.245a.3.3 0 0 1-.01-.103.2.2 0 0 1 .021-.061.3.3 0 0 1 .074-.07l.153-.125c.894-.731 1.342-1.097 1.412-1.454.06-.31-.025-.631-.233-.866-.239-.27-.806-.353-1.942-.516l-.403-.058c-.048-.007-.072-.01-.093-.02a.2.2 0 0 1-.048-.038.3.3 0 0 1-.044-.086l-.277-.653c-.455-1.071-.682-1.607-1-1.77a.97.97 0 0 0-.881 0c-.319.163-.546.699-1.001 1.77"})})},668764:(e,t,i)=>{i.d(t,{Y:()=>n});var r=i(221020),o=i(110577);const n=e=>(0,r.Y)(o.u,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"arrow_right_outline_16",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,r.Y)("path",{fillRule:"evenodd",d:"M9.53 12.78a.75.75 0 0 1-1.06-1.06l2.97-2.97H2.75a.75.75 0 0 1 0-1.5h8.69L8.47 4.28a.75.75 0 0 1 1.06-1.06l4.25 4.25a.75.75 0 0 1 0 1.06z",clipRule:"evenodd"})})},876427:(e,t,i)=>{i.d(t,{x:()=>n});var r=i(221020),o=i(110577);const n=e=>(0,r.Y)(o.u,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"favorite_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,r.Y)("path",{fill:"currentColor",d:"m5.753 3.866-.43.997c-.031.07-.046.105-.07.132a.2.2 0 0 1-.074.057c-.032.015-.07.02-.145.031l-.626.089c-1.767.25-2.65.375-3.021.789a1.53 1.53 0 0 0-.362 1.323c.109.545.805 1.104 2.197 2.22l.237.19c.063.051.094.077.115.109a.2.2 0 0 1 .034.093c.005.038-.002.077-.017.157l-.071.375c-.39 2.058-.584 3.087-.277 3.59a1.53 1.53 0 0 0 1.239.731c.587.025 1.392-.645 3-1.984l.277-.23c.084-.07.126-.105.173-.119a.23.23 0 0 1 .127 0c.047.014.089.049.173.119l.276.23c1.609 1.34 2.413 2.009 3 1.984a1.53 1.53 0 0 0 1.24-.73c.307-.504.112-1.533-.278-3.591l-.07-.375a.5.5 0 0 1-.018-.157.2.2 0 0 1 .035-.093c.02-.032.052-.058.115-.108l.236-.19c1.392-1.117 2.088-1.676 2.197-2.221a1.53 1.53 0 0 0-.362-1.323c-.371-.414-1.254-.539-3.02-.79l-.627-.088c-.075-.01-.112-.016-.145-.031a.2.2 0 0 1-.074-.057c-.024-.027-.039-.062-.069-.132l-.43-.997C9.53 2.23 9.175 1.411 8.68 1.162a1.53 1.53 0 0 0-1.37 0c-.496.25-.85 1.068-1.557 2.704"})})},382996:(e,t,i)=>{i.d(t,{H:()=>n});var r=i(221020),o=i(110577);const n=e=>(0,r.Y)(o.u,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"info_outline_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,r.Y)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0m-7 4a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5A.75.75 0 0 1 8 12m-.9-7.1a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0"})})},574857:(e,t,i)=>{i.d(t,{u:()=>n});var r=i(221020),o=i(110577);const n=e=>(0,r.FD)(o.u,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"dismiss_28",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:[(0,r.Y)("path",{d:"M14 28c7.732 0 14-6.268 14-14S21.732 0 14 0 0 6.268 0 14s6.268 14 14 14",opacity:".12"}),(0,r.Y)("path",{d:"M18.736 9.264a.9.9 0 0 1 0 1.272L15.273 14l3.463 3.464a.9.9 0 0 1 .08 1.18l-.08.092a.9.9 0 0 1-1.272 0L14 15.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L12.727 14l-3.463-3.464a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L14 12.727l3.464-3.463a.9.9 0 0 1 1.272 0"})]})}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/5252.fe5be00e.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/5252.fe5be00e.js",e),e}