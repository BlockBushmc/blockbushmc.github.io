try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[25426],{425426:(e,t,i)=>{i.d(t,{Mw:()=>Au,aw:()=>xf,s0:()=>Ma,xv:()=>Ba});var n,a,o,r,s,l,d,u,c,p=i(434518),h=i(763812),v=i(99758),g=i(319340),m=i(424814),f="[!",b={},y=Symbol(),_=Symbol("filename"),w=(Symbol("hmr"),globalThis.process?.env?.NODE_ENV),x=w&&!w.toLowerCase().startsWith("prod"),k=Array.isArray,$=Array.prototype.indexOf,C=Array.from,S=Object.keys,T=Object.defineProperty,A=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyDescriptors,E=Object.prototype,I=Array.prototype,L=Object.getPrototypeOf,M=Object.isExtensible;function V(e){return"function"==typeof e}var R=()=>{};function B(e){return e()}function D(e){for(var t=0;t<e.length;t++)e[t]()}var N=Symbol("$state"),z=Symbol("legacy props"),O=Symbol(""),H=Symbol("proxy path");function F(e){return e===this.v}function q(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function U(e,t){return e!==t}function W(e){return!q(e,this.v)}var Q=!1;function j(e,t){return e.label=t,K(e.v,t),e}function K(e,t){return e?.[H]?.(t),e}function Y(e){if(x){let t=new Error(`lifecycle_outside_component\n\`${e}(...)\` can only be used during component initialisation\nhttps://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var G=null;function X(e){G=e}var Z=null;function J(e){Z=e}function ee(e){return re("getContext").get(e)}function te(e,t){return re("setContext").set(e,t),t}function ie(){return re("getAllContexts")}function ne(e,t=!1,i){var n=G={p:G,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Q&&!t&&(G.l={s:null,u:null,r1:[],r2:ke(!1)}),it((()=>{n.d=!0})),x&&(G.function=i,Z=i)}function ae(e){let t=G;if(null!==t){void 0!==e&&(t.x=e);let r=t.e;if(null!==r){var i=Dt,n=Vt;t.e=null;try{for(var a=0;a<r.length;a++){var o=r[a];Nt(o.effect),Bt(o.reaction),at(o.fn)}}finally{Nt(i),Bt(n)}}G=t.p,x&&(Z=t.p?.function??null),t.m=!0}return e||{}}function oe(){return!Q||null!==G&&null===G.l}function re(e){var t;return null===G&&Y(e),(t=G).c??(t.c=new Map(function(e){let t=e.p;for(;null!==t;){let e=t.c;if(null!==e)return e;t=t.p}return null}(G)||void 0))}var se=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function le(e){if("object"!=typeof e||null===e||N in e)return e;let t=L(e);if(t!==E&&t!==I)return e;var i=new Map,n=k(e),a=$e(0),o=null,r=Vt,s=e=>{var t=Vt;Bt(r);var i=e();return Bt(t),i};n&&i.set("length",$e(e.length,o));var l="";function d(e){j(a,`${l=e} version`);for(let[e,t]of i)j(t,de(l,e))}return new Proxy(e,{defineProperty(e,t,n){(!("value"in n)||!1===n.configurable||!1===n.enumerable||!1===n.writable)&&function(){if(x){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var a=i.get(t);return void 0===a?a=s((()=>{var e=$e(n.value,o);return i.set(t,e),x&&"string"==typeof t&&j(e,de(l,t)),e})):Se(a,n.value,!0),!0},deleteProperty(e,t){var r=i.get(t);if(void 0===r){if(t in e){let e=s((()=>$e(y,o)));i.set(t,e),ue(a),x&&j(e,de(l,t))}}else{if(n&&"string"==typeof t){var d=i.get("length"),u=Number(t);Number.isInteger(u)&&u<d.v&&Se(d,u)}Se(r,y),ue(a)}return!0},get(t,n,a){if(n===N)return e;if(x&&n===H)return d;var r=i.get(n),u=n in t;if(void 0===r&&(!u||A(t,n)?.writable)&&(r=s((()=>{var e=$e(le(u?t[n]:y),o);return x&&j(e,de(l,n)),e})),i.set(n,r)),void 0!==r){var c=di(r);return c===y?void 0:c}return Reflect.get(t,n,a)},getOwnPropertyDescriptor(e,t){var n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){var a=i.get(t);a&&(n.value=di(a))}else if(void 0===n){var o=i.get(t),r=o?.v;if(void 0!==o&&r!==y)return{enumerable:!0,configurable:!0,value:r,writable:!0}}return n},has(e,t){if(t===N)return!0;var n=i.get(t),a=void 0!==n&&n.v!==y||Reflect.has(e,t);if((void 0!==n||null!==Dt&&(!a||A(e,t)?.writable))&&(void 0===n&&(n=s((()=>{var i=$e(a?le(e[t]):y,o);return x&&j(i,de(l,t)),i})),i.set(t,n)),di(n)===y))return!1;return a},set(e,t,r,d){var u=i.get(t),c=t in e;if(n&&"length"===t)for(var p=r;p<u.v;p+=1){var h=i.get(p+"");void 0!==h?Se(h,y):p in e&&(h=s((()=>$e(y,o))),i.set(p+"",h),x&&j(h,de(l,p)))}void 0===u?(!c||A(e,t)?.writable)&&(Se(u=s((()=>$e(void 0,o))),le(r)),i.set(t,u),x&&j(u,de(l,t))):(c=u.v!==y,Se(u,s((()=>le(r)))));var v=Reflect.getOwnPropertyDescriptor(e,t);if(v?.set&&v.set.call(d,r),!c){if(n&&"string"==typeof t){var g=i.get("length"),m=Number(t);Number.isInteger(m)&&m>=g.v&&Se(g,m+1)}ue(a)}return!0},ownKeys(e){di(a);var t=Reflect.ownKeys(e).filter((e=>{var t=i.get(e);return void 0===t||t.v!==y}));for(var[n,o]of i)o.v!==y&&!(n in e)&&t.push(n);return t},setPrototypeOf(){!function(){if(x){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function de(e,t){return"symbol"==typeof t?`${e}[Symbol(${t.description??""})]`:se.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function ue(e,t=1){Se(e,e.v+t)}function ce(e){try{if(null!==e&&"object"==typeof e&&N in e)return e[N]}catch{}return e}function pe(e,t){return Object.is(ce(e),ce(t))}function he(e){var t=2050,i=null!==Vt&&2&Vt.f?Vt:null;null===Dt||null!==i&&256&i.f?t|=256:Dt.f|=1048576;let n={ctx:G,deps:null,effects:null,equals:F,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:i??Dt};return n}function ve(e){let t=he(e);return Ot(t),t}function ge(e){let t=he(e);return t.equals=W,t}function me(e){var t=e.effects;if(null!==t){e.effects=null;for(var i=0;i<t.length;i+=1)ct(t[i])}}var fe=[];function be(e){var t,i=Dt;if(Nt(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return t;t=t.parent}return null}(e)),x){let n=_e;xe(new Set);try{fe.includes(e)&&function(){if(x){let e=new Error("derived_references_self\nA derived value cannot reference itself recursively\nhttps://svelte.dev/e/derived_references_self");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/derived_references_self")}(),fe.push(e),me(e),t=Xt(e)}finally{Nt(i),xe(n),fe.pop()}}else try{me(e),t=Xt(e)}finally{Nt(i)}return t}function ye(e){var t=be(e);(e.equals(t)||(e.v=t,e.wv=Kt()),Et)||pi(e,(Qt||256&e.f)&&null!==e.deps?4096:1024)}var _e=new Set,we=new Map;function xe(e){_e=e}function ke(e,t){var i={f:0,v:e,reactions:null,equals:F,rv:0,wv:0};return i}function $e(e,t){let i=ke(e);return Ot(i),i}function Ce(e,t=!1,i=!0){var n;let a=ke(e);return t||(a.equals=W),Q&&i&&null!==G&&null!==G.l&&((n=G.l).s??(n.s=[])).push(a),a}function Se(e,t,i=!1){null!==Vt&&(!Rt||262144&Vt.f)&&oe()&&262162&Vt.f&&(!zt?.[1].includes(e)||zt[0]!==Vt)&&function(){if(x){let e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/state_unsafe_mutation")}();let n=i?le(t):t;return x&&K(n,e.label),Te(e,n)}function Te(e,t){if(!e.equals(t)){var i=e.v;if(Et?we.set(e,t):we.set(e,i),e.v=t,!!(2&e.f)&&(!!(2048&e.f)&&be(e),pi(e,256&e.f?4096:1024)),e.wv=Kt(),Ae(e,2048),oe()&&null!==Dt&&!!(1024&Dt.f)&&!(96&Dt.f)&&(null===qt?function(e){qt=e}([e]):qt.push(e)),x&&_e.size>0){let e=Array.from(_e);for(let t of e)!!(1024&t.f)&&pi(t,4096),Yt(t)&&ei(t);_e.clear()}}return t}function Ae(e,t){var i=e.reactions;if(null!==i)for(var n=oe(),a=i.length,o=0;o<a;o++){var r=i[o],s=r.f;if(!(2048&s)&&(n||r!==Dt)){if(x&&262144&s){_e.add(r);continue}pi(r,t),1280&s&&(2&s?Ae(r,4096):oi(r))}}}var Pe="font-weight: bold",Ee="font-weight: normal";function Ie(e){x?console.warn(`%c[svelte] hydration_mismatch\n%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}\nhttps://svelte.dev/e/hydration_mismatch`,Pe,Ee):console.warn("https://svelte.dev/e/hydration_mismatch")}function Le(e){x?console.warn(`%c[svelte] state_proxy_equality_mismatch\n%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results\nhttps://svelte.dev/e/state_proxy_equality_mismatch`,Pe,Ee):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var Me,Ve,Re,Be,De,Ne=!1;function ze(e){Ne=e}function Oe(e){if(null===e)throw Ie(),b;return Me=e}function He(){return Oe(Ye(Me))}function Fe(e){if(Ne){if(null!==Ye(Me))throw Ie(),b;Me=e}}function qe(e=1){if(Ne){for(var t=e,i=Me;t--;)i=Ye(i);Me=i}}function Ue(){for(var e=0,t=Me;;){if(8===t.nodeType){var i=t.data;if("]"===i){if(0===e)return t;e-=1}else("["===i||i===f)&&(e+=1)}var n=Ye(t);t.remove(),t=n}}function We(e){if(!e||8!==e.nodeType)throw Ie(),b;return e.data}function Qe(){if(void 0===Ve){Ve=window,document,Re=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,i=Text.prototype;Be=A(t,"firstChild").get,De=A(t,"nextSibling").get,M(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),M(i)&&(i.__t=void 0),x&&(e.__svelte_meta=null,function(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:i,lastIndexOf:n,includes:a}=e;e.indexOf=function(e,t){let n=i.call(this,e,t);if(-1===n)for(let i=t??0;i<this.length;i+=1)if(ce(this[i])===e){Le("array.indexOf(...)");break}return n},e.lastIndexOf=function(e,t){let i=n.call(this,e,t??this.length-1);if(-1===i)for(let i=0;i<=(t??this.length-1);i+=1)if(ce(this[i])===e){Le("array.lastIndexOf(...)");break}return i},e.includes=function(e,t){let i=a.call(this,e,t);if(!i)for(let t=0;t<this.length;t+=1)if(ce(this[t])===e){Le("array.includes(...)");break}return i},Array.__svelte_cleanup=()=>{e.indexOf=i,e.lastIndexOf=n,e.includes=a}}())}}function je(e=""){return document.createTextNode(e)}function Ke(e){return Be.call(e)}function Ye(e){return De.call(e)}function Ge(e,t){if(!Ne)return Ke(e);var i=Ke(Me);if(null===i)i=Me.appendChild(je());else if(t&&3!==i.nodeType){var n=je();return i?.before(n),Oe(n),n}return Oe(i),i}function Xe(e,t){if(!Ne){var i=Ke(e);return 8===i.nodeType&&""===i.data?Ye(i):i}if(t&&3!==Me?.nodeType){var n=je();return Me?.before(n),Oe(n),n}return Me}function Ze(e,t=1,i=!1){let n=Ne?Me:e;for(var a;t--;)a=n,n=Ye(n);if(!Ne)return n;if(i&&3!==n?.nodeType){var o=je();return null===n?a?.after(o):n.before(o),Oe(o),o}return Oe(n),n}function Je(e){e.textContent=""}function et(e){null===Dt&&null===Vt&&function(e){if(x){let t=new Error(`effect_orphan\n\`${e}\` can only be used inside an effect (e.g. during component initialisation)\nhttps://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/effect_orphan")}(e),null!==Vt&&!!(256&Vt.f)&&null===Dt&&function(){if(x){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),Et&&function(e){if(x){let t=new Error(`effect_in_teardown\n\`${e}\` cannot be used inside an effect cleanup function\nhttps://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/effect_in_teardown")}(e)}function tt(e,t,i,n=!0){var a=Dt;if(x)for(;null!==a&&262144&a.f;)a=a.parent;var o,r={ctx:G,deps:null,nodes_start:null,nodes_end:null,f:2048|e,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(x&&(r.component_function=Z),i)try{ei(r),r.f|=32768}catch(e){throw ct(r),e}else null!==t&&oi(r);!(i&&null===r.deps&&null===r.first&&null===r.nodes_start&&null===r.teardown&&!(1048704&r.f))&&n&&(null!==a&&function(e,t){var i=t.last;null===i?t.last=t.first=e:(i.next=e,e.prev=i,t.last=e)}(r,a),null!==Vt&&2&Vt.f)&&((o=Vt).effects??(o.effects=[])).push(r);return r}function it(e){let t=tt(8,null,!1);return pi(t,1024),t.teardown=e,t}function nt(e){et("$effect");var t,i=null!==Dt&&!!(32&Dt.f)&&null!==G&&!G.m;if(x&&T(e,"name",{value:"$effect"}),!i)return at(e);((t=G).e??(t.e=[])).push({fn:e,effect:Dt,reaction:Vt})}function at(e){return tt(4,e,!1)}function ot(e){return tt(8,e,!0)}function rt(e,t=[],i=he){if(x)return ot((()=>{var n=()=>e(...a.map(di));T(Dt.fn,"name",{value:"{expression}"}),T(n,"name",{value:"{expression}"});let a=t.map(i);st(n)}));let n=t.map(i);return st((()=>e(...n.map(di))))}function st(e,t=0){return tt(24|t,e,!0)}function lt(e,t=!0){return tt(40,e,!0,t)}function dt(e){var t=e.teardown;if(null!==t){let e=Et,i=Vt;It(!0),Bt(null);try{t.call(null)}finally{It(e),Bt(i)}}}function ut(e,t=!1){var i=e.first;for(e.first=e.last=null;null!==i;){var n=i.next;64&i.f?i.parent=null:ct(i,t),i=n}}function ct(e,t=!0){var i=!1;(t||!!(524288&e.f))&&null!==e.nodes_start&&null!==e.nodes_end&&(pt(e.nodes_start,e.nodes_end),i=!0),ut(e,t&&!i),Jt(e,0),pi(e,16384);var n=e.transitions;if(null!==n)for(let e of n)e.stop();dt(e);var a=e.parent;null!==a&&null!==a.first&&ht(e),x&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function pt(e,t){for(;null!==e;){var i=e===t?null:Ye(e);e.remove(),e=i}}function ht(e){var t=e.parent,i=e.prev,n=e.next;null!==i&&(i.next=n),null!==n&&(n.prev=i),null!==t&&(t.first===e&&(t.first=n),t.last===e&&(t.last=i))}function vt(e,t){var i=[];mt(e,i,!0),gt(i,(()=>{ct(e),t&&t()}))}function gt(e,t){var i=e.length;if(i>0){var n=()=>--i||t();for(var a of e)a.out(n)}else t()}function mt(e,t,i){if(!(8192&e.f)){if(e.f^=8192,null!==e.transitions)for(let n of e.transitions)(n.is_global||i)&&t.push(n);for(var n=e.first;null!==n;){var a=n.next;mt(n,t,!!(!!(65536&n.f)||!!(32&n.f))&&i),n=a}}}function ft(e){bt(e,!0)}function bt(e,t){if(8192&e.f){e.f^=8192;for(var i=e.first;null!==i;){var n=i.next;bt(i,!!(!!(65536&i.f)||!!(32&i.f))&&t),i=n}if(null!==e.transitions)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var yt=[],_t=[];function wt(){var e=yt;yt=[],D(e)}function xt(e){0===yt.length&&queueMicrotask(wt),yt.push(e)}function kt(){var e;yt.length>0&&wt(),_t.length>0&&(e=_t,_t=[],D(e))}function $t(e){var t=Dt;if(x&&e instanceof Error&&function(e,t){if(St.has(e))return;St.add(e);let i=A(e,"message");if(!i||i.configurable){for(var n=Re?"  ":"\t",a=`\n${n}in ${t.fn?.name||"<unknown>"}`,o=t.ctx;null!==o;)a+=`\n${n}in ${o.function?.[_].split("/").pop()}`,o=o.p;T(e,"message",{value:e.message+`\n${a}\n`}),e.stack&&T(e,"stack",{value:e.stack.split("\n").filter((e=>!e.includes("svelte/src/internal"))).join("\n")})}}(e,t),32768&t.f)Ct(e,t);else{if(!(128&t.f))throw e;t.fn(e)}}function Ct(e,t){for(;null!==t;){if(128&t.f)try{return void t.fn(e)}catch{}t=t.parent}throw e}var St=new WeakSet;var Tt=!1,At=null,Pt=!1,Et=!1;function It(e){Et=e}var Lt=[],Mt=[],Vt=null,Rt=!1;function Bt(e){Vt=e}var Dt=null;function Nt(e){Dt=e}var zt=null;function Ot(e){null!==Vt&&2097152&Vt.f&&(null===zt?zt=[Vt,[e]]:zt[1].push(e))}var Ht=null,Ft=0,qt=null;var Ut=1,Wt=0,Qt=!1,jt=null;function Kt(){return++Ut}function Yt(e){var t=e.f;if(2048&t)return!0;if(4096&t){var i=e.deps,n=!!(256&t);if(null!==i){var a,o,r=!!(512&t),s=n&&null!==Dt&&!Qt,l=i.length;if(r||s){var d,u=e,c=u.parent;for(a=0;a<l;a++)o=i[a],(r||!o?.reactions?.includes(u))&&((d=o).reactions??(d.reactions=[])).push(u);r&&(u.f^=512),s&&null!==c&&!(256&c.f)&&(u.f^=256)}for(a=0;a<l;a++)if(Yt(o=i[a])&&ye(o),o.wv>e.wv)return!0}(!n||null!==Dt&&!Qt)&&pi(e,1024)}return!1}function Gt(e,t,i=!0){var n=e.reactions;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a];zt?.[1].includes(e)&&zt[0]===Vt||(2&o.f?Gt(o,t,!1):t===o&&(i?pi(o,2048):!!(1024&o.f)&&pi(o,4096),oi(o)))}}function Xt(e){var t=Ht,i=Ft,n=qt,a=Vt,o=Qt,r=zt,s=G,l=Rt,d=e.f;Ht=null,Ft=0,qt=null,Qt=!!(256&d)&&(Rt||!Pt||null===Vt),Vt=96&d?null:e,zt=null,X(e.ctx),Rt=!1,Wt++,e.f|=2097152;try{var u=(0,e.fn)(),c=e.deps;if(null!==Ht){var p,h;if(Jt(e,Ft),null!==c&&Ft>0)for(c.length=Ft+Ht.length,h=0;h<Ht.length;h++)c[Ft+h]=Ht[h];else e.deps=c=Ht;if(!Qt||2&d&&null!==e.reactions)for(h=Ft;h<c.length;h++)((p=c[h]).reactions??(p.reactions=[])).push(e)}else null!==c&&Ft<c.length&&(Jt(e,Ft),c.length=Ft);if(oe()&&null!==qt&&!Rt&&null!==c&&!(6146&e.f))for(h=0;h<qt.length;h++)Gt(qt[h],e);return null!==a&&a!==e&&(Wt++,null!==qt&&(null===n?n=qt:n.push(...qt))),u}catch(e){$t(e)}finally{Ht=t,Ft=i,qt=n,Vt=a,Qt=o,zt=r,X(s),Rt=l,e.f^=2097152}}function Zt(e,t){let i=t.reactions;if(null!==i){var n=$.call(i,e);if(-1!==n){var a=i.length-1;0===a?i=t.reactions=null:(i[n]=i[a],i.pop())}}null===i&&2&t.f&&(null===Ht||!Ht.includes(t))&&(pi(t,4096),!(768&t.f)&&(t.f^=512),me(t),Jt(t,0))}function Jt(e,t){var i=e.deps;if(null!==i)for(var n=t;n<i.length;n++)Zt(e,i[n])}function ei(e){var t=e.f;if(!(16384&t)){pi(e,1024);var i=Dt,n=Pt;if(Dt=e,Pt=!0,x){var a=Z;J(e.component_function)}try{16&t?function(e){for(var t=e.first;null!==t;){var i=t.next;!(32&t.f)&&ct(t),t=i}}(e):ut(e),dt(e);var o=Xt(e);e.teardown="function"==typeof o?o:null,e.wv=Ut,x&&Mt.push(e)}finally{Pt=n,Dt=i,x&&J(a)}}}function ti(){console.error("Last ten effects were: ",Mt.slice(-10).map((e=>e.fn))),Mt=[]}function ii(){try{!function(){if(x){let e=new Error("effect_update_depth_exceeded\nMaximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops\nhttps://svelte.dev/e/effect_update_depth_exceeded");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(e){if(x&&T(e,"stack",{value:""}),null===At)throw x&&ti(),e;if(x)try{Ct(e,At)}catch(e){throw ti(),e}else Ct(e,At)}}function ni(){var e=Pt;try{var t=0;for(Pt=!0;Lt.length>0;){t++>1e3&&ii();var i=Lt,n=i.length;Lt=[];for(var a=0;a<n;a++){ai(ri(i[a]))}we.clear()}}finally{Tt=!1,Pt=e,At=null,x&&(Mt=[])}}function ai(e){var t=e.length;if(0!==t)for(var i=0;i<t;i++){var n=e[i];!(24576&n.f)&&Yt(n)&&(ei(n),null===n.deps&&null===n.first&&null===n.nodes_start&&(null===n.teardown?ht(n):n.fn=null))}}function oi(e){Tt||(Tt=!0,queueMicrotask(ni));for(var t=At=e;null!==t.parent;){var i=(t=t.parent).f;if(96&i){if(!(1024&i))return;t.f^=1024}}Lt.push(t)}function ri(e){for(var t=[],i=e;null!==i;){var n=i.f,a=!!(96&n);if(!(a&&!!(1024&n)||8192&n)){4&n?t.push(i):a?i.f^=1024:Yt(i)&&ei(i);var o=i.first;if(null!==o){i=o;continue}}var r=i.parent;for(i=i.next;null===i&&null!==r;)i=r.next,r=r.parent}return t}function si(e){var t;for(e&&(Tt=!0,ni(),Tt=!0,t=e());;){if(kt(),0===Lt.length)return Tt=!1,At=null,x&&(Mt=[]),t;Tt=!0,ni()}}async function li(){await Promise.resolve(),si()}function di(e){var t=!!(2&e.f);if(null!==jt&&jt.add(e),null===Vt||Rt){if(t&&null===e.deps&&null===e.effects){var i=e,n=i.parent;null!==n&&!(256&n.f)&&(i.f^=256)}}else if(!zt?.[1].includes(e)||zt[0]!==Vt){var a=Vt.deps;e.rv<Wt&&(e.rv=Wt,null===Ht&&null!==a&&a[Ft]===e?Ft++:null===Ht?Ht=[e]:(!Qt||!Ht.includes(e))&&Ht.push(e))}return t&&(Yt(i=e)&&ye(i)),Et&&we.has(e)?we.get(e):e.v}function ui(e){var t=Rt;try{return Rt=!0,e()}finally{Rt=t}}var ci=-7169;function pi(e,t){e.f=e.f&ci|t}function hi(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{hi(e[i],t)}catch{}let i=L(e);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){let t=P(i);for(let i in t){let n=t[i].get;if(n)try{n.call(e)}catch{}}}}}function vi(e,t){if(t){let t=document.body;e.autofocus=!0,xt((()=>{document.activeElement===t&&e.focus()}))}}function gi(e){var t=Vt,i=Dt;Bt(null),Nt(null);try{return e()}finally{Bt(t),Nt(i)}}var mi=new Set,fi=new Set;function bi(e){if(!Ne)return;e.removeAttribute("onload"),e.removeAttribute("onerror");let t=e.__e;void 0!==t&&(e.__e=void 0,queueMicrotask((()=>{e.isConnected&&e.dispatchEvent(t)})))}function yi(e,t,i,n={}){function a(e){if(n.capture||xi.call(t,e),!e.cancelBubble)return gi((()=>i?.call(this,e)))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?xt((()=>{t.addEventListener(e,a,n)})):t.addEventListener(e,a,n),a}function _i(e,t,i,n,a){var o={capture:n,passive:a},r=yi(e,t,i,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&it((()=>{t.removeEventListener(e,r,o)}))}function wi(e){for(var t=0;t<e.length;t++)mi.add(e[t]);for(var i of fi)i(e)}function xi(e){var t=this,i=t.ownerDocument,n=e.type,a=e.composedPath?.()||[],o=a[0]||e.target,r=0,s=e.__root;if(s){var l=a.indexOf(s);if(-1!==l&&(t===document||t===window))return void(e.__root=t);var d=a.indexOf(t);if(-1===d)return;l<=d&&(r=l)}if((o=a[r]||e.target)!==t){T(e,"currentTarget",{configurable:!0,get:()=>o||i});var u=Vt,c=Dt;Bt(null),Nt(null);try{for(var p,h=[];null!==o;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var g=o["__"+n];if(null!=g&&(!o.disabled||e.target===o))if(k(g)){var[m,...f]=g;m.apply(o,[e,...f])}else g.call(o,e)}catch(e){p?h.push(e):p=e}if(e.cancelBubble||v===t||null===v)break;o=v}if(p){for(let e of h)queueMicrotask((()=>{throw e}));throw p}}finally{e.__root=t,delete e.currentTarget,Bt(u),Nt(c)}}}function ki(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3c!----\x3e"),t.content}function $i(e,t){var i=Dt;null===i.nodes_start&&(i.nodes_start=e,i.nodes_end=t)}function Ci(e,t){var i,n=!!(1&t),a=!!(2&t),o=!e.startsWith("<!>");return()=>{if(Ne)return $i(Me,null),Me;void 0===i&&(i=ki(o?e:"<!>"+e),n||(i=Ke(i)));var t=a||Re?document.importNode(i,!0):i.cloneNode(!0);n?$i(Ke(t),t.lastChild):$i(t,t);return t}}function Si(e,t){return function(e,t,i="svg"){var n,a=!e.startsWith("<!>"),o=!!(1&t),r=`<${i}>${a?e:"<!>"+e}</${i}>`;return()=>{if(Ne)return $i(Me,null),Me;if(!n){var e=Ke(ki(r));if(o)for(n=document.createDocumentFragment();Ke(e);)n.appendChild(Ke(e));else n=Ke(e)}var t=n.cloneNode(!0);return o?$i(Ke(t),t.lastChild):$i(t,t),t}}(e,t,"svg")}function Ti(e=""){if(!Ne){var t=je(e+"");return $i(t,t),t}var i=Me;return 3!==i.nodeType&&(i.before(i=je()),Oe(i)),$i(i,i),i}function Ai(){if(Ne)return $i(Me,null),Me;var e=document.createDocumentFragment(),t=document.createComment(""),i=je();return e.append(t,i),$i(t,i),e}function Pi(e,t){if(Ne)return Dt.nodes_end=Me,void He();null!==e&&e.before(t)}var Ei=/\r/g;function Ii(e){return e.endsWith("capture")&&"gotpointercapture"!==e&&"lostpointercapture"!==e}var Li=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Mi(e){return Li.includes(e)}var Vi={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Ri(e){return e=e.toLowerCase(),Vi[e]??e}var Bi=["touchstart","touchmove"];function Di(e){return Bi.includes(e)}var Ni=["textarea","script","style","title"];var zi=!0;function Oi(e){zi=e}function Hi(e,t){var i,n=null==t?"":"object"==typeof t?t+"":t;n!==((i=e).__t??(i.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Fi(e,t){return Wi(e,t)}function qi(e,t){Qe(),t.intro=t.intro??!1;let i=t.target,n=Ne,a=Me;try{for(var o=Ke(i);o&&(8!==o.nodeType||"["!==o.data);)o=Ye(o);if(!o)throw b;ze(!0),Oe(o),He();let n=Wi(e,{...t,anchor:o});if(null===Me||8!==Me.nodeType||"]"!==Me.data)throw Ie(),b;return ze(!1),n}catch(n){if(n===b)return!1===t.recover&&function(){if(x){let e=new Error("hydration_failed\nFailed to hydrate the application\nhttps://svelte.dev/e/hydration_failed");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/hydration_failed")}(),Qe(),Je(i),ze(!1),Fi(e,t);throw n}finally{ze(n),Oe(a)}}var Ui=new Map;function Wi(e,{target:t,anchor:i,props:n={},events:a,context:o,intro:r=!0}){Qe();var s=new Set,l=e=>{for(var i=0;i<e.length;i++){var n=e[i];if(!s.has(n)){s.add(n);var a=Di(n);t.addEventListener(n,xi,{passive:a});var o=Ui.get(n);void 0===o?(document.addEventListener(n,xi,{passive:a}),Ui.set(n,1)):Ui.set(n,o+1)}}};l(C(mi)),fi.add(l);var d=void 0,u=function(e){let t=tt(64,e,!0);return(e={})=>new Promise((i=>{e.outro?vt(t,(()=>{ct(t),i(void 0)})):(ct(t),i(void 0))}))}((()=>{var u=i??t.appendChild(je());return lt((()=>{o&&(ne({}),G.c=o);a&&(n.$$events=a),Ne&&$i(u,null),zi=r,d=e(u,n)||{},zi=!0,Ne&&(Dt.nodes_end=Me),o&&ae()})),()=>{for(var e of s){t.removeEventListener(e,xi);var n=Ui.get(e);0==--n?(document.removeEventListener(e,xi),Ui.delete(e)):Ui.set(e,n)}fi.delete(l),u!==i&&u.parentNode?.removeChild(u)}}));return Qi.set(d,u),d}var Qi=new WeakMap;function ji(e,t){let i=Qi.get(e);return i?(Qi.delete(e),i(t)):(x&&(x?console.warn("%c[svelte] lifecycle_double_unmount\n%cTried to unmount a component that was not mounted\nhttps://svelte.dev/e/lifecycle_double_unmount",Pe,Ee):console.warn("https://svelte.dev/e/lifecycle_double_unmount")),Promise.resolve())}function Ki(e,t,...i){var n,a=e,o=R;st((()=>{o!==(o=t())&&(n&&(ct(n),n=null),x&&null==o&&function(){if(x){let e=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/invalid_snippet")}(),n=lt((()=>o(a,...i))))}),65536),Ne&&(a=Me)}if(x){let e=function(e){if(!(e in globalThis)){let t;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(void 0!==t)return t;!function(e){if(x){let t=new Error(`rune_outside_svelte\nThe \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files\nhttps://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/rune_outside_svelte")}(e)},set:e=>{t=e}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function Yi(e){null===G&&Y("onMount"),Q&&null!==G.l?function(e){var t,i=e.l;return(t=i).u??(t.u={a:[],b:[],m:[]})}(G).m.push(e):nt((()=>{let t=ui(e);if("function"==typeof t)return t}))}function Gi(e){null===G&&Y("onDestroy"),Yi((()=>()=>ui(e)))}var Xi=new Map;function Zi(e,t,[i,n]=[0,0]){Ne&&0===i&&He();var a=e,o=null,r=null,s=y,l=!1;let d=(e,t=!0)=>{l=!0,u(t,e)},u=(e,t)=>{if(s===(s=e))return;let l=!1;if(Ne&&-1!==n){if(0===i){let e=We(a);"["===e?n=0:e===f?n=1/0:(n=parseInt(e.substring(1)))!=n&&(n=s?1/0:-1)}!!s===n>i&&(Oe(a=Ue()),ze(!1),l=!0,n=-1)}s?(o?ft(o):t&&(o=lt((()=>t(a)))),r&&vt(r,(()=>{r=null}))):(r?ft(r):t&&(r=lt((()=>t(a,[i+1,n])))),o&&vt(o,(()=>{o=null}))),l&&ze(!0)};st((()=>{l=!1,t(d),l||u(null,null)}),i>0?65536:0),Ne&&(a=Me)}function Ji(e,t,i){Ne&&He();var n,a=e,o=y,r=oe()?U:q;st((()=>{r(o,o=t())&&(n&&vt(n),n=lt((()=>i(a))))})),Ne&&(a=Me)}var en,tn=null;function nn(e){tn=e}function an(e,t){return t}function on(e,t,i,n,a,o=null){var r=e,s={flags:t,items:new Map,first:null};if(!!(4&t)){var l=e;r=Ne?Oe(Ke(l)):l.appendChild(je())}Ne&&He();var d=null,u=!1,c=ge((()=>{var e=i();return k(e)?e:null==e?[]:C(e)}));st((()=>{var e=di(c),l=e.length;if(u&&0===l)return;u=0===l;let p=!1;Ne&&(We(r)===f!==(0===l)&&(Oe(r=Ue()),ze(!1),p=!0));if(Ne){for(var h,v=null,g=0;g<l;g++){if(8===Me.nodeType&&"]"===Me.data){r=Me,p=!0,ze(!1);break}var m=e[g],b=n(m,g);h=sn(Me,s,v,null,m,b,g,a,t,i),s.items.set(b,h),v=h}l>0&&Oe(Ue())}Ne||function(e,t,i,n,a,o,r){var s,l,d,u,c,p,h=!!(8&a),v=!!(3&a),g=e.length,m=t.items,f=t.first,b=f,y=null,_=[],w=[];if(h)for(p=0;p<g;p+=1)d=e[p],u=o(d,p),void 0!==(c=m.get(u))&&(c.a?.measure(),(l??(l=new Set)).add(c));for(p=0;p<g;p+=1)if(u=o(d=e[p],p),void 0!==(c=m.get(u))){if(v&&rn(c,d,p,a),!!(8192&c.e.f)&&(ft(c.e),h&&(c.a?.unfix(),(l??(l=new Set)).delete(c))),c!==b){if(void 0!==s&&s.has(c)){if(_.length<w.length){var x,k=w[0];y=k.prev;var $=_[0],S=_[_.length-1];for(x=0;x<_.length;x+=1)ln(_[x],k,i);for(x=0;x<w.length;x+=1)s.delete(w[x]);dn(t,$.prev,S.next),dn(t,y,$),dn(t,S,k),b=k,y=S,p-=1,_=[],w=[]}else s.delete(c),ln(c,b,i),dn(t,c.prev,c.next),dn(t,c,null===y?t.first:y.next),dn(t,y,c),y=c;continue}for(_=[],w=[];null!==b&&b.k!==u;)!(8192&b.e.f)&&(s??(s=new Set)).add(b),w.push(b),b=b.next;if(null===b)continue;c=b}_.push(c),y=c,b=c.next}else{y=sn(b?b.e.nodes_start:i,t,y,null===y?t.first:y.next,d,u,p,n,a,r),m.set(u,y),_=[],w=[],b=y.next}if(null!==b||void 0!==s){for(var T=void 0===s?[]:C(s);null!==b;)!(8192&b.e.f)&&T.push(b),b=b.next;var A=T.length;if(A>0){var P=4&a&&0===g?i:null;if(h){for(p=0;p<A;p+=1)T[p].a?.measure();for(p=0;p<A;p+=1)T[p].a?.fix()}!function(e,t,i,n){for(var a=[],o=t.length,r=0;r<o;r++)mt(t[r].e,a,!0);var s=o>0&&0===a.length&&null!==i;if(s){var l=i.parentNode;Je(l),l.append(i),n.clear(),dn(e,t[0].prev,t[o-1].next)}gt(a,(()=>{for(var i=0;i<o;i++){var a=t[i];s||(n.delete(a.k),dn(e,a.prev,a.next)),ct(a.e,!s)}}))}(t,T,P,m)}}h&&xt((()=>{if(void 0!==l)for(c of l)c.a?.apply()})),Dt.first=t.first&&t.first.e,Dt.last=y&&y.e}(e,s,r,a,t,n,i),null!==o&&(0===l?d?ft(d):d=lt((()=>o(r))):null!==d&&vt(d,(()=>{d=null}))),p&&ze(!0),di(c)})),Ne&&(r=Me)}function rn(e,t,i,n){!!(1&n)&&Te(e.v,t),2&n?Te(e.i,i):e.i=i}function sn(e,t,i,n,a,o,r,s,l,d){var u=tn,c=!!(1&l),p=c?!(16&l)?Ce(a,!1,!1):ke(a):a,h=2&l?ke(r):r;x&&c&&(p.trace=()=>{var e="number"==typeof h?r:h.v;d()[e]});var v={i:h,v:p,k:o,a:null,e:null,prev:i,next:n};tn=v;try{return v.e=lt((()=>s(e,p,h,d)),Ne),v.e.prev=i&&i.e,v.e.next=n&&n.e,null===i?t.first=v:(i.next=v,i.e.next=v.e),null!==n&&(n.prev=v,n.e.prev=v.e),v}finally{tn=u}}function ln(e,t,i){for(var n=e.next?e.next.e.nodes_start:i,a=t?t.e.nodes_start:i,o=e.e.nodes_start;o!==n;){var r=Ye(o);a.before(o),o=r}}function dn(e,t,i){null===t?e.first=i:(t.next=i,t.e.next=i&&i.e),null!==i&&(i.prev=t,i.e.prev=t&&t.e)}function un(e,t,i){if(!t||t===function(e){let t=5381,i=(e=e.replace(Ei,"")).length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return(t>>>0).toString(36)}(String(i??"")))return;let n,a=e.__svelte_meta?.loc;a?n=`near ${a.file}:${a.line}:${a.column}`:Z?.[_]&&(n=`in ${Z[_]}`),function(e){x?console.warn(`%c[svelte] hydration_html_changed\n%c${e?`The value of an \`{@html ...}\` block ${e} changed between server and client renders. The client value will be ignored in favour of the server value`:"The value of an `{@html ...}` block changed between server and client renders. The client value will be ignored in favour of the server value"}\nhttps://svelte.dev/e/hydration_html_changed`,Pe,Ee):console.warn("https://svelte.dev/e/hydration_html_changed")}(function(e){return e?.replace(/\//g,"/​")}(n))}function cn(e,t,i=!1,n=!1,a=!1){var o=e,r="";rt((()=>{var e=Dt;if(r!==(r=t()??"")){if(null!==e.nodes_start&&(pt(e.nodes_start,e.nodes_end),e.nodes_start=e.nodes_end=null),""!==r){if(Ne){for(var s=Me.data,l=He(),d=l;null!==l&&(8!==l.nodeType||""!==l.data);)d=l,l=Ye(l);if(null===l)throw Ie(),b;return x&&!a&&un(l.parentNode,s,r),$i(Me,d),void(o=Oe(l))}var u=r+"";i?u=`<svg>${u}</svg>`:n&&(u=`<math>${u}</math>`);var c=ki(u);if((i||n)&&(c=Ke(c)),$i(Ke(c),c.lastChild),i||n)for(;Ke(c);)o.before(Ke(c));else o.before(c)}}else Ne&&He()}))}function pn(e,t,i){Ne&&He();var n,a,o=e;st((()=>{n!==(n=t())&&(a&&(vt(a),a=null),n&&(a=lt((()=>i(o,n)))))}),65536),Ne&&(o=Me)}function hn(e,t,i,n,a,o){let r=Ne;Ne&&He();var s,l,d=x&&o&&G?.function[_],u=null;Ne&&1===Me.nodeType&&(u=Me,He());var c,p=Ne?Me:e,h=tn;st((()=>{let e=t()||null;var r=a?a():i||"svg"===e?"http://www.w3.org/2000/svg":null;if(e!==s){var v=tn;nn(h),c&&(null===e?vt(c,(()=>{c=null,l=null})):e===l?ft(c):(ct(c),Oi(!1))),e&&e!==l&&(c=lt((()=>{if(u=Ne?u:r?document.createElementNS(r,e):document.createElement(e),x&&o&&(u.__svelte_meta={loc:{file:d,line:o[0],column:o[1]}}),$i(u,u),n){Ne&&function(e){return Ni.includes(e)}(e)&&u.append(document.createComment(""));var t=Ne?Ke(u):u.appendChild(je());Ne&&(null===t?ze(!1):Oe(t)),n(u,t)}Dt.nodes_end=u,p.before(u)}))),(s=e)&&(l=s),Oi(!0),nn(v)}}),65536),r&&(ze(!0),Oe(p))}var vn=(o=(0,h._)("_t"),r=(0,h._)("_e"),class{$set(e){(0,p._)(this,r)[r].$set(e)}$on(e,t){(0,p._)(this,o)[o][e]=(0,p._)(this,o)[o][e]||[];let i=(...e)=>t.call(this,...e);return(0,p._)(this,o)[o][e].push(i),()=>{(0,p._)(this,o)[o][e]=(0,p._)(this,o)[o][e].filter((e=>e!==i))}}$destroy(){(0,p._)(this,r)[r].$destroy()}constructor(e){Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,r,{writable:!0,value:void 0});var t=new Map,i=(e,i)=>{var n=Ce(i,!1,!1);return t.set(e,n),n};let n=new Proxy({...e.props||{},$$events:{}},{get:(e,n)=>di(t.get(n)??i(n,Reflect.get(e,n))),has:(e,n)=>n===z||(di(t.get(n)??i(n,Reflect.get(e,n))),Reflect.has(e,n)),set:(e,n,a)=>(Se(t.get(n)??i(n,a),a),Reflect.set(e,n,a))});(0,p._)(this,r)[r]=(e.hydrate?qi:Fi)(e.component,{target:e.target,anchor:e.anchor,props:n,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||!1===e.sync)&&si(),(0,p._)(this,o)[o]=n.$$events;for(let e of Object.keys((0,p._)(this,r)[r]))"$set"===e||"$destroy"===e||"$on"===e||T(this,e,{get(){return(0,p._)(this,r)[r][e]},set(t){(0,p._)(this,r)[r][e]=t},enumerable:!0});(0,p._)(this,r)[r].$set=e=>{Object.assign(n,e)},(0,p._)(this,r)[r].$destroy=()=>{ji((0,p._)(this,r)[r])}}});function gn(e,t){xt((()=>{var i=e.getRootNode(),n=i.host?i:i.head??i.ownerDocument.head??en?.parentNode;if(!n?.querySelector("#"+t.hash)){let e=document.createElement("style");e.id=t.hash,e.textContent=t.code,n.appendChild(e),x&&function(e,t){var i=Xi.get(e);i||(i=new Set,Xi.set(e,i)),i.add(t)}(t.hash,e)}}))}function mn(e,t){var i,n=void 0;st((()=>{n!==(n=t())&&(i&&(ct(i),i=null),n&&(i=lt((()=>{at((()=>n(e)))}))))}))}function fn(e){var t,i,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(i=fn(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function bn(e){return"object"==typeof e?function(){for(var e,t,i=0,n="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=fn(e))&&(n&&(n+=" "),n+=t);return n}(e):e??""}var yn=[..." \t\n\r\f \v\ufeff"];function _n(e,t=!1){var i=t?" !important;":";",n="";for(var a in e){var o=e[a];null!=o&&""!==o&&(n+=" "+a+": "+o+i)}return n}function wn(e){return"-"!==e[0]||"-"!==e[1]?e.toLowerCase():e}function xn(e,t,i,n,a,o){var r=e.__className;if(Ne||r!==i||void 0===r){var s=function(e,t,i){var n=null==e?"":""+e;if(t&&(n=n?n+" "+t:t),i)for(var a in i)if(i[a])n=n?n+" "+a:a;else if(n.length)for(var o=a.length,r=0;(r=n.indexOf(a,r))>=0;){var s=r+o;0!==r&&!yn.includes(n[r-1])||s!==n.length&&!yn.includes(n[s])?r=s:n=(0===r?"":n.substring(0,r))+n.substring(s+1)}return""===n?null:n}(i,n,o);(!Ne||s!==e.getAttribute("class"))&&(null==s?e.removeAttribute("class"):t?e.className=s:e.setAttribute("class",s)),e.__className=i}else if(o&&a!==o)for(var l in o){var d=!!o[l];(null==a||d!==!!a[l])&&e.classList.toggle(l,d)}return o}function kn(e,t={},i,n){for(var a in i){var o=i[a];t[a]!==o&&(null==i[a]?e.style.removeProperty(a):e.style.setProperty(a,o,n))}}function $n(e,t,i,n){var a=e.__style;if(Ne||a!==t){var o=function(e,t){if(t){var i,n,a="";if(Array.isArray(t)?(i=t[0],n=t[1]):i=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,r=0,s=!1,l=[];i&&l.push(...Object.keys(i).map(wn)),n&&l.push(...Object.keys(n).map(wn));var d=0,u=-1;let t=e.length;for(var c=0;c<t;c++){var p=e[c];if(s?"/"===p&&"*"===e[c-1]&&(s=!1):o?o===p&&(o=!1):"/"===p&&"*"===e[c+1]?s=!0:'"'===p||"'"===p?o=p:"("===p?r++:")"===p&&r--,!s&&!1===o&&0===r)if(":"===p&&-1===u)u=c;else if(";"===p||c===t-1){if(-1!==u){var h=wn(e.substring(d,u).trim());l.includes(h)||(";"!==p&&c++,a+=" "+e.substring(d,c).trim()+";")}d=c+1,u=-1}}}return i&&(a+=_n(i)),n&&(a+=_n(n,!0)),""===(a=a.trim())?null:a}return null==e?null:String(e)}(t,n);(!Ne||o!==e.getAttribute("style"))&&(null==o?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else n&&(Array.isArray(n)?(kn(e,i?.[0],n[0]),kn(e,i?.[1],n[1],"important")):kn(e,i,n));return n}function Cn(e,t,i){if(e.multiple){if(null==t)return;if(!k(t))return void(x?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",Pe,Ee):console.warn("https://svelte.dev/e/select_multiple_invalid_value"));for(var n of e.options)n.selected=t.includes(Sn(n))}else{for(n of e.options){if(pe(Sn(n),t))return void(n.selected=!0)}(!i||void 0!==t)&&(e.selectedIndex=-1)}}function Sn(e){return"__value"in e?e.__value:e.value}var Tn=Symbol("class"),An=Symbol("style"),Pn=Symbol("is custom element"),En=Symbol("is html");function In(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Ln(e,t,i,n){var a=Vn(e);Ne&&(a[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)?n||function(e,t,i){x&&("srcset"===t&&function(e,t){var i=Nn(e.srcset),n=Nn(t);return n.length===i.length&&n.every((([e,t],n)=>t===i[n][1]&&(Dn(i[n][0],e)||Dn(e,i[n][0]))))}(e,i)||Dn(e.getAttribute(t)??"",i)||function(e,t,i){x?console.warn(`%c[svelte] hydration_attribute_changed\n%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${i}\`, will be ignored in favour of the server value\nhttps://svelte.dev/e/hydration_attribute_changed`,Pe,Ee):console.warn("https://svelte.dev/e/hydration_attribute_changed")}(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(i)))}(e,t,i??""):a[t]!==(a[t]=i)&&("loading"===t&&(e[O]=i),null==i?e.removeAttribute(t):"string"!=typeof i&&Bn(e).includes(t)?e[t]=i:e.setAttribute(t,i))}function Mn(e,t,i=[],n,a=!1,o=he){let r=i.map(o);var s=void 0,l={},d="SELECT"===e.nodeName,u=!1;if(st((()=>{var i=t(...r.map(di)),o=function(e,t,i,n,a=!1){var o,r=Vn(e),s=r[Pn],l=!r[En];let d=Ne&&s;d&&ze(!1);var u=t||{},c="OPTION"===e.tagName;for(var p in t)p in i||(i[p]=null);i.class?i.class=bn(i.class):(n||i[Tn])&&(i.class=null),i[An]&&((o=i).style??(o.style=null));var h=Bn(e);for(let o in i){let d=i[o];if(c&&"value"===o&&null==d)e.value=e.__value="",u[o]=d;else if("class"!==o)if("style"!==o){var v=u[o];if(d!==v||void 0===d&&e.hasAttribute(o)){u[o]=d;var g=o[0]+o[1];if("$$"!==g)if("on"===g){let t={},i="$$"+o,n=o.slice(2);var m=Mi(n);if(Ii(n)&&(n=n.slice(0,-7),t.capture=!0),!m&&v){if(null!=d)continue;e.removeEventListener(n,u[i],t),u[i]=null}if(null!=d)if(m)e[`__${n}`]=d,wi([n]);else{let a=function(e){u[o].call(this,e)};u[i]=yi(n,e,a,t)}else m&&(e[`__${n}`]=void 0)}else if("style"===o)Ln(e,o,d);else if("autofocus"===o)vi(e,!!d);else if(s||"__value"!==o&&("value"!==o||null==d))if("selected"===o&&c)In(e,d);else{var f=o;l||(f=Ri(f));var b="defaultValue"===f||"defaultChecked"===f;if(null!=d||s||b)b||h.includes(f)&&(s||"string"!=typeof d)?e[f]=d:"function"!=typeof d&&Ln(e,f,d,a);else if(r[o]=null,"value"===f||"checked"===f){let i=e,n=void 0===t;if("value"===f){let e=i.defaultValue;i.removeAttribute(f),i.defaultValue=e,i.value=i.__value=n?e:null}else{let e=i.defaultChecked;i.removeAttribute(f),i.defaultChecked=e,i.checked=!!n&&e}}else e.removeAttribute(o)}else e.value=e.__value=d}}else $n(e,d,t?.[An],i[An]),u[o]=d,u[An]=i[An];else xn(e,"http://www.w3.org/1999/xhtml"===e.namespaceURI,d,n,t?.[Tn],i[Tn]),u[o]=d,u[Tn]=i[Tn]}return d&&ze(!0),u}(e,s,i,n,a);u&&d&&"value"in i&&Cn(e,i.value,!1);for(let e of Object.getOwnPropertySymbols(l))i[e]||ct(l[e]);for(let t of Object.getOwnPropertySymbols(i)){var c=i[t];"@attach"===t.description&&(!s||c!==s[t])&&(l[t]&&ct(l[t]),l[t]=lt((()=>mn(e,(()=>c))))),o[t]=c}s=o})),d){var c=e;at((()=>{Cn(c,s.value),function(e){var t=new MutationObserver((()=>{Cn(e,e.__value)}));t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),it((()=>{t.disconnect()}))}(c)}))}u=!0}function Vn(e){var t;return(t=e).__attributes??(t.__attributes={[Pn]:e.nodeName.includes("-"),[En]:"http://www.w3.org/1999/xhtml"===e.namespaceURI})}var Rn=new Map;function Bn(e){var t=Rn.get(e.nodeName);if(t)return t;Rn.set(e.nodeName,t=[]);for(var i,n=e,a=Element.prototype;a!==n;){for(var o in i=P(n))i[o].set&&t.push(o);n=L(n)}return t}function Dn(e,t){return e===t||new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function Nn(e){return e.split(",").map((e=>e.trim().split(" ").filter(Boolean)))}var zn=()=>performance.now(),On={tick:e=>requestAnimationFrame(e),now:()=>zn(),tasks:new Set};function Hn(){let e=On.now();On.tasks.forEach((t=>{t.c(e)||(On.tasks.delete(t),t.f())})),0!==On.tasks.size&&On.tick(Hn)}function Fn(e,t){gi((()=>{e.dispatchEvent(new CustomEvent(t))}))}function qn(e){if("float"===e)return"cssFloat";if("offset"===e)return"cssOffset";if(e.startsWith("--"))return e;let t=e.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("")}function Un(e){let t={},i=e.split(";");for(let e of i){let[i,n]=e.split(":");if(!i||void 0===n)break;t[qn(i.trim())]=n.trim()}return t}var Wn=e=>e;function Qn(e,t,i,n){var a,o,r,s,l=!!(1&e),d=!!(2&e),u=!!(4&e),c=l&&d?"both":l?"in":"out",p=t.inert,h=t.style.overflow;function v(){var e=Vt,a=Dt;Bt(null),Nt(null);try{return o??(o=i()(t,n?.()??{},{direction:c}))}finally{Bt(e),Nt(a)}}var g={is_global:u,in(){if(t.inert=p,!l)return s?.abort(),void s?.reset?.();d||r?.abort(),Fn(t,"introstart"),r=jn(t,v(),s,1,(()=>{Fn(t,"introend"),r?.abort(),r=o=void 0,t.style.overflow=h}))},out(e){if(!d)return e?.(),void(o=void 0);t.inert=!0,Fn(t,"outrostart"),s=jn(t,v(),r,0,(()=>{Fn(t,"outroend"),e?.()}))},stop:()=>{r?.abort(),s?.abort()}},m=Dt;if(((a=m).transitions??(a.transitions=[])).push(g),l&&zi){var f=u;if(!f){for(var b=m.parent;b&&65536&b.f;)for(;(b=b.parent)&&!(16&b.f););f=!b||!!(32768&b.f)}f&&at((()=>{ui((()=>g.in()))}))}}function jn(e,t,i,n,a){var o=1===n;if(V(t)){var r,s=!1;return xt((()=>{if(!s){var l=t({direction:o?"in":"out"});r=jn(e,l,i,n,a)}})),{abort:()=>{s=!0,r?.abort()},deactivate:()=>r.deactivate(),reset:()=>r.reset(),t:()=>r.t()}}if(i?.deactivate(),!t?.duration)return a(),{abort:R,deactivate:R,reset:R,t:()=>n};let{delay:l=0,css:d,tick:u,easing:c=Wn}=t;var p=[];if(o&&void 0===i&&(u&&u(0,1),d)){var h=Un(d(0,1));p.push(h,h)}var v=()=>1-n,g=e.animate(p,{duration:l,fill:"forwards"});return g.onfinish=()=>{g.cancel();var o=i?.t()??1-n;i?.abort();var r=n-o,s=t.duration*Math.abs(r),l=[];if(s>0){var p=!1;if(d)for(var h=Math.ceil(s/16.666666666666668),m=0;m<=h;m+=1){var f=o+r*c(m/h),b=Un(d(f,1-f));l.push(b),p||(p="hidden"===b.overflow)}p&&(e.style.overflow="hidden"),v=()=>{var e=g.currentTime;return o+r*c(e/s)},u&&function(e){let t;0===On.tasks.size&&On.tick(Hn),new Promise((i=>{On.tasks.add(t={c:e,f:i})}))}((()=>{if("running"!==g.playState)return!1;var e=v();return u(e,1-e),!0}))}(g=e.animate(l,{duration:s,fill:"forwards"})).onfinish=()=>{v=()=>n,u?.(n,1-n),a()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=R)},deactivate:()=>{a=R},reset:()=>{0===n&&u?.(1,0)},t:()=>v()}}var Kn=(s=(0,h._)("_t"),l=(0,h._)("_e"),d=(0,h._)("_i"),u=(0,h._)("_o"),c=class{observe(e,t){var i=(0,p._)(this,s)[s].get(e)||new Set;return i.add(t),(0,p._)(this,s)[s].set(e,i),(0,p._)(this,u)[u]().observe(e,(0,p._)(this,d)[d]),()=>{var i=(0,p._)(this,s)[s].get(e);i.delete(t),0===i.size&&((0,p._)(this,s)[s].delete(e),(0,p._)(this,l)[l].unobserve(e))}}constructor(e){Object.defineProperty(this,u,{value:kf}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),(0,p._)(this,s)[s]=new WeakMap,(0,p._)(this,d)[d]=e}},c.entries=new WeakMap,c),Yn=new Kn({box:"border-box"});function Gn(e,t,i){var n=Yn.observe(e,(()=>i(e[t])));at((()=>(ui((()=>i(e[t]))),n)))}function Xn(e,t){return e===t||e?.[N]===t}function Zn(e={},t,i,n){return at((()=>{var a,o;return ot((()=>{a=o,o=n?.()||[],ui((()=>{e!==i(...o)&&(t(e,...o),a&&Xn(i(...a),e)&&t(null,...a))}))})),()=>{xt((()=>{o&&Xn(i(...o),e)&&t(null,...o)}))}})),e}function Jn(e=!1){let t=G,i=t.l.u;if(!i)return;let n=()=>function(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(N in e)hi(e);else if(!Array.isArray(e))for(let t in e){let i=e[t];"object"==typeof i&&i&&N in i&&hi(i)}}(t.s);if(e){let e=0,i={},a=he((()=>{let n=!1,a=t.s;for(let e in a)a[e]!==i[e]&&(i[e]=a[e],n=!0);return n&&e++,e}));n=()=>di(a)}i.b.length&&function(e){et("$effect.pre"),x&&T(e,"name",{value:"$effect.pre"}),ot(e)}((()=>{ea(t,n),D(i.b)})),nt((()=>{let e=ui((()=>i.m.map(B)));return()=>{for(let t of e)"function"==typeof t&&t()}})),i.a.length&&nt((()=>{ea(t,n),D(i.a)}))}function ea(e,t){if(e.l.s)for(let t of e.l.s)di(t);t()}function ta(e,t,i){if(null==e)return t(void 0),i&&i(void 0),R;let n=ui((()=>e.subscribe(t,i)));return n.unsubscribe?()=>n.unsubscribe():n}var ia=[];function na(e,t){return{subscribe:aa(e,t).subscribe}}function aa(e,t=R){let i=null,n=new Set;function a(t){if(q(e,t)&&(e=t,i)){let t=!ia.length;for(let t of n)t[1](),ia.push(t,e);if(t){for(let e=0;e<ia.length;e+=2)ia[e][0](ia[e+1]);ia.length=0}}}function o(t){a(t(e))}return{set:a,update:o,subscribe:function(r,s=R){let l=[r,s];return n.add(l),1===n.size&&(i=t(a,o)||R),r(e),()=>{n.delete(l),0===n.size&&i&&(i(),i=null)}}}}function oa(e,t,i){let n=!Array.isArray(e),a=n?[e]:e;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");let o=t.length<2;return na(i,((e,i)=>{let r=!1,s=[],l=0,d=R,u=()=>{if(l)return;d();let a=t(n?s[0]:s,e,i);o?e(a):d="function"==typeof a?a:R},c=a.map(((e,t)=>ta(e,(e=>{s[t]=e,l&=~(1<<t),r&&u()}),(()=>{l|=1<<t}))));return r=!0,u(),function(){D(c),d(),r=!1}}))}function ra(e){let t;return ta(e,(e=>t=e))(),t}var sa=!1,la=Symbol();function da(e,t,i){var n,a;let o=(n=i)[a=t]??(n[a]={store:null,source:Ce(void 0),unsubscribe:R});if(o.store!==e&&!(la in i))if(o.unsubscribe(),o.store=e??null,null==e)o.source.v=void 0,o.unsubscribe=R;else{var r=!0;o.unsubscribe=ta(e,(e=>{r?o.source.v=e:Se(o.source,e)})),r=!1}return e&&la in i?ra(e):di(o.source)}function ua(){let e={};return[e,function(){it((()=>{for(var t in e)e[t].unsubscribe();T(e,la,{enumerable:!1,value:!0})}))}]}var ca={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set:(e,t)=>(x&&function(e){if(x){let t=new Error(`props_rest_readonly\nRest element properties of \`$props()\` such as \`${e}\` are readonly\nhttps://svelte.dev/e/props_rest_readonly`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/props_rest_readonly")}(`${e.name}.${String(t)}`),!1),getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has:(e,t)=>!e.exclude.includes(t)&&t in e.props,ownKeys:e=>Reflect.ownKeys(e.props).filter((t=>!e.exclude.includes(t)))};function pa(e,t,i){return new Proxy(x?{props:e,exclude:t,name:i,other:{},to_proxy:[]}:{props:e,exclude:t},ca)}var ha={get(e,t){let i=e.props.length;for(;i--;){let n=e.props[i];if(V(n)&&(n=n()),"object"==typeof n&&null!==n&&t in n)return n[t]}},set(e,t,i){let n=e.props.length;for(;n--;){let a=e.props[n];V(a)&&(a=a());let o=A(a,t);if(o&&o.set)return o.set(i),!0}return!1},getOwnPropertyDescriptor(e,t){let i=e.props.length;for(;i--;){let n=e.props[i];if(V(n)&&(n=n()),"object"==typeof n&&null!==n&&t in n){let e=A(n,t);return e&&!e.configurable&&(e.configurable=!0),e}}},has(e,t){if(t===N||t===z)return!1;for(let i of e.props)if(V(i)&&(i=i()),null!=i&&t in i)return!0;return!1},ownKeys(e){let t=[];for(let i of e.props)if(V(i)&&(i=i()),i){for(let e in i)t.includes(e)||t.push(e);for(let e of Object.getOwnPropertySymbols(i))t.includes(e)||t.push(e)}return t}};function va(...e){return new Proxy({props:e},ha)}function ga(e){return e.ctx?.d??!1}function ma(e,t,i,n){var a,o=!!(1&i),r=!Q||!!(2&i),s=!!(8&i),l=!!(16&i),d=!1;s?[a,d]=function(e){var t=sa;try{return sa=!1,[e(),sa]}finally{sa=t}}((()=>e[t])):a=e[t];var u,c=N in e||z in e,p=s&&(A(e,t)?.set??(c&&t in e&&(i=>e[t]=i)))||void 0,h=n,v=!0,g=!1,m=()=>(g=!0,v&&(v=!1,h=l?ui(n):n),h);if(void 0===a&&void 0!==n&&(p&&r&&function(e){if(x){let t=new Error(`props_invalid_value\nCannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value\nhttps://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/props_invalid_value")}(t),a=m(),p&&p(a)),r)u=()=>{var i=e[t];return void 0===i?m():(v=!0,g=!1,i)};else{var f=(o?he:ge)((()=>e[t]));f.f|=131072,u=()=>{var e=di(f);return void 0!==e&&(h=void 0),void 0===e?h:e}}if(!(4&i)&&r)return u;if(p){var b=e.$$legacy;return function(e,t){return arguments.length>0?((!r||!t||b||d)&&p(t?u():e),e):u()}}var y=!1,_=!1,w=Ce(a),k=he((()=>{var e=u(),t=di(w);return y?(y=!1,_=!0,t):(_=!1,w.v=e)}));return s&&di(k),o||(k.equals=W),function(e,t){if(null!==jt&&(y=_,u(),di(w)),arguments.length>0){let i=t?di(k):r&&s?le(e):e;if(!k.equals(i)){if(y=!0,Se(w,i),g&&void 0!==h&&(h=i),ga(k))return e;ui((()=>di(k)))}return e}return ga(k)?k.v:di(k)}}function fa(e,t,i,n){let a=i[e]?.type;if(!n||!i[e])return t;if("toAttribute"===n)switch(a){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(a){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}"function"==typeof HTMLElement&&HTMLElement;typeof window<"u"&&((a=(n=window).__svelte??(n.__svelte={})).v??(a.v=new Set)).add("5");var ba,ya={isMobile:void 0,disableInvisibleComponentsTimeout:500,debugLog:!1,devNullLog:!1,defaultLanguage:g.cA.RU,downloadVKLanguages:!0,updateBuiltinLanguages:!0,isSmoothVideoRotate:!0,showSupport:!0,supportLink:"https://vk.com/support?act=new&from=v",showLogo:void 0,logoLink:"https://vk.com/video",logoType:"vk_video",volumeDefault:1,volumeMinRestore:.05,loaderDelay:500,minSubtitlesFontSize:13,autoSubtitlesTimeout:2e3,allowChangingFullscreenTarget:!0,trafficSavingLimit:g.Xb.Q_480P,highQualityLimit:g.Xb.Q_720P,episodeMinWidthPc:8,hideThumbTimerAfterTouch:!0,preventPauseOnVideoClick:!1,sentry:{dsn:"https://e349fd23c68f405388980d0868d0ff27@sentry.mvk.com/126",sampleRate:.01,whiteErrorCategoryList:[],blackErrorCategoryList:[],whiteErrorIdList:[],blackErrorIdList:[]},features:{autoplay:!0,statistics:!0,thinStatistics:!1,sentry:!0,preload:!0,subtitles:!0,episodes:!0,fullscreen:!0,timelinePreview:!0,mediaSession:!0,annotations:!0,slots:!0,annotationsInside:!1,pip:!0,dpip:!0,download:!0,liveRewind:!0,playbackRate:!0,trafficSaving:!0,episodesClustering:!0,copyVideoLink:!0,videoRotate:!0,tracer:!1,interactiveGraph:!1,interactiveResponsiveUi:!1,seekToInteractive:!0,interactiveLastFrame:!1,interactiveTextPermanent:!0,interactiveHideTime:!0,interactivePlayPrevChapter:!0,interactiveTimeIndicator:!0,interactiveTimeOpenUri:!1,interactiveAreaControlShadow:!1,interactiveControlsExpectTimeBlinkAnimation:!1,interactiveControlsTapPlace:!1,interactiveControlsFillAnimation:!1,interactiveControlsHideAnimation:!1,interactiveHistoryEndChapterFix:!0,thumbTimer:!0,hotKeyMapModal:!0,hotKeyHelpers:!0,saveDebugInfoToFile:!1,saveTraceInfoToFile:!1,additionalButtons:!0,additionalButtonsDesktopControlPanelRight:!0,additionalSettingsMenuItems:!0,additionalContextMenuItems:!0,contextMenuButton:!0,audioLanguages:!1,saveRate:!1,fullscreenInternalTargetPlayerContainer:!1,endScreen:!0,autoplayNext:!0,nextPrevButtons:!0,previewNoEmptySpace:!1,exposeInternalsToGlobal:!1,qualityDetailsSubMenuEnabled:!1,showSlowVideoNotification:!1,forceAutoQualityWhenSevereStallHappens:!1,timeoutShowSlowVideoNotification:0,maxCountShowSlowVideoNotification:1,forcePlayerDisplayBlock:!1,playbackStatusShow:!1,playbackStatusNextVideoShow:!1,initSubtitles:!0,useCallbackForMediaSessionNextPrevClick:!1,usePerformanceFix:!1,userVideoPrefs:!1,savePreferredStatesOnUserActionOnly:!1,useLoopSetting:!1,doubleForwardAvailable:!1,useRichSeek:!1,disableThumbUnstartedOnAutoplay:!1},controls:{showOnStartupAtAutoplay:!0,hideTimeout:500,hideTimeoutMobile:3e3,hideTimeoutInitial:200,hideTimeoutFullscreen:3e3,hideTimeoutCursor:3e3,hideTimeoutTooltips:1e3,collapseMobileUnmute:6e3,hide360IconTimeout:3e3,hideHotKeyHelpers:2e3,playbackRateMin:.25,playbackRateMax:2,playbackRateStep:.25,volumeStepKeyboard:.05,volumeStepWheel:.05,volumeBarTimeout:300,seekStepKeyboard:1e4,seekStepMobile:15e3,seekStepFrame:400},ads:{enable:void 0,initTimeout:2e3,loadTimeout:2e3,runtimeTimeout:5e3,slot:void 0,preview:void 0,paramsOverride:void 0,isMobileGoToSiteButton:!0,useAdmanFromNPM:!1,volumeMultiplier:1,isVsidOriginal:!1},interactive:{historyMaxLength:100,noInteractionEventTimeout:3e4},view:{timelineSliderColor:null,timelineSliderHandleColor:null,timelineSliderFilledColor:null,timelineSliderLoadedColor:null,volumeSliderColor:null,volumeSliderHandleColor:null,volumeSliderFilledColor:null,controlsTimeColor:null,timelineSliderFilledActiveLiveColor:null,timelineSliderHandleActiveLiveColor:null,buttonColor:null,buttonToggleOnColor:null,focusedColor:null,font:null,focusedOutlineWidth:null,focusedOutlineRadius:null,controlsDesktopPaddingHorizontal:null,timelinePaddingHorizontal:null,settingsBackgroundColor:null,controlsGradientHeight:null,controlsGradient:null},userSalt:"0",doubleForwardActivationTime:600,playbackStatusAnimationDuration:1e3,playbackStatusNextVideoAnimationDuration:1e3,suitableDurationForUsingRichSeek:180,titleShowBehaviour:"fullscreen"},_a=()=>ee("ui-config"),wa="vk_player_debug_panel_opened",xa="f",ka="k",$a="c",Ca="m",Sa=new Set(["ArrowLeft","ArrowRight","KeyL","KeyJ"]),Ta=new Set(["Tab","Space","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]),Aa=new Set(["ShiftRight","ShiftLeft"]),Pa=["TIMELINE"],Ea=[...Pa,"GRAPH_BUTTON"],Ia=[...Pa,"PLAY_BUTTON"],La=[...Ea,"PLAY_BUTTON"],Ma=((ba=Ma||{}).XS="xs",ba.S="s",ba.M="m",ba.L="l",ba.XL="xl",ba),Va={xs:0,s:1,m:2,l:3,xl:4},Ra="prod",Ba="1.1.80",Da=(e,t,i)=>{let n=document.createElement("a");n.href=e,n.download=`${t}.${i}`,n.style.display="none",n.click()},Na=Symbol("storeContext"),za=Symbol("microStoresContext"),Oa=()=>{let e=ee(Na);return(0,g.tZ)(e,"Store context is empty!"),e},Ha=()=>{let e=ee(za);return(0,g.tZ)(e,"MicroStores context is empty!"),e},Fa=(e,t)=>qa(e,e.getValue(),t),qa=(e,t,i)=>na(t,(t=>{let n=e.subscribe((e=>{t(e),i?.(e)}));return()=>n.unsubscribe()})),Ua=class{async download(e){if(this.pendingDownloads.has(e))return null;this.pendingDownloads.add(e);try{let t=await fetch(e,{signal:this.destroyController.signal});if(t.ok)return await t.text();throw t}finally{this.pendingDownloads.delete(e)}}destroy(){this.destroyController.abort(),this.pendingDownloads.clear()}isDestroyed(){return this.destroyController.signal.aborted}constructor(){this.destroyController=new AbortController,this.pendingDownloads=new Set}},Wa="vk_player_prefer_traffic_saving_enabled",Qa="vk_player_preferred_volume",ja="vk_player_prefer_volume_mute",Ka="vk_player_preferred_quality",Ya="vk_player_preferred_default_quality_settings",Ga="vk_player_preferred_quality_settings_by_video",Xa="vk_player_preferred_stream_language",Za="vk_player_preferred_rate",Ja="vk_player_preferred_autoplay_next",eo="vk_player_preferred_subtitles_language",to="vk_player_user_video_prefs",io="vk_player_preview_track_close_tooltip",no=e=>e>1?1:e<0?0:e,ao=e=>g.RW.set(Qa,no(e).toString(10)),oo=()=>{let e=g.RW.get(Qa);return(0,g.wD)(e)?void 0:no(parseFloat(e))},ro=(e,t)=>g.RW.set(Ka,JSON.stringify({videoId:e,value:t})),so=()=>g.RW.remove(Ka),lo=e=>{let t=g.RW.get(Ka);if((0,g.wD)(t))return;let{videoId:i,value:n}=JSON.parse(t);if(e===i)return n;so()},uo=(e,t)=>{t?g.RW.set(e,"true"):g.RW.remove(e)},co=e=>"true"===g.RW.get(e),po=e=>uo(ja,e),ho=e=>uo(Wa,e),vo=()=>co(Wa),go=e=>g.RW.set(Xa,e),mo=()=>g.RW.get(eo),fo=e=>{e?g.RW.set(eo,e):g.RW.remove(eo)},{getPreferredQualitySettings:bo,migrateSettingsToLegacyWay:yo,savePreferredQualitySettings:_o,savePreferredDefaultQualitySettings:wo,removePreferredQualitySettingsByVideo:xo,getPreferredDefaultQualitySettings:ko}=(()=>{let e=e=>{g.RW.set(Ya,JSON.stringify(e))},t=()=>{try{let e=g.RW.get(Ya);return e?JSON.parse(e):null}catch{return null}},i=e=>{g.RW.set(Ga,JSON.stringify(e))},n=i=>{o(i);let n=i?(()=>{try{let e=g.RW.get(Ga);return e?JSON.parse(e):null}catch{return null}})():null;if(n&&n?.videoId===i)return{...n,appliesTo:"to-video"};n&&a();let r=t();return r?{...r,appliesTo:"as-default"}:(e({type:"auto_quality"}),{type:"auto_quality",appliesTo:"as-default"})},a=()=>{g.RW.remove(Ga)},o=t=>{let n=lo(t);n?i({type:"exact_quality",videoId:t,quality:n}):(vo()&&e({type:"traffic_saving",videoId:t}),ho(!1),so())};return{getPreferredQualitySettings:n,migrateSettingsToLegacyWay:e=>{let t=n(e);if(t){switch(t.type){case"traffic_saving":ho(!0);break;case"exact_quality":ro(e,t.quality)}a(),g.RW.remove(Ya)}},savePreferredQualitySettings:(t,n="as-default")=>{"exact_quality"===t.type||"to-video"===n?i(t):e(t)},savePreferredDefaultQualitySettings:e,removePreferredQualitySettingsByVideo:a,getPreferredDefaultQualitySettings:t,getPreferredSubtitlesLanguage:mo,savePreferredSubtitlesLanguage:fo}})(),$o=()=>{let e=g.RW.get(to);if(e)try{return JSON.parse(e)}catch{return null}return null},Co=(e,t)=>$o()?.[e]?.[t]??null,So=(e,t,i)=>{let n=$o()??{},a=n[e]?.[t]??{};Object.assign(a,i,{updatedTs:Date.now()}),e in n||(n[e]={}),n[e][t]=a;let o=function(e){let t=Object.entries(e).reduce(((e,[t,i])=>{let n=0;return Object.values(i).forEach((e=>{n<e.updatedTs&&(n=e.updatedTs)})),e.push([t,n]),e}),[]);return t.sort((([,e],[,t])=>e>t?-1:1)),t.splice(3),t.reduce(((t,[i])=>(t[i]=function(e){let t=Object.entries(e);return t.sort((([,e],[,t])=>e.updatedTs>t.updatedTs?-1:1)),t.splice(3),Object.fromEntries(t)}(e[i]),t)),{})}(n);g.RW.set(to,JSON.stringify(o))};Q=!0;var To="var(--btn-color, #fff)",Ao=Si('<g filter="url(#strokeAndShadow)"><!></g><defs><filter x="-12" width="72" y="-12" height="72" id="strokeAndShadow"><feMorphology operator="dilate" radius=".4" result="outer"></feMorphology><feFlood flood-color="rgba(0,0,0,0.1)" result="outerColor"></feFlood><feComposite operator="in" in="outerColor" in2="outer" result="outerOutline"></feComposite><feDropShadow in="SourceGraphic" dx="0" dy="0" stdDeviation="3" flood-color="rgba(0,0,0,0.4)" result="outerShadow"></feDropShadow><feMerge><feMergeNode in="outerShadow"></feMergeNode><feMergeNode in="outerOutline"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs>',1),Po=Si('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill-rule="evenodd" clip-rule="evenodd"><!></svg>');function Eo(e,t){ne(t,!0);let i=ma(t,"width",19,(()=>"24")),n=ma(t,"height",19,(()=>"24")),a=ma(t,"fill",3,To),o=t.viewBox??`0 0 ${i()} ${n()}`;var r=Po(),s=Ge(r),l=e=>{var i=Ao(),n=Xe(i);Ki(Ge(n),(()=>t.children)),Fe(n),qe(),Pi(e,i)},d=e=>{var i=Ai();Ki(Xe(i),(()=>t.children)),Pi(e,i)};Zi(s,(e=>{t.shadow?e(l):e(d,!1)})),Fe(r),rt((()=>{Ln(r,"aria-label",t.ariaLabel),Ln(r,"aria-hidden",!t.ariaLabel),Ln(r,"width",i()),Ln(r,"height",n()),Ln(r,"viewBox",o),Ln(r,"fill",a()),$n(r,t.style),Ln(r,"data-testid",t.testId)})),Pi(e,r),ae()}var Io={auto_quality_invariant:"Авто",auto_quality:"Авто ({actual})",auto_quality_option:"Авто",other_quality:"Другое",high_quality:"Высокое качество",high_quality_description:"Будет использовано больше трафика",auto_quality_limit:"Автоматически",traffic_saving_quality:"Экономия трафика",traffic_saving_quality_description:"Видео грузятся быстрее, но качество ниже",default_quality_for_any_video:"Качество для всех видео",quality_applience:"Качество по умолчанию можно {action}",quality_applience_action:"изменить",menu_quality:"Качество",menu_traffic_saving:"Экономия данных",menu_playback_rate:"Скорость",menu_report:"Сообщить о проблеме",menu_pip:"Картинка в картинке",menu_pip_close:"Развернуть видео",menu_copy_video_link:"Скопировать ссылку на видео",menu_copy_video_link_with_timestamp:"Скопировать ссылку на кадр",menu_video_rotate:"Повернуть",menu_video_loop_on:"Включить повторение",menu_video_loop_off:"Отключить повторение",menu_chromecast:"Chromecast трансляция",menu_copy_debug:"Копировать данные для диагностики",menu_save_debug:"Сохранить данные для диагностики",menu_debug_overlay:"Техническая информация",menu_copy_embed_code:"Копировать код для встраивания",menu_audio_languages:"Звуковая дорожка",audio_stream_display_language_label:"{label} ({language})",audio_stream_display_language_label_index:"{label} {index} ({language})",audio_stream_display_label_index:"{label} {index}",audio_stream_display_language_index:"{language} {index}",audio_stream_display_unknown:"Дорожка {index}",pip_dummy_title:"Видео воспроизводится в режиме картинка в картинке",submenu_quality:"Качество",submenu_playback_rate:"Скорость",submenu_settings:"Настройки",submenu_traffic_saving:"Экономия данных",submenu_audio_languages:"Звуковая дорожка",playing_ads:"Реклама {timeleft}",skip_ads_now:"Пропустить рекламу",skip_ads_after:"Пропустить {time}с",visit_advertiser:"Перейти на сайт",aria_timeline:"Ползунок временной шкалы",aria_timeline_value:"{position} (общая длительность {duration}",doubletap_seek_step:"{seconds} секунд",playback_rate_1:"Обычная",playback_rate:"{multiplier}x",video360:"панорамное видео",subtitles_caption:"Субтитры",subtitles_auto:"{language} (Автоматические)",subtitles_off:"Выкл.",subtitles_auto_caption:"Автоматические субтитры",subtitles_turn_on:"Включить субтитры",subtitles_turn_off:"Выключить субтитры",traffic_saving_off:"Откл.",traffic_saving_on:"Вкл.",traffic_saving_helper_text:"При включении качество видео будет снижено для экономии трафика",tooltip_button_disabled:"Кнопка недоступна",tooltip_previous:"Предыдущее видео",tooltip_restart:"Начать заново",tooltip_play:"Смотреть",tooltip_pause:"Пауза",tooltip_next:"Следующее видео",tooltip_interactive_go_back:"Вернуться к предыдущей главе",tooltip_interactive_go_back_disabled:"История прохождения недоступна",tooltip_interactive_go_back_disabled_first:"Вы смотрите первую главу",tooltip_interactive_go_back_disabled_limit:"Лимит возвратов исчерпан",tooltip_chapter_without_interactive:"В этой главе нет интерактива",tooltip_interactive_of_chapter_completed:"Интерактивы этой главы уже пройдены",tooltip_interactive_seek:"Перейти к интерактиву",tooltip_interactive_graph_off:"Показать карту сюжета",tooltip_interactive_graph_on:"Скрыть карту сюжета",tooltip_live:"Перемотать на актуальный лайв",tooltip_episodes:"Эпизоды",tooltip_volume:"Включить звук",tooltip_volume_muted:"Выключить звук",tooltip_sound_unavailable:"Звук недоступен",tooltip_subtitles_off:"Включить субтитры",tooltip_subtitles_on:"Выключить субтитры",tooltip_settings_off:"Открыть настройки",tooltip_settings_on:"Закрыть настройки",tooltip_fullscreen_off:"На весь экран",tooltip_fullscreen_on:"Выйти из полноэкранного режима",tooltip_chromecast_off:"Включить Chromecast",tooltip_chromecast_on:"Выключить Chromecast",tooltip_episode_finished:"Вы уже сделали свой выбор",tooltip_episode_unfinished:"Не пройдено",tooltip_disabled_when_interactive:"Интерактив уже идёт",tooltip_disabled_when_graph_on:"Кнопка недоступна во время просмотра карты",tooltip_interactive_interaction_time_indicator:"Нажмите на элемент интерактива",tooltip_vk_logo:"Открыть в VK Видео",tooltip_vk_video_logo:"Перейти в VK Видео",tooltip_autoplay_off:"Включить автовоспроизведение",tooltip_autoplay_on:"Отключить автовоспроизведение",tooltip_context_menu_open:"Открыть контекстное меню",tooltip_context_menu_close:"Закрыть контекстное меню",download_video_caption:"Скачать видео",hotkey_helper_current_volume:"{value} %",hotkey_map_modal_title:"Быстрые клавиши",hotkey_map_modal_close_btn_text:"Закрыть",hotkey_map_group_title_common:"Общие",hotkey_map_group_title_playback:"Воспроизведение",hotkey_map_group_title_subtitles:"Субтитры",hotkey_map_group_title_episodes:"Эпизоды",hotkey_map_item_mute_description:"Включить или отключить звук",hotkey_map_item_mute_value:"m",hotkey_map_item_volume_up_description:"Увеличить громкость",hotkey_map_item_volume_up_value:"Стрелка вверх",hotkey_map_item_volume_down_description:"Уменьшить громкость",hotkey_map_item_volume_down_value:"Стрелка вниз",hotkey_map_item_pip_description:"Свернуть или развернуть мини-проигрыватель",hotkey_map_item_pip_value:"i",hotkey_map_item_full_screen_description:"Включить или выключить полноэкранный режим",hotkey_map_item_full_screen_value:"f",hotkey_map_item_show_context_menu_description:"Скрыть или показать контекстное меню",hotkey_map_item_show_context_menu_value:"Shift + !",hotkey_map_item_show_hotkey_map_description:"Скрыть или показать список горячих клавиш",hotkey_map_item_show_hotkey_map_value:"Shift + ?",hotkey_map_item_play_toggle_description:"Приостановить или продолжить воспроизведение",hotkey_map_item_play_toggle_value:"Пробел (или k)",hotkey_map_item_seek_backward_description:"Перемотать ролик на 10 секунд назад",hotkey_map_item_seek_backward_value:"Стрелка влево (или j)",hotkey_map_item_seek_forward_description:"Перемотать ролик на 10 секунд вперёд",hotkey_map_item_seek_forward_value:"Стрелка вправо (или l)",hotkey_map_item_fast_seek_backward_description:"Ускоренная перемотка назад",hotkey_map_item_fast_seek_backward_value:"Shift + Стрелка влево",hotkey_map_item_fast_seek_forward_description:"Ускоренная перемотка вперёд",hotkey_map_item_fast_seek_forward_value:"Shift + Стрелка вправо",hotkey_map_item_rate_down_description:"Уменьшить скорость воспроизведения",hotkey_map_item_rate_down_value:"< (Shift + ,)",hotkey_map_item_rate_up_description:"Увеличить скорость воспроизведения",hotkey_map_item_rate_up_value:"> (Shift + .)",hotkey_map_item_prev_frame_description:"Перейти к предыдущему кадру <br />(когда воспроизведение приостановлено)",hotkey_map_item_prev_frame_value:",",hotkey_map_item_next_frame_description:"Перейти к следующему кадру <br />(когда воспроизведение приостановлено)",hotkey_map_item_next_frame_value:".",hotkey_map_item_jump_seek_description:"Перейти к определённому моменту видео <br />(например, при нажатии на цифру «7» ролик будет перемотан до временной отметки, которая соответствует 70% от длительности видео)",hotkey_map_item_jump_seek_value:"0, 1, 2, 3, 4, 5, 6, 7, 8, 9",hotkey_map_item_subtitles_toggle_description:"Включить или отключить субтитры",hotkey_map_item_subtitles_toggle_value:"c",hotkey_map_item_prev_episode_description:"Перейти к предыдущему эпизоду",hotkey_map_item_prev_episode_pc_value:"Ctrl + Стрелка влево",hotkey_map_item_prev_episode_mac_value:"Option + Стрелка влево",hotkey_map_item_next_episode_description:"Перейти к следующему эпизоду",hotkey_map_item_next_episode_pc_value:"Ctrl + Стрелка вправо",hotkey_map_item_next_episode_mac_value:"Option + Стрелка вправо",hotkey_map_item_next_video_description:"Перейти к следующему видео",hotkey_map_item_next_video_value:"Shift + N",hotkey_map_item_prev_video_description:"Перейти к предыдущему видео",hotkey_map_item_prev_video_value:"Shift + P",waiting_live_day_value:"дн",waiting_live_hour_value:"ч",waiting_live_minute_value:"мин",waiting_live_second_value:"сек",waiting_live_colon:":",waiting_live_upcoming_title:"Трансляция еще не началась",waiting_live_timer_title:"До начала трансляции осталось",waiting_live_recover_title:"Трансляция приостановлена - она продолжится, когда автор вернётся",waiting_record_title:"Трансляция завершена - запись появится позже",aria_label_video_player:"Видео плеер",aria_label_spherical_control:"Контроллер для сферического видео. Используйте клавиши со стрелками для панорамирования видео.",aria_label_debug_panel:"Область с технической информацией, сделайте скриншот для техподдержки",aria_label_new_tab_alert:"Откроется в новой вкладке.",aria_label_menu_quality:"Качество: {actual}",aria_label_menu_audio_languages:"Язык аудио: {actual}",aria_label_menu_rate:"Скорость: {actual}",aria_label_menu_subtitle:"Субтитры: {actual}",aria_label_menu_download:"Скачать видео",aria_label_menu_debug_overlay:"Отображение технической информации",aria_label_menu_rotate:"Повернуть видео на 90 градусов",aria_label_menu_loop:"Переключение режима повторения",aria_label_submenu_back:"Вернуться в меню настроек",aria_label_submenu_traffic_saving:"Режим экономии данных",aria_label_settings:"Настройки",aria_label_context_menu:"Контекстное меню",aria_label_autoplay:"Автовоспроизведение",end_screen_next_video:"Следующее видео",end_screen_recommended_video:"Рекомендуемое видео",slow_video_notification_button:"Выбрать качество «Авто»",slow_video_notification_force_description:"Видео грузится слишком медленно,\nкачество изменено на «Авто»",slow_video_notification_suggest_description:"Видео загружается слишком медленно -\nпопробуйте изменить качество на «Авто»",double_forward_label:"2x",preview_track_notification_text:"Потяните вверх для точной перемотки",preview_track_close_tooltip:"Выйти из режима точной перемотки"},Lo={auto_quality_invariant:"Auto",auto_quality:"Auto ({actual})",auto_quality_option:"Auto",other_quality:"Other",high_quality:"High quality",high_quality_description:"Uses more data",auto_quality_limit:"Auto",traffic_saving_quality:"Data saving",traffic_saving_quality_description:"Videos load faster but at lower quality",quality_applience:"You can {action} the default quality",quality_applience_action:"change",default_quality_for_any_video:"Quality for all videos",menu_quality:"Quality",menu_playback_rate:"Playback rate",menu_traffic_saving:"Data saving",menu_report:"Report a problem",menu_pip:"Picture in picture",menu_pip_close:"Expand video",menu_copy_video_link:"Copy video link",menu_copy_video_link_with_timestamp:"Copy link with timestamp",menu_video_rotate:"Rotate",menu_video_loop_on:"Enable loop",menu_video_loop_off:"Disable loop",menu_chromecast:"Chromecast stream",menu_copy_debug:"Copy debug info",menu_save_debug:"Save debug info",menu_debug_overlay:"Tech stats",menu_copy_embed_code:"Copy embed code",menu_audio_languages:"Audio track",audio_stream_display_language_label:"{label} ({language})",audio_stream_display_language_label_index:"{label} {index} ({language})",audio_stream_display_label_index:"{label} {index}",audio_stream_display_language_index:"{language} {index}",audio_stream_display_unknown:"Audio track {index}",pip_dummy_title:"Video plays in picture-in-picture mode",submenu_quality:"Quality",submenu_playback_rate:"Playback rate",submenu_traffic_saving:"Data saving",submenu_settings:"Settings",submenu_audio_languages:"Audio track",playing_ads:"Ads {timeleft}",skip_ads_after:"Skip ads",skip_ads_now:"Skip {time}s",visit_advertiser:"Visit site",aria_timeline:"Time scale slider",aria_timeline_value:"{position} out of {duration}",doubletap_seek_step:"{seconds} seconds",playback_rate_1:"Normal",playback_rate:"{multiplier}x",video360:"spherical video",subtitles_caption:"Subtitles",subtitles_auto:"{language} (Auto-generated)",subtitles_off:"Off",subtitles_auto_caption:"Auto subtitles",subtitles_turn_on:"Turn on subtitles",subtitles_turn_off:"Turn off subtitles",traffic_saving_off:"Off",traffic_saving_on:"On",traffic_saving_helper_text:"When turned on the video quality will be reduced to save data",tooltip_button_disabled:"Button disabled",tooltip_previous:"Previous video",tooltip_restart:"Watch again",tooltip_play:"Play",tooltip_pause:"Pause",tooltip_next:"Next video",tooltip_interactive_go_back:"Back to previous chapter",tooltip_interactive_go_back_disabled:"Interactive history unavailable",tooltip_interactive_go_back_disabled_first:"You're watching the first chapter",tooltip_interactive_go_back_disabled_limit:"Go-back limit exceeded",tooltip_chapter_without_interactive:"This chapter has no interactive segment",tooltip_interactive_of_chapter_completed:"Chapter's interactive segments already watched",tooltip_interactive_seek:"Go to interactive",tooltip_interactive_graph_off:"Show interactive graph",tooltip_interactive_graph_on:"Hide interactive graph",tooltip_live:"Go to the live edge",tooltip_episodes:"Episodes",tooltip_volume:"Volume off",tooltip_volume_muted:"Turn volume on",tooltip_sound_unavailable:"Sound unavailable",tooltip_subtitles_off:"Turn subtitles on",tooltip_subtitles_on:"Turn subtitles off",tooltip_settings_off:"Open settings",tooltip_settings_on:"Close settings",tooltip_fullscreen_off:"Enter fullscreen mode",tooltip_fullscreen_on:"Exit fullscreen mode",tooltip_chromecast_off:"Turn Chromecast on",tooltip_chromecast_on:"Turn Chromecast off",tooltip_episode_finished:"You have already viewed interactive episode",tooltip_episode_unfinished:"Interactive episode not finished",tooltip_disabled_when_interactive:"Interactive video in progress",tooltip_disabled_when_graph_on:"Button is disabled when graph is opened",tooltip_interactive_interaction_time_indicator:"Press the interactive element",tooltip_vk_logo:"Open in VK Video",tooltip_vk_video_logo:"Go to VK Video",tooltip_autoplay_off:"Turn autoplay on",tooltip_autoplay_on:"Turn autoplay off",tooltip_context_menu_open:"Open context menu",tooltip_context_menu_close:"Close context menu",download_video_caption:"Download video",hotkey_helper_current_volume:"{value} %",hotkey_map_modal_title:"Keyboard shortcuts",hotkey_map_modal_close_btn_text:"Close",hotkey_map_group_title_common:"Common",hotkey_map_group_title_playback:"Playback",hotkey_map_group_title_subtitles:"Subtitles",hotkey_map_group_title_episodes:"Episodes",hotkey_map_item_mute_description:"Toggle mute",hotkey_map_item_mute_value:"m",hotkey_map_item_volume_up_description:"Increase volume",hotkey_map_item_volume_up_value:"Arrow up",hotkey_map_item_volume_down_description:"Decrease volume",hotkey_map_item_volume_down_value:"Arrow down",hotkey_map_item_pip_description:"Toggle miniplayer",hotkey_map_item_pip_value:"i",hotkey_map_item_full_screen_description:"Toggle full screen",hotkey_map_item_full_screen_value:"f",hotkey_map_item_show_context_menu_description:"Hide or show context menu",hotkey_map_item_show_context_menu_value:"Shift + !",hotkey_map_item_show_hotkey_map_description:"Hide or show list of hotkeys",hotkey_map_item_show_hotkey_map_value:"Shift + ?",hotkey_map_item_play_toggle_description:"Toggle play/pause",hotkey_map_item_play_toggle_value:"Space (or k)",hotkey_map_item_seek_backward_description:"Rewind 10 seconds",hotkey_map_item_seek_backward_value:"Arrow left (or j)",hotkey_map_item_seek_forward_description:"Forward 10 seconds",hotkey_map_item_seek_forward_value:"Arrow right (or l)",hotkey_map_item_fast_seek_backward_description:"Fast rewind",hotkey_map_item_fast_seek_backward_value:"Shift + Arrow left",hotkey_map_item_fast_seek_forward_description:"Fast forward",hotkey_map_item_fast_seek_forward_value:"Shift + Arrow right",hotkey_map_item_rate_down_description:"Decrease playback rate",hotkey_map_item_rate_down_value:"< (Shift + ,)",hotkey_map_item_rate_up_description:"Increase playback rate",hotkey_map_item_rate_up_value:"> (Shift + .)",hotkey_map_item_prev_frame_description:"Previous frame (while paused)",hotkey_map_item_prev_frame_value:",",hotkey_map_item_next_frame_description:"Next frame (while paused)",hotkey_map_item_next_frame_value:".",hotkey_map_item_jump_seek_description:"Seek to specific point in the video (7 advances to 70% of duration)",hotkey_map_item_jump_seek_value:"0, 1, 2, 3, 4, 5, 6, 7, 8, 9",hotkey_map_item_subtitles_toggle_description:"Toggle captions ON/OFF",hotkey_map_item_subtitles_toggle_value:"c",hotkey_map_item_prev_episode_description:"Seek to previous episode",hotkey_map_item_prev_episode_pc_value:"Ctrl + Arrow left",hotkey_map_item_prev_episode_mac_value:"Option + Arrow left",hotkey_map_item_next_episode_description:"Seek to next episode",hotkey_map_item_next_episode_pc_value:"Ctrl + Arrow right",hotkey_map_item_next_episode_mac_value:"Option + Arrow right",hotkey_map_item_next_video_description:"Next video",hotkey_map_item_next_video_value:"Shift + N",hotkey_map_item_prev_video_description:"Previous video",hotkey_map_item_prev_video_value:"Shift + P",waiting_live_day_value:"d",waiting_live_hour_value:"h",waiting_live_minute_value:"min",waiting_live_second_value:"sec",waiting_live_colon:":",waiting_live_upcoming_title:"The broadcast hasn't started yet",waiting_live_timer_title:"Before the start of the broadcast left",waiting_live_recover_title:"The broadcast has been paused - it will resume when the author returns",waiting_record_title:"The broadcast completed - recording will appear later",aria_label_video_player:"Video player",aria_label_spherical_control:"Spherical video control. Use the arrow keys to pan the video.",aria_label_debug_panel:"Technical information area, take a screenshot for technical support",aria_label_new_tab_alert:"Opens in a new tab.",aria_label_menu_quality:"Quality: {actual}",aria_label_menu_audio_languages:"Audio language: {actual}",aria_label_menu_rate:"Rate: {actual}",aria_label_menu_subtitle:"Subtitles: {actual}",aria_label_menu_download:"Download video",aria_label_menu_debug_overlay:"Display of technical information",aria_label_menu_rotate:"Rotate video 90 degrees",aria_label_menu_loop:"Toggle loop",aria_label_submenu_back:"Return to settings menu",aria_label_submenu_traffic_saving:"Data saving mode",aria_label_settings:"Settings",aria_label_context_menu:"Context menu",aria_label_autoplay:"Autoplay",end_screen_next_video:"Next video",end_screen_recommended_video:"Recommended video",slow_video_notification_button:"Select Auto quality",slow_video_notification_force_description:"The video is loading too slowly,\nso the quality was changed to Auto",slow_video_notification_suggest_description:"The video is loading too slowly.\nTry switching the quality to Auto.",double_forward_label:"2x",preview_track_notification_text:"pull up to open precise rewind",preview_track_close_tooltip:"dismiss precise rewind"},Mo=new Map;Mo.set(g.cA.EN,Lo),Mo.set(g.cA.RU,Io);var Vo,Ro,Bo=new Map,Do=({language:e,pack:t,fallback:i})=>{if(Mo.has(e)){let i=Mo.get(e);Mo.set(e,{...i,...t})}else Mo.set(e,t);Bo.set(e,i)},No=e=>Mo.has(e),zo=(e,t,i,n)=>{let a=Mo.get(e)?.[t];if((0,g.wD)(a)){let i=Bo.get(e)??n;a=(i?Mo.get(i):void 0)?.[t]}return(0,g.wD)(a)?t+Object.values(i??{}).join(" "):i?a.replaceAll(/{(\w+?)}/g,((e,t)=>i[t]??"")):a},Oo=(e,t)=>{let{interfaceLanguage$:i}=Oa(),n=ra(i),a=_a();return zo(n,e,t,a.defaultLanguage)},Ho=Si('<path d="M26.86 15.18a3.7 3.7 0 0 0 2.53-3.6C29.4 8.91 27.2 7 24.07 7c-1.96 0-3.57.78-4.67 2.29l-.1.15a1.33 1.33 0 0 0 .26 1.85c.54.4 1.3.35 1.74-.16l.2-.25a3 3 0 0 1 2.5-1.3c1.53 0 2.6.91 2.6 2.25 0 1.36-1.09 2.27-2.65 2.27h-.58a1.23 1.23 0 0 0 0 2.47h.58c1.75 0 2.91.98 2.91 2.39 0 1.45-1.19 2.46-2.88 2.46a3.2 3.2 0 0 1-2.89-1.6l-.2-.29a1.4 1.4 0 0 0-2.05-.25 1.3 1.3 0 0 0-.3 1.68l.21.33A6 6 0 0 0 24 24c3.28 0 5.63-2.04 5.63-4.92a4 4 0 0 0-2.77-3.9M37.73 12.68c-.46 0-1 .04-1.5.16L38.8 9.1a1.34 1.34 0 1 0-2.2-1.52l-3.76 5.47C31.43 15.18 31 16.87 31 18.33 31 21.8 33.56 24 37.19 24c3.6 0 6.16-2.4 6.16-5.77a5.4 5.4 0 0 0-5.63-5.56m-.53 8.74c-1.98 0-3.33-1.27-3.33-3.14 0-1.85 1.35-3.14 3.33-3.14 1.95 0 3.3 1.29 3.3 3.14 0 1.87-1.35 3.14-3.3 3.14m20.8-5.9c0 5.03-2.7 8.43-6.63 8.43s-6.62-3.4-6.62-8.44 2.7-8.44 6.62-8.44S58 10.47 58 15.51m-10.35 0c0 3.56 1.49 5.85 3.72 5.85s3.72-2.3 3.72-5.86-1.48-5.86-3.72-5.86c-2.23 0-3.72 2.3-3.72 5.86M67 9.49A3.5 3.5 0 0 1 63.51 13 3.5 3.5 0 0 1 60 9.49 3.5 3.5 0 0 1 63.51 6 3.5 3.5 0 0 1 67 9.49m-5 0c0 .83.68 1.51 1.51 1.51.81 0 1.5-.68 1.5-1.51 0-.81-.69-1.5-1.5-1.5-.83 0-1.51.69-1.51 1.5ZM67 23.5c0-1.32-1.2-3.1-4.2-4.67a1.5 1.5 0 1 1 1.4-2.66c3.25 1.72 5.8 4.26 5.8 7.33 0 3.13-2.56 5.55-6.09 7.27-3.63 1.77-8.82 3.06-15.26 3.72a1.5 1.5 0 0 1-.3-2.98c6.25-.64 11.05-1.88 14.25-3.44 3.3-1.6 4.4-3.27 4.4-4.57M38.88 35H38c-9.64 0-17.45-1.13-22.9-3.02-2.72-.94-4.94-2.1-6.5-3.47C7.01 27.14 6 25.44 6 23.5a6.2 6.2 0 0 1 1.9-4.25 16 16 0 0 1 4.43-3.1 1.5 1.5 0 1 1 1.34 2.7q-2.39 1.19-3.59 2.46C9.3 22.14 9 22.87 9 23.5c0 .8.4 1.74 1.57 2.76s3 2.01 5.51 2.89C21.11 30.89 28.55 32 38 32h.88l-1.44-1.44a1.5 1.5 0 0 1 2.12-2.12l4 4h.01a1.5 1.5 0 0 1 .32 1.63 2 2 0 0 1-.33.5l-4 4a1.5 1.5 0 0 1-2.12-2.13z"></path>');function Fo(e,t){ne(t,!1);let i=Oo("video360");Jn(),Eo(e,{width:"76",height:"45",get ariaLabel(){return i},testId:"video-360-icon",shadow:!0,children:(e,t)=>{Pi(e,Ho())},$$slots:{default:!0}}),ae()}(Ro=Vo||(Vo={})).fatal="fatal",Ro.error="error",Ro.warning="warning",Ro.log="log",Ro.info="info",Ro.debug="debug",Ro.critical="critical";var qo=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Uo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Wo=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Qo="?",jo=/^(?:(\w+):)\/\/(?:([\w-]+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ko(e){return(e&&e.message||"No error message").split("\n").filter((e=>!!e))[0]}function Yo(e){try{let t=function(e){if(!e.stack)return null;let t,i,n=[],a=e.stack.split("\n");for(let o=0;o<a.length;++o){if(t=qo.exec(a[o]))i={filename:t[2]&&0===t[2].indexOf("address at ")?t[2].substr(11):t[2],function:t[1]||Qo,lineno:t[3]?+t[3]:null,colno:t[4]?+t[4]:null};else if(t=Wo.exec(a[o]))i={filename:t[2],function:t[1]||Qo,lineno:+t[3],colno:t[4]?+t[4]:null};else{if(!(t=Uo.exec(a[o])))continue;0===o&&!t[5]&&void 0!==e.columnNumber&&(n[0].column=e.columnNumber+1),i={filename:t[3],function:t[1]||Qo,lineno:t[4]?+t[4]:null,colno:t[5]?+t[5]:null}}!i.function&&i.lineno&&(i.function=Qo),n.push(i)}return n.length?{value:Ko(e),type:e.name,stacktrace:{frames:n.reverse()}}:null}(e);if(t)return t}catch{}return{value:Ko(e),type:e&&e.name,stacktrace:{frames:[]}}}var Go=class{prepare(e){return{...this.getRequestBlank(),exception:{values:[Yo(e)]}}}report(e){this.send(this.prepare(e))}send(e){!this.apiUrl||!e||this.createRequest(e)}createRequest(e){let t=new XMLHttpRequest;t.open("POST",this.apiUrl,!0),t.setRequestHeader("Content-type","application/json"),t.setRequestHeader("X-Sentry-Auth",this.authHeader||""),t.send(JSON.stringify(e))}getRequestBlank(){return{platform:"javascript",event_id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),sdk:{name:"micro-sentry.javascript.core",version:"0.0.0"},timestamp:Date.now()/1e3,environment:this.environment}}constructor(e){if(e&&e.dsn){let t=jo.exec(e.dsn),i=t?t.slice(1):[],n=i[5].split("/"),a=n.slice(0,-1).join("/");this.apiUrl=i[0]+"://"+i[3]+(i[4]?":"+i[4]:"")+(a?"/"+a:"")+"/api/"+n.pop()+"/store/",this.authHeader="Sentry sentry_version=7,sentry_key="+i[1]+(i[2]?",sentry_secret="+i[2]:"")}this.environment=e&&e.environment}};function Xo(e,t){return"[object RegExp]"===Object.prototype.toString.call(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t)}var Zo=class e extends Go{get state(){return this._state}clearState(){this._state={}}setTags(e){return this.setKeyState("tags",{...e}),this}setTag(e,t){return this.extendState({tags:{[e]:t}}),this}setExtra(e,t){return this.extendState({extra:{[e]:t}}),this}setExtras(e){return this.setKeyState("extra",{...e}),this}setUser(e){return this.setKeyState("user",{...e}),this}clone(){let t=new e({...this.options,plugins:[]});return t.extendState(this.state),t}withScope(e){let t=this.clone();e(t),t.destroy(),this.setBreadcrumbs(void 0)}addBreadcrumb(e){this.extendState({breadcrumbs:[{timestamp:Date.now()/1e3,...this.beforeBreadcrumb(e)}]})}setBreadcrumbs(e){this.setKeyState("breadcrumbs",e)}captureMessage(e,t){this.send({...this.getRequestBlank(),message:e,level:t})}destroy(){this.destroyed=!0,this.plugins.forEach((e=>{e.destroy&&e.destroy()}))}isIgnoredError(e){return!!this.ignoreErrors.length&&this.getPossibleEventMessages(e).some((e=>this.ignoreErrors.some((t=>Xo(e,t)))))}getRequestBlank(){return{request:{url:this.window.location.toString(),headers:{"User-Agent":this.window.navigator.userAgent}},...super.getRequestBlank(),sdk:{name:"micro-sentry.javascript.browser",version:"0.0.0"},...this.state}}send(e){this.destroyed||this.isDeniedUrl(e)||this.isIgnoredError(e)||(super.send(this.beforeSend({release:this.release,...e})),this.setBreadcrumbs(void 0))}getPossibleEventMessages(e){if(e.message)return[e.message];if(e.exception)try{let{type:t="",value:i=""}=e.exception.values&&e.exception.values[0]||{};return[`${i}`,`${t}: ${i}`]}catch{return[]}return[]}isDeniedUrl(e){if(!this.blacklistUrls.length)return!1;let t=this.getEventFilterUrl(e);return!!t&&this.blacklistUrls.some((e=>Xo(t,e)))}getEventFilterUrl(e){try{if(e.exception){let t=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return t&&t[t.length-1].filename||null}return null}catch{return null}}extendState(e){this._state=Object.keys(e).reduce(((t,i)=>{let n=this._state[i],a=Array.isArray(n)?n:null,o=e[i],r=Array.isArray(o)?o:null;return{...t,[i]:a||r?[...a||[],...r||[]]:{..."string"!=typeof n?n:{},..."string"!=typeof o?o:{}}}}),this._state)}setKeyState(e,t){this._state[e]=t}constructor(e,t=function(){return window}()){super(e),this.options=e,this.window=t,this.destroyed=!1,this._state={};let{plugins:i=[],beforeSend:n=e=>e,beforeBreadcrumb:a=e=>e,blacklistUrls:o=[],ignoreErrors:r=[],release:s}=this.options||{};this.plugins=i.map((e=>new e(this))),this.beforeSend=n,this.beforeBreadcrumb=a,this.blacklistUrls=o,this.ignoreErrors=r,this.release=s}},Jo=null,er=class{destroy(){this.sentryClient?.destroy(),this.sentrySubscription?.unsubscribe(),Jo=null}logIError(e,t=!1){e.thrown&&this.report(e.thrown,{fatal:t,errorType:e.id,category:e.category},{message:e.message,errorData:e.data})}report(e,t={},i={}){let{sentryClient:n,context:a,options:o}=this,{sampleRate:r=0,whiteErrorIdList:s,whiteErrorCategoryList:l=[],blackErrorIdList:d,blackErrorCategoryList:u}=o,{errorType:c,category:p}=t;if(!((0,g.R)(p)&&u.includes(p)||(0,g.R)(c)&&d.includes(c))&&(Math.random()<=r||(0,g.R)(p)&&l.includes(p)||(0,g.R)(c)&&s.includes(c))){Object.keys(t).length&&n.setTags({version:this.version,...t}),(Object.keys(a).length||Object.keys(i).length)&&n.setExtras({...a,...i});try{c&&n.captureMessage(c,t.fatal?Vo.fatal:Vo.error),n.report(e)}catch(e){console.error(e)}}}static getInstance(){return Jo}constructor(e,t,i={}){!Jo&&e.dsn&&(this.sentryClient=new Zo({dsn:e.dsn,environment:t.env}),this.version=t.version,this.sentrySubscription=new g.yU,this.options=e,this.context=i,Jo=this)}},tr=(e=>(e.Thumb="thumb",e.Video="video",e.Ads="ads",e.Crashed="crashed",e.LiveWaitingStart="LiveWaitingStart",e.LiveWaitingRecover="LiveWaitingRecover",e.LiveWaitingRecord="LiveWaitingRecord",e))(tr||{}),ir=e=>{if(e.requestFullscreen)return e.requestFullscreen();if(e.msRequestFullscreen)return e.msRequestFullscreen();if(e.webkitRequestFullscreen)return e.webkitRequestFullscreen();if(e.mozRequestFullScreen)return e.mozRequestFullScreen();let t=e.querySelector("video");return t?.webkitEnterFullscreen?(t.webkitEnterFullscreen(),Promise.resolve()):Promise.reject()},nr=e=>e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():Promise.reject(),ar=()=>{let e=document;return e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement},or=()=>!!ar(),rr=e=>{document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e)},sr=e=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)},lr=class{isSupported(){return document.pictureInPictureEnabled}isActive(){return this.info.isActive$.getValue()}setContext(e){this.svelteContext=e}async revealPictureInPicture(){this.isRequested&&(this.removeEventHandlers(),await this.request(),this.addEventHandlers())}async request(){if(this.isSupported()&&!this.isActive())try{await(this.videoElement?.requestPictureInPicture())}catch{this.isRequested=!1}}async exit(){!this.isSupported()||!this.isActive()||await document.exitPictureInPicture()}assignPlayerContainer(e){this.isSupported()&&(this.playerContainer=e)}updateVideoElement(){this.isSupported()&&this.exit().finally((()=>{this.removeEventHandlers(),this.videoElement=this.playerContainer?.querySelector("video"),this.addEventHandlers()}))}addEventHandlers(){this.videoElement?.addEventListener("enterpictureinpicture",this.eventHandlers.enterpictureinpicture),this.videoElement?.addEventListener("leavepictureinpicture",this.eventHandlers.leavepictureinpicture)}setExternalEventHandlers(e){this.externalEventHandlers={...e}}removeEventHandlers(){this.videoElement?.removeEventListener("enterpictureinpicture",this.eventHandlers.enterpictureinpicture),this.videoElement?.removeEventListener("leavepictureinpicture",this.eventHandlers.leavepictureinpicture)}async dispose(){this.removeEventHandlers(),await this.exit(),this.info.isActive$.next(!1),this.isRequested=!1}onEnterPictureInPicture(e){let t=e.pictureInPictureWindow;t&&(this.info.isActive$.next(!0),this.isRequested=!0,t.addEventListener("resize",this.eventHandlers.resize),this.externalEventHandlers.enterpictureinpicture?.(e))}onLeavePictureInPicture(e){let t=e.pictureInPictureWindow;this.info.isActive$.next(!1),this.isRequested=!1,this.eventHandlers.resize.cancel(),t?.removeEventListener("resize",this.eventHandlers.resize),this.externalEventHandlers.leavepictureinpicture?.(e)}onResize(e){this.externalEventHandlers.resize?.(e)}setEnabled(e){this.info.isEnabled$.next(e)}constructor({enabled:e=!0}={enabled:!0}){this.isRequested=!1,this.videoElement=void 0,this.playerContainer=void 0,this.externalEventHandlers={},this.eventHandlers={enterpictureinpicture:this.onEnterPictureInPicture.bind(this),leavepictureinpicture:this.onLeavePictureInPicture.bind(this),resize:(0,g.eD)(this.onResize.bind(this),300)},this.info={isActive$:new g.Ot(!1),isEnabled$:new g.Ot(!1),type:0},this.info.isEnabled$=new g.Ot(e)}};function dr(e){return e instanceof lr}var ur=Si('<path d="M11.74 6.74a.9.9 0 0 1-1.28 0L6 2.27 1.54 6.74A.9.9 0 1 1 .26 5.46l5.1-5.1a.9.9 0 0 1 1.28 0l5.1 5.1a.9.9 0 0 1 0 1.28Z"></path>'),cr=Si('<path d="m5.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 0 1 1.272 1.272L5.773 8z"></path>');function pr(e,t){ne(t,!0);let i=ma(t,"direction",3,"left"),n=ma(t,"useBtnColor",3,!1),a=ve((()=>["up","down"].includes(i()))),o=ve((()=>["right","down"].includes(i()))),r=ve((()=>`chevron-icon--${i()}`)),s=ve((()=>(()=>{let e="";return di(o)&&(e+="transform: rotate(180deg);"),e.length?e:void 0})())),l=ve((()=>n()?To:"currentColor")),d=ve((()=>di(a)?"7":"16"));Eo(e,{width:"12",get height(){return di(d)},get fill(){return di(l)},get testId(){return di(r)},get style(){return di(s)},children:(e,t)=>{var i=Ai(),n=Xe(i),o=e=>{Pi(e,ur())},r=e=>{Pi(e,cr())};Zi(n,(e=>{di(a)?e(o):e(r,!1)})),Pi(e,i)},$$slots:{default:!0}}),ae()}var hr=(e,t,i)=>{e.stopPropagation(),di(t)&&i()()},vr=Ci('<div class="skip s-17"> <!></div>'),gr=Ci("<div><!></div>"),mr={hash:"s-17",code:".container.s-17{background:rgba(0,0,0,.56);border-radius:6px;color:#fff;font-size:13px;padding:6px 10px;position:absolute;right:16px;top:14px;transition:color .2s}.container-mobile.s-17{bottom:14px;font-size:15px;max-width:142px;top:unset}.skip.s-17{align-items:flex-end;display:flex;gap:4px;white-space:nowrap}.skippable.s-17{color:var(--white);cursor:pointer}.skippable.s-17:hover{color:hsla(0,0%,100%,.75)}"};function fr(e,t){ne(t,!0),gn(e,mr);let[i,n]=ua(),a=ma(t,"position",3,0),o=ma(t,"secondsToWatchBeforeSkip",3,0),r=ma(t,"skipAd",3,g.lQ),s=Oa().ui.isMobile,l=ve((()=>a()>0&&a()>=o()));var d=gr();let u;d.__click=[hr,l,r];var c=Ge(d),p=e=>{var t=vr(),i=Ge(t);pr(Ze(i),{direction:"right"}),Fe(t),rt((e=>Hi(i,`${e??""} `)),[()=>Oo("skip_ads_now")]),Pi(e,t)},h=e=>{var t=Ti();rt((e=>Hi(t,e)),[()=>Oo("skip_ads_after",{time:Math.ceil(o()-a()).toFixed(0)})]),Pi(e,t)};Zi(c,(e=>{di(l)?e(p):e(h,!1)})),Fe(d),rt((e=>u=xn(d,1,"container s-17",null,u,e)),[()=>({"container-mobile":da(s,"$isMobile",i),skippable:di(l)})]),Pi(e,d),ae(),n()}wi(["click"]);var br=Ci('<button class="go-to-site s-16"> </button>'),yr={hash:"s-16",code:"button.go-to-site.s-16{background:#fff;border:none;border-radius:6px;bottom:14px;color:#000;font-size:15px;left:16px;padding:6px 10px;pointer-events:none;position:absolute}"};var _r=Ci('<div class="top-gradient-mobile s-n"></div>'),wr=Ci('<div class="container s-n"><!> <video style="width: 100%; height: 100%" playsinline=""></video> <!> <!> <!></div>',2),xr={hash:"s-n",code:".container.s-n{height:100%;width:100%}.top-gradient-mobile.s-n{background:linear-gradient(1turn,transparent,rgba(0,0,0,.05) 12%,rgba(0,0,0,.15) 25%,rgba(0,0,0,.3) 45%,rgba(0,0,0,.4) 57%,rgba(0,0,0,.5) 77%,rgba(0,0,0,.55) 88%,rgba(0,0,0,.65));height:80px;left:0;pointer-events:none;position:absolute;top:0;width:100%}"};function kr(e,t){ne(t,!0),gn(e,xr);let[i,n]=ua(),a=()=>da(_,"$adPlaybackState",i),o=()=>da(v,"$isMobile",i),r=ma(t,"adsSlotId",3,void 0),s=ma(t,"adsParams",3,void 0),l=ma(t,"adsAutoplayParam",3,void 0),d=ma(t,"duration",3,0),u=ma(t,"adsExternalApi",3,void 0),c=Oa(),p=_a(),h=c.state.isEnded$,v=c.ui.isMobile,m=p.ads.isMobileGoToSiteButton,f=$e(void 0),b=$e(void 0),y=!1,_=c.ads.playbackState,w=c.ads.canSkip,x=c.ads.position,k=c.ads.secondsToWatchBeforeSkip,$=ve((()=>da(w,"$canSkipAd",i)&&"inactive"!==a())),C=ve((()=>o()&&"inactive"!==a()&&m));Yi((()=>{let e=c.getAdmanWrapper();if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ads_mount"],numbers:[(0,g.tB)(),r()]}),!r())return void e.onAdmanLoadingError();let t=async t=>{t&&await li();let i=(()=>{let{width:e,height:t}=ra(c.ui.playerSize),i=ra(c.ui.isFullscreen),n=l()??ra(c.ui.isAutoplay),a=p.ads.paramsOverride;return{width:e,height:t,isFullscreen:i,isAutoplay:n,adsContainer:di(f),adsVideoElement:di(b),slotId:r(),params:s(),paramsOverride:a,duration:d(),externalApi:u()}})();await e.initAdman(i),y=!0},i=new AbortController;return window.AdmanHTML?t(!0).catch((()=>{e.onAdmanLoadingError()})):e.loadAdman(i.signal).then((()=>t(!1))).catch((()=>{e.onAdmanLoadingError()})),()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ads_unmount"],numbers:[(0,g.tB)(),r()]}),!y&&i.abort()}}));var S=wr(),T=Ge(S),A=e=>{Pi(e,_r())};Zi(T,(e=>{o()&&e(A)}));var P=Ze(T,2);Zn(P,(e=>Se(b,e)),(()=>di(b)));var E=Ze(P,2),I=e=>{fr(e,{get position(){return da(x,"$adPosition",i)},get secondsToWatchBeforeSkip(){return da(k,"$secondsToWatchBeforeSkipAd",i)},get skipAd(){return c.actions.internal.skipAd}})};Zi(E,(e=>{di($)&&e(I)}));var L=Ze(E,2),M=e=>{!function(e,t){ne(t,!1);let i=Oa();Yi((()=>{i.getAdmanWrapper().startPostroll()})),Jn(),ae()}(0,{})};Zi(L,(e=>{da(h,"$isVideoEnded",i)&&e(M)}));var V=Ze(L,2),R=e=>{!function(e,t){ne(t,!1),gn(e,yr),Jn();var i=br(),n=Ge(i,!0);Fe(i),rt((e=>Hi(n,e)),[()=>Oo("visit_advertiser")],ge),Pi(e,i),ae()}(e,{})};Zi(V,(e=>{di(C)&&e(R)})),Fe(S),Zn(S,(e=>Se(f,e)),(()=>di(f))),Pi(e,S),ae(),n()}var $r=e=>{if(!isFinite(e))return"00:00";let t=Math.round(e),i=Math.floor(t/3600);t-=3600*i;let n=Math.floor(t/60);t-=60*n;let a=[n,t].map((e=>String(e).padStart(2,"0"))).join(":");return i>0&&(a=`${i}:${a}`),a},Cr=Si('<path fill="#fff"></path>'),Sr=Si("<path></path><!>",1);function Tr(e,t){let i=ma(t,"isActive",3,!1),n=ve((()=>i()?"live-active-icon":"live-icon")),a=ve((()=>i()?"var(--timeline-slider-filled-active-live-bg, #FF3347)":void 0)),o="M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1m7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2zm-8.32 9.31-2.55-7.82a1 1 0 0 1-.12-.37L19 6.1a1 1 0 1 1 2-.2l2 6.4 2-6.4a1 1 0 0 1 2 .2v.02a1 1 0 0 1-.13.37l-2.55 7.82a1 1 0 0 1-.95.69h-.74a1 1 0 0 1-.95-.69";Eo(e,{width:"42",height:"20",get testId(){return di(n)},get fill(){return di(a)},children:(e,t)=>{var n=Sr(),a=Xe(n),r=Ze(a),s=e=>{var t=Cr();Ln(t,"d",o),Pi(e,t)};Zi(r,(e=>{i()&&e(s)})),rt((()=>Ln(a,"d",`M5 0h32s5 0 5 5v10s0 5 -5 5h-32s-5 0 -5 -5v-10s0 -5 5 -5${i()?"":"M5.5 2h31s3.5 0 3.5 3.5v9s0 3.5-3.5 3.5h-31s-3.5 0-3.5-3.5v-9s0-3.5 3.5-3.5"+o}z`))),Pi(e,n)},$$slots:{default:!0}})}var Ar=Ci('<div class="equalizer s-e"><div class="col s-e"></div> <div class="col s-e"></div> <div class="col s-e"></div></div>'),Pr=Ci('<div class="live-icon s-e"><!></div>'),Er=Ci('<span class="text s-e"> </span>'),Ir=Ci("<div><!> <!></div>"),Lr={hash:"s-e",code:".wrapper.s-e{background-color:var(--black-alpha-40);border-radius:4px;padding:2px 6px;transition:visibility var(--controls-transition-duration),opacity var(--controls-transition-duration);white-space:nowrap}.wrapper.live.s-e{background:var(--red);border-radius:2px;font-size:0;height:20px;line-height:20px;padding:0 7px}.equalizer.s-e{display:inline-block;height:10px;margin-right:4px;margin-top:-4px;position:relative;vertical-align:middle;width:10px}.live.s-e .equalizer:where(.s-e){margin-top:-2px}.equalizer.s-e .col:where(.s-e){animation:1.5s linear infinite alternate;animation-play-state:paused;background:var(--btn-color,--white);bottom:0;height:10px;margin-right:2px;position:absolute;transform-origin:50% 100%;width:2px}.playing.s-e .equalizer:where(.s-e) .col:where(.s-e){animation-play-state:running}.equalizer.s-e .col:where(.s-e):first-child{animation-name:s-e-thumb-timer-equalizer-col1;left:0}.equalizer.s-e .col:where(.s-e):nth-child(2){animation-name:s-e-thumb-timer-equalizer-col2;left:3px}.equalizer.s-e .col:where(.s-e):nth-child(3){animation-name:s-e-thumb-timer-equalizer-col3;left:6px}.live-icon.s-e{display:inline-block;height:20px;margin:0 -7px;vertical-align:middle;width:42px}@keyframes s-e-thumb-timer-equalizer-col1{0%{transform:scaleY(.1)}25%{transform:scaleY(.8)}50%{transform:scaleY(.4)}75%{transform:scaleY(.6)}to{transform:scaleY(.1)}}@keyframes s-e-thumb-timer-equalizer-col2{0%{transform:scaleY(1)}25%{transform:scaleY(.3)}50%{transform:scaleY(.9)}75%{transform:scaleY(.6)}to{transform:scaleY(1)}}@keyframes s-e-thumb-timer-equalizer-col3{0%{transform:scaleY(.6)}25%{transform:scaleY(.9)}50%{transform:scaleY(.1)}75%{transform:scaleY(.9)}to{transform:scaleY(.6)}}.text.s-e{color:var(--controls-time);font-size:13px;font-weight:500;line-height:16px}"};function Mr(e,t){gn(e,Lr);let i=ma(t,"withEqualizer",3,!1),n=ma(t,"isLive",3,!1),a=ma(t,"isPlaying",3,!1);var o=Ir();let r;var s=Ge(o),l=e=>{Pi(e,Ar())};Zi(s,(e=>{i()&&e(l)}));var d=Ze(s,2),u=e=>{var t=Pr();Tr(Ge(t),{isActive:!0}),Fe(t),Pi(e,t)},c=e=>{var i=Er(),n=Ge(i,!0);Fe(i),rt((()=>Hi(n,t.time))),Pi(e,i)};Zi(d,(e=>{n()?e(u):e(c,!1)})),Fe(o),rt((e=>r=xn(o,1,"wrapper s-e",null,r,e)),[()=>({live:n(),playing:a()})]),Pi(e,o)}var Vr=(e,t,i)=>{let n;return()=>(window.clearTimeout(n),e?n=window.setTimeout((()=>t.set(!0)),i):t.set(!1),()=>window.clearTimeout(n))},Rr=Ci('<div role="timer" data-testid="thumb-timer"><!></div>'),Br={hash:"s-i",code:".thumb-timer.s-i{bottom:0;margin:8px;position:absolute;right:0;transition:visibility var(--controls-transition-duration),opacity var(--controls-transition-duration);z-index:var(--thumb-timer-z-index)}"};function Dr(e,t){ne(t,!0),gn(e,Br);let[i,n]=ua(),a=ma(t,"isHidden",3,!1),o=ma(t,"isLive",3,!1),r=ma(t,"isPlaying",3,!1),s=_a(),l=ve((()=>$r(t.duration-t.position))),d=aa(!1);var u=Rr();let c;Mr(Ge(u),{get time(){return di(l)},get isLive(){return o()},get isPlaying(){return r()},withEqualizer:!0}),Fe(u),mn(u,(()=>Vr(a()&&s.features.usePerformanceFix,d,s.disableInvisibleComponentsTimeout))),rt((e=>c=xn(u,1,"thumb-timer s-i",null,c,e)),[()=>({"out-of-flow":da(d,"$disabled",i),hidden:a()})]),Pi(e,u),ae(),n()}var Nr=e=>{navigator.clipboard?navigator.clipboard.writeText(e).catch((()=>zr(e))):zr(e)};function zr(e){if(document.queryCommandSupported&&document.queryCommandSupported("copy")){let t=document.createElement("textarea");t.textContent=e,t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}}var Or="focus-hidden",Hr=e=>{e.stopPropagation(),e.preventDefault()},Fr=e=>{e.parentNode?.firstElementChild?.classList.remove(Or)},qr=e=>"Escape"===e.code,Ur=(e,t=[])=>{let i=e.code;return["Enter","Space",...t].includes(i)},Wr=e=>{(e=>{let t=e.code;return"Tab"===t&&!e.shiftKey||"ArrowDown"===t})(e)?(Hr(e),(e=>{let t=e.nextElementSibling;t||(t=e.parentNode?.firstElementChild),t?.focus()})(e.target)):(e=>{let t=e.code;return"Tab"===t||"ArrowUp"===t})(e)&&(Hr(e),(e=>{let t=e.previousElementSibling;t||(t=e.parentNode?.lastElementChild),t?.focus()})(e.target))},Qr=e=>!v.zl.device.isAndroid&&0===e?.detail||v.zl.device.isAndroid&&""===e?.pointerType,jr=async(e,t,i)=>{await li(),e&&!e.classList.contains("opened")&&!t&&ra(i)&&(await li(),i.set(!1),e.focus())},Kr=async(e,t,i,n=!1)=>{if(await li(),e&&t&&!n){let t=e.children[0];t?.classList.toggle(Or,!i),t?.focus()}},Yr=(e,t)=>{Wr(e),Fr(e.target),qr(e)&&(Hr(e),t())},Gr=async(e,t)=>{Ur(e,["ArrowRight"])&&(Hr(e),t())},Xr=(e,t)=>{Ur(e)&&(Hr(e),t())},Zr=100,Jr=200,es=300,ts=400,is=500,ns=600,as=700,os=800,rs=900,ss=1e3,ls=(e,t)=>{Xr(e,(()=>t()))},ds=Ci('<li class="item s-1v" role="menuitem" tabindex="0"> </li>'),us={hash:"s-1v",code:".item.s-1v{color:hsla(0,0%,100%,.72);cursor:pointer;display:block;font-size:13px;letter-spacing:-.14px;line-height:18px;padding:8px 16px;position:relative;white-space:nowrap}.item.s-1v:hover{background:rgba(66,66,66,.5);color:var(--white)}"};function cs(e,t){ne(t,!0),gn(e,us);let i=ma(t,"onClick",3,g.lQ),n=ma(t,"closeContextMenu",3,g.lQ),a=e=>{e?.stopPropagation(),i()(),n()()};var o=ds();o.__click=a,o.__keydown=[ls,a];var r=Ge(o,!0);Fe(o),rt((()=>{Ln(o,"aria-label",t.ariaLabel??t.label),Ln(o,"data-testid",t.id),Hi(r,t.label)})),Pi(e,o),ae()}wi(["click","keydown"]);var ps=(e,t)=>e.weight-t.weight,hs=(e=>(e.OPEN_SUB_MENU="OPEN_SUB_MENU",e.CLICK="CLICK",e.SWITCH="SWITCH",e))(hs||{}),vs=(e,t)=>{Yr(e,t)},gs=e=>{e.preventDefault()},ms=Ci('<ul role="menu" class="s-1c"></ul>'),fs={hash:"s-1c",code:"ul.s-1c{background:rgba(0,0,0,.72);border-radius:8px;list-style:none;margin:0;max-height:100%;max-width:100%;overflow-x:hidden;overflow-y:auto;padding:6px 0;position:absolute;transition:visibility .1s,opacity .1s;z-index:var(--context-menu-z-index)}"};function bs(e,t){ne(t,!0),gn(e,fs);let[i,n]=ua(),a=()=>da(A,"$playerPhase",i),o=()=>da(E,"$pictureInPictureApiIsActive$",i),r=()=>da(T,"$isLooped$",i),s=ma(t,"visible",3,!1),l=ma(t,"position",19,(()=>({top:0,left:0}))),d=ma(t,"playerContainerRef",3,void 0),u=ma(t,"menuElementRef",15,void 0),c=$e(0),p=$e(0),h=Oa(),{pictureInPicture$:m}=Ha(),f=_a(),b=h.ui.contextMenu.visible$,y=h.ui.debugPanelVisible,_=h.ui.additionalContextMenuItems$,w=h.ui.t,x=h.actions.internal.togglePictureInPicture,k=h.state.chromecastState$,$=h.state.isLive$,C=h.state.positionExact$,S=h.state.isInteractive,T=h.state.looped$,A=h.playerPhase,{isEnabled$:P,isActive$:E}=m,I=ve((()=>"video"===a())),L=ve((()=>!!da($,"$isLive$",i)&&di(I))),M=ve((()=>["thumb","LiveWaitingStart","LiveWaitingRecover","LiveWaitingRecord"].includes(a()))),V=ve((()=>f.features.copyVideoLink&&h.callbacks?.onCopyVideoLink)),R=ve((()=>di(V)&&!di(M)&&!S&&!di(L))),B=ve((()=>!!h.callbacks?.onCopyEmbedCodeClicked)),D=ve((()=>da(P,"$isPiPEnabled$",i)&&da(k,"$chromecastState$",i)!==v.di.CONNECTED&&!S&&di(I))),N=ve((()=>!S&&!di(M)&&!di(L))),z=ve((()=>f.features.videoRotate&&!S&&!di(M))),O=ve((()=>f.showSupport&&!o())),H=ve((()=>f.features.saveTraceInfoToFile)),F=()=>{b.set(!1),t.returnFocus?.()};nt((()=>{(async()=>{if(u()&&d()){await li();let{top:e,left:t,bottom:i,right:n}=l(),a=t??0,o=e??0,r=u().getBoundingClientRect();(0,g.wD)(t)&&!(0,g.wD)(n)&&(a=n-r.width),(0,g.wD)(e)&&!(0,g.wD)(i)&&(o=i-r.height),a=Math.max(a,0),o=Math.max(o,0),((e,t)=>{if(!u()||!d())return;let i=u().getBoundingClientRect(),n=d().getBoundingClientRect();Se(c,e-n.left),Se(p,t-n.top),di(c)+i.width>n.width&&Se(c,n.width-i.width),di(p)+i.height>n.height&&Se(p,n.height-i.height),Se(c,Math.max(di(c),0),!0),Se(p,Math.max(di(p),0),!0)})(a,o)}})()}));let q=()=>{h.actions.internal.videoRotate()},U=()=>{(0,g.Gz)(t.supportLink)&&window.open(t.supportLink,"_blank"),h.actions.internal.reportProblem(),h.actions.internal.pause()},W=()=>{let e=h.actions.internal.getDebugTextData();if(f.features.saveDebugInfoToFile){let t=new Blob([...e],{type:"plain/text"}),i=window.URL.createObjectURL(t);Da(i,"vk_player_debug_info","txt")}else Nr(h.actions.internal.getDebugTextData())},Q=()=>{let e=h.actions.internal.getTraceTextData(),t=new Blob([...e],{type:"application/json"}),i=window.URL.createObjectURL(t);Da(i,"vk_player_trace_info","json")},j=()=>{y.set(!0)},K=async()=>{try{x()}finally{t.returnFocus?.()}},Y=()=>{h.actions.internal.setLooped(!r())},G=()=>{if(di(B)){let e=h.callbacks?.onCopyEmbedCodeClicked?.();e&&Nr(e)}},X=(e=!1)=>{if(h.callbacks?.onCopyVideoLink){let t=h.callbacks?.onCopyVideoLink(e,da(C,"$positionExact$",i));t&&Nr(t)}},Z=ve((()=>f.features.saveDebugInfoToFile?w("menu_save_debug"):w("menu_copy_debug"))),J=ve((()=>di(V)?{id:"copy-link",weight:Zr,label:w("menu_copy_video_link"),onClick:()=>X()}:void 0)),ee=ve((()=>di(R)?{id:"copy-link-timestamp",weight:Jr,label:w("menu_copy_video_link_with_timestamp"),onClick:()=>X(!0)}:void 0)),te=ve((()=>di(B)?{id:"copy-embed-code",weight:es,label:w("menu_copy_embed_code"),onClick:G}:void 0)),ie=ve((()=>di(D)?{id:"pip",weight:ts,label:o()?w("menu_pip_close"):w("menu_pip"),onClick:K}:void 0)),oe=ve((()=>di(N)?{id:"video-loop",weight:is,label:r()?w("menu_video_loop_off"):w("menu_video_loop_on"),ariaLabel:w("aria_label_menu_loop"),onClick:Y}:void 0)),re=ve((()=>di(z)?{id:"rotate",weight:ns,label:w("menu_video_rotate"),ariaLabel:w("aria_label_menu_rotate"),onClick:q}:void 0)),se=ve((()=>di(O)?{id:"report",weight:as,label:w("menu_report"),ariaLabel:`${w("menu_report")}. ${w("aria_label_new_tab_alert")}`,onClick:U}:void 0)),le=ve((()=>({id:"save-debug",weight:os,label:di(Z),onClick:W}))),de=ve((()=>di(H)?{id:"save-trace",weight:rs,label:w("menu_save_debug"),onClick:Q}:void 0)),ue=ve((()=>({id:"debug-info",weight:ss,label:w("menu_debug_overlay"),ariaLabel:w("aria_label_menu_debug_overlay"),onClick:j}))),ce=ve((()=>[di(J),di(ee),di(te),di(ie),di(oe),di(re),di(se),di(le),di(de),di(ue),...da(_,"$additionalContextMenuItems$",i)].filter((e=>!!e)).sort(ps)));var pe=Ai(),he=Xe(pe),ge=e=>{var t=ms();t.__contextmenu=[gs],t.__keydown=[vs,F],on(t,21,(()=>di(ce)),(e=>e.id),((e,t)=>{cs(e,{get id(){return di(t).id},get label(){return di(t).label},get ariaLabel(){return di(t).ariaLabel},get onClick(){return di(t).onClick},closeContextMenu:F})})),Fe(t),Zn(t,(e=>u(e)),(()=>u())),rt((()=>$n(t,`top: ${di(p)??""}px; left: ${di(c)??""}px;`))),Pi(e,t)};Zi(he,(e=>{s()&&e(ge)})),Pi(e,pe),ae(),n()}wi(["contextmenu","keydown"]);var ys=class{constructor(e){this.value=e,this.next=null}},_s=class{push(e){let t=new ys(e);this.top?(this.top.next=t,this.top=t):(this.top=t,this.bottom=t),this.size++,this.size>this.maxSize&&this.bottom&&(this.bottom=this.bottom.next)}getValuesFromBottom(){let e=[],t=this.bottom;for(;t;)e.push(t.value),t=t.next;return e}constructor(e){this.top=null,this.bottom=null,this.size=0,this.maxSize=e}},ws=Ci('<div class="container s-15"><canvas class="s-15"></canvas></div>'),xs={hash:"s-15",code:".container.s-15{display:inline-block;height:16px;width:120px}canvas.s-15{margin-top:2px;transform:scaleY(-1)}"};function ks(e,t){ne(t,!0),gn(e,xs);let i=ma(t,"values",19,(()=>[])),n=$e(void 0),a=$e(null);function o(e,t,i,n,a){0===a&&(a=1),e.fillStyle="#fff",e.fillRect(t,i,n,a)}Yi((()=>{di(n).width=120,di(n).height=16,Se(a,di(n).getContext("2d"),!0)})),nt((()=>{let e="";if(di(a)){let t=i()[0];for(let e=1;e<i().length;e++)i()[e]>t&&(t=i()[e]);di(a).clearRect(0,0,120,16);let n=59;for(let r=i().length-1;r>=0;r--){let s=2*n,l=t>0?i()[r]/t*16:0;o(di(a),s,0,2,l),e=l+" "+e,n--}}}));var r=ws();Zn(Ge(r),(e=>Se(n,e)),(()=>di(n))),Fe(r),Pi(e,r),ae()}var $s=(e,t)=>{e.stopPropagation(),g.RW.remove(wa),t.set(!1)},Cs=Ci('<div class="s-l"><div class="s-l">Video id</div> <span> </span></div>'),Ss=Ci('<div class="s-l"><div class="s-l">VSID</div> <span> </span></div>'),Ts=Ci('<div class="s-l"><div class="s-l">Provider</div> <span> </span></div>'),As=Ci('<div class="s-l"><div class="s-l">Streams</div> <span> </span></div>'),Ps=Ci('<div class="s-l"><div class="s-l">Viewport</div> <span> </span></div>'),Es=Ci('<div class="s-l"><div class="s-l">Video size</div> <span> </span></div>'),Is=Ci('<div class="s-l"><div class="s-l">CDN host</div> <span> </span></div>'),Ls=Ci('<div class="s-l"><div class="s-l">Volume</div> <span> </span></div>'),Ms=Ci('<div class="s-l"><div class="s-l">Position</div> <span> </span></div>'),Vs=Ci('<div class="s-l"><div class="s-l">Buffer</div> <span> </span></div>'),Rs=Ci('<div class="s-l"><div class="s-l">Nbuffer</div> <span> </span></div>'),Bs=Ci('<div class="s-l"><div class="s-l">Live latency</div> <span> </span></div>'),Ds=Ci('<div class="s-l"><div class="s-l">Segment</div> <span> </span></div>'),Ns=Ci('<div class="s-l"><div class="s-l">Network</div> <!> <span> </span></div>'),zs=Ci('<div class="s-l"><div class="s-l">V bitrate</div> <!> <span> </span></div>'),Os=Ci('<div role="region"><button class="close s-l" title="закрыть">[x]</button> <div class="content s-l"><div class="s-l"><div class="s-l">Version</div> <span> </span></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="s-l"><div class="s-l">Dropped</div> <span> </span></div> <!> <!> <div class="s-l"><div class="s-l">FPS</div> <!> <span> </span></div></div></div>'),Hs={hash:"s-l",code:".container.s-l{background:rgba(28,28,28,.8);border-radius:4px;color:#fff;font-size:10px;left:20px;min-width:160px;position:absolute;text-align:left;top:45px;user-select:text;z-index:var(--debug-panel-z-index)}.container-mobile.s-l{left:16px;top:16px}button.close.s-l{background-color:transparent;border:none;color:#fff;cursor:pointer;outline:0;padding:0;position:absolute;right:5px;top:3px}.content.s-l{padding:5px}.content.s-l>div:where(.s-l)>div:where(.s-l){display:inline-block;padding:0 5px;text-align:right;width:60px}"};function Fs(e,t){ne(t,!0),gn(e,Hs);let[i,n]=ua(),a=Oa(),o=a.ui.debugPanelVisible,r=a.ui.isMobile,s=$e(le(a.actions.internal.getDebugPanelData())),l=a.actions.internal.getVideoElement(),d=$e(0),u=$e(0),c=$e(0),p=new _s(60),h=new _s(60),v=new _s(60),m=$e(le([])),f=$e(le([])),b=$e(le([])),y=Oo("aria_label_debug_panel");Yi((()=>{g.RW.set(wa,"true"),a.actions.internal.startLogging(),l&&(Se(u,l.getVideoPlaybackQuality().droppedVideoFrames,!0),Se(d,l.getVideoPlaybackQuality().totalVideoFrames,!0));let e,t=window.setInterval((()=>{Se(s,a.actions.internal.getDebugPanelData(),!0)}),500);return l&&(e=window.setInterval((()=>{if(l){Se(u,l.getVideoPlaybackQuality().droppedVideoFrames,!0);let e=l.getVideoPlaybackQuality().totalVideoFrames;Se(c,e-di(d)),Se(d,e,!0),p.push(di(c)),di(s).speed&&h.push(di(s).speed),di(s).bitrate&&v.push(di(s).bitrate),Se(m,p.getValuesFromBottom(),!0),Se(f,h.getValuesFromBottom(),!0),Se(b,v.getValuesFromBottom(),!0)}}),1e3)),()=>{a.actions.internal.stopLogging(),clearInterval(t),e&&clearInterval(e)}}));var _=Os();let w;var x=Ge(_);x.__click=[$s,o];var k=Ze(x,2),$=Ge(k),C=Ze(Ge($),2),S=Ge(C,!0);Fe(C),Fe($);var T=Ze($,2),A=e=>{var t=Cs(),i=Ze(Ge(t),2),n=Ge(i,!0);Fe(i),Fe(t),rt((()=>Hi(n,di(s).id))),Pi(e,t)};Zi(T,(e=>{di(s).id&&e(A)}));var P=Ze(T,2),E=e=>{var t=Ss(),i=Ze(Ge(t),2),n=Ge(i,!0);Fe(i),Fe(t),rt((()=>Hi(n,di(s).vsid))),Pi(e,t)};Zi(P,(e=>{di(s).vsid&&e(E)}));var I=Ze(P,2),L=e=>{var t=Ts(),i=Ze(Ge(t),2),n=Ge(i,!0);Fe(i),Fe(t),rt((()=>Hi(n,di(s).provider))),Pi(e,t)};Zi(I,(e=>{di(s).provider&&e(L)}));var M=Ze(I,2),V=e=>{var t=As(),i=Ze(Ge(t),2),n=Ge(i);Fe(i),Fe(t),rt((()=>Hi(n,`Video: ${(di(s).videoCodec||"")??""} ${di(s).hdr?"(HDR)":""}\n          &\n          Audio: ${(di(s).audioCodec||"")??""} ${di(s).audioLanguage?`(${di(s).audioLanguage})`:""}`))),Pi(e,t)};Zi(M,(e=>{(di(s).videoCodec||di(s).audioCodec)&&e(V)}));var R=Ze(M,2),B=e=>{var t=Ps(),i=Ze(Ge(t),2),n=Ge(i,!0);Fe(i),Fe(t),rt((()=>Hi(n,di(s).viewport))),Pi(e,t)};Zi(R,(e=>{di(s).viewport&&e(B)}));var D=Ze(R,2),N=e=>{var t=Es(),i=Ze(Ge(t),2),n=Ge(i,!0);Fe(i),Fe(t),rt((()=>Hi(n,di(s).videoSize))),Pi(e,t)};Zi(D,(e=>{di(s).videoSize&&e(N)}));var z=Ze(D,2),O=e=>{var t=Is(),i=Ze(Ge(t),2),n=Ge(i,!0);Fe(i),Fe(t),rt((()=>Hi(n,di(s).cdn))),Pi(e,t)};Zi(z,(e=>{di(s).cdn&&e(O)}));var H=Ze(z,2),F=e=>{var t=Ls(),i=Ze(Ge(t),2),n=Ge(i);Fe(i),Fe(t),rt((()=>Hi(n,`${di(s).volume??""} %`))),Pi(e,t)};Zi(H,(e=>{di(s).volume&&e(F)}));var q=Ze(H,2),U=e=>{var t=Ms(),i=Ze(Ge(t),2),n=Ge(i);Fe(i),Fe(t),rt((e=>Hi(n,`${e??""} s`)),[()=>di(s).position.toFixed(2)]),Pi(e,t)};Zi(q,(e=>{di(s).position&&e(U)}));var W=Ze(q,2),Q=e=>{var t=Vs(),i=Ze(Ge(t),2),n=Ge(i);Fe(i),Fe(t),rt((e=>Hi(n,`${e??""} s`)),[()=>di(s).buffer.toFixed(2)]),Pi(e,t)};Zi(W,(e=>{di(s).buffer&&e(Q)}));var j=Ze(W,2),K=e=>{var t=Rs(),i=Ze(Ge(t),2),n=Ge(i);Fe(i),Fe(t),rt((e=>Hi(n,`${e??""} s`)),[()=>di(s).nativeBuffer.toFixed(2)]),Pi(e,t)};Zi(j,(e=>{di(s).nativeBuffer&&e(K)}));var Y=Ze(j,2),G=e=>{var t=Bs(),i=Ze(Ge(t),2),n=Ge(i);Fe(i),Fe(t),rt((e=>Hi(n,`${e??""} s`)),[()=>di(s).liveLatency.toFixed(2)]),Pi(e,t)};Zi(Y,(e=>{di(s).liveLatency&&e(G)}));var X=Ze(Y,2),Z=e=>{var t=Ds(),i=Ze(Ge(t),2),n=Ge(i,!0);Fe(i),Fe(t),rt((e=>Hi(n,e)),[()=>[{value:di(s).currentVideoSegmentLength,title:"Video:"},{value:di(s).currentAudioSegmentLength,title:"Audio:"}].filter((({value:e})=>e)).map((({value:e,title:t})=>`${t} ${((e??0)/1e3).toFixed(2)} s`)).join(" & ")]),Pi(e,t)};Zi(X,(e=>{(di(s).currentVideoSegmentLength||di(s).currentAudioSegmentLength)&&e(Z)}));var J=Ze(X,2),ee=Ze(Ge(J),2),te=Ge(ee);Fe(ee),Fe(J);var ie=Ze(J,2),oe=e=>{var t=Ns(),i=Ze(Ge(t),2);ks(i,{get values(){return di(f)}});var n=Ze(i,2),a=Ge(n);Fe(n),Fe(t),rt((e=>Hi(a,`${e??""} Kbps`)),[()=>di(s).speed.toFixed(2)]),Pi(e,t)};Zi(ie,(e=>{di(s).speed&&e(oe)}));var re=Ze(ie,2),se=e=>{var t=zs(),i=Ze(Ge(t),2);ks(i,{get values(){return di(b)}});var n=Ze(i,2),a=Ge(n);Fe(n),Fe(t),rt((e=>Hi(a,`${e??""} Kbps`)),[()=>di(s).bitrate.toFixed(2)]),Pi(e,t)};Zi(re,(e=>{di(s).bitrate&&e(se)}));var de=Ze(re,2),ue=Ze(Ge(de),2);ks(ue,{get values(){return di(m)}});var ce=Ze(ue,2),pe=Ge(ce,!0);Fe(ce),Fe(de),Fe(k),Fe(_),rt((e=>{w=xn(_,1,"container s-l",null,w,e),Ln(_,"aria-label",y),Hi(S,di(s).version),Hi(te,`${di(u)??""} / ${di(d)??""} frames`),Hi(pe,di(c))}),[()=>({"container-mobile":da(r,"$isMobile",i)})]),Pi(e,_),ae(),n()}wi(["click"]);var qs=(e,t)=>{e.stopPropagation(),t()()},Us=Ci('<div class="close s-10"></div>'),Ws={hash:"s-10",code:'.close.s-10{cursor:pointer;height:16px;opacity:.8;position:relative;transition:opacity .2s;width:16px}.close.s-10:hover{opacity:1}.close.s-10:after,.close.s-10:before{background-color:var(--white);content:" ";height:16px;left:8px;position:absolute;width:2px}.close.s-10:before{transform:rotate(45deg)}.close.s-10:after{transform:rotate(-45deg)}'};function Qs(e,t){ne(t,!0),gn(e,Ws);let i=ma(t,"onClick",3,g.lQ);var n=Us();n.__click=[qs,i],Pi(e,n),ae()}wi(["click"]);var js=e=>`width:${e}px;height:${e}px;`,Ks=Si('<path d="m14.4 8.76 24.02 13.85a1.6 1.6 0 0 1 0 2.78L14.4 39.24a1.6 1.6 0 0 1-2.4-1.39v-27.7a1.6 1.6 0 0 1 2.4-1.39"></path>');function Ys(e,t){ne(t,!0);let i=ve((()=>js(t.size)));Eo(e,{get width(){return"48"},get height(){return"48"},get fill(){return t.fill},get style(){return di(i)},testId:"play-icon",get shadow(){return t.shadow},children:(e,t)=>{Pi(e,Ks())},$$slots:{default:!0}}),ae()}var Gs=Ci('<div class="timer s-13"><canvas class="timer-canvas s-13" width="100" height="100"></canvas> <!></div>'),Xs={hash:"s-13",code:".timer.s-13{align-items:center;background:rgba(31,31,31,.65);border-radius:50%;display:flex;height:50px;justify-content:space-around;transition:background .2s;width:50px}.timer.s-13:hover{background:rgba(31,31,31,.85)}.timer-canvas.s-13{height:50px;position:absolute;width:50px}"};function Zs(e,t){ne(t,!0),gn(e,Xs);let i,n,a,o=ma(t,"isRunning",3,!0),r=ma(t,"onTimerEnded",3,g.lQ),s=$e(void 0),l=0;nt((()=>{o()&&ui((()=>{n=Date.now(),l=requestAnimationFrame(u)}))}));let d=()=>{l&&(cancelAnimationFrame(l),l=0)},u=()=>{d(),o()&&(a=(Date.now()-n)/5e3,a<1?(i?.clearRect(0,0,100,100),i?.beginPath(),i?.arc(50,50,47,-Math.PI/2,-Math.PI/2+2*Math.PI*a),i?.stroke(),l=requestAnimationFrame(u)):r()())};Yi((()=>{i=di(s).getContext("2d"),i&&(i.lineWidth=6,i.lineCap="round",i.strokeStyle="#fff")})),Gi((()=>{d()}));var c=Gs(),p=Ge(c);Zn(p,(e=>Se(s,e)),(()=>di(s))),Ys(Ze(p,2),{get size(){return"24"}}),Fe(c),Pi(e,c),ae()}var Js=(e,t,i)=>{t(!1),i()},el=Ci('<div class="overlay s-1g"></div> <div class="next-video s-1g"><div class="top s-1g"><div class="caption s-1g"> </div> <!></div> <div class="row s-1g"><div class="column s-1g"><div class="thumb s-1g"><div></div> <!></div></div> <div class="column s-1g"><div class="title s-1g"> </div></div></div></div>',1),tl={hash:"s-1g",code:".overlay.s-1g{background:rgba(0,0,0,.72);height:100%;position:absolute;width:100%}.next-video.s-1g{display:flex;flex-direction:column;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:362px}.top.s-1g{display:flex;justify-content:space-between}.caption.s-1g{color:var(--white);font-size:11px;font-weight:700;opacity:.8;text-transform:uppercase}.row.s-1g{background:rgba(48,48,48,.8);cursor:pointer;display:flex;flex-direction:row;height:102px;margin-top:6px;width:100%}.column.s-1g{display:flex;flex-basis:50%;flex-direction:column}.thumb.s-1g{align-items:center;background:no-repeat 50%;background-size:cover;display:flex;justify-content:space-around;position:relative}.thumb.s-1g,.thumb-overlay.s-1g{height:100%;width:100%}.thumb-overlay.s-1g{position:absolute}.thumb-overlay.withOpacity.s-1g{background:var(--black);opacity:.3}.title.s-1g{color:var(--white);font-size:12px;font-weight:700;line-height:1.6;max-height:52px;overflow:hidden;padding:10px 16px}"};function il(e,t){ne(t,!0),gn(e,tl);let[i,n]=ua(),a=()=>da(r,"$autoplayNextEnabled$",i),o=Oa(),r=o.ui.autoplayNextEnabled$,s=o.ui.timerNextVideoRunning$,l=o.actions.internal.nextVideoClick,d=o.actions.internal.nextVideoAnnouncementShow,u=o.actions.internal.nextVideoAnnouncementClick,c=o.actions.internal.nextVideoAnnouncementAuto,p=o.actions.internal.nextVideoAnnouncementCancel,h=()=>{a()&&(l(!1),c())},v=()=>{t.clickCloseIcon(),p()};Yi((()=>{t.isHide||d(),t.isHide&&a()&&(l(!1),c())}));var g=Ai(),m=Xe(g),f=e=>{var n=el(),o=Ze(Xe(n),2),r=Ge(o),d=Ge(r),c=Ge(d,!0);Fe(d),Qs(Ze(d,2),{onClick:v}),Fe(r);var p=Ze(r,2);p.__click=[Js,l,u];var g=Ge(p),m=Ge(g),f=Ge(m);let b;var y=Ze(f,2),_=e=>{let t=ve((()=>da(s,"$timerNextVideoRunning$",i)&&a()));Zs(e,{get isRunning(){return di(t)},onTimerEnded:h})};Zi(y,(e=>{a()&&e(_)})),Fe(m),Fe(g);var w=Ze(g,2),x=Ge(w),k=Ge(x,!0);Fe(x),Fe(w),Fe(p),Fe(o),rt(((e,i)=>{Hi(c,e),$n(m,`background-image: url('${t.thumb}')`),b=xn(f,1,"thumb-overlay s-1g",null,b,i),Hi(k,t.title)}),[()=>Oo("end_screen_next_video"),()=>({withOpacity:a()})]),Pi(e,n)};Zi(m,(e=>{t.isHide||e(f)})),Pi(e,g),ae(),n()}wi(["click"]);var nl=(e,t)=>Math.min(+(e+t).toFixed(2),1),al=(e,t)=>Math.max(+(e-t).toFixed(2),0),ol=(e,t,i)=>{let n=nl(t,i);t<1&&e.actions.internal.setVolume(n)},rl=(e,t,i)=>{let n=al(t,i);t>0&&e.actions.internal.setVolume(n)},sl=({isAudioDisabled:e,isAudioAvailable:t,isAds:i,audioDisabledHintCallback:n,audioIsNotExistHintCallback:a})=>e?!!i||(n?.(),!1):!!t||(a?.(),!1);function ll(){return document.activeElement?.shadowRoot?.activeElement??null}var dl=(e,t)=>{t(e)},ul=Ci('<div class="keyboard-controls s-1f" tabindex="-1" role="region"><!></div>'),cl={hash:"s-1f",code:".keyboard-controls.s-1f{bottom:0;left:0;position:absolute;right:0;top:0}"};function pl(e,t){ne(t,!0),gn(e,cl);let[i,n]=ua(),a=()=>da(A,"$disabledControls$",i),o=()=>da(x,"$playbackState$",i),r=()=>da(V,"$doubleForwardOn$",i),s=()=>da($,"$adPlaybackState",i),l=()=>da(C,"$positionExact$",i),d=()=>da(S,"$duration$",i),u=()=>da(F,"$isAudioAvailable$",i),c=()=>da(T,"$volume$",i),p=()=>da(k,"$canChangePlaybackSpeed$",i),h=()=>da(E,"$currentSubtitle$",i),f=ma(t,"nextButtonActive",3,!1),b=ma(t,"prevButtonActive",3,!1),y=Oa(),_=_a(),w=y.getLogger().createComponentLog("KeyboardControls component"),x=y.state.playbackState$,k=y.state.canChangePlaybackSpeed$,$=y.ads.playbackState,C=y.state.positionExact$,S=y.state.duration$,T=y.state.volume$,A=y.ui.controls.disabledControls$,P=y.state.muted$,E=y.state.currentSubtitle$,I=y.ui.contextMenu.openedByHotKey$,L=y.ui.contextMenu.lastActiveElem$,M=y.ui.contextMenu.visible$,V=y.ui.doubleForwardOn$,B=y.ui.doubleForwardAvailable$,D=y.ui.contextMenu.position$,N=y.state.isEnded$,z=y.ui.overlayContainer$,O=y.callbacks?.onAudioDoesNotExistHint,H=y.callbacks?.onAudioDisabledHint,F=y.state.isAudioAvailable$,q=y.state.isAudioDisabled,U=y.state.isInteractiveTime$,{showInteractiveTimeIndicatorTooltip$:W}=Ha(),Q=0,j=!0,K=$e(void 0),Y=e=>(e!==j&&(j=e,Q=0),Q+=1,(_.controls.seekStepKeyboard+_.controls.seekStepKeyboard*Q)/1e3),G=!0,X=({type:e,repeat:n,disableDoubleForward:s})=>{let l=()=>{if(!a().has("PLAY_BUTTON"))if(da(U,"$isInteractiveTime$",i)&&da(W,"$showInteractiveTimeIndicatorTooltip$",i)&&W.set(!1),t.fakePlayButtonHandler)t.fakePlayButtonHandler();else{y.actions.internal.togglePlay();let e="PLAY";o()===v.wF.PAUSED?e="PAUSE":da(N,"$isEnded$",i)&&(e="REPLAY"),t.showHotKeyHelpers({type:e})}},d="down"===e;if(!da(B,"$doubleForwardAvailable$",i)||s)return d&&l(),void(G=!0);if(d)G=!1;else if(G)return;d?!n&&t.startDoubleForwardActivationTimer():(r()||l(),t.stopDoubleForward(),G=!0)},Z=e=>{let t=(e=>{if(!e)return{top:0,left:0};let t=e.getBoundingClientRect(),i=t.left+8;return{bottom:t.bottom+-58,left:i}})(da(z,"$overlayContainer$",i));D.set(t),L.set(e.target),I.set(!0),M.set(!0)},J=(e,n=!1)=>{let x=e.target,k=x?.getAttribute("role")?.includes("menuitem"),$=x.classList.contains("btn"),C=e.code;if($&&"Space"===C)return!1;let S=Ta.has(C);if(k&&S)return!1;let T=!Sa.has(C);if(e.ctrlKey&&T||e.altKey&&T||e.metaKey)return!1;let A=k&&"Escape"===C;Aa.has(C)||A||t.hideContextMenu();let E=o()===v.wF.PLAYING||o()===v.wF.PAUSED,I=t.isAds&&("paused"===s()||"playing"===s()),L=!I&&!a().has("TIMELINE"),M=e.shiftKey&&["Digit1","Numpad1"].includes(C);if(!M&&!E&&!I)return!1;w({message:`key down, code: ${C}, isExternal = ${n}`});let V=!1,R=()=>{V=!0,n||e.preventDefault()};if(M)return Z(e),R(),!0;switch(C){case"KeyJ":case"ArrowLeft":if(!L)break;if(e.ctrlKey||e.altKey){let e=y.actions.internal.getPrevEpisode();y.actions.internal.seekToPrevEpisode(e),e&&t.showHotKeyHelpers({type:"EPISODE_PREV",text:e.text}),R()}else{let i=e.shiftKey?Y(!1):_.controls.seekStepKeyboard/1e3,n=Math.max(l()-i,0);l()>0&&(y.actions.internal.seekTime(n,m.Bv.DOUBLE_TAP),t.showHotKeyHelpers({type:"BACKWARD_SEEK",text:i.toString()}),R())}break;case"KeyL":case"ArrowRight":if(!L)break;if(e.ctrlKey||e.altKey){let e=y.actions.internal.getNextEpisode();y.actions.internal.seekToNextEpisode(e),e&&t.showHotKeyHelpers({type:"EPISODE_NEXT",text:e.text}),R()}else{let i=e.shiftKey?Y(!0):_.controls.seekStepKeyboard/1e3,n=Math.min(l()+i,d());Math.round(l())<Math.round(d())&&(y.actions.internal.seekTime(n,m.Bv.DOUBLE_TAP),t.showHotKeyHelpers({type:"FORWARD_SEEK",text:i.toString()}),R())}break;case"ArrowUp":if(sl({isAudioDisabled:q,audioDisabledHintCallback:H,isAudioAvailable:u(),audioIsNotExistHintCallback:O,isAds:t.isAds})){let e=c(),i=_.controls.volumeStepKeyboard,n=e<=1;if(ol(y,e,i),n){let n=Math.round(100*nl(e,i)).toString();t.showHotKeyHelpers({type:"VOLUME",t:{key:"hotkey_helper_current_volume",value:n}})}}R();break;case"ArrowDown":if(sl({isAudioDisabled:q,audioDisabledHintCallback:H,isAudioAvailable:u(),audioIsNotExistHintCallback:O,isAds:t.isAds})){let e=c(),i=_.controls.volumeStepKeyboard,n=e>=0;if(rl(y,e,i),n){let n=Math.round(100*al(e,i)).toString();t.showHotKeyHelpers({type:"VOLUME",t:{key:"hotkey_helper_current_volume",value:n}})}}R();break;case"Comma":if(e.shiftKey){if(!r()&&p()){let e=y.actions.internal.decrementPlaybackRate();t.showHotKeyHelpers({type:"RATE_DOWN",text:e?.displayValue}),R()}}else{if(I||o()!==v.wF.PAUSED)break;let e=Math.max(l()-_.controls.seekStepFrame/1e3,0);l()>0&&(t.showHotKeyHelpers({type:"BACKWARD_SEEK"}),y.actions.internal.clearDelayedBufferingCheckTimeout(),y.actions.internal.seekTime(e,m.Bv.DOUBLE_TAP),R())}break;case"Period":if(e.shiftKey){if(!r()&&p()){let e=y.actions.internal.incrementPlaybackRate();t.showHotKeyHelpers({type:"RATE_UP",text:e?.displayValue}),R()}}else{if(I||o()!==v.wF.PAUSED)break;let e=Math.min(l()+_.controls.seekStepFrame/1e3,d());l()<d()&&(t.showHotKeyHelpers({type:"FORWARD_SEEK"}),y.actions.internal.clearDelayedBufferingCheckTimeout(),y.actions.internal.seekTime(e,m.Bv.DOUBLE_TAP),R())}break;case"KeyK":case"Space":X({type:"down",repeat:e.repeat,disableDoubleForward:"KeyK"===C}),R();break;case"KeyM":sl({isAudioDisabled:q,audioDisabledHintCallback:H,isAudioAvailable:u(),audioIsNotExistHintCallback:O,isAds:t.isAds})&&(t.showHotKeyHelpers({type:da(P,"$muted$",i)?"VOLUME":"MUTE"}),y.actions.internal.toggleMuted()),R();break;case"KeyF":t.toggleFullscreen(),R();break;case"KeyC":y.actions.internal.toggleSubtitle(),"off"!==h().value?t.showHotKeyHelpers({type:"SUBTITLES_ON",text:h()?.displayValue}):t.showHotKeyHelpers({type:"SUBTITLES_OFF"}),R();break;case"KeyI":y.actions.internal.togglePictureInPicture(),R();break;case"Digit1":case"Numpad1":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.1,m.Bv.DOUBLE_TAP),R();break;case"Digit2":case"Numpad2":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.2,m.Bv.DOUBLE_TAP),R();break;case"Digit3":case"Numpad3":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.3,m.Bv.DOUBLE_TAP),R();break;case"Digit4":case"Numpad4":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.4,m.Bv.DOUBLE_TAP),R();break;case"Digit5":case"Numpad5":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.5,m.Bv.DOUBLE_TAP),R();break;case"Digit6":case"Numpad6":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.6,m.Bv.DOUBLE_TAP),R();break;case"Digit7":case"Numpad7":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.7,m.Bv.DOUBLE_TAP),R();break;case"Digit8":case"Numpad8":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.8,m.Bv.DOUBLE_TAP),R();break;case"Digit9":case"Numpad9":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.9,m.Bv.DOUBLE_TAP),R();break;case"Digit0":case"Numpad0":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(0,m.Bv.DOUBLE_TAP),R();break;case"Slash":e.shiftKey&&_.features.hotKeyMapModal&&(t.showKeyMap(),R());break;case"KeyN":e.shiftKey&&f()&&(y.actions.internal.nextVideoClick(),R());break;case"KeyP":e.shiftKey&&b()&&(y.actions.internal.prevVideoClick(),R());break;case"ShiftLeft":case"ShiftRight":R();break;case"Tab":case"Escape":case"Enter":break;default:(0,g.f2)(C)}return V},ee=e=>{let i=e.code;if(e.ctrlKey||e.altKey||e.metaKey)return;let n=o()===v.wF.PLAYING||o()===v.wF.PAUSED,a=t.isAds&&("paused"===s()||"playing"===s());if(n||a)switch(i){case"ShiftLeft":case"ShiftRight":Q=0;break;case"Space":X({type:"up"})}},te=Oo("aria_label_video_player");var ie=ul();ie.__keyup=ee,ie.__keydown=[dl,J],Ki(Ge(ie),(()=>t.children??R)),Fe(ie),Zn(ie,(e=>Se(K,e)),(()=>di(K))),rt((()=>Ln(ie,"aria-label",te))),Pi(e,ie);var oe=ae({focus:()=>di(K)?.focus(),isFocused:()=>di(K)===ll(),handleExternalKeyboardEvent:e=>"keydown"===e.type?J(e,!0):("keyup"===e.type&&ee(e),!1)});return n(),oe}wi(["keyup","keydown"]);var hl=Ci('<div class="container s-m"><div class="dot s-m"></div> <div class="dot s-m"></div> <div class="dot s-m"></div></div>'),vl={hash:"s-m",code:".container.s-m{display:flex;left:50%;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%)}.dot.s-m:first-child{animation-delay:0s}.dot.s-m:nth-child(2){animation-delay:.18s}.dot.s-m:nth-child(3){animation-delay:.36s}@keyframes s-m-dot_animation{0%{opacity:.2}30%{opacity:1}to{opacity:.2}}.dot.s-m{animation-duration:.75s;animation-iteration-count:infinite;animation-name:s-m-dot_animation;background:var(--btn-color);border-radius:4px;height:8px;width:8px}.dot.s-m+.dot:where(.s-m){margin-left:4px}"};function gl(e,t){gn(e,vl);let i=ma(t,"style",3,"");var n=hl();rt((()=>$n(n,i()))),Pi(e,n)}var ml=Si('<path d="M5.26 5.26a.9.9 0 0 1 1.28 0L12 10.73l5.46-5.47a.9.9 0 0 1 1.28 1.28L13.27 12l5.47 5.46a.9.9 0 1 1-1.28 1.28L12 13.27l-5.46 5.47a.9.9 0 1 1-1.28-1.28L10.73 12 5.26 6.54a.9.9 0 0 1 0-1.28Z"></path>');var fl=e=>{e.stopPropagation()},bl=Ci("<button><!></button>"),yl={hash:"s-1x",code:"button.btn.s-1x{align-items:center;display:flex;flex-direction:row;height:var(--controls-height);justify-content:center;margin:0;padding:8px;will-change:opacity}button.w-max.s-1x{width:100%}button.btn--live.s-1x{padding:10px 4px}button.btn-jc-l.s-1x{justify-content:left}button.btn-m.s-1x{background-color:rgba(0,0,0,.56);border-radius:12px;height:44px;left:12px;position:absolute;top:50%;transform:translateY(-50%);transition:opacity var(--controls-transition-duration);width:44px}button.btn-m.s-1x,button.btn-m--play.s-1x{align-items:center;display:flex;justify-content:center}button.btn-m--play.s-1x{height:var(--big-play-size);padding:16px;position:relative;width:var(--big-play-size)}button.btn-m--next.s-1x,button.btn-m--prev.s-1x{height:50px;position:absolute;width:50px}button.btn-m--prev.s-1x{right:calc(100% + 35px)}button.btn-m--next.s-1x{left:calc(100% + 35px)}button.btn.s-1x:disabled{cursor:default;pointer-events:none}button.btn.s-1x:not(.btn-full-opacity):disabled{opacity:.4}button.btn.s-1x:not(:disabled):hover{opacity:.8}button.pr-0.s-1x{padding-right:0}button.pl-0.s-1x{padding-left:0}"};function _l(e,t){ne(t,!0),gn(e,yl);let i=ma(t,"className",3,""),n=ma(t,"style",3,""),a=ma(t,"disabled",3,void 0),o=ma(t,"testId",3,void 0),r=ma(t,"ariaHidden",3,void 0),s=ma(t,"ariaLabel",3,void 0),l=ma(t,"ref",15,void 0),d=ma(t,"ariaKeyShortCut",3,void 0),u=ma(t,"ariaExpanded",3,void 0),c=ma(t,"tabIndex",3,0),p=ma(t,"click",3,g.lQ),h=ma(t,"focus",3,g.lQ),v=ma(t,"blur",3,g.lQ),m=ve((()=>p()===g.lQ?null:e=>{e.stopPropagation(),p()(e)})),f=ve((()=>h()===g.lQ?null:e=>{e.preventDefault(),h()()})),b=ve((()=>v()===g.lQ?null:e=>{e.preventDefault(),v()()}));var y=bl();y.__pointerdown=[fl],y.__click=function(...e){di(m)?.apply(this,e)},Ki(Ge(y),(()=>t.children??R)),Fe(y),Zn(y,(e=>l(e)),(()=>l())),rt((()=>{xn(y,1,`btn ${i()??""}`,"s-1x"),$n(y,n()||null),y.disabled=a()??null,Ln(y,"aria-hidden",r()??null),Ln(y,"aria-label",s()??null),Ln(y,"aria-keyshortcuts",d()??null),Ln(y,"aria-expanded",u()??null),Ln(y,"data-testid",o()??null),Ln(y,"tabindex",c()),Ln(y,"role",t.role),Ln(y,"aria-checked",t.areaChecked??null)})),_i("focus",y,(function(...e){di(f)?.apply(this,e)})),_i("blur",y,(function(...e){di(b)?.apply(this,e)})),Pi(e,y),ae()}wi(["pointerdown","click"]);var wl=(e,t)=>{"Escape"===e.key&&t.onClose(),("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.stopPropagation()},xl=Ci('<div class="modal-header s-1p"><h3 class="modal-title s-1p"> </h3> <!></div>'),kl=Ci('<div class="modal-overlay s-1p"><div class="modal-container s-1p" role="dialog" aria-modal="true"><!> <div class="modal-scroll s-1p" tabindex="0" role="scrollbar"><div class="modal-main s-1p"><!></div></div></div></div>'),$l={hash:"s-1p",code:'.modal-overlay.s-1p{align-items:center;background:transparent;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:var(--modal-z-index)}.modal-container.s-1p{background:var(--mobile-settings-bg);border-radius:8px;color:var(--white);display:flex;flex-direction:column;height:calc(100% - 24px);max-height:490px;max-width:600px;width:calc(100% - 32px)}.modal-header.s-1p{align-items:start;border-bottom:1px solid var(--white-alpha-24);box-sizing:border-box;display:flex;height:40px;justify-content:space-between;padding:8px 10px}.modal-title.s-1p{color:var(--white);font-feature-settings:"clig" off,"liga" off;font-size:13px;font-style:normal;font-weight:600;line-height:16px;margin:3px 0 0 6px}.modal-scroll.s-1p{height:100%;margin:8px 4px 8px 0;overflow-x:hidden;overflow-y:auto}.modal-scroll.s-1p::-webkit-scrollbar{width:8px}.modal-scroll.s-1p::-webkit-scrollbar-track{background-color:transparent;border-radius:4px;box-shadow:none;margin-right:2px}.modal-scroll.s-1p::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#666;border:1px solid transparent;border-radius:5px;min-height:40px}.modal-scroll.s-1p::-webkit-scrollbar-thumb:hover{background-color:#777}.modal-main.s-1p{margin:-8px -4px 0 0}'};function Cl(e,t){ne(t,!0),gn(e,$l);let i=ma(t,"showHeader",3,!0),n=ma(t,"showCloseCross",3,!0),a=$e(void 0),o=$e(void 0),{webApi:{focusManager:r}}=Oa(),s=Oo("hotkey_map_modal_close_btn_text");Yi((()=>(di(a)?.focus(),di(o)&&r&&(r.setContainerForFocusLock(di(o)),r.activateLock()),()=>r?.deactivateLock())));var l=kl();l.__keydown=[wl,t];var d=Ge(l),u=Ge(d),c=e=>{var i=xl(),a=Ge(i),o=Ge(a,!0);Fe(a);var r=Ze(a,2),l=e=>{_l(e,{get click(){return t.onClose},testId:"close-modal",style:"padding: 0; height: 24px; width: 24px",get ariaLabel(){return s},children:(e,t)=>{!function(e,t){Eo(e,{get fill(){return t.fill},children:(e,t)=>{Pi(e,ml())},$$slots:{default:!0}})}(e,{fill:"currentColor"})},$$slots:{default:!0}})};Zi(r,(e=>{n()&&e(l)})),Fe(i),rt((()=>Hi(o,t.title))),Pi(e,i)};Zi(u,(e=>{i()&&e(c)}));var p=Ze(u,2),h=Ge(p);Ki(Ge(h),(()=>t.children??R)),Fe(h),Fe(p),Zn(p,(e=>Se(a,e)),(()=>di(a))),Fe(d),Zn(d,(e=>Se(o,e)),(()=>di(o))),Fe(l),Pi(e,l),ae()}wi(["keydown"]);var Sl=new Set(["BR"]),Tl=Ci('<li class="hot-key-map-item s-1d"><span class="hot-key-map-item-description s-1d"><!></span> &nbsp; <span class="hot-key-map-item-value s-1d"> </span></li>'),Al=Ci('<div class="hot-key-map-group s-1d"><h5 class="hot-key-map-group-title s-1d"> </h5> <ul class="hot-key-map-group-items s-1d"></ul></div>'),Pl=Ci('<div class="hot-key-map s-1d"></div>'),El={hash:"s-1d",code:'.hot-key-map.s-1d{box-sizing:border-box;color:var(--black);overflow-x:hidden}.hot-key-map-group.s-1d{border-bottom:1px solid var(--white-alpha-24);margin:0 20px 0 16px}.hot-key-map-group.s-1d:last-child{border-bottom:none}.hot-key-map-group-title.s-1d{color:var(--white);font-feature-settings:"clig" off,"liga" off;font-size:13px;font-style:normal;font-weight:600;line-height:16px}.hot-key-map-group-title.s-1d,.hot-key-map-item.s-1d{margin:0;padding:12px 0;width:100%}.hot-key-map-group-items.s-1d{box-sizing:border-box;list-style:none;margin:0;padding:0}.hot-key-map-item.s-1d{align-items:center;box-sizing:border-box;display:flex;justify-content:space-between;--videoplayer-hotkey-item-value-width:156px;--videoplayer-hotkey-item-value-padding-left:24px}.hot-key-map-item-description.s-1d{color:var(--white-alpha-72);max-width:388px;width:calc(100% - var(--videoplayer-hotkey-item-value-width) - var(--videoplayer-hotkey-item-value-padding-left))}.hot-key-map-item-value.s-1d{color:var(--white);letter-spacing:-.14px;padding-left:var(--videoplayer-hotkey-item-value-padding-left);width:var(--videoplayer-hotkey-item-value-width)}.hot-key-map-item-description.s-1d,.hot-key-map-item-value.s-1d{font-feature-settings:"clig" off,"liga" off;font-size:13px;font-style:normal;font-weight:400;line-height:16px}'};function Il(e,t){ne(t,!1),gn(e,El);let[i,n]=ua(),a=()=>da(r,"$data",i),o=Oa(),{data:r,show:s}=o.ui.modals.hotKeyMap;Jn(),Cl(e,{get title(){return a().title},onClose:()=>{s.set(!1)},children:(e,t)=>{var i=Pl();on(i,5,(()=>a().groups),(({title:e,items:t})=>e),((e,t)=>{var i=Al(),n=Ge(i),a=Ge(n,!0);Fe(n);var o=Ze(n,2);on(o,5,(()=>di(t).items),(({description:e,value:t})=>t),((e,t)=>{var i=Tl(),n=Ge(i);cn(Ge(n),(()=>(e=>{let t=document.createElement("DIV");t.innerHTML=e;let i=t.querySelectorAll("*"),n=i.length;for(;n--;){let e=i[n],t=e.tagName;Sl.has(t)||e.parentElement?.removeChild(e)}return t.innerHTML})(di(t).description))),Fe(n);var a=Ze(n,2),o=Ge(a,!0);Fe(a),Fe(i),rt((()=>Hi(o,di(t).value))),Pi(e,i)})),Fe(o),Fe(i),rt((()=>Hi(a,di(t).title))),Pi(e,i)})),Fe(i),Pi(e,i)},$$slots:{default:!0}}),ae(),n()}var Ll=Ci('<div class="pillow s-1y"><!></div>'),Ml={hash:"s-1y",code:".pillow.s-1y{background-color:#679ff8;color:var(--white);font-size:6px;font-weight:600;-webkit-font-smoothing:antialiased;border-radius:12px;padding:2px 4px}"};var Vl=Si('<svg><!><path d="M5.52 5c.32 0 .51-.2.51-.54V3.5l.5-.51 1.46 1.74c.16.2.3.28.51.28a.5.5 0 0 0 .5-.5c0-.14-.07-.29-.22-.48L7.3 2.3 8.8.87c.16-.14.2-.25.2-.4A.47.47 0 0 0 8.52 0c-.18 0-.3.07-.45.22l-2 2.03h-.04V.54C6.03.2 5.84 0 5.52 0S5 .2 5 .54v3.92c0 .34.2.54.52.54M2.55 1.05 1.05 3.1h1.5zM3.5 3.1V.83C3.5.03 2.41-.3 1.94.35L.14 2.82A.75.75 0 0 0 .75 4h1.8v.55c0 .25.25.45.5.45a.45.45 0 0 0 .45-.45V4h.05a.45.45 0 0 0 0-.9z"></path></svg>');function Rl(e,t){let i=pa(t,["$$slots","$$events","$$legacy","children"]);var n=Vl();Mn(n,(()=>({xmlns:"http://www.w3.org/2000/svg",width:"9",height:"5",fill:"currentColor","fill-rule":"evenodd",role:"img",...i}))),Ki(Ge(n),(()=>t.children??R)),qe(),Fe(n),Pi(e,n)}var Bl=Si('<svg><!><path d="M5.51 5c.33 0 .52-.2.52-.54V3.5l.49-.51L7.99 4.7c.16.21.3.29.51.29a.49.49 0 0 0 .5-.5c0-.14-.07-.29-.22-.48L7.29 2.3 8.82.87C8.95.73 9 .62 9 .47A.47.47 0 0 0 8.52 0c-.17 0-.3.07-.44.22L6.06 2.25h-.03V.54C6.03.2 5.83 0 5.5 0S5 .2 5 .54v3.92c0 .34.19.54.51.54M2 0c-.35 0-.67.06-.95.17a1.5 1.5 0 0 0-.66.49c-.15.2-.23.44-.23.7 0 .43.21.76.62 1-.23.11-.41.26-.55.44-.15.2-.23.44-.23.71 0 .29.08.55.25.78.18.23.41.4.71.52.3.13.65.19 1.04.19s.73-.06 1.03-.19c.3-.12.54-.3.71-.52a1.26 1.26 0 0 0 .03-1.49 1.45 1.45 0 0 0-.55-.44c.4-.23.62-.57.62-1a1.14 1.14 0 0 0-.24-.7 1.44 1.44 0 0 0-.66-.49A2.4 2.4 0 0 0 2 0m-.57.96C1.56.86 1.75.8 2 .8s.43.06.56.16a.51.51 0 0 1 .2.43c0 .2-.06.34-.2.44A.87.87 0 0 1 2 2a.9.9 0 0 1-.57-.16.52.52 0 0 1-.2-.44c0-.18.06-.32.2-.43ZM1.08 3.5a.6.6 0 0 1 .24-.5c.16-.13.38-.2.68-.2s.52.07.68.2a.6.6 0 0 1 .24.5.63.63 0 0 1-.24.52c-.16.12-.38.19-.68.19s-.52-.07-.68-.19a.64.64 0 0 1-.24-.52"></path></svg>');function Dl(e,t){let i=pa(t,["$$slots","$$events","$$legacy","children"]);var n=Bl();Mn(n,(()=>({xmlns:"http://www.w3.org/2000/svg",width:"9",height:"5",fill:"currentColor","fill-rule":"evenodd",role:"img",...i}))),Ki(Ge(n),(()=>t.children??R)),qe(),Fe(n),Pi(e,n)}var Nl=Si('<svg><!><path d="M5.52 5h1.1C8.1 5 9 4.07 9 2.5S8.1 0 6.62 0h-1.1C5.19 0 5 .2 5 .54v3.92c0 .34.2.54.52.54m.51-.85V.85h.47C7.41.85 8 1.47 8 2.5c0 1.07-.58 1.65-1.5 1.65zM.52 5c.32 0 .51-.2.51-.54V2.92h1.94v1.54c0 .34.19.54.51.54S4 4.8 4 4.46V.54C4 .2 3.8 0 3.48 0s-.51.2-.51.54v1.53H1.03V.54C1.03.2.84 0 .52 0S0 .2 0 .54v3.99c0 .34.2.47.52.47"></path></svg>');function zl(e,t){let i=pa(t,["$$slots","$$events","$$legacy","children"]);var n=Nl();Mn(n,(()=>({xmlns:"http://www.w3.org/2000/svg",width:"9",height:"5",fill:"currentColor",role:"img",...i}))),Ki(Ge(n),(()=>t.children??R)),qe(),Fe(n),Pi(e,n)}var Ol=Si('<svg><!><path d="M9.52 5h1.1C12.1 5 13 4.07 13 2.5S12.1 0 10.62 0h-1.1C9.19 0 9 .2 9 .54v3.92c0 .34.2.54.52.54m.51-.85V.85h.47c.91 0 1.5.62 1.5 1.65 0 1.07-.58 1.65-1.5 1.65zM4.52 5c.32 0 .51-.2.51-.54V2.92h1.94v1.54c0 .34.19.54.51.54S8 4.8 8 4.46V.54C8 .2 7.8 0 7.48 0s-.51.2-.51.54v1.53H5.03V.54C5.03.2 4.84 0 4.52 0S4 .2 4 .54v3.99c0 .34.2.47.52.47m-4 0c.32 0 .51-.2.51-.54V3h1.33c.27 0 .45-.15.45-.41 0-.25-.18-.4-.45-.4H1.03V.84h1.5C2.81.85 3 .7 3 .43S2.8 0 2.53 0H.52C.19 0 0 .2 0 .54v3.92C0 4.8.2 5 .52 5"></path></svg>');function Hl(e,t){let i=pa(t,["$$slots","$$events","$$legacy","children"]);var n=Ol();Mn(n,(()=>({xmlns:"http://www.w3.org/2000/svg",width:"13",height:"5",fill:"currentColor",role:"img",...i}))),Ki(Ge(n),(()=>t.children??R)),qe(),Fe(n),Pi(e,n)}var Fl=Si('<svg><!><path d="M11.52 5.75h1.1c1.48 0 2.38-.94 2.38-2.5s-.9-2.5-2.38-2.5h-1.1c-.33 0-.52.2-.52.54V5.2c0 .34.2.54.52.54Zm.51-.85V1.6h.47c.91 0 1.5.62 1.5 1.65 0 1.07-.58 1.65-1.5 1.65zm-5.51.85c.32 0 .51-.2.51-.54V3.67h1.94v1.54c0 .34.19.54.51.54s.52-.2.52-.54V1.3c0-.34-.2-.54-.52-.54s-.51.2-.51.54v1.53H7.03V1.3c0-.34-.19-.54-.51-.54S6 .95 6 1.29v3.99c0 .34.2.47.52.47m-3.18-.09a4 4 0 0 1-.84.09C1.04 5.75 0 4.88 0 3.3 0 1.73 1.04.75 2.5.75S5 1.73 5 3.3c0 .87-.27 1.46-.78 1.88l.2.3a.5.5 0 0 1-.84.55zm-.52-.78-.24-.35a.5.5 0 1 1 .84-.56l.24.37c.18-.26.29-.62.29-1.04 0-1.03-.64-1.65-1.45-1.65s-1.45.62-1.45 1.65.64 1.6 1.45 1.6c.08 0 .2 0 .32-.02"></path></svg>');function ql(e,t){let i=pa(t,["$$slots","$$events","$$legacy","children"]);var n=Fl();Mn(n,(()=>({xmlns:"http://www.w3.org/2000/svg",width:"15",height:"7",fill:"currentColor",role:"img",...i}))),Ki(Ge(n),(()=>t.children??R)),qe(),Fe(n),Pi(e,n)}var Ul=e=>{switch(e){case g.Xb.Q_720P:return zl;case g.Xb.Q_1080P:return Hl;case g.Xb.Q_1440P:return ql;case g.Xb.Q_2160P:return Rl;case g.Xb.Q_4320P:return Dl}},Wl=Si('<path d="M12.72 2.21q1.8.07 2.41 1.96l.06.21.06.2.06.23.06.16.04.01.06-.02.14-.05.15-.07c1.42-.66 2.5-.53 3.4.44l.12.14.82 1.02c.73.96.7 2 0 3.1l-.13.19-.12.16-.14.2-.07.12-.04.05v.03l.1.06.13.07.15.09c1.39.7 1.96 1.64 1.74 2.93l-.04.19-.24 1.06c-.16.68-.28 1-.77 1.45-.48.43-1.02.61-1.73.67l-.22.02h-.2l-.25.02-.18.02.02.14v.1l.04.17c.32 1.53-.04 2.56-1.19 3.2l-.17.1-1.17.57q-1.64.73-3.02-.7l-.15-.17-.13-.15-.17-.19-.1-.1-.05-.04-.1.09-.1.1-.12.14c-.95 1.13-1.95 1.54-3.17 1.07l-.18-.08-1.05-.5-.31-.17a2 2 0 0 1-1-1.06 3 3 0 0 1-.16-1.88l.04-.23.04-.24.02-.17-.1-.02-.15-.01h-.18c-1.56-.04-2.48-.62-2.85-1.89l-.05-.18-.3-1.28q-.33-1.77 1.37-2.78l.2-.11.17-.1.22-.12.15-.1v-.02l-.06-.1-.08-.13-.1-.14c-.94-1.25-1.04-2.34-.28-3.4L4 6.32l.82-1.01c.8-.92 1.8-1.1 3.04-.64l.2.08.19.08.22.1.13.04.04-.01.03-.1.05-.13.04-.17c.36-1.43 1.09-2.24 2.4-2.35h1.58Zm-.05 1.8h-1.34l-.14.01c-.28.04-.47.2-.65.83l-.04.16-.06.2a6 6 0 0 1-.46 1.14 6 6 0 0 0-1.15.56 7 7 0 0 1-1.16-.35l-.35-.16q-.37-.15-.59-.17h-.08a.6.6 0 0 0-.4.19l-.08.07-.78.98-.1.12c-.18.26-.2.5.2 1.08l.22.31q.34.48.6 1.1-.2.59-.27 1.2-.51.45-1.01.73l-.34.18c-.62.34-.7.56-.65.88l.01.08.28 1.21.04.16c.1.3.27.47.97.5l.39.02q.57.03 1.22.2.35.53.78.97a6 6 0 0 1-.12 1.45c-.2.95-.01 1.1.38 1.3l1.13.54a1 1 0 0 0 .34.1l.06-.01q.26-.03.67-.49l.26-.3q.4-.42.95-.83l.3.02.3.01h.3l.3-.03q.56.4.95.84l.26.3c.32.36.53.48.73.48h.07l.18-.05.09-.04 1.13-.54.14-.08c.3-.17.42-.4.24-1.22a6 6 0 0 1-.12-1.45q.44-.45.78-.97a7 7 0 0 1 1.22-.2l.39-.01c.81-.04.91-.26 1-.66l.27-1.15c.09-.4.1-.64-.62-1.03l-.34-.18a6 6 0 0 1-1.01-.73 6 6 0 0 0-.27-1.2q.26-.62.6-1.1l.22-.31c.4-.58.38-.81.2-1.08l-.05-.06-.78-.97c-.14-.18-.26-.3-.46-.33h-.07q-.23 0-.67.17l-.35.16a6 6 0 0 1-1.16.35 6 6 0 0 0-1.15-.56 7 7 0 0 1-.45-1.1l-.11-.4c-.2-.68-.4-.81-.72-.83zM12 8.2a3.8 3.8 0 1 1 0 7.6 3.8 3.8 0 0 1 0-7.6m0 1.8a2 2 0 1 0 0 4 2 2 0 0 0 0-4"></path>');var Ql=Si('<path d="M13.25 2.83c.23.75.38 1.5 1.63 2.23 1.4.38 2.08 0 2.72-.42.66-.45.86-.32 1.12-.06l.65.64c.29.3.4.42 0 1.18-.38.7-.8 1.33-.42 2.73.72 1.25 1.47 1.47 2.22 1.62.78.16.83.39.83.76v.9c0 .42 0 .59-.83.84-.75.23-1.5.38-2.23 1.63-.38 1.4 0 2.08.42 2.72.45.66.32.86.06 1.12l-.64.65c-.3.29-.42.4-1.18 0-.7-.38-1.34-.8-2.73-.42-1.25.72-1.47 1.47-1.62 2.22-.16.78-.39.83-.76.83h-.9c-.42 0-.59 0-.84-.83-.23-.75-.38-1.5-1.63-2.23-1.4-.38-2.08 0-2.72.42-.66.45-.86.32-1.12.06l-.65-.64c-.29-.3-.4-.42 0-1.18.38-.7.8-1.34.42-2.73-.72-1.25-1.47-1.47-2.22-1.62-.78-.16-.83-.39-.83-.76v-.9c0-.42 0-.59.83-.84.75-.23 1.5-.38 2.22-1.63.38-1.4 0-2.08-.42-2.72-.44-.66-.31-.86-.05-1.12l.64-.65c.3-.29.42-.4 1.18 0 .7.38 1.33.8 2.73.42 1.25-.72 1.47-1.47 1.62-2.22.16-.78.39-.83.76-.83h.9c.42 0 .59 0 .84.83M12 7.25a4.75 4.75 0 1 0 0 9.5 4.75 4.75 0 0 0 0-9.5"></path>');var jl=Ci('<div aria-hidden="true"><!> <!></div>'),Kl={hash:"s-1t",code:".icon.s-1t{display:flex;height:24px;position:relative;width:24px}.icon.s-1t .pillow{position:absolute;right:-9px;top:1px}.icon.triple.s-1t .pillow{right:-13px}.icon.s-1t svg[data-testid=settings-icon--labeled] ._full{opacity:0;visibility:hidden}"};function Yl(e,t){ne(t,!0),gn(e,Kl);let i=ma(t,"isMobile",3,!1),n=ma(t,"currentQuality",3,void 0),a=ve((()=>n()?(0,g.lZ)(n()):"")),o=ve((()=>Ul(n()))),r=ve((()=>di(a).length>2));var s=Ai(),l=Xe(s),d=e=>{!function(e,t){Eo(e,{get testId(){return t.testId},children:(e,t)=>{Pi(e,Wl())},$$slots:{default:!0}})}(e,{testId:"settings-mobile-icon"})},u=e=>{var t=jl();let i;var n=Ge(t),s=e=>{let t=ve((()=>`${di(a)}-pill-icon`));!function(e,t){gn(e,Ml);var i=Ll();Ki(Ge(i),(()=>t.children??R)),Fe(i),rt((()=>Ln(i,"data-testid",t.testId))),Pi(e,i)}(e,{get testId(){return di(t)},children:(e,t)=>{var i=Ai();pn(Xe(i),(()=>di(o)),((e,t)=>{t(e,{})})),Pi(e,i)},$$slots:{default:!0}})};Zi(n,(e=>{di(o)&&e(s)}));var l=Ze(n,2);let d=ve((()=>di(o)?"settings-icon--labeled":"settings-icon"));(function(e,t){Eo(e,{get testId(){return t.testId},children:(e,t)=>{Pi(e,Ql())},$$slots:{default:!0}})})(l,{get testId(){return di(d)}}),Fe(t),rt((e=>i=xn(t,1,"icon s-1t",null,i,e)),[()=>({triple:di(r)})]),Pi(e,t)};Zi(l,(e=>{i()?e(d):e(u,!1)})),Pi(e,s),ae()}var Gl=Ci('<span class="settings-icon-wrapper s-23"><!></span>'),Xl={hash:"s-23",code:".settings-icon-wrapper.s-23{position:relative;width:24px}"};function Zl(e,t){ne(t,!0),gn(e,Xl);let[i,n]=ua(),a=()=>da(s,"$settingsMenuVisible",i),o=Oa(),r=o.state.currentQuality$,s=o.ui.settingsMenu.visible$,l=o.actions.internal.openSettingsMenu,d=o.actions.internal.closeSettingsMenu,u=o.ui.isMobile,c=o.ui.t,p=$e(void 0);nt((()=>{di(p)&&ui((()=>{t.ref$.set(di(p))}))}));let h=c("aria_label_settings");let v=ve((()=>a()?"opened":""));_l(e,{get className(){return di(v)},testId:"settings-btn",click:async function(e){let t=Qr(e);a()?d():l(t,li)},get ariaLabel(){return h},get ariaExpanded(){return a()},get ref(){return di(p)},set ref(e){Se(p,e,!0)},children:(e,t)=>{var n=Gl();Yl(Ge(n),{get isMobile(){return da(u,"$isMobile",i)},get currentQuality(){return da(r,"$currentQuality",i)}}),Fe(n),Pi(e,n)},$$slots:{default:!0}}),ae(),n()}var Jl=Si('<path d="M6.56 4.44a1.5 1.5 0 1 0-2.12 2.12l3.09 3.09a11 11 0 0 0-2.39 3.08 11 11 0 0 0-1.01 4.14C4 18.43 4 20.37 4 22.83v2.34c0 2.46 0 4.4.13 5.96.13 1.6.4 2.93 1.01 4.14a10.5 10.5 0 0 0 4.6 4.59c1.2.61 2.53.88 4.13 1.01 1.56.13 3.5.13 5.96.13h8.34c2.46 0 4.4 0 5.96-.13 1.44-.12 2.66-.35 3.78-.84l3.53 3.53a1.5 1.5 0 0 0 2.12-2.12zM13.5 28a1.5 1.5 0 0 0 0 3h11a1.5 1.5 0 0 0 0-3zM12 22a1.5 1.5 0 0 1 1.5-1.5h4a1.5 1.5 0 0 1 0 3h-4A1.5 1.5 0 0 1 12 22"></path><path d="M34.5 23.5h-4.64l12.55 12.55q.23-.37.45-.78a11 11 0 0 0 1.01-4.14c.13-1.56.13-3.5.13-5.96v-2.34c0-2.46 0-4.4-.13-5.96a11 11 0 0 0-1.01-4.14 10.5 10.5 0 0 0-4.6-4.59 11 11 0 0 0-4.13-1.01C32.57 7 30.63 7 28.17 7h-8.34c-2.46 0-4.4 0-5.96.13l-.35.03L26.86 20.5h7.64a1.5 1.5 0 0 1 0 3"></path>',1),ed=Si("<path></path>");function td(e,t){ne(t,!0);let i=ve((()=>"subtitles-icon"+("off"===t.type?"-off":"outline"===t.type?"-outline":""))),n=ve((()=>js(t.size)));Eo(e,{get width(){return"48"},get height(){return"48"},get style(){return di(n)},get testId(){return di(i)},get shadow(){return t.shadow},children:(e,i)=>{var n=Ai(),a=Xe(n),o=e=>{var t=Jl();qe(),Pi(e,t)},r=e=>{var i=ed();rt((()=>Ln(i,"d",`M16.92 8h14.16q2.82-.02 4.66.1c1.28.1 2.4.32 3.46.86a8.8 8.8 90 013.84 3.84c.54 1.04.76 2.18.86 3.46q.12 1.84.1 4.66v6.16q.02 2.82-.1 4.66a10 10 90 01-.86 3.46 8.8 8.8 90 01-3.84 3.84 10 10 90 01-3.46.86q-1.84.12-4.66.1H16.92q-2.82.02-4.66-.1a10 10 90 01-3.46-.86 8.8 8.8 90 01-3.84-3.84 10 10 90 01-.86-3.46Q4 29.9 4 27.08v-6.16q-.02-2.82.1-4.66c.1-1.28.32-2.4.86-3.46A8.8 8.8 90 018.8 8.96a10 10 90 013.46-.86Q14.1 8 16.92 8\n     ${"outline"===t.type?"M12.54 11.68c-1.04.1-1.64.26-2.1.48a5.2 5.2 90 00-2.28 2.28c-.22.46-.4 1.06-.48 2.1-.08 1.08-.08 2.46-.08 4.46v6c0 2 0 3.38.08 4.46.1 1.04.26 1.64.48 2.1q.78 1.5 2.28 2.28c.46.22 1.06.4 2.1.48 1.08.08 2.48.08 4.46.08h14c2 0 3.38 0 4.46-.08 1.04-.1 1.64-.26 2.1-.48a5.2 5.2 90 002.28-2.28c.22-.46.4-1.06.48-2.1.08-1.08.08-2.48.08-4.46v-6c0-2 0-3.38-.08-4.46a6 6 90 00-.48-2.1 5.2 5.2 90 00-2.28-2.28c-.46-.22-1.06-.4-2.1-.48-1.08-.08-2.48-.08-4.46-.08h-14c-2 0-3.38 0-4.46.08":""}\n     M12 29.8c0-1 .8-1.8 1.8-1.8h10.4a1.8 1.8 90 010 3.6H13.8a1.8 1.8 90 01-1.8-1.8m0-7.6c0-1 .8-1.8 1.8-1.8h3.4a1.8 1.8 90 110 3.6H13.8a1.8 1.8 90 01-1.8-1.8m17 7.6c0-1 .8-1.8 1.8-1.8h3.4a1.8 1.8 90 110 3.6h-3.4a1.8 1.8 90 01-1.8-1.8M22 22.2c0-1 .8-1.8 1.8-1.8h10.4a1.8 1.8 90 010 3.6h-10.4a1.8 1.8 90 01-1.8-1.8`))),Pi(e,i)};Zi(a,(e=>{"off"===t.type?e(o):e(r,!1)})),Pi(e,n)},$$slots:{default:!0}}),ae()}function id(e,t){ne(t,!0);let i=ma(t,"isSubtitlesEnabled",3,!1),n=Oa().ui.t,a=ve((()=>i()?n("tooltip_subtitles_on"):n("tooltip_subtitles_off")));_l(e,{testId:"subtitles-btn",get ariaLabel(){return di(a)},get click(){return t.click},get ariaKeyShortCut(){return $a},role:"button",children:(e,t)=>{let n=ve((()=>i()?void 0:"outline"));td(e,{get size(){return"24"},get type(){return di(n)}})},$$slots:{default:!0}}),ae()}var nd=Ci('<span class="duration s-21" data-testid="video_duration"> </span>'),ad=Ci('<div><span class="current s-21" data-testid="current_time"> </span> <!></div>'),od={hash:"s-21",code:'.time.s-21{align-items:center;color:var(--controls-time);display:flex;font-variant-numeric:tabular-nums;font-weight:500;padding:12px 6px}.time.mobile.s-21{padding:0 0 0 8px}.current.s-21{position:relative}.duration.s-21{opacity:.7}.duration.s-21:before{content:" / ";white-space:pre}'};function rd(e,t){ne(t,!0),gn(e,od);let i=ma(t,"isMobile",3,!1),n=ma(t,"isHidden",3,!1),a=ma(t,"showDuration",3,!0),o=ma(t,"ref",15),r=_a(),s=aa(!1),l=ve((()=>$r(t.duration))),d=ve((()=>$r(t.position)));var u=ad();let c;var p=Ge(u),h=Ge(p,!0);Fe(p);var v=Ze(p,2),g=e=>{var t=nd(),i=Ge(t,!0);Fe(t),rt((()=>Hi(i,di(l)))),Pi(e,t)};Zi(v,(e=>{a()&&e(g)})),Fe(u),mn(u,(()=>Vr(n()&&r.features.usePerformanceFix,s,r.disableInvisibleComponentsTimeout))),Zn(u,(e=>o(e)),(()=>o())),rt((e=>{c=xn(u,1,"time s-21",null,c,e),Hi(h,di(d))}),[()=>({mobile:i()})]),Pi(e,u),ae()}var sd=Si('<path d="M21.8632 10.0832C22.2147 9.73171 22.7852 9.73171 23.1367 10.0832C23.4881 10.4347 23.4881 11.0051 23.1367 11.3566L18.6367 15.8566C18.2852 16.2081 17.7147 16.2081 17.3632 15.8566C17.0117 15.5051 17.0117 14.9347 17.3632 14.5832L21.8632 10.0832Z"></path><path d="M17.3632 11.3566C17.0117 11.0051 17.0117 10.4347 17.3632 10.0832C17.7147 9.73171 18.2852 9.73171 18.6367 10.0832L23.1367 14.5832C23.4881 14.9347 23.4881 15.5051 23.1367 15.8566C22.7852 16.2081 22.2147 16.2081 21.8632 15.8566L17.3632 11.3566Z"></path>',1),ld=Si("<path></path>"),dd=Si('<path d="M14 3.96997C14.5523 3.96997 15 4.41769 15 4.96997V20.97C15 21.5223 14.5523 21.97 14 21.97C13.3585 21.97 12.7422 21.7208 12.2808 21.2751L6.79013 15.97H4C2.89543 15.97 2 15.0745 2 13.97V11.97C2 10.8654 2.89543 9.96997 4 9.96997H6.765L12.2794 4.66337C12.7417 4.21849 13.3584 3.96997 14 3.96997Z"></path><!>',1);function ud(e,t){ne(t,!0);let i=ma(t,"volume",3,1),n=ma(t,"muted",3,!1),a=ve((()=>((e,t)=>t?"off":e>.5?"max":e>.2?"mid":e>0?"min":"off")(i(),n()))),o=ve((()=>js(t.size)));Eo(e,{get style(){return di(o)},get testId(){return`volume-${di(a)??""}-icon`},get shadow(){return t.shadow},children:(e,t)=>{var i=dd(),n=Ze(Xe(i)),o=e=>{var t=sd();qe(),Pi(e,t)},r=e=>{var t=ld();rt((()=>Ln(t,"d","M16.8748 8.85259C17.2324 8.50731 17.8021 8.51726 18.1474 8.87481C18.5465 9.28803 18.8614 9.77691 19.0757 10.3128C19.2901 10.8486 19.4 11.4218 19.4 12C19.4 12.5782 19.2901 13.1514 19.0757 13.6872C18.8614 14.2231 18.5465 14.712 18.1474 15.1252C17.8021 15.4827 17.2324 15.4927 16.8748 15.1474C16.5173 14.8021 16.5073 14.2324 16.8526 13.8748C17.0876 13.6314 17.2757 13.3408 17.4045 13.0187C17.5333 12.6966 17.6 12.3504 17.6 12C17.6 11.6496 17.5333 11.3034 17.4045 10.9813C17.2757 10.6592 17.0876 10.3686 16.8526 10.1252C16.5073 9.76764 16.5173 9.19788 16.8748 8.85259Z"+("max"===di(a)?"M19.2636 6.2636C19.6151 5.91213 20.1849 5.91213 20.5364 6.2636C21.2516 6.97878 21.9929 7.99659 22.3989 8.97678C22.7959 9.93525 23.0003 10.9625 23.0003 12C23.0003 13.0374 22.7959 14.0647 22.3989 15.0232C21.9929 16.0034 21.2516 17.0212 20.5364 17.7364C20.1849 18.0879 19.6151 18.0879 19.2636 17.7364C18.9121 17.3849 18.9121 16.8151 19.2636 16.4636C19.8484 15.8788 20.4384 15.0527 20.7359 14.3343C21.0425 13.5943 21.2003 12.801 21.2003 12C21.2003 11.1989 21.0425 10.4057 20.7359 9.66561C20.4384 8.94724 19.8484 8.12124 19.2636 7.5364C18.9121 7.18492 18.9121 6.61508 19.2636 6.2636Z":"")))),Pi(e,t)};Zi(n,(e=>{"off"===di(a)?e(o):e(r,!1)})),Pi(e,i)},$$slots:{default:!0}}),ae()}var cd=Ci('<div class="overlay"><!></div>');function pd(e,t){ne(t,!0);let[i,n]=ua(),a=()=>da(o,"$overlayContainer$",i),o=Oa().ui.overlayContainer$,r=$e(void 0),s=e=>{!e||!di(r)||e.contains(di(r))||e.appendChild(di(r))};nt((()=>{s(a())})),Yi((()=>(s(a()),()=>{var e;!(e=a())||!di(r)||!e.contains(di(r))||e.removeChild(di(r))})));var l=cd();Ki(Ge(l),(()=>t.children??R)),Fe(l),Zn(l,(e=>Se(r,e)),(()=>di(r))),Pi(e,l),ae(),n()}var hd=Ci('<div class="tooltip s-1m"><div class="content s-1m"> </div> <div class="tooltip-pointer s-1m"></div></div>'),vd=Ci("<div><!></div> <!>",1),gd={hash:"s-1m",code:'.tooltip-wrapper.s-1m{display:flex;flex-direction:column;min-width:0}.full-width.s-1m{width:100%}.tooltip.s-1m{bottom:100%;left:0;opacity:0;position:absolute;transition:opacity .2s,visibility .2s;visibility:hidden}.content.s-1m{background-color:rgba(41,41,41,.8);border-radius:3px;color:var(--white);display:inline-block;padding:6px 10px}.tooltip-pointer.s-1m{border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgba(41,41,41,.8);bottom:0;content:" ";font-size:0;line-height:0;position:absolute;width:0}'};function md(e,t){ne(t,!0),gn(e,gd);let i,[n,a]=ua(),o=()=>da(C,"$overlayContainer$",n),r=ma(t,"isMobile",3,!1),s=ma(t,"content",3,""),l=ma(t,"active",15,!1),d=ma(t,"translateX",3,0),u=ma(t,"translateY",3,0),c=ma(t,"isFullWidthWrapper",3,!1),p=ma(t,"maxTooltipWidth",3,void 0),h=ma(t,"placement",3,"top"),v=ma(t,"onVisibilityChange",3,g.lQ),m=$e(void 0),f=$e(void 0),b=$e(0),y=$e(0),_=$e(0),w=$e(0),x=_a(),k=Oa(),$=k.ui.playerSize,C=k.ui.overlayContainer$;nt((()=>{ui((()=>{v()(l())}))}));let S=k.getLogger().createComponentLog("Tooltip component"),T=()=>{if(!o()||!di(f)||!di(m))return;Se(y,5);let e=o().getBoundingClientRect(),t=di(m).getBoundingClientRect(),i=t.width,a=di(f).clientWidth,r=da($,"$containerSize",n).width,s=(i-a)/2,l=t.left+d()-e.left,c=l+s,p=t.top+u()-e.top,h=a/2-5,v=c+a>r-8;c<8&&(c=8,h=l+t.width/2-12.5),v&&(c=r-8-a,h=t.left-e.left+t.width/2-c-5),Se(_,c,!0),Se(w,p),Se(b,h,!0)},A=()=>{switch(h()){case"top":T();break;case"bottom":!o()||!di(f)||!di(m)||Se(y,-5);break;case"left":(()=>{if(!o()||!di(f)||!di(m))return;Se(b,5);let e=o().getBoundingClientRect(),t=di(m).getBoundingClientRect(),i=t.height,n=di(f).clientHeight,a=(i-n)/2+n,r=t.left+d()-e.left-di(f).clientWidth-5;r<8&&(r=8);let s=t.top+u()-e.top+a,l=2-a/2;Se(_,r,!0),Se(w,s),Se(y,l),Se(b,-3)})();break;default:!o()||!di(f)||!di(m)||Se(b,-5)}},P=()=>{try{if(!o()||!di(m))return;A(),l(!0)}catch(e){S({message:String(e)})}},E=()=>{di(f)&&(i||(i=window.setTimeout(P,x.controls.hideTimeoutTooltips)),l()&&P())},I=()=>{l(!1),window.clearTimeout(i),i=void 0},L=ve((()=>((e,t,i)=>{let n="";switch(h()){case"top":default:n=`transform: translate(${e}px, ${t}px);`;break;case"bottom":n=`transform: translate(${e}px, ${t}px); top: auto; bottom: 100%;`;break;case"left":n=`transform: translate(${e}px, ${t}px); left: 0; right: auto;`}return n+=` max-width: ${void 0===p()?"auto":`${p()}px`};`,n+=` opacity: ${i?1:0}; visibility: ${i?"visible":"hidden"}`,n})(di(_),di(w),l()))),M=ve((()=>((e,t)=>{let i="";switch(h()){case"top":i=`transform: translate(${e}px, ${t}px) rotate(0); top: auto; bottom: 0;`;break;case"bottom":i=`transform: translate(${e}px, ${t}px) rotate(180deg); top: 0; bottom: auto;`;break;case"left":i=`transform: translate(${e}px, ${t}px) rotate(-90deg); left: 100%; top: auto; bottom: 0;`;break;default:i=`transform: translate(${e}px, ${t}px) rotate(90deg); right: 100%; top: auto; bottom: 0;`}return i})(di(b),di(y))));Yi(A),Gi((()=>window.clearTimeout(i)));var V=vd(),B=Xe(V);let D;B.__pointermove=E,B.__pointerdown=I,B.__pointerup=function(...e){(t.disableMouseupTooltipShow?void 0:E)?.apply(this,e)},Ki(Ge(B),(()=>t.children??R)),Fe(B),Zn(B,(e=>Se(m,e)),(()=>di(m)));var N=Ze(B,2),z=e=>{pd(e,{children:(e,t)=>{var i=hd(),n=Ge(i),a=Ge(n,!0);Fe(n);var o=Ze(n,2);Fe(i),Zn(i,(e=>Se(f,e)),(()=>di(f))),rt((()=>{$n(i,di(L)),Hi(a,s()),$n(o,di(M))})),Pi(e,i)},$$slots:{default:!0}})};Zi(N,(e=>{s()&&!r()&&e(z)})),rt((e=>D=xn(B,1,"tooltip-wrapper s-1m",null,D,e)),[()=>({"full-width":c()})]),_i("pointerenter",B,E),_i("pointerleave",B,I),Pi(e,V),ae(),a()}wi(["pointermove","pointerdown","pointerup"]);var fd=e=>{e.stopPropagation()},bd=Ci("<div><!></div>"),yd={hash:"s-18",code:".btn-container.s-18{align-items:center;display:flex;height:100%;position:relative;transition:var(--button-hover-transition);will-change:opacity;-webkit-tap-highlight-color:transparent}.w-max.s-18{min-width:0;width:100%}"};function _d(e,t){ne(t,!0),gn(e,yd);let[i,n]=ua(),a=Oa(),o=Ha(),r=a.ui.isMobile,s=o.graphIsOpened$,l=a.ui.t,d=ma(t,"className",3,""),u=ma(t,"disabled",3,!1),c=ma(t,"hasTooltip",3,!0),p=ma(t,"ref",15,void 0),h=ma(t,"width",15,void 0),v=ma(t,"isFullWidthTooltip",3,!0),m=ma(t,"tooltipContent",3,""),f=ma(t,"tooltipVisible",3,!1),b=ma(t,"tooltipPlacement",3,"top"),y=ma(t,"disabledTooltipContent",19,(()=>l("tooltip_button_disabled"))),_=ma(t,"isAriaHidden",3,!1),w=ma(t,"onTooltipVisibilityChange",3,g.lQ),x=ma(t,"initialTranslateXPx",3,0),k=ma(t,"initialTranslateYPx",19,(()=>-18)),$=ma(t,"mouseEnter",3,g.lQ),C=ma(t,"mouseLeave",3,g.lQ),S=ve((()=>u()?da(s,"$isGraphOpened$",i)?l("tooltip_disabled_when_graph_on"):y():m())),T=$e(!1);nt((()=>{f()||Se(T,!1)}));var A=bd();A.__pointerdown=[fd],A.__click=[fd];var P=Ge(A),E=e=>{md(e,{get content(){return di(S)},get translateX(){return x()},get translateY(){return k()},get isFullWidthWrapper(){return v()},get placement(){return b()},get onVisibilityChange(){return w()},get disableMouseupTooltipShow(){return t.disableMouseupTooltipShow},get active(){return di(T)},set active(e){Se(T,e,!0)},children:(e,i)=>{var n=Ai();Ki(Xe(n),(()=>t.children??R)),Pi(e,n)},$$slots:{default:!0}})},I=e=>{var i=Ai();Ki(Xe(i),(()=>t.children??R)),Pi(e,i)};Zi(P,(e=>{c()&&di(S)&&!da(r,"$isMobile",i)?e(E):e(I,!1)})),Fe(A),Zn(A,(e=>p(e)),(()=>p())),rt((()=>{xn(A,1,`btn-container ${d()??""}`,"s-18"),Ln(A,"aria-hidden",_()||null)})),_i("mouseenter",A,(function(...e){$()?.apply(this,e)})),_i("mouseleave",A,(function(...e){C()?.apply(this,e)})),Gn(A,"clientWidth",h),Pi(e,A),ae(),n()}wi(["pointerdown","click"]);var wd=Si('<rect width="20" height="20" rx="10"></rect><path d="m12.53 8.69.06.19-.22-.64a.83.83 0 0 0-1.6.47l.13.48-.23-.85a.82.82 0 0 0-1.6.24l-.73-2.93a.85.85 0 0 0-1.65.4L8 11.34l-1.12-1.16a.8.8 0 0 0-1.21 1.03l2.23 2.94s1.23 1.83 4.3 1.23c2.43-.48 3.25-2.67 2.58-4.88l-.55-2.3a.88.88 0 1 0-1.7.49"></path>',1);function xd(e,t){let i=ve((()=>(t.completed,"interactive-episode-completed-icon")));Eo(e,{width:"20",height:"20",fill:"none",get testId(){return di(i)},children:(e,i)=>{var n=wd(),a=Xe(n),o=Ze(a);rt((()=>{Ln(a,"fill",To),Ln(a,"fill-opacity",t.completed?1:.24),Ln(o,"fill",t.completed?"var(--interactive-episode-complete)":"white")})),Pi(e,n)},$$slots:{default:!0}})}var kd=Ci("<div><!></div>"),$d={hash:"s-w",code:".interactive-episode-icon.s-w{cursor:default;height:20px;position:absolute;transform:translateX(-50%);width:20px}.interactive-episode-icon.disabled.s-w{opacity:.4;pointer-events:none}"};var Cd=Ci('<div><div class="video-episode-inner s-x"><div class="video-episode-loaded s-x"></div> <div></div></div></div>'),Sd=Ci('<div class="video-episodes-wrap s-x"></div>'),Td={hash:"s-x",code:".video-episodes-wrap.s-x{height:100%;position:absolute;width:100%}.video-episode.s-x{box-sizing:border-box;height:calc(var(--slider-height)*3);margin-top:calc(var(--slider-height)*-1);padding:var(--slider-height) var(--slider-video-episode-gap);position:absolute;transition:transform .2s}.video-episode.s-x:first-child{padding-left:0}.video-episode.s-x:last-child{padding-right:0}.video-episode.s-x:not(.disabled):where(:hover,:active){transform:scaleY(1.5)}.video-episode-filled.s-x,.video-episode-inner.s-x,.video-episode-loaded.s-x{border-radius:var(--slider-radius);height:var(--slider-height);position:absolute}.video-episode-inner.s-x{background:var(--slider-bg);overflow:hidden;position:absolute;width:calc(100% - var(--slider-video-episode-gap)*2)}.video-episode.s-x:first-child .video-episode-inner:where(.s-x),.video-episode.s-x:last-child .video-episode-inner:where(.s-x){width:calc(100% - var(--slider-video-episode-gap))}.video-episode-loaded.s-x{background:var(--slider-loaded-bg);transition:transform .2s}.video-episode-filled.s-x,.video-episode-loaded.s-x{border-radius:var(--slider-radius);height:100%;left:-100%;position:absolute;width:100%}.video-episode-filled.s-x{background-color:var(--slider-filled-bg)}"};function Ad(e,t,i,n,a,o,r){if(e.preventDefault(),t()&&Se(i,t().getBoundingClientRect(),!0),n()||di(a)||!t())return;Se(a,!0);let s=o(e.clientX,e.clientY);r()(s,e),t().setPointerCapture(e.pointerId)}function Pd(e,t,i,n,a,o,r,s){if(e.preventDefault(),t())return;let l=i(e.clientX,e.clientY),d=n(e.clientX);a()(l,d,di(o).width,e),di(r)&&s()(l)}function Ed(e,t,i,n,a){if(e.preventDefault(),t()||!di(i))return;Se(i,!1);let o=n(e.clientX,e.clientY);a()(o,e)}function Id(e,t,i,n){e.stopPropagation(),e.preventDefault(),t()&&i()(n(e.clientX,e.clientY))}function Ld(e,t,i,n,a,o){let r=t(e.clientX,e.clientY);i()&&n()(r),Se(a,!1),o()(r)}var Md=Ci("<div></div>"),Vd=Ci('<div class="bars s-s"><div class="loaded s-s"></div> <div></div></div>'),Rd=Ci('<!> <div role="slider" tabindex="0"><!> <div><div></div></div></div>',1),Bd={hash:"s-s",code:'.interactive-icons.s-s{position:absolute;top:-28px;width:calc(100% - 20px)}.interactive-icons.mobile.s-s{top:-10px}.slider.s-s{border-radius:var(--slider-radius);cursor:pointer;height:var(--slider-height);position:relative;touch-action:none;transition:opacity .2s;width:100%;will-change:opacity,transform;-webkit-tap-highlight-color:transparent}.no-handle.s-s{cursor:default}.slider.s-s:before{content:"";height:calc(var(--controls-height)/2);left:0;position:absolute;right:0;top:calc((var(--controls-height)/2 - var(--slider-height))*-1/2)}.bars.s-s{background:var(--slider-bg);overflow:hidden}.bars.s-s,.loaded.s-s{border-radius:var(--slider-radius);height:100%;position:absolute;width:100%}.loaded.s-s{background:var(--slider-loaded-bg);left:-100%;transition:transform .2s;will-change:transform}.filled.s-s{background-color:var(--slider-filled-bg);border-radius:var(--slider-radius);height:100%;left:-100%;position:absolute;width:100%}.slider.square.s-s,.slider.square.s-s .filled:where(.s-s),.slider.square.s-s .loaded:where(.s-s),.slider.square.s-s>.bars:where(.s-s){border-radius:unset}.filled.active-live.s-s{background-color:var(--timeline-slider-filled-active-live-bg)}.filled.ads.s-s{background-color:var(--slider-filled-ads)}.handleWrap.s-s{left:-100%;position:absolute;width:100%}.handle.s-s{background-color:var(--slider-handle-bg);border-radius:50%;height:var(--slider-handle-size);opacity:0;position:absolute;right:calc(var(--slider-handle-size)*-1/2);top:calc((var(--slider-height) - var(--slider-handle-size))/2);transform:scale(0);transition:opacity .2s,transform .2s;visibility:hidden;width:var(--slider-handle-size);will-change:opacity,transform}.handle.active-live.s-s{background-color:var(--timeline-slider-handle-active-live-bg)}.handle-always-visible.s-s .handle:where(.s-s),.slider-dragging.s-s .handle:where(.s-s),.slider.s-s:hover .handle:where(.s-s){opacity:1;transform:scale(1);visibility:visible}.slider-dragging.s-s .handle:where(.s-s){transform:scale(1.3)}.slider-vertical.s-s{left:-8px;position:absolute;top:-18px;transform:rotate(-90deg);transform-origin:0 0}.slider.disabled.s-s{cursor:default;opacity:.4}'};function Dd(e,t){ne(t,!0),gn(e,Bd);let i=ma(t,"ref",15,void 0),n=ma(t,"className",3,""),a=ma(t,"testId",3,void 0),o=ma(t,"isHidden",3,!1),r=ma(t,"isVertical",3,!1),s=ma(t,"isActiveLive",3,!1),l=ma(t,"isMobile",3,!1),d=ma(t,"squareBorders",3,!1),u=ma(t,"videoEpisodes",19,(()=>[])),c=ma(t,"withWheelHandler",3,!1),p=ma(t,"isInteractive",3,!1),h=ma(t,"disabled",3,!1),v=ma(t,"hideHandel",3,!1),m=ma(t,"onPointerDown",3,g.lQ),f=ma(t,"onHandleMove",3,g.lQ),b=ma(t,"onPointerUp",3,g.lQ),y=ma(t,"onPointerEnter",3,g.lQ),_=ma(t,"onPointerMove",3,g.lQ),w=ma(t,"onPointerLeave",3,g.lQ),x=ma(t,"onMouseEnter",3,g.lQ),k=ma(t,"onMouseLeave",3,g.lQ),$=ma(t,"onWheelUp",3,g.lQ),C=ma(t,"onWheelDown",3,g.lQ),S=ma(t,"onWheelLeft",3,g.lQ),T=ma(t,"onWheelRight",3,g.lQ),A=ma(t,"onDisabledClick",3,g.lQ),P=ma(t,"loadedProgress",3,0),E=ma(t,"filledProgress",3,0),I=ma(t,"handleProgress",3,0),L=ma(t,"ariaLabel",3,""),M=ma(t,"ariaValueMin",3,void 0),V=ma(t,"ariaValueMax",3,void 0),R=ma(t,"ariaValueNow",3,void 0),B=ma(t,"ariaValueText",3,""),D=ma(t,"onContextMenu",3,g.lQ),N=ma(t,"handleAlwaysVisible",3,!1),z=_a(),O=$e(void 0),H=$e(!1),F=ve((()=>V()??0)),q=ve((()=>(0,g.R)(u())&&u()[u().length-1]?.time<di(F))),U=ve((()=>(0,g.R)(u())&&u().length&&di(q)&&di(F)?function(e,t){let i=z.features.episodesClustering&&!p()?z.episodeMinWidthPc:0,n=[],a=u()[0].time/di(F)*100,o=0,r=0;for(let s=1;s<u().length;s++)o=u()[s].time/di(F)*100,o-a>i&&(n.push({from:a,width:Math.max(0,o-a),loadedWidth:Math.max(0,Math.min(o,e)-a),filledWidth:Math.max(0,Math.min(o,t)-a),interactive:u()[s-1].interactive,completed:u()[s-1].completed}),a=u()[s].time/di(F)*100,r++);let s={from:a,width:Math.max(0,100-a),loadedWidth:Math.max(0,Math.min(e,100)-a),filledWidth:Math.max(0,Math.min(t,100)-a),interactive:u()[r].interactive,completed:u()[r].completed};100-a<i?(r-=1,n[r].width+=100-a,n[r].loadedWidth+=Math.max(0,Math.min(e,100)-a),n[r].filledWidth+=Math.max(0,Math.min(t,100)-a)):n[r]=s;let l=u()[0].time;if(0!==l){let i=l/di(F)*100;n.unshift({from:0,width:i,loadedWidth:Math.min(i,e),filledWidth:Math.min(i,t)})}return n}(100*P(),100*E()):[]));function W(e,t){return r()?Math.max(0,Math.min(1,(di(O).height-(t-di(O).top))/di(O).height)):Math.min(Math.max(e-di(O).x,0),di(O).width)/di(O).width}function Q(e){return Math.min(Math.max(e-di(O).x,0),di(O).width)}function j(e){return Math.max(0,Math.min(100,100*e))}let K=ve((()=>j(P()))),Y=ve((()=>j(E())));var G=Rd(),X=Xe(G),Z=e=>{var t=Md();let i;on(t,21,(()=>di(U)),(e=>e.from),((e,t)=>{var i=Ai(),n=Xe(i),a=e=>{!function(e,t){ne(t,!0),gn(e,$d);let i=Oa().ui.t,n=$e(0),a=ve((()=>i(t.videoEpisode.completed?"tooltip_episode_finished":"tooltip_episode_unfinished")));_d(e,{get tooltipContent(){return di(a)},initialTranslateXPx:-10,initialTranslateYPx:-10,get disabled(){return t.disabled},get width(){return di(n)},isAriaHidden:!0,isFullWidthTooltip:!1,children:(e,i)=>{var a=kd();let o;var r=Ge(a);let s=ve((()=>!!t.videoEpisode.completed));xd(r,{get completed(){return di(s)}}),Fe(a),rt((e=>{o=xn(a,1,"interactive-episode-icon s-w",null,o,e),$n(a,`left: ${t.videoEpisode.from+t.videoEpisode.width/2}%`)}),[()=>({disabled:t.disabled})]),Gn(a,"clientWidth",(e=>Se(n,e))),Pi(e,a)},$$slots:{default:!0}}),ae()}(e,{get videoEpisode(){return di(t)},get disabled(){return h()}})};Zi(n,(e=>{di(t).interactive&&e(a)})),Pi(e,i)})),Fe(t),rt((e=>i=xn(t,1,"interactive-icons s-s",null,i,e)),[()=>({mobile:l(),hidden:l()&&!di(H)})]),Pi(e,t)};Zi(X,(e=>{p()&&e(Z)}));var J=Ze(X,2);let ee;J.__pointerdown=[Ad,i,O,h,H,W,m],J.__pointermove=[Pd,h,W,Q,_,O,H,f],J.__pointerup=[Ed,h,H,W,b],J.__click=[Id,h,A,W],J.__contextmenu=[Ld,W,h,A,H,D];var te=Ge(J),ie=e=>{!function(e,t){gn(e,Td);let i=ma(t,"videoEpisodes",19,(()=>[]));var n=Sd();on(n,21,i,(e=>e.from),((e,i)=>{var n=Cd();let a;var o=Ge(n),r=Ge(o),s=Ze(r,2);let l;Fe(o),Fe(n),rt(((e,t)=>{a=xn(n,1,"video-episode s-x",null,a,e),$n(n,`left: ${di(i).from}%; width: ${di(i).width}%`),$n(r,`transform: translateX(${di(i).loadedWidth/di(i).width*100}%)`),l=xn(s,1,"video-episode-filled s-x",null,l,t),$n(s,`transform: translateX(${di(i).filledWidth/di(i).width*100}%)`)}),[()=>({disabled:t.disabled,mobile:t.isMobile}),()=>({mobile:t.isMobile})]),Pi(e,n)})),Fe(n),Pi(e,n)}(e,{get videoEpisodes(){return di(U)},get disabled(){return h()},get isMobile(){return l()}})},oe=e=>{var t=Vd(),i=Ge(t),n=Ze(i,2);let a;Fe(t),rt((e=>{Ln(i,"data-value",di(K)),$n(i,`transform: translateX(${di(K)}%);`),a=xn(n,1,"filled s-s",null,a,e),Ln(n,"data-value",di(Y)),$n(n,`transform: translateX(${di(Y)}%);`)}),[()=>({"active-live":s()})]),Pi(e,t)};Zi(te,(e=>{di(U).length?e(ie):e(oe,!1)}));var re=Ze(te,2);let se;var le=Ge(re);let de;Fe(re),Fe(J),Zn(J,(e=>i(e)),(()=>i())),rt(((e,t,i,o)=>{ee=xn(J,1,`slider ${n()??""}`,"s-s",ee,e),Ln(J,"aria-label",L()),Ln(J,"aria-valuemin",M()),Ln(J,"aria-valuemax",V()),Ln(J,"aria-valuenow",R()),Ln(J,"aria-valuetext",B()),Ln(J,"data-testid",a()??null),se=xn(re,1,"handleWrap s-s",null,se,t),$n(re,i),de=xn(le,1,"handle s-s",null,de,o)}),[()=>({disabled:h(),"slider-dragging":di(H),hidden:o(),"handle-always-visible":N(),"slider-vertical":r(),"no-handle":v(),square:d()}),()=>({hidden:v()}),()=>`transform: translateX(${j(I())}%);`,()=>({"active-live":s()})]),_i("pointerenter",J,(function(e){if(e.preventDefault(),i()&&Se(O,i().getBoundingClientRect(),!0),h())return;let t=W(e.clientX,e.clientY),n=Q(e.clientX);y()(t,n,di(O).width)})),_i("pointerleave",J,(function(e){e.preventDefault(),!h()&&w()()})),_i("mouseenter",J,(function(){x()()})),_i("mouseleave",J,(function(){k()()})),_i("wheel",J,(function(e){h()||c()&&(e.preventDefault(),e.deltaY<0?$()():e.deltaY>0?C()():e.deltaX>0?T()():S()())})),Pi(e,G),ae()}wi(["pointerdown","pointermove","pointerup","click","contextmenu"]);var Nd=(e,t)=>Va[e]>=Va[t],zd=(e,t)=>Va[e]<=Va[t],Od=Ci("<div><!></div>"),Hd=Ci("<div><!> <!></div>"),Fd={hash:"s-29",code:".volumeBar-container.s-29{align-items:center;display:flex}.vertical.s-29 .btn,.vertical.s-29 .tooltip-wrapper,.volumeBar-container.vertical.s-29{width:40px}.volumeBar.s-29{align-items:center;display:flex;margin:0 8px;position:relative;width:70px;--slider-height:var(--slider-volume-height);--slider-radius:var(--slider-volume-radius);--slider-handle-size:var(--slider-volume-handle-size);--slider-bg:var(--volume-slider-bg);--slider-filled-bg:var(--volume-slider-filled-bg);--slider-handle-bg:var(--volume-slider-handle-bg)}.volumeBar-slider-vertical{width:50px!important}.volumeBar-vertical.s-29{padding:0 8px 0 0;width:0}"};function qd(e,t){ne(t,!0),gn(e,Fd);let i,[n,a]=ua(),o=()=>da(b,"$isAudioAvailable$",n),r=()=>da(d,"$volume$",n),s=Oa(),l=_a(),d=s.state.volume$,u=s.state.muted$,{setVolume:c,startVolumeChanging:p,stopVolumeChanging:h}=s.actions.internal,v=s.ui.currentGridType$,m=s.callbacks?.onAudioDoesNotExistHint,f=s.callbacks?.onAudioDisabledHint,b=s.state.isAudioAvailable$,y=s.state.isAudioDisabled,_=s.ui.t,w=$e(!1),x=ve((()=>t.isAds||o())),k=ve((()=>!di(x)||da(u,"$muted$",n)||0===r())),$=ve((()=>zd(da(v,"$currentGridType$",n),"l"))),C=ve((()=>di($)?"":di(k)?!o()||y?_("tooltip_sound_unavailable"):_("tooltip_volume"):_("tooltip_volume_muted"))),S=ve((()=>di(k)?_("tooltip_volume"):_("tooltip_volume_muted"))),T=ve((()=>di(k)?0:r())),A=!1,P=ve((()=>!t.isAds&&(y?!f:!o()&&!m)));function E(e){p(),c(e)}function I(){ol(s,r(),l.controls.volumeStepWheel)}function L(){rl(s,r(),l.controls.volumeStepWheel)}function M(e){c(e)}function V(e){c(e),h()}function R(){A=!0}function B(){A=!1,z()}function D(){clearTimeout(i),Se(w,!0)}function N(){z()}function z(){i=window.setTimeout((()=>{A||Se(w,!1)}),l.controls.volumeBarTimeout)}let O=$e(!1),H=s.ui.controlsVisible;nt((()=>{da(H,"$controlsVisible",n)||Se(O,!1)}));var F=Hd();let q;var U=Ge(F);md(U,{get content(){return di(C)},translateY:-18,get active(){return di(O)},set active(e){Se(O,e,!0)},children:(e,i)=>{let n=ve((()=>di($)?"btn-volume-vertical":"btn-volume-horizontal"));_l(e,{className:"btn-full-opacity",get disabled(){return di(P)},get testId(){return di(n)},get ariaLabel(){return di(S)},get click(){return t.click},get ariaKeyShortCut(){return Ca},role:"button",children:(e,t)=>{ud(e,{get size(){return"24"},get volume(){return r()},get muted(){return di(k)}})},$$slots:{default:!0}})},$$slots:{default:!0}});var W=Ze(U,2),Q=e=>{var t=Od();let i;var n=Ge(t);let a=ve((()=>di($)?"volumeBar-slider-vertical":"")),o=ve((()=>di($)&&!di(w))),r=ve((()=>di($)?R:g.lQ)),s=ve((()=>di($)?B:g.lQ)),l=ve((()=>Math.round(100*di(T)))),d=ve((()=>`${Math.round(100*di(T))}%`)),u=ve((()=>di($)?"volume-slider-vertical":"volume-slider"));Dd(n,{get className(){return di(a)},get isHidden(){return di(o)},get isVertical(){return di($)},withWheelHandler:!0,onWheelUp:I,onWheelDown:L,onPointerDown:E,onHandleMove:M,onPointerUp:V,get onPointerEnter(){return di(r)},get onPointerLeave(){return di(s)},ariaLabel:"Ползунок громкости",ariaValueMin:0,ariaValueMax:100,get ariaValueNow(){return di(l)},get ariaValueText(){return di(d)},get filledProgress(){return di(T)},get handleProgress(){return di(T)},get testId(){return di(u)}}),Fe(t),rt((e=>i=xn(t,1,"volumeBar s-29",null,i,e)),[()=>({"volumeBar-vertical":di($)})]),Pi(e,t)};Zi(W,(e=>{di(x)&&e(Q)})),Fe(F),rt((e=>q=xn(F,1,"volumeBar-container s-29",null,q,e)),[()=>({vertical:di($)})]),_i("mouseenter",F,(function(...e){(di($)?D:g.lQ)?.apply(this,e)})),_i("mouseleave",F,(function(...e){(di($)?N:g.lQ)?.apply(this,e)})),_i("wheel",F,(function(e){e.preventDefault(),e.deltaY<0?I():e.deltaY>0&&L()})),Pi(e,F),ae(),a()}var Ud=Si('<path d="M4.58 13.98a1 1 0 0 1 .99-1h4.45a1 1 0 0 1 1 1v4.45a.99.99 0 0 1-1.99 0v-2.05L5.71 19.7a1 1 0 1 1-1.41-1.4l3.32-3.32H5.57a1 1 0 0 1-.99-1m10.39-6.36 3.32-3.32a1 1 0 1 1 1.41 1.4l-3.32 3.32h2.05a.99.99 0 0 1 0 1.98H14a1 1 0 0 1-1-1V5.57a.99.99 0 1 1 1.98 0z"></path>'),Wd=Si('<path d="M10.5 19a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4.5a1 1 0 0 1 2 0v2.07l3.36-3.36a1 1 0 0 1 1.42 0l.01.01a1 1 0 0 1 0 1.42L7.43 18H9.5a1 1 0 0 1 1 1M18 7.43l-3.36 3.36a1 1 0 0 1-1.42 0l-.01-.01a1 1 0 0 1 0-1.42L16.57 6H14.5a1 1 0 0 1 0-2H19a1 1 0 0 1 1 1v4.5a1 1 0 0 1-2 0z"></path>');function Qd(e,t){ne(t,!0);let i=ma(t,"isFullscreen",3,!1),n=ma(t,"click",3,g.lQ),a=Oa(),o=a.ui.isFullscreenOpenedByKeyboard,r=a.ui.t,s=ve((()=>i()?r("tooltip_fullscreen_on"):r("tooltip_fullscreen_off")));_l(e,{testId:"fullscreen-btn",get ariaLabel(){return di(s)},click:e=>{let t=Qr(e);o.set(t),n()()},get ariaKeyShortCut(){return xa},role:"button",children:(e,t)=>{!function(e,t){let i=ma(t,"isFullscreen",8,!1),n=ge((()=>i()?"close-fullscreen-icon":"open-fullscreen-icon"));Eo(e,{get testId(){return di(n)},children:(e,t)=>{var n=Ai(),a=Xe(n),o=e=>{Pi(e,Ud())},r=e=>{Pi(e,Wd())};Zi(a,(e=>{i()?e(o):e(r,!1)})),Pi(e,n)},$$slots:{default:!0}})}(e,{get isFullscreen(){return i()}})},$$slots:{default:!0}}),ae()}var jd=Si('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M4.26 4.26C3 5.54 3 7.57 3 11.65v.72c0 4.07 0 6.11 1.26 7.38C5.54 21 7.57 21 11.65 21h.72c4.07 0 6.11 0 7.38-1.26C21 18.47 21 16.43 21 12.36v-.72c0-4.07 0-6.11-1.26-7.38C18.47 3 16.43 3 12.36 3h-.72C7.57 3 5.53 3 4.26 4.26M6 8.5c.1 4.68 2.56 7.5 6.61 7.5h.24v-2.68c1.47.15 2.57 1.25 3.02 2.68H18a6 6 0 0 0-3-3.76 5.7 5.7 0 0 0 2.55-3.74h-1.94c-.4 1.49-1.61 2.84-2.77 2.97V8.5h-1.96v5.2c-1.2-.3-2.76-1.76-2.83-5.2z" clip-rule="evenodd"></path></svg>');var Kd=Si('<svg><!><svg data-logo="vk_video"><path d="M7 8.6c0-1.96 0-2.94.38-3.69a3.5 3.5 0 0 1 1.53-1.53C9.66 3 10.64 3 12.6 3h1.36c2.46 0 3.7 0 4.64.48a4.4 4.4 0 0 1 1.92 1.92c.48.94.48 2.18.48 4.64v3.92c0 2.46 0 3.7-.48 4.64a4.4 4.4 0 0 1-1.92 1.92c-.94.48-2.18.48-4.64.48H12.6c-1.96 0-2.94 0-3.69-.38a3.5 3.5 0 0 1-1.53-1.53C7 18.34 7 17.36 7 15.4zm9.26 1.74c.9.54 1.36.81 1.51 1.16.13.3.13.65 0 .96-.15.34-.6.61-1.5 1.15l-2.4 1.43c-.93.56-1.4.84-1.8.8-.33-.03-.64-.2-.84-.48-.23-.31-.23-.86-.23-1.96v-2.85c0-1.1 0-1.64.23-1.96q.31-.42.85-.48c.38-.04.86.25 1.8.8zM5 9.04c0-2.46 0-3.7.48-4.64q.37-.71.95-1.25-.58.1-1.03.33A4.4 4.4 0 0 0 3.48 5.4C3 6.34 3 7.58 3 10.04v3.92c0 2.46 0 3.7.48 4.64a4.4 4.4 0 0 0 1.92 1.92q.45.23 1.03.33a4 4 0 0 1-.95-1.25C5 18.66 5 17.42 5 14.96z"></path></svg><svg x="4" y="3" data-logo="play_market"><path d="M0 1.26v15.47q0 .66.34 1L9.52 9 .33.28C.08.53 0 .92 0 1.26"></path><path d="M.33.28.38.23c.34-.3.89-.32 1.49 0l10.75 5.81-2.6 2.48zm10.29 8.75 2.88 2.45-.53.29-.34.18-2.58-2.44-9.71 8.22c.33.34.9.37 1.53.04l11.1-6 .53-.29 2.73-1.47c1.03-.56 1.03-1.47 0-2.02l-2.77-1.5-.84-.45.84.45.1.05z"></path></svg><svg x="3" data-logo="app_store"><path d="M17.62 16.37q-.48 1.09-1.15 2.03-.9 1.27-1.48 1.75-.88.8-1.9.83-.72 0-1.76-.42a5 5 0 0 0-1.89-.4q-.9 0-1.94.4a5 5 0 0 1-1.68.44q-.98.04-1.95-.85-.62-.53-1.55-1.82a13 13 0 0 1-1.63-3.2 12 12 0 0 1-.69-3.8q0-2.1.93-3.64A5.4 5.4 0 0 1 5.5 5.03q.77 0 2.03.46t1.62.47q.26 0 1.79-.55a6 6 0 0 1 2.43-.42 5.2 5.2 0 0 1 4.05 2.09q-2.4 1.44-2.4 4.02a4.4 4.4 0 0 0 1.49 3.34q.66.61 1.48.95-.18.5-.38.98M13.5.42q0 1.58-1.17 2.94c-.94 1.08-2.07 1.7-3.3 1.6L9 4.56c0-1 .45-2.08 1.24-2.96q.6-.67 1.5-1.12.93-.44 1.74-.48z"></path></svg><path d="M32.55 17.04h2.5L38.7 7h-1.8l-2.94 8.28h-.28L30.84 7H29zm15.52 0-4.61-5.2L47.72 7H45.6l-3.56 4.09h-.42V7h-1.7v10.04h1.7v-4.3h.43l3.76 4.3z"></path><path d="M57.89 11.89a2.2 2.2 0 0 0 1.44-2.16C59.33 8.14 58 7 56.06 7h-3.92v10.04h4.2c1.96 0 3.29-1.14 3.29-2.8 0-1.17-.66-2.04-1.74-2.35m-4.04-3.4h2.21c.92 0 1.54.56 1.54 1.39 0 .8-.62 1.36-1.54 1.36h-2.2zm2.5 7.06h-2.5v-2.81h2.5c.9 0 1.52.57 1.52 1.4 0 .84-.62 1.4-1.52 1.4m4.84 1.5h2.32l2.77-5.5h.22v5.5h1.57v-7.4h-2.32l-2.77 5.5h-.22v-5.5h-1.57zm7.96 2.21h1.64v-2.2h5.33v2.2h1.64v-3.7h-1.29V9.64h-5.43l-.37 3.78c-.13 1.34-.53 2.13-1.34 2.13h-.18zm2.49-3.7c.4-.39.57-1.04.68-2.15l.23-2.27h2.28v4.42zm14.38-2.3a3.7 3.7 0 0 0-3.84-3.76 3.7 3.7 0 0 0-3.85 3.85 3.7 3.7 0 0 0 3.85 3.84c1.54 0 2.99-.72 3.55-2.13l-1.54-.26c-.36.53-1.04.9-1.91.9-1.26 0-2.09-.77-2.24-1.91H86zm-3.84-2.33c1.02 0 1.8.65 2.06 1.58h-4.1a2.1 2.1 0 0 1 2.04-1.58m8.66 6.26c2.32 0 3.96-1.6 3.96-3.84 0-2.25-1.64-3.85-3.96-3.85s-3.97 1.6-3.97 3.85 1.64 3.84 3.97 3.84m0-1.5c-1.34 0-2.25-.95-2.25-2.34 0-1.4.9-2.35 2.25-2.35 1.34 0 2.25.95 2.25 2.35s-.91 2.35-2.25 2.35" class="_ru"></path><path d="M35.02 17.36h-2.48L29 7.42h1.83l2.83 8.2h.28l2.93-8.2h1.8zm8.41-5.15 4.6 5.15h-2.24l-3.75-4.26h-.43v4.26h-1.7V7.42h1.7v4.05h.41l3.55-4.05h2.1zm13.37 5.15h-2.48L50.8 7.42h1.83l2.82 8.2h.29l2.92-8.2h1.8zm6.46 0h-1.64v-7.33h1.64zm-.81-8.37q-.45 0-.74-.27a1 1 0 0 1-.28-.72q0-.44.28-.72.3-.28.74-.28t.72.28q.3.29.29.72 0 .44-.29.72t-.72.27m5.93 8.51q-1.03 0-1.86-.48a3.5 3.5 0 0 1-1.29-1.35 4 4 0 0 1-.45-1.98q0-1.1.45-1.95.46-.88 1.3-1.36.81-.5 1.85-.5.9 0 1.6.38.68.35 1.13.88V7.42h1.63v9.94h-1.22l-.34-1.18q-.46.54-1.17.94a3.4 3.4 0 0 1-1.63.38m.4-1.45q1.04 0 1.68-.65.65-.66.65-1.7t-.65-1.7a2.2 2.2 0 0 0-1.68-.66 2.2 2.2 0 0 0-1.66.66q-.64.66-.64 1.7t.64 1.7q.64.65 1.66.65m13.15-2.44-.03.52h-5.94q.12.86.71 1.38.6.51 1.52.51.63 0 1.13-.24.51-.24.78-.65l1.53.26q-.39 1.01-1.38 1.56-.96.55-2.16.55-1.1 0-1.98-.48a3.6 3.6 0 0 1-1.85-3.33q0-1.1.48-1.95.5-.88 1.37-1.36a4 4 0 0 1 1.98-.5q1.11 0 1.98.5.88.48 1.36 1.34.5.86.5 1.89m-3.84-2.31q-.73 0-1.29.42-.53.42-.74 1.14h4.1a2.2 2.2 0 0 0-2.07-1.56m8.66 6.2q-1.14 0-2.04-.48a3.7 3.7 0 0 1-1.4-1.35 4 4 0 0 1-.5-1.98q0-1.1.5-1.95.5-.88 1.4-1.36.9-.5 2.04-.5t2.03.5q.91.48 1.4 1.36.52.86.52 1.95 0 1.11-.51 1.98-.5.86-1.4 1.35-.9.48-2.04.48m0-1.48q.99 0 1.62-.63.63-.66.63-1.7t-.63-1.67a2.2 2.2 0 0 0-1.62-.65q-.99 0-1.62.65-.62.63-.62 1.67 0 1.05.62 1.7.63.63 1.62.63" class="_en"></path></svg>');var Yd={hash:"s-2a",code:"svg [data-logo],svg[data-testid=vk-video-logo-icon--en] ._ru,svg[data-testid=vk-video-logo-icon--short] ._en,svg[data-testid=vk-video-logo-icon--short] ._ru,svg[data-testid=vk-video-logo-icon] ._en{opacity:0;visibility:hidden}svg[data-logo=app_store] [data-logo=app_store],svg[data-logo=play_market] [data-logo=play_market],svg[data-logo=vk_video] [data-logo=vk_video]{opacity:1;visibility:visible}"};function Gd(e,t){ne(t,!0),gn(e,Yd);let i=ma(t,"short",3,!1),n=ma(t,"isCyrillic",3,!0),a=ma(t,"logo",19,(()=>"vk_video")),o=ve((()=>n()||i()?i()?24:95:91)),r=ve((()=>n()||i()?i()?"vk-video-logo-icon--short":"vk-video-logo-icon":"vk-video-logo-icon--en")),s=ve((()=>`0 0 ${di(o)} 24`));(function(e,t){let i=pa(t,["$$slots","$$events","$$legacy","children"]);var n=Kd();Mn(n,(()=>({xmlns:"http://www.w3.org/2000/svg",width:"95",height:"24",fill:"var(--btn-color, #fff)","fill-rule":"evenodd","aria-hidden":"true","clip-rule":"evenodd",viewBox:"0 0 95 24",role:"img",...i}))),Ki(Ge(n),(()=>t.children??R)),qe(6),Fe(n),Pi(e,n)})(e,{get width(){return di(o)},height:"24",get viewBox(){return di(s)},get"data-testid"(){return di(r)},get"data-logo"(){return a()}}),ae()}function Xd(e,t){ne(t,!0);let[i,n]=ua(),a=()=>da(u,"$currentGridType$",i),o=ma(t,"ref",15,void 0),r=ma(t,"logoClickable",3,!1),s=ma(t,"targetUrl",3,""),l=_a(),d=Oa(),u=d.ui.currentGridType$,c=d.ui.isMobile,p=d.ui.t,h=d.isCyrillicRelatedInterface$,v=ve((()=>"vk"!==l.logoType)),g=ve((()=>di(v)?p("tooltip_vk_video_logo"):p("tooltip_vk_logo"))),m=ve((()=>(da(c,"$isMobile",i)&&zd(a(),"m")||zd(a(),"l"))&&di(v))),f=ve((()=>!r())),b=ve((()=>di(v)?"btn-vk-video-logo":"btn-vk-logo"));_l(e,{className:"btn-full-opacity",get disabled(){return di(f)},click:()=>{t.click(),d.callbacks?.onLogoClicked?d.callbacks?.onLogoClicked():s()&&window.open(s(),"_blank")},get testId(){return di(b)},get ariaLabel(){return di(g)},get ref(){return o()},set ref(e){o(e)},children:(e,t)=>{var n=Ai(),a=Xe(n),o=e=>{Gd(e,{get logo(){return l.logoType},get short(){return di(m)},get isCyrillic(){return da(h,"$isCyrillicRelatedInterface$",i)}})},r=e=>{!function(e,t){let i=pa(t,["$$slots","$$events","$$legacy","children"]);var n=jd();Mn(n,(()=>({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"vk-logo-icon",role:"img",...i}))),Ki(Ge(n),(()=>t.children??R)),qe(),Fe(n),Pi(e,n)}(e,{})};Zi(a,(e=>{di(v)?e(o):e(r,!1)})),Pi(e,n)},$$slots:{default:!0}}),ae(),n()}var Zd=Si('<path d="M3.6 13.3a5.1 5.1 0 0 1 5.05 5.83.9.9 0 0 1-1.78-.26 3.3 3.3 0 0 0-3.74-3.74.9.9 0 0 1-.26-1.78c.24-.03.49-.05.73-.05Z" class="s-z"></path><path d="M3.6 9.7a8.7 8.7 0 0 1 8.68 9.37.9.9 0 0 1-1.8-.14c.02-.17.02-.35.02-.53a6.9 6.9 0 0 0-7.43-6.88.9.9 0 0 1-.14-1.8l.67-.02ZM3.6 16.9a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z" class="s-z"></path><path d="M16.24 4.1c.8 0 1.47 0 2 .04a4 4 0 0 1 1.53.38 3.9 3.9 0 0 1 1.7 1.71 4 4 0 0 1 .39 1.53c.04.53.04 1.2.04 2v4.48c0 .8 0 1.47-.04 2a4 4 0 0 1-.38 1.53 3.9 3.9 0 0 1-1.7 1.7 4 4 0 0 1-1.54.39c-.53.04-1.2.04-2 .04H15a.9.9 0 0 1 0-1.8h1.2c.85 0 1.44 0 1.9-.04.44-.03.68-.1.85-.19.4-.2.72-.52.92-.92.09-.17.16-.4.2-.85.03-.46.03-1.05.03-1.9V9.8c0-.85 0-1.44-.04-1.9-.03-.44-.1-.68-.19-.85a2.1 2.1 0 0 0-.92-.92 2.25 2.25 0 0 0-.85-.2 25.9 25.9 0 0 0-1.9-.03H5.83a2.1 2.1 0 0 0-1.81 1.4.9.9 0 1 1-1.7-.6A3.9 3.9 0 0 1 6 4.1h10.24Z" class="s-z"></path>',1),Jd=Si('<path d="M3.60219 13.2993C6.41858 13.2995 8.70256 15.5835 8.70278 18.3999C8.70277 18.6469 8.68424 18.8909 8.65004 19.1294C8.57937 19.6212 8.12333 19.9625 7.63149 19.8921C7.13968 19.8213 6.79823 19.3654 6.86879 18.8735C6.89087 18.7195 6.90199 18.5611 6.902 18.3999C6.90178 16.5776 5.42447 15.1003 3.60219 15.1001C3.441 15.1001 3.28267 15.1112 3.12856 15.1333C2.63666 15.2039 2.18077 14.8624 2.11 14.3706C2.03966 13.8788 2.38091 13.4227 2.8727 13.3521C3.11125 13.3178 3.35516 13.2993 3.60219 13.2993Z"></path><path d="M3.60219 9.69971C8.40682 9.69977 12.3021 13.5953 12.3024 18.3999C12.3024 18.6248 12.2938 18.8489 12.277 19.0698C12.239 19.5651 11.8065 19.9365 11.3112 19.8989C10.8157 19.8611 10.4445 19.4286 10.4821 18.9331C10.4954 18.7576 10.5026 18.5791 10.5026 18.3999C10.5023 14.5894 7.41271 11.5005 3.60219 11.5005C3.42268 11.5005 3.24474 11.5066 3.06899 11.52C2.57352 11.5578 2.14115 11.1863 2.10317 10.6909C2.06587 10.1957 2.43694 9.76287 2.93227 9.7251C3.15348 9.70823 3.37699 9.69971 3.60219 9.69971Z"></path><path d="M3.60219 16.8999C4.43047 16.8999 5.10198 17.5717 5.10219 18.3999C5.10209 19.2282 4.43054 19.8999 3.60219 19.8999C2.77383 19.8999 2.10229 19.2282 2.10219 18.3999C2.10241 17.5717 2.7739 16.8999 3.60219 16.8999Z"></path><path d="M16.2379 4.1001C17.0459 4.10009 17.7067 4.10017 18.2438 4.14404C18.7997 4.18946 19.3022 4.28599 19.7711 4.5249C20.5049 4.89882 21.1014 5.49623 21.4752 6.22998C21.714 6.69873 21.8107 7.20063 21.8561 7.75635C21.9 8.29338 21.9001 8.95424 21.9 9.76221V14.2378C21.9001 15.0458 21.9 15.7066 21.8561 16.2437C21.8107 16.7996 21.7141 17.3021 21.4752 17.771C21.1014 18.5046 20.5048 19.1012 19.7711 19.4751C19.3022 19.714 18.7997 19.8105 18.2438 19.856C17.7067 19.8998 17.0459 19.8999 16.2379 19.8999H14.9997C14.503 19.8996 14.1005 19.4972 14.1002 19.0005C14.1002 18.5036 14.5028 18.1004 14.9997 18.1001H16.1998C17.0548 18.1001 17.6422 18.0992 18.0973 18.062C18.5419 18.0257 18.7809 17.9596 18.9538 17.8716C19.3489 17.6702 19.6704 17.3487 19.8717 16.9536C19.9598 16.7808 20.0258 16.5417 20.0622 16.0972C20.0993 15.6421 20.1002 15.0546 20.1002 14.1997V9.80029C20.1002 8.94536 20.0993 8.35794 20.0622 7.90283C20.0258 7.45834 19.9598 7.21921 19.8717 7.04639C19.6704 6.6514 19.3487 6.33073 18.9538 6.12939C18.7809 6.04133 18.5419 5.97431 18.0973 5.93799C17.6422 5.9008 17.0548 5.8999 16.1998 5.8999H6.00063L5.83071 5.90674C4.99191 5.97398 4.28981 6.53462 4.01918 7.30029C3.85342 7.76872 3.33928 8.01472 2.87075 7.84912C2.40214 7.68346 2.15628 7.16833 2.32192 6.69971C2.85696 5.18632 4.30125 4.1001 6.00063 4.1001H16.2379Z"></path><path d="M2.95114 7.11345C2.42394 7.1914 1.90399 6.78569 2.00995 6.2634C2.05777 6.0277 2.12517 5.82449 2.22018 5.63803C2.5078 5.07354 2.96674 4.6146 3.53123 4.32698C4.17296 4 5.01304 4 6.6932 4H17.2001C18.8803 4 19.7204 4 20.3621 4.32698C20.9266 4.6146 21.3855 5.07354 21.6731 5.63803C22.0001 6.27976 22.0001 7.11984 22.0001 8.8V15.2C22.0001 16.8802 22.0001 17.7202 21.6731 18.362C21.3855 18.9265 20.9266 19.3854 20.3621 19.673C19.7204 20 18.8803 20 17.2001 20H15.7196C15.2009 20 14.8203 19.5134 14.8938 19C14.9638 18.5101 15.0001 18.0093 15.0001 17.5C15.0001 11.701 10.2991 7 4.5001 7C3.97384 7 3.45662 7.03872 2.95114 7.11345Z"></path>',1),eu={hash:"s-z",code:".animated.s-z{animation-duration:1s;animation-iteration-count:infinite}.wave1.animated.s-z{animation-name:s-z-wave1}.wave2.animated.s-z{animation-name:s-z-wave2}.wave3.animated.s-z{animation-name:s-z-wave3}@keyframes s-z-wave1{0%{opacity:.3}33%{opacity:1}66%{opacity:1}to{opacity:1}}@keyframes s-z-wave2{0%{opacity:.3}33%{opacity:.3}66%{opacity:1}to{opacity:1}}@keyframes s-z-wave3{0%{opacity:.3}33%{opacity:.3}66%{opacity:.3}to{opacity:1}}"};function tu(e,t){ne(t,!0),gn(e,eu);let i=ma(t,"isMobile",3,!1),n=ve((()=>t.iconState===v.di.CONNECTED)),a=ve((()=>t.iconState===v.di.CONNECTING)),o=ve((()=>di(n)?"#2688EB":To)),r=ve((()=>t.size?js(t.size):void 0));var s=Ai(),l=Xe(s),d=e=>{Eo(e,{get fill(){return di(o)},get style(){return di(r)},testId:"chromecast-mobile-icon",children:(e,t)=>{var i=Zd();qe(2),Pi(e,i)},$$slots:{default:!0}})},u=e=>{Eo(e,{get style(){return di(r)},testId:"chromecast-icon",children:(e,t)=>{var i=Jd(),o=Xe(i);let r;var s=Ze(o);let l;var d=Ze(s);let u;var c=Ze(d);let p;var h=Ze(c);let v;rt(((e,t,i,n,a)=>{r=xn(o,0,"wave2 s-z",null,r,e),l=xn(s,0,"wave3 s-z",null,l,t),u=xn(d,0,"wave1 s-z",null,u,i),p=xn(c,0,"s-z",null,p,n),v=xn(h,0,"s-z",null,v,a)}),[()=>({animated:di(a)}),()=>({animated:di(a)}),()=>({animated:di(a)}),()=>({hidden:di(n)}),()=>({hidden:!di(n)})]),Pi(e,i)},$$slots:{default:!0}})};Zi(l,(e=>{i()?e(d):e(u,!1)})),Pi(e,s),ae()}function iu(e,t){ne(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"isMobile",3,!1),a=ma(t,"click",3,g.lQ),o=Oa().ui.t,r=ve((()=>t.state===v.di.CONNECTED?o("tooltip_chromecast_on"):o("tooltip_chromecast_off")));_l(e,{get ariaLabel(){return di(r)},get click(){return a()},testId:"btn-chromecast",get ref(){return i()},set ref(e){i(e)},children:(e,i)=>{tu(e,{get isMobile(){return n()},get iconState(){return t.state}})},$$slots:{default:!0}}),ae()}var nu=Si('<path d="m21.62 16.5-.02.07q-.22 1.27-.42 2.09a5 5 0 0 1-.64 1.5 4.4 4.4 0 0 1-2.51 1.73q-.77.18-1.63.07t-2.11-.34l-4.34-.8q-1.27-.22-2.1-.42a5 5 0 0 1-1.5-.65 4.4 4.4 0 0 1-1.72-2.5 5 5 0 0 1-.07-1.63q.1-.84.34-2.11l.01-.07q.22-1.27.43-2.1a5 5 0 0 1 .64-1.5 4.4 4.4 0 0 1 2.5-1.73 5 5 0 0 1 1.64-.07q.83.1 2.1.35l4.34.8q1.28.21 2.1.42a5 5 0 0 1 1.5.64 4.4 4.4 0 0 1 1.73 2.5q.18.78.07 1.64-.1.83-.34 2.1m-1.45-2.3c.05-.49.03-.77-.02-1a2.6 2.6 0 0 0-1.02-1.48 3 3 0 0 0-.93-.37c-.48-.13-1.1-.24-2-.4l-4.26-.79c-.9-.16-1.52-.27-2.01-.33a3 3 0 0 0-1 .03 2.6 2.6 0 0 0-1.48 1.02 3 3 0 0 0-.37.92c-.13.48-.24 1.1-.4 2s-.28 1.51-.33 2c-.06.5-.04.78.02 1 .15.6.51 1.13 1.02 1.48.19.13.45.25.92.37.48.13 1.1.25 2 .4l4.27.79c.9.16 1.52.28 2.01.33s.77.03 1-.02a2.6 2.6 0 0 0 1.47-1.03c.14-.19.25-.45.38-.92.12-.48.24-1.1.4-2s.28-1.51.33-2"></path><path d="M18.19 7.49a.9.9 0 0 1-1.05-.73c-.14-.8-.2-1.08-.28-1.3A2.6 2.6 0 0 0 14.5 3.8c-.22 0-.5.04-1.31.17l-5.85.96a8 8 0 0 0-2.17.5 2.6 2.6 0 0 0-1.33 1.75c-.08.38-.04.85.11 2.23l.01.1a.9.9 0 1 1-1.78.2l-.01-.1-.02-.17a9 9 0 0 1-.07-2.64 4.4 4.4 0 0 1 2.25-2.97c.63-.33 1.42-.46 2.56-.65l.16-.03 5.85-.96.1-.01c.67-.11 1.13-.19 1.55-.18a4.4 4.4 0 0 1 4 2.82c.14.39.23.85.35 1.53l.01.1a.9.9 0 0 1-.72 1.04"></path><path d="M12.72 12.41a.42.42 0 0 0-.69.23l-.72 4.18a.4.4 0 0 0 .03.23c.08.2.33.3.54.22l3.67-1.47a.4.4 0 0 0 .12-.68z"></path>',1);var au=(e,t,i)=>i.filter((i=>i.time<=e*t)).pop(),ou=Ci('<span class="text mobile s-22"> </span> <div class="chevron-episodes s-22" data-testid="btn-episodes_icon"><!></div>',1),ru=Ci('<span class="text s-22"> </span>'),su=Ci('<span class="text count s-22"> </span>'),lu=Ci('<span class="icon s-22"><!></span> <!>',1),du={hash:"s-22",code:".icon.s-22{flex-shrink:0}.text.s-22{overflow:hidden;padding:0 8px;text-overflow:ellipsis;white-space:nowrap}.text.count.s-22{overflow:visible}.text.mobile.s-22{padding:0 3px 0 4px}.chevron-episodes.s-22{margin-bottom:-6px;opacity:.7;transform:scale(.8)}"};function uu(e,t){ne(t,!0),gn(e,du);let[i,n]=ua(),a=()=>da(h,"$currentGridType$",i),o=()=>da(m,"$panelOpened$",i),r=()=>da(f,"$isMobile",i),s=ma(t,"position",3,0),l=ma(t,"duration",3,0),d=ma(t,"timeCodes",19,(()=>[])),u=Oa(),c=u.callbacks?.onEpisodeChanged??g.lQ,p=!!u.callbacks?.onEpisodeClicked,h=u.ui.currentGridType$,v=u.ui.episodes.openedByKeyboard$,m=u.ui.episodes.panelOpened$,f=u.ui.isMobile,b=u.ui.t,y=$e(void 0),_=e=>{if(u.callbacks?.onEpisodeClicked){let t=Qr(e);v.set(t),m.set(!0),u.callbacks?.onEpisodeClicked?.(t)}},w=$e(null),x=ve((()=>s()/l()));nt((()=>{let e=au(di(x),l(),d());e?di(w)?.time!==e.time&&(c(e),Se(w,e,!0)):Se(w,null)}));let k=ve((()=>di(w)?.text||"")),$=ve((()=>Nd(a(),"xl")?"FULL":Nd(a(),"m")?"COUNT":"SHORT")),C=ve((()=>`${b("tooltip_episodes")}: ${di(k)}`));nt((()=>{(async(e,t,i)=>{await li(),"false"===e?.getAttribute("aria-expanded")&&t&&!i&&ui((()=>{v.set(!1),e.focus()}))})(di(y),da(v,"$openedByKeyboard$",i),o())}));var S=Ai(),T=Xe(S),A=e=>{let t=ve((()=>r()?"px-0":"")),i=ve((()=>!p));_l(e,{get className(){return`w-max btn-full-opacity btn-jc-l ${di(t)??""}`},testId:"btn-episodes",click:_,get disabled(){return di(i)},get ariaExpanded(){return o()},get ariaLabel(){return di(C)},get ref(){return di(y)},set ref(e){Se(y,e,!0)},children:(e,t)=>{var i=Ai(),n=Xe(i),a=e=>{var t=ou(),i=Xe(t),n=Ge(i,!0);Fe(i);var a=Ze(i,2);pr(Ge(a),{direction:"right"}),Fe(a),rt((()=>Hi(n,di(k)))),Pi(e,t)},o=e=>{var t=lu(),i=Xe(t);(function(e){Eo(e,{testId:"episodes-icon",children:(e,t)=>{var i=nu();qe(2),Pi(e,i)},$$slots:{default:!0}})})(Ge(i)),Fe(i);var n=Ze(i,2),a=e=>{var t=ru(),i=Ge(t,!0);Fe(t),rt((()=>Hi(i,di(k)))),Pi(e,t)},o=(e,t)=>{var i=e=>{var t=su(),i=Ge(t,!0);Fe(t),rt((()=>Hi(i,d().length))),Pi(e,t)};Zi(e,(e=>{"COUNT"===di($)&&e(i)}),t)};Zi(n,(e=>{"FULL"===di($)?e(a):e(o,!1)})),Pi(e,t)};Zi(n,(e=>{r()?e(a):e(o,!1)})),Pi(e,i)},$$slots:{default:!0}})};Zi(T,(e=>{di(w)&&e(A)})),Pi(e,S),ae(),n()}var cu,pu,hu,vu=class{init(e,t,i){this.actions=e,this.adsState=t,this.playerState=i}onAdmanLoadingError(){this.onAdError("adman loading error")}async initAdman(e){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_init","already inited: "+!!this.adman],numbers:[(0,g.tB)(),e.slotId]}),this.adman)return;this.events.init$.next(e.slotId),this.startWatchDog();let{width:t,height:i,isAutoplay:n,adsContainer:a,adsVideoElement:o,slotId:r,params:s={},paramsOverride:l={},duration:d,externalApi:u}=e;this.externalApi=u;let c,p=this.playerState&&ra(this.playerState.vsid);p&&(c=this.isVsidOriginal?p:parseInt(p,36));let{isEmbed:h,immediateOrigin:v}=(0,g.dh)(),m=(h?v:window.location.href)??window.location.href,f={...s,dl:encodeURIComponent(m),autoplay:n?1:0,player_width:t,player_height:i,...c?{request_id:c}:{},duration:d,...l};f=Object.fromEntries(Object.entries(f).filter((([e,t])=>(0,g.R)(t))));let b={slot:r,wrapper:a,videoEl:o,videoQuality:i,params:f,browser:{mobile:!1}};try{let e=new window.AdmanHTML;if(e.onReady(this.onAdsReady),e.onStarted(this.onAdStarted),e.onPlayed(this.onAdPlayed),e.onPaused(this.onAdPaused),e.adMidrollPoint(this.onAdMidrollPoint),e.onClosed(this.onAdClosed),e.onSkipped(this.onAdSkipped),e.onClicked(this.onAdClicked),e.onTimeRemained(this.onAdTimeRemained),e.onCompleted(this.onAdCompleted),e.onError(this.onAdError),e.setDebug(!1),this.externalApi?.videoGetAds){let e=await this.safeExternalCall(this.externalApi.videoGetAds,f);e&&(delete b.slot,delete b.params,Object.assign(b,{json:e}))}e.init(b),this.adman=e,this.videoElement=o,this.events.slotRequested$.next(),this.log({message:`adman init, config: ${JSON.stringify(b)}`})}catch(e){g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_threw",String(e)],numbers:[(0,g.tB)()]}),this.onAdError("could not init adman")}}switchToVideo(e=!1){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_switch_to_video",this.currentAdSection??"","force: "+e],numbers:[(0,g.tB)()]}),null===this.currentAdSection&&!e)return void this.log({message:"switch to video, no currentAdSection. can't switch"});let t="postroll"===this.currentAdSection;if(this.actions){if(this.adsState&&this.playerState)this.adsState.playbackState.set("inactive"),this.currentAdSection=null,this.log({message:`switch to video, isPostroll: ${t}`});else{let e="Switch to video: Adman state was not updated correctly";this.log({message:e}),this.events.error$.next(e)}this.actions.switchFromAdsToVideo?.(!t)}}setPostrollPassed(e){this.adsState?.postrollPassed.set(e),this.log({message:"postroll passed"})}togglePlay(){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_toggle_play",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.adsState){this.log({message:"toggle play"});let e=ra(this.adsState.playbackState);"playing"===e?this.pause():"paused"===e&&this.play()}else this.onAdError("Can not toggle play: Adman state is not initialized")}setInitialVolume(e){this.log({message:`set initial volume ${e}`}),this.initialVolume=e}setVolume(e){let t=e*this.volumeMultiplier;if(this.log({message:`set volume ${t}`}),this.adman)try{this.adman.setVolume(t)}catch{this.onAdError("could not set ad volume")}this.videoElement&&(this.videoElement.volume=t)}setFullscreen(e){if(this.log({message:`set fullscreen ${e}`}),this.adman)try{this.adman.setFullscreen(e)}catch{this.onAdError("could not set ad fullscreen")}}startPreroll(){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_start_preroll"],numbers:[(0,g.tB)()]}),this.adman){if(!this.isDestroyed){this.log({message:"start preroll"}),this.setVolume(this.initialVolume),this.currentAdSection="preroll",this.startWatchDog();try{this.adman.start("preroll")}catch{this.onAdError("could not start preroll")}}}else this.onAdError("Can not start preroll: Adman is not initialized")}startPostroll(){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_start_postroll",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.adman&&this.actions){this.log({message:"start postroll"}),this.actions.switchFromVideoToAds(),this.currentAdSection="postroll",this.startWatchDog();try{this.adman.start("postroll")}catch{this.onAdError("could not start postroll")}}else this.onAdError("Can not start postroll: Adman is not initialized")}startWatchDog(){this.watchDogTimeout&&this.stopWatchDog(),this.watchDogTimeout=window.setTimeout((()=>this.onAdError("Watchdog timeout")),this.runtimeTimeout)}stopWatchDog(){clearTimeout(this.watchDogTimeout)}play(){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_pplay",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.adman){this.log({message:"ad play"}),this.startWatchDog();try{this.adman.resume(),this.events.resumed$.next()}catch{this.onAdError("could not resume ad")}}else this.onAdError("Can not play: Adman is not initialized")}pause(){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_pause",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.adman){this.stopWatchDog(),this.log({message:"ad pause"});try{this.adman.pause(),this.events.paused$.next()}catch{this.onAdError("could not pause ad")}}else this.onAdError("Can not pause: Adman is not initialized")}skip(){if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_skip",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.adman){this.stopWatchDog(),this.log({message:"ad skip"});try{this.adman.skip(),this.events.skipped$.next()}catch{this.onAdError("could not skip ad")}}else this.onAdError("Can not skip: Adman is not initialized")}setPosition(e,t){this.adman?.setPosition(Math.floor(e),Math.floor(t))}destroy(){g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_destroy"],numbers:[(0,g.tB)()]}),this.log({message:"destroy"}),this.stopWatchDog(),this.adman?.onReady(void 0),this.adman?.onStarted(void 0),this.adman?.onPlayed(void 0),this.adman?.onPaused(void 0),this.adman?.adMidrollPoint(void 0),this.adman?.onClosed(void 0),this.adman?.onSkipped(void 0),this.adman?.onClicked(void 0),this.adman?.onTimeRemained(void 0),this.adman?.onCompleted(void 0),this.adman?.onError(void 0),this.adman?.destroy(),this.videoElement&&(0,g.To)(this.videoElement),this.isDestroyed=!0}async safeExternalCall(e,...t){try{return await e(...t)}catch(e){return this.onAdError(e?.message??"External call failed"),null}}constructor(e,t){this.adman=null,this.initialVolume=1,this.videoElement=null,this.currentAdSection=null,this.actions=null,this.adsState=null,this.playerState=null,this.events={init$:new g.B7,loadStarted$:new g.B7,loadEnded$:new g.B7,loadError$:new g.B7,ready$:new g.B7,slotRequested$:new g.B7,started$:new g.B7,timeRemained$:new g.B7,paused$:new g.B7,resumed$:new g.B7,ended$:new g.B7,empty$:new g.B7,skipped$:new g.B7,clicked$:new g.B7,closed$:new g.B7,error$:new g.B7},this.loadAdman=e=>(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_load_start",this.useAdmanFromNPM?"npm":"http"],numbers:[(0,g.tB)()]}),this.useAdmanFromNPM?this.loadAdmanNPM(e):this.loadAdmanMailRu(e)),this.loadAdmanMailRu=e=>new Promise(((t,n)=>{let a;this.events.loadStarted$.next();let o=()=>{clearTimeout(a),delete window.admanAsyncInit,window.AdmanHTML?(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_async_init_done","http"],numbers:[(0,g.tB)()]}),t(),this.events.loadEnded$.next()):(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_timed_out","http"],numbers:[(0,g.tB)()]}),n())};(0,g.Zh)("//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",e,this.loadTimeout).then((()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_script_loaded","http"],numbers:[(0,g.tB)()]}),window.AdmanHTML?(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_already_inited","http"],numbers:[(0,g.tB)()]}),t(),this.events.loadEnded$.next()):(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_wait_async_init","http"],numbers:[(0,g.tB)()]}),i._dG("admanAsyncInit",o),a=window.setTimeout(o,this.initTimeout))})).catch((e=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_script_load_error","http",String(e)],numbers:[(0,g.tB)()]}),n(),clearTimeout(a)}))})),this.loadAdmanNPM=e=>new Promise(((t,n)=>{let a;this.events.loadStarted$.next();let o=()=>{clearTimeout(a),delete window.admanAsyncInit,window.AdmanHTML?(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_done","npm"],numbers:[(0,g.tB)()]}),t(),this.events.loadEnded$.next()):(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_timed_out","npm"],numbers:[(0,g.tB)()]}),n())},r=()=>{s=!0,n()},s=!1,l=window.setTimeout((()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_load_timed_out","npm"],numbers:[(0,g.tB)()]}),r()}),this.loadTimeout);e.addEventListener("abort",r),e.aborted&&(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_load_aborted","npm"],numbers:[(0,g.tB)()]}),r()),i._dG("AdmanHTML",window.AdmanHTML||null),Promise.all([i.e(25153),i.e("langs/core_spa/25153")]).then(i.t.bind(i,25153,19)).then((()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_chunk_imorted","npm","failed: "+String(s)],numbers:[(0,g.tB)()]}),!s&&(window.AdmanHTML?(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_already_inited","npm"],numbers:[(0,g.tB)()]}),t(),this.events.loadEnded$.next()):(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_wait_async_init","npm"],numbers:[(0,g.tB)()]}),i._dG("admanAsyncInit",o),a=window.setTimeout(o,this.initTimeout)))}),r).finally((()=>{clearTimeout(a),clearTimeout(l),e.removeEventListener("abort",r)}))})),this.onAdsReady=()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ads_ready"],numbers:[(0,g.tB)()]}),this.log({message:"ads ready"}),this.events.ready$.next(),this.startPreroll()},this.onAdStarted=(e,t)=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_started",e,"muted: "+t.muted],numbers:[(0,g.tB)(),t.bannerID]}),this.adsState&&this.playerState&&this.actions?(this.log({message:`ad started, section: ${e}, banner: ${JSON.stringify(t)}`}),this.events.started$.next(e),t.muted&&(this.setVolume(0),this.actions.setMuted(!0),this.log({message:"ad muted start"})),this.adsState.duration.set(t.duration),this.adsState.playbackState.set("playing"),this.adsState.canSkip.set(t.allowClose),this.adsState.secondsToWatchBeforeSkip.set(t.allowCloseDelay),this.startWatchDog(),this.externalApi?.videoTrackAdEvent&&this.safeExternalCall(this.externalApi.videoTrackAdEvent,e,String(t.bannerID))):this.onAdError("Started callback failed: Adman is not initialized")},this.onAdTimeRemained=e=>{"inactive"!==(this.adsState?.playbackState?ra(this.adsState.playbackState):void 0)&&(this.adsState?(this.adsState.position.set(e.currentTime),this.events.timeRemained$.next(e),this.startWatchDog()):this.onAdError("TimeRemained callback failed: Adman state is not initialized"))},this.onAdPaused=()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_pased",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.stopWatchDog(),this.adsState?(this.log({message:"ad paused"}),this.adsState.playbackState.set("paused")):this.onAdError("Paused callback failed: Adman state is not initialized")},this.onAdPlayed=()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_played",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.startWatchDog(),this.adsState?(this.log({message:"ad played"}),this.adsState.playbackState.set("playing")):this.onAdError("Player callback failed: Adman is not initialized")},this.onAdMidrollPoint=()=>{if(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_midroll_pioint"],numbers:[(0,g.tB)()]}),this.adman&&this.actions){this.log({message:"midroll point"}),this.actions.switchFromVideoToAds(),this.currentAdSection="midroll",this.startWatchDog();try{this.adman.start("midroll")}catch{this.onAdError("could not start midroll")}}else this.onAdError("Midroll callback failed: Adman is not initialized")},this.onAdSkipped=()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_skipped",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.log({message:"ad skipped"}),this.stopWatchDog()},this.onAdClosed=()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_closed",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.log({message:"ad closed"}),this.currentAdSection&&this.events.closed$.next(this.currentAdSection),this.stopWatchDog(),this.switchToVideo()},this.onAdCompleted=()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_completed",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.log({message:"ad completed"}),this.currentAdSection?(this.events.ended$.next(this.currentAdSection),"postroll"===this.currentAdSection&&this.setPostrollPassed(!0)):this.events.empty$.next(),this.switchToVideo(),this.stopWatchDog()},this.onAdClicked=()=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_clicked",this.currentAdSection??""],numbers:[(0,g.tB)()]}),this.log({message:"ad clicked"}),this.videoElement?.pause(),this.currentAdSection&&this.events.clicked$.next(this.currentAdSection),this.stopWatchDog()},this.onAdError=(e="ad error")=>{g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_error",e],numbers:[(0,g.tB)()]}),this.log({message:e}),this.events.error$.next(e),"postroll"===this.currentAdSection&&this.setPostrollPassed(!0),this.switchToVideo(!0),this.stopWatchDog()},this.log=e.createComponentLog("AdmanWrapper"),g.dm.push("ui",{key:"videoplayer_embed",strings:["new","adman_created"],numbers:[(0,g.tB)()]}),this.loadTimeout=t.loadTimeout,this.initTimeout=t.initTimeout,this.runtimeTimeout=t.runtimeTimeout,this.useAdmanFromNPM=t.useAdmanFromNPM,this.volumeMultiplier=Math.max(0,Math.min(t.volumeMultiplier,1)),this.isVsidOriginal=t.isVsidOriginal}},gu=e=>{let t=Math.round(e);return isNaN(t)||t<40?"":t>=40&&t<55?50:t>=55&&t<90?60:t>=90&&t<180?120:t>=180?240:""},mu=class{parse(e){let t={startTime:0,endTime:0},i=this.timingRegExp.exec(e);return i&&(t.startTime=this.calcTime(i[1],i[2],i[3],i[4]),t.endTime=this.calcTime(i[6],i[7],i[8],i[9])),t}parseTime(e){let t=this.timeRegExp.exec(e);return t?this.calcTime(t[1],t[2],t[3],t[4]):0}isTime(e){return this.timeRegExp.test(e)}calcTime(e="0",t="0",i="0",n="0"){return 60*Number(e)*60+60*Number(t)+Number(i)+ +`0.${n}`}constructor(){this.timeRegExp=/(\d{2,})?:?(\d{2}):(\d{2}).(\d{2,3})/,this.timingRegExp=new RegExp(`${this.timeRegExp.source}( ?--\x3e ?)${this.timeRegExp.source}`)}},fu=class{parse(e){let t={texts:[]},i=e.replace(new RegExp(this.letterTagRegExp,"g"),"").split({[Symbol.split](e){let t=0,i=[];for(;t<e.length;){let n=["<",">"].reduce(((i,n)=>{let a=e.indexOf(n,t);return-1===i||i>a?a:i}),-1);if(-1===n){i.push(e.substring(t));break}i.push(e.substring(t,n)),t=n+1}return i}}),n=new mu;for(let e of i)n.isTime(e)?t.texts.push({type:"timestamp",value:n.parseTime(e)}):t.texts.push({type:"text",value:e});return t}constructor(){this.letterTagRegExp=/<[a-z]*>|<\/[a-z]*>/}},bu=class{parse(e,t){let i=[],n=e.split(this.twoLinesRegExp);for(let e of n){let n={startTime:0,endTime:0,texts:[],lang:t},a=e.split(this.oneLineRegExp);for(let e of a)if(n.startTime||n.endTime){if(""!==e.trim()){let t=new fu,{texts:i}=t.parse(e);n.texts=[...n.texts,...i]}}else{let t=new mu,{startTime:i,endTime:a}=t.parse(e);n.startTime=i,n.endTime=a}(n.startTime||n.endTime)&&n.texts.length>0&&i.push(n)}return i}constructor(){this.oneLineRegExp=/\r\n|\n|\r/,this.twoLinesRegExp=/\r\n\r\n|\n\n|\r\r/}},yu=0,_u=!1,wu="",xu=(e,t=0,i=0)=>e<t&&e<i,ku=(e,t=0,i=0)=>e>=t&&e<=i,$u={ru:"Русский",en:"English",uk:"Українська",be:"Беларуская (тарашкевiца)",es:"Español",fi:"Suomi",de:"Deutsch",it:"Italiano",bg:"Български",hr:"Hrvatski",hu:"Magyar",sr:"Српски",pt:"Português",el:"Ελληνικά",pl:"Polski",fr:"Français",ko:"한국어","zh-CN":"汉语",lt:"Lietuvių",ja:"日本語",cs:"Čeština",et:"Eesti",tt:"Татарча",ba:"Башҡортса",cv:"Чăвашла",sk:"Slovenčina",ro:"Română",no:"Norsk",lv:"Latviešu",az:"Azərbaycan dili",hy:"Հայերեն",sv:"Svenska",nl:"Nederlands",tk:"Türkmen",ka:"ქართული",da:"Dansk",uz:"O‘zbek",th:"ภาษาไทย",id:"Bahasa Indonesia",tg:"Тоҷикӣ",sl:"Slovenščina",bs:"Bosanski","pt-BR":"Português brasileiro",fa:"فارسی",vi:"Tiếng Việt",hi:"हिन्दी",si:"සිංහල",bn:"বাংলা",tl:"Tagalog",mn:"Монгол",my:"ဗမာစာ",tr:"Türkçe",ne:"नेपाली",ur:"اردو",ky:"Кыргыз тили",pa:"پنجابی",os:"Ирон",kn:"ಕನ್ನಡ",sw:"Kiswahili",kk:"Қазақша",ar:"العربية",he:"עברית",ab:"Аҧсшәа",eu:"Euskara",eo:"Esperanto"},Cu={abk:"as",ara:"ar",aze:"az",bak:"ba",bel:"be",ben:"bn",bos:"bs",bul:"bg",ces:"cs",chv:"cv",dan:"da",deu:"de",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",fas:"fa",fin:"fi",fra:"fr",heb:"he",hin:"hi",hrv:"hr",hun:"hu",hye:"hy",ind:"id",ita:"it",jpn:"ja",kan:"kn",kat:"ka",kaz:"kk",kir:"ky",kor:"ko",lav:"lv",lit:"lt",mon:"mn",mya:"my",nep:"ne",nld:"nl",nor:"no",oss:"os",pan:"pa",pol:"pl",por:"pt",ron:"ro",rus:"ru",sin:"si",slk:"sk",slv:"sl",spa:"es",srp:"sr",swa:"sw",swe:"sv",tat:"tt",tgk:"tg",tgl:"tl",tha:"th",tuk:"tk",tur:"tr",ukr:"uk",urd:"ur",uzb:"uz",vie:"vi"},Su=e=>$u[e]??$u[Cu[e]]??void 0,Tu=class{destroy(){this.oneStat?.destroy(),this.thinOneStat?.destroy(),this.mediascopePixel?.destroy(),this.statSubscription.unsubscribe()}constructor(e,t,i,n=new g.yU){this.oneStat=e,this.thinOneStat=t,this.mediascopePixel=i,this.statSubscription=n}},Au=((hu=Au||{}).DESKTOP_CONTROL_PANEL_LEFT="desktop-control-panel-left",hu.DESKTOP_CONTROL_PANEL_RIGHT="desktop-control-panel-right",hu),Pu=e=>e??0,Eu=(e,t)=>{let i=e?.getBoundingClientRect?.(),n=t?.getBoundingClientRect?.();return{top:Math.round(Pu(i?.top)-Pu(n?.top)),left:Math.round(Pu(i?.left)-Pu(n?.left)),bottom:Math.round(Pu(i?.bottom)-Pu(n?.top)),right:Math.round(Pu(i?.right)-Pu(n?.left))}},Iu=e=>{let t=e?.getBoundingClientRect?.();return{width:Pu(t?.width),height:Pu(t?.height)}},Lu="off",Mu=e=>!!(Math.round(Math.abs(e)/90)%2),Vu=({interfaceLanguage:e,isCyrillicRelatedInterface:t,videoId:i,isClip:n,isLiveCatchUpMode:a,statAuthToken:o,isAudioDisabled:r,canDownload:s,callbacks:l,webApi:d,videoEpisodes:u,previewThumbsData:c,uiConfig:p,coreConfig:h,player:f,disabledControls:b,isInteractive:y,interactiveRanges$:_,isInteractiveTime$:w,replayInteractive:x,stopPlayer:k,hasInteractiveBranches:$,playPrevChapterDisabledTooltip:C,additionalButtons:S,additionalSettingsMenuItems:T,additionalContextMenuItems:A,playPrevVideo:P,playNextVideo:E,onVideoChanged:I,looped:L=!1,statistics:M,saveRate:V,internalsExposure:R,playerView:B,playerId:D})=>{let N={...h,configName:[...h.configName??[],"ui"],isAudioDisabled:r,live:{...h.live??{},isLiveCatchUpMode:!!a}},z=p,O=g.y1.createRootTracer(z.features.tracer),H=O.createComponentTracer("Store"),F=f||new v.ai(N,O,{playerId:D,onDevNullLog:l?.onDevNullLog});R?.expose({corePlayer:F});let q,U,W=new g.Vy,Q=new vu(W,{loadTimeout:z.ads.loadTimeout,initTimeout:z.ads.initTimeout,runtimeTimeout:z.ads.runtimeTimeout,useAdmanFromNPM:z.ads.useAdmanFromNPM,volumeMultiplier:z.ads.volumeMultiplier,isVsidOriginal:z.ads.isVsidOriginal}),j=er.getInstance(),K=d?.pictureInPictureApi,Y=d?.annotationsApi,G=d?.slotsApi,X=d?.focusManager,Z=W.createComponentLog("Store"),J={},ee=new Ua,te=new g.yU,ie="",ne=aa(!1),ae=M&&M.oneStat?Fa(M.oneStat.vsid$):na(void 0),oe=aa(or()),re=aa(!1),se=K?.info.isActive$??new g.Ot(!1),le=aa(0),de=aa(!1),ue=aa(!1),ce=aa([]),pe=(0,g.h1)(F.events.fatalError$,F.events.managedError$).subscribe((e=>ce.update((t=>[...t,e])))),he=na(!1,(e=>{let t=F.events.fatalError$.subscribe((()=>e(!0)));return()=>t.unsubscribe()})),ve=async e=>{let t=Object.values(g.cA).includes(e);if(z.downloadVKLanguages&&(t&&z.updateBuiltinLanguages||!No(e))){let t;try{t=await(0,g.BV)(e,"videoplayer","videoplayer")}catch(e){M?.oneStat?.logError({errorType:"VKLangPack",fatal:!1}),j?.report(e,{errorType:"VKLangPack",fatal:!1})}t&&(Do({language:e,pack:t,fallback:z.defaultLanguage}),ge.set(e),me.update((e=>e+1)))}No(e)&&ge.set(e)},ge=aa(e),me=aa(0),fe=aa(t);ve(e);let be=(e,t)=>{let i=ra(ge);return zo(i,e,t,z.defaultLanguage)},ye=aa("thumb");ye.subscribe((e=>{"ads"===e&&F.info.playbackState$.getValue()&&xe()}));let _e=(()=>{let e=oa([he,ye],(([e,t])=>e?"crashed":t));return{...e,is:t=>ra(e)===t}})(),we=aa(),xe=()=>{we.set({muted:F.info.muted$.getValue()})},ke=(()=>{let e=aa(new Set(b));return{...e,add:t=>{e.update((e=>new Set([...e].concat(t))))},remove:t=>{e.update((e=>{let i=[...e];return new Set(Array.isArray(t)?i.filter((e=>!t.includes(e))):i.filter((e=>e!==t)))}))},includes:t=>{let i=ra(e);return Array.isArray(t)?t.every((e=>i.has(e))):i.has(t)}}})(),$e=aa({width:0,height:0}),Ce=null,Se=F.info.isBuffering$,Te=na(Se.getValue(),(e=>{let t=Se.subscribe((t=>{t&&null===Ce?Ce=window.setTimeout((()=>{e(Se.getValue()),Ce=null}),z.loaderDelay):e(t)}));return()=>{t.unsubscribe(),Ce&&clearTimeout(Ce)}}));H.log("create store"),Z({message:"create store"});let Ae=new g.B7,Pe=new g.B7,Ee=new g.B7,Ie=new g.B7,Le=null,Me={actionRewind$:Pe,actionSeek$:Ee,inPiP$:se,inFullscreen$:new g.cP((e=>oe.subscribe((t=>e.next(t))))),actionSetSubtitle$:Ie,nextMovie$:Ae},Ve=new g.B7,Re=new g.B7,Be={actionSeek$:Ee,actionSubtitlesSwitched$:Ve,actionQuality$:Re,playerSize$:new g.cP((e=>$e.subscribe((t=>e.next(t))))),inPiP$:se,inFullscreen$:new g.cP((e=>oe.subscribe((t=>e.next(t))))),isLoaderVisible$:new g.cP((e=>Te.subscribe((t=>e.next(t)))))};if(M){let{oneStat:e,thinOneStat:t,mediascopePixel:i,statSubscription:n}=M;e&&(y||n.add(e.attachTo(F)),n.add(e.attachToUi(Me)),n.add(e.attachToAds(Q.events)),e.authorize(o).catch((e=>{Z({message:`onestat auth error ${String(e)}`})})),i&&i.attachTo(F)),t&&(n.add(t.attachTo(F,Q.events)),n.add(t.attachToUi(Be)),n.add(t.attachToAds(Q.events)),t.updateContext({isMobile:ra(ne)}),t.authorize(o))}if(j){let e=new g.yU,t=(t,i)=>e.add(t.subscribe(i));if(t(F.events.managedError$,(e=>{j.logIError(e)})),t(F.events.fatalError$,(e=>{j.logIError(e,!0)})),M){let{oneStat:e}=M;e&&t(e.experimental.error$,(e=>{j.logIError(e)}))}j.sentrySubscription.add(e)}let De=()=>{if(v.zl.device.isIOS&&U)try{(e=>{let t=e;t?.webkitExitFullscreen&&t?.webkitExitFullscreen()})(U)}catch(e){Z({message:`exitIosSafariFullscreen failed: ${e}`})}};te.add(F.experimental.element$.subscribe((e=>{e&&(U=e,e.classList.add("player-media"),dr(K)&&K.updateVideoElement(),y&&e.setAttribute("pip","false"),"preview"===B&&(e.setAttribute("disablePictureInPicture","true"),e.setAttribute("x-yandex-pip","false")))}))).add(F.events.ended$.subscribe((()=>{De(),l?.onEnded?.()}))).add(F.events.looped$.subscribe((()=>{l?.onLooped?.()}))).add(F.events.started$.subscribe((async()=>{dr(K)&&await(K?.revealPictureInPicture());let e=F.info.muted$.getValue();l?.onStarted?.(),J.onStarted?.(e)}))).add(F.events.willSeek$.subscribe((({from:e,to:t})=>{l?.onSeek?.(e,t)}))).add(F.events.autoplaySoundProhibited$.subscribe((()=>{l?.onAutoplaySoundProhibited?.()}))).add(F.info.position$.subscribe((e=>{let t=F.info.duration$.getValue();isFinite(t)&&t>0&&(l?.onTimeupdate?.(t,e),Q.setPosition(e,t))}))).add(F.events.fatalError$.subscribe((e=>{l?.onCrashed?.(e?`${e.id}: ${e.message}`:void 0)}))).add(F.events.fetcherRecoverableError$.subscribe((e=>{l?.onRecoverableError?.(e?`${e.id}: ${e.message}`:void 0)}))).add(F.events.loadedMetadata$.subscribe((()=>{de.set(!0)}))).add(F.info.is3DVideo$.subscribe((e=>{ue.set(e)}))).add(F.info.isEnded$.subscribe((e=>{y&&(e?(w?.getValue()&&ke.add(La),ke.add("PLAY_BUTTON")):ke.remove("PLAY_BUTTON"))}))).add(F.info.liveTime$.subscribe((e=>{l?.onLiveTime?.(e)}))).add(F.info.isStalled$.subscribe((e=>{l?.onStalledChanged?.(e)}))).add(F.info.isLiveEnded$.subscribe((e=>e&&l?.onLiveEnded?.()))).add(Q.events.loadStarted$.subscribe((()=>l?.adsInfo?.onLoadStarted?.()))).add(Q.events.loadEnded$.subscribe((()=>l?.adsInfo?.onLoadEnded?.()))).add(Q.events.loadError$.subscribe((()=>l?.adsInfo?.onLoadError?.()))).add(Q.events.init$.subscribe((()=>l?.adsInfo?.onInit?.()))).add(Q.events.ready$.subscribe((()=>l?.adsInfo?.onReady?.()))).add(Q.events.started$.subscribe((e=>l?.adsInfo?.onStarted?.(e)))).add(Q.events.timeRemained$.subscribe((e=>l?.adsInfo?.onTimeRemained?.(e)))).add(Q.events.ended$.subscribe((e=>l?.adsInfo?.onCompleted?.(e)))).add(Q.events.empty$.subscribe((()=>l?.adsInfo?.onEmpty?.()))).add(Q.events.clicked$.subscribe((e=>l?.adsInfo?.onClicked?.(e)))).add(Q.events.closed$.subscribe((e=>l?.adsInfo?.onClosed?.(e)))).add(Q.events.error$.subscribe((e=>l?.adsInfo?.onError?.(e)))).add(Q.events.paused$.subscribe((()=>l?.adsInfo?.onPaused?.()))).add(Q.events.resumed$.subscribe((()=>l?.adsInfo?.onResumed?.())));let Ne=new g.yU,ze=na(F.info.position$.getValue(),(e=>{let t,i,n=()=>{let a=F.info.playbackState$.getValue(),o=F.info.isLive$.getValue(),r=F.info.duration$.getValue(),s=F.info.position$.getValue();if(a&&[v.wF.PLAYING,v.wF.PAUSED].includes(a)){let t=o?s-r:F.getExactTime();t!==i&&e(t),i=t}t=requestAnimationFrame(n)};return n(),()=>cancelAnimationFrame(t)})),Oe=Fa(F.info.playbackState$),He=oa([Oe,Fa(F.info.isBuffering$)],(([e,t])=>t?"buffering":e)),Fe=Fa(F.info.currentBuffer$),qe=Fa(F.info.isEnded$),Ue=Fa(F.info.isLive$),We=z.features.playbackRate?Fa(F.info.canChangePlaybackSpeed$):na(!1),Qe=Fa(F.info.liveBufferTime$),je=Fa(F.info.volume$),Ke=Fa(F.info.muted$),Ye=qa(F.info.predefinedQualityLimitType$.pipe((0,g.Tj)((e=>e===v.eS.TRAFFIC_SAVING))),F.info.predefinedQualityLimitType$.getValue()===v.eS.TRAFFIC_SAVING),Ge=qa(F.info.predefinedQualityLimitType$.pipe((0,g.Tj)((e=>e===v.eS.HIGH_QUALITY))),F.info.predefinedQualityLimitType$.getValue()===v.eS.HIGH_QUALITY),Xe=Fa(F.info.autoQualityLimitingAvailable$),Ze=Fa(F.info.availableQualities$),Je=Fa(F.info.availableQualitiesFps$),et=Fa(F.info.chromecastState$),tt=Fa(F.info.chromecastDeviceName$),it=Fa(F.info.currentFormat$),nt=Fa(F.info.throughputEstimation$),at=Fa(F.info.videoBitrate$),ot=Fa(F.info.intrinsicVideoSize$),rt=Fa(F.info.duration$),st=Fa(F.info.isAudioAvailable$),lt=oa([rt,Ue],(([e,t])=>t?-e:e)),dt=oa([Oe],(([e])=>e===v.wF.PLAYING)),ut=Fa(F.info.atLiveEdge$),ct=Fa(F.info.atLiveDurationEdge$),pt=Fa(F.info.position$),ht=oa([pt,rt],(([e,t])=>isFinite(e)&&isFinite(t)&&!!t)),vt=oa([et],(([e])=>e===v.di.CONNECTED)),gt=Fa(F.info.availableVideoStreams$),mt=z.features.audioLanguages?Fa(F.info.availableAudioStreams$):na([]),ft=Fa(F.info.currentVideoStream$),bt=Fa(F.info.currentAudioStream$),yt=(e,t)=>{F.setAudioStream(e),jt(t)&&(e.language&&go(e.language),z.features.userVideoPrefs&&i&&So(z.userSalt,String(i),{audioTrackId:e.id}))},_t=e=>{let t;if(1===e.length&&(t=e.at(0)),t??(t=e.find((e=>"isDefault"in e&&e.isDefault))),z.features.userVideoPrefs&&i){let n=Co(z.userSalt,String(i));n?.audioTrackId&&(t=e.find((e=>e.id===n.audioTrackId))??t)}let n=g.RW.get(Xa);return n&&(t??(t=e.find((({language:e})=>n===e)))),t??(t=e.at(0)),t},wt=!1;te.add(F.info.availableAudioStreams$.subscribe((e=>{if(!wt&&e.length){let t=_t(e);t&&(F.setAudioStream(t),wt=!0)}}))),mt.subscribe((e=>{l?.onAvailableAudioStreamsChanged?.(e.map((({label:e="",id:t="",language:i=""})=>({label:e,language:i,id:t}))))})),bt.subscribe((e=>e&&l?.onAudioStreamChanged?.(e.id)));let xt=!1;te.add(F.info.availableVideoStreams$.subscribe((e=>{if(!xt&&e.length){let t=_t(e);t&&(F.setVideoStream(t),xt=!0)}})));let kt=aa(void 0),$t=Fa(F.info.isAutoQualityEnabled$,(e=>e&&kt.set(void 0))),Ct=Fa(F.info.currentQuality$,(()=>kt.set(void 0))),St=oa([kt,Ct],(([e,t])=>e??t)),Tt=oa(it,(e=>e!==v.T4.MPEG)),At=oa([Ze,Je,$t,St,Tt],(([e,t,i,n,a])=>{let o=[];a&&o.push({value:"auto",displayValue:be("auto_quality_option"),selected:i});let r=e.filter((e=>!(0,g.C4)(e)));for(let e of r){let a=t[e];o.push({value:e,displayValue:`${e}${a?gu(a):""}`,selected:!i&&e===n})}return o})),Pt=Fa(F.info.currentPlaybackRate$),Et=oa([Pt,ut,ct],(([e,t,i])=>{let n=i||y?1:z.controls.playbackRateMin,a=t?1:z.controls.playbackRateMax,o=z.controls.playbackRateStep,r=[];for(let t=n;t<=a;t+=o)r.push({value:t,displayValue:1===t?be("playback_rate_1"):be("playback_rate",{multiplier:t.toString(10)}),selected:e===t});return r})),It=()=>({displayValue:be("subtitles_off"),value:Lu,language:""}),Lt=aa(It()),Mt=oa([Lt,me],(([e],t)=>{e.value===Lu?t(It()):t(e)})),Vt=z.features.subtitles?Fa(F.info.availableTextTracks$):na([]),Rt=(()=>{let e=[],t=0;return{add:(i,n)=>{e[t]=[i,n],t=(t+1)%10},find:t=>e.find((([e])=>e===t))}})(),Bt=oa([Vt,Mt],(([e,t],i)=>{let n=[],a=e.find((({id:e})=>e===t.value));if(a?.url){let[,e]=Rt.find(a.url)??[];if(e)return void i(e);ee.download(a.url).then((e=>{if(!e||ee.isDestroyed())return;let o=new bu,r=a.language;if(r){let t=!!a.isAuto,i=o.parse(e,r);n.push({lang:r,subtitles:i,isAuto:t,id:a.id})}Rt.add(a.url,n),ra(Mt).value===t.value&&i(n)})).catch((e=>{M?.oneStat?.logError({errorType:"Subtitles download",fatal:!1}),j?.report(e,{errorType:"Subtitles download",fatal:!1})}))}i(n)})),Dt=oa([Pt,dt,Mt],(([e,t,i],n)=>{let a;if(F.info.isLive$.getValue()&&t&&i.value!==Lu){let t=()=>{a=setTimeout(t,1e3/(3*e)),n(Date.now())};return t(),()=>clearTimeout(a)}})),Nt=oa([Vt,Mt],(([e,t])=>{if(!e.length)return[];let i=[];for(let{language:n,isAuto:a,id:o}of e){let e=n&&Su(n);n&&e&&i.push({displayValue:a?be("subtitles_auto",{language:e}):e,value:o,selected:t?.value===o,isAuto:a,language:n})}return i.length?(i.unshift({...It(),selected:t?.value===Lu}),i):[]})),zt={available:[],prev:[]},Ot=oa([ze,Mt,Bt,Dt],(([e,t,i,n])=>{let a=F.info.isLive$.getValue();if(a&&zt.prev!==i){let e=i.find((({id:e})=>e===t.value)),n=zt.prev.find((({id:e})=>e===t.value));if(e){let t={...e,subtitles:[...n?.subtitles??[],...e.subtitles]};zt.available=[t],zt.prev=i}}if(t&&t.value!==Lu){let n=a?F.experimental.getCurrentTime$.getValue()?.()??U?.currentTime??0:e,o=a?zt.available:i;return((e,t,i,n=!1)=>{let a=i.find((({id:e})=>e===t.value))?.subtitles;if(n)return a?.find((({startTime:t,endTime:i})=>ku(e,t,i)));let o=e>=yu,r=e<yu;return yu=e,r&&(_u=!1),(0,g.R)(cu)&&ku(e,cu.startTime,cu.endTime)&&wu===t.value?cu:(0,g.R)(pu)||!a?.length||_u?ku(e,pu?.startTime,pu?.endTime)?(cu=pu,pu=void 0,wu=t.value,cu):void((o&&((e,t=0,i=0)=>e>t&&e>i)(e,pu?.startTime,pu?.endTime)||r&&xu(e,pu?.startTime,pu?.endTime))&&(pu=void 0)):(pu=a.find((({startTime:t,endTime:i})=>ku(e,t,i)||o&&xu(e,t,i))),cu=void 0,void(!(0,g.R)(pu)&&a[a.length-1].endTime<e&&(_u=!0)))})(n,t,o,a)}})),Ht=oa([Ot],(([e])=>e?.texts?e.texts:[]));te.add(Mt.subscribe((e=>{if(e.value===Lu)l?.onSubtitleOff?.();else{let t=Object.entries($u).find((([t,i])=>i===e.displayValue));l?.onSubtitleOn?.(t?t[0]:"",e.value)}})));let Ft=aa(!0),qt=oa([Fe,lt,pt,Qe],(([e,t,i,n])=>{let a=e?.end??0;return n?(a-(-i+n-t))/t:a/t})),Ut=Fa(F.info.availableSources$),Wt=oa([Ut],(([e])=>Object.keys(e?.[v.T4.MPEG]||{}).length>0)),Qt=()=>{let e=Math.max(z.volumeMinRestore,oo()??0);return 0===e?z.volumeDefault:e},jt=e=>{let t=z.features.savePreferredStatesOnUserActionOnly;return!t||t&&!e},Kt=(e,t)=>{let i=0===e?Qt():e,n=F.info.muted$.getValue();Z({message:`set volume, volume: ${e}, preferredVolume: ${i}`});let a=!r||_e.is("ads");n&&e>0&&a&&(n=!1,jt(t)&&po(!1)),F.setVolume(e,n),Q.setVolume(e),jt(t)&&ao(i)},Yt=(e,t)=>{let i=F.info.volume$.getValue();Z({message:`set muted, currentVolume: ${i}, mute: ${e}`});let n=_e.is("ads");if(F.setMuted(e,n),Q.setVolume(e?0:i),jt(t)&&(!n||!e)&&po(e),!e&&0===i){let e=Qt();F.setVolume(e),jt(t)&&ao(e),Q.setVolume(e)}},Gt=aa(!1),Xt=e=>{H.log("set looped",{isLooped:e}),Gt.set(e),F.setLooped(e),l?.uiInfo?.onLoopedChanged?.(e)};Xt(L);let Zt=(e,{changeReason:t="default",appliesTo:n="to-video",byUser:a=!1}={},o)=>{Z({message:`set quality, quality: ${e}`}),H.log("set quality",{quality:e}),a&&Re.next(e),F.setAutoQuality("auto"===e);let{qualityDetailsSubMenuEnabled:r}=z.features;so(),"auto"!==e?(r?(_o({type:"exact_quality",quality:e,videoId:i},n),F.setPredefinedQualityLimits(v.eS.UNKNOWN)):ro(i,e),kt.set(e),F.setQuality(e)):r&&"default"===t&&(ii("auto_quality",n,o),ra(Ye)&&Jt(!1,void 0,o),ra(Ge)&&ei(!1,void 0,o))},Jt=(e,t="as-default",i)=>{Z({message:`set trafficSavingEnabled, value: ${e}`}),H.log("set traffic saving enabled",{trafficSavingEnabled:e});let n=e?v.eS.TRAFFIC_SAVING:v.eS.UNKNOWN;z.features.qualityDetailsSubMenuEnabled?(ti(n,t,i),ho(!1)):(F.setPredefinedQualityLimits(n),jt(i)&&ho(e))},ei=(e,t="as-default",i)=>{Z({message:`set highQualityEnabled, value: ${e}`}),H.log("set high quality enabled",{highQualityEnabled:e}),ti(e?v.eS.HIGH_QUALITY:v.eS.UNKNOWN,t,i)},ti=(e,t,i)=>{e!==v.eS.UNKNOWN&&(ra(Xe)&&!ra($t)&&Zt("auto",{appliesTo:t,changeReason:"limit-changed"},i),ii(e,t,i)),F.setPredefinedQualityLimits(e)},ii=(e,t,n)=>{jt(n)&&(_o({type:e,videoId:i},t),"as-default"===t&&_o({type:e,videoId:i},"to-video"))},ni=(e,t=!0)=>{H.log("set playback rate",{playbackRate:e}),F.setPlaybackRate(e),z.features.saveRate&&V&&!F.info.isLive$.getValue()&&t&&(e=>{g.RW.set(Za,JSON.stringify({rate:e}))})(e)},ai=(e={...It(),selected:!1},t)=>{H.log("set subtitles",{...e}),e.value!==Lu&&Ie.next(e.isAuto?e.value+"_auto":e.value),Ve.next({enabled:e.value!==Lu,lang:e.language,auto:!!e.isAuto}),Lt.set(e),jt(t)&&(fo(e.value===Lu?void 0:e.language),z.features.userVideoPrefs&&i&&So(z.userSalt,String(i),{subtitleTrackId:e.value===Lu?void 0:e.value}))},oi=e=>{H.log("toggle subtitles"),ra(Mt)?.value===Lu?ri(e):si(e)},ri=(e,t)=>{H.log("subtitle on");let i,n=ra(Nt),a=ra(ge),o=ie??a;t&&(i=n.find((e=>e.value===t))),i??(i=n.filter((e=>e.value!==Lu)).find((e=>e.language===o))),ai(i??n[1],e)},si=e=>{H.log("subtitle off"),ai(void 0,e)};te.add(F.info.availableTextTracks$.subscribe((e=>{l?.onAvailableSubtitlesChanged?.(function(){let t=[];for(let{language:i,isAuto:n,id:a}of e){let e=i&&Su(i);i&&e&&t.push({id:a,language:i,title:n?be("subtitles_auto",{language:e}):e})}return t}())})));let li=aa(!0),di=e=>{li.set(e)},ui=(e,t,i=!0)=>{if(Z({message:`seek to time, time: ${e}`}),H.log("seek to time",{time:e,action:t,forcePrecise:i}),Ee.next(t),F.info.isLive$.getValue()){let t=F.info.duration$.getValue(),n=Math.min(0,t+e);F.seekTime(n,i)}else{if(w?.getValue())return;F.info.isEnded$.getValue()&&(Z({message:"seek after ended, call callbacks.onPlay"}),l?.onPlay?.()),F.seekTime(Qi(e),i)}},ci=(e,t,i=!1)=>{Z({message:`seek to percent, percent: ${e}`}),H.log("seek to percent",{percent:e,action:t});let n=ra(lt)*e;ui(n,t,i)},pi=aa(!1),hi=aa(!1),vi=oa([lt],(([e])=>!!c&&e>=z.suitableDurationForUsingRichSeek&&z.features.useRichSeek&&!y)),gi=(c?.frameWidth||0)>=(c?.frameHeight||0),mi=oa([le],(([e])=>{let t=Mu(e);return gi?!t:t}));te.add(_e.subscribe((e=>{"video"!==e&&pi.set(!1)})));let fi,bi,yi=aa(void 0),_i=aa(!1),wi=e=>{yi.set(e)},xi=()=>{yi.set(void 0),_i.set(!1)},ki=()=>{clearTimeout(bi),clearTimeout(fi),fi=window.setTimeout((()=>{xi()}),500),U?.removeEventListener("seeked",ki)},$i=oa([ze,lt,yi],(([e,t,i],n)=>{n((0,g.R)(i)?i*t:e)})),Ci=aa(!1),Si=oa([$e],(([{width:e}],t)=>{let i=(e=>e>699?"xl":e>599?"l":e>509?"m":e>320?"s":"xs")(e);t(i)})),Ti=S.filter((e=>(e=>!e.type)(e))),Ai=oa([Si,ne],(([e,t])=>t?Ti.filter((e=>!e.hideOnMobile)):Ti.filter((t=>!t.hideOnDesktopGridTypes?.includes(e))))),Pi=aa(S.filter((e=>(e=>!!e.type)(e)))),Ei=oa([Pi,Si],(([e,t])=>e.filter((e=>!e.hideOnDesktopGridTypes?.includes(t))))),Ii=oa([Ei,Ai],(([e,t])=>[...z.features.additionalButtonsDesktopControlPanelRight?e.filter((e=>"desktop-control-panel-right"===e.type)):[],...z.features.additionalButtons?t.map(((e,t)=>({id:t,weight:t,type:"desktop-control-panel-right",testId:e.testId,icon:e.iconUrl,onClick:e.onClick,ariaLabel:e.ariaLabel??e.tooltip,tooltipText:e.tooltip}))):[]])),Li=aa(T),Mi=oa([Li],(([e])=>z.features.additionalSettingsMenuItems?e.map((e=>"SWITCH"===e.type?{...e,onClick:e.onChangeEnabled}:e)):[])),Vi=aa(A),Ri=oa([Vi],(([e])=>z.features.additionalContextMenuItems?e:[])),Bi=oa([ne,he],(([e,t],i)=>{i(e&&t)})),Di=()=>U,Ni=e=>{if((0,g.tZ)(Zi),F.info.isEnded$.getValue())return;let t=!e;if("ads"===ra(Zi.playerPhase))return Z({message:`pause ads, internalCall: ${t}`}),H.log("pause ads",{internalCall:t}),void Q.pause();Z({message:`pause video, internalCall: ${t}`}),H.log("pause video",{internalCall:t}),t&&l?.onPause?.(),F.pause()},zi=e=>{(0,g.tZ)(Zi);let t=!e;if("ads"===ra(Zi.playerPhase))return Z({message:`play ads, internalCall: ${t}`}),H.log("play ads",{internalCall:t}),void Q.play();Z({message:`play video, internalCall: ${t}`}),H.log("play video",{internalCall:t}),t&&l?.onPlay?.(),F.play()},Oi=(e,t)=>{(0,g.tZ)(Zi),Z({message:`first start, show ads: ${e}, internalCall: ${!t}`}),H.log("first start",{showAds:e,external:t}),e?ye.set("ads"):(ye.set("video"),t?F.play():Zi.actions.internal.togglePlay())},Hi=()=>(Z({message:"getting time codes"}),u),Fi=()=>{let e=Hi();if(!e||[0,1].includes(e.length))return;let t=F.info.position$.getValue();return e.find((e=>e.time>t))},qi=()=>{let e=Hi();if(!e||[0,1].includes(e.length))return;let t=F.info.position$.getValue(),i=e.findIndex((e=>e.time>t)),n=-1===i?e.length-2:i-2;return n<0?void 0:e[n]},Ui=aa([]);_?.subscribe((e=>{let t=[];for(let i=0;i<e.length;i++){let{range:[n,a],subjects:o}=e[i];0===i&&0!==n&&t.push({time:0,text:"",interactive:!1,completed:!0}),t.push({time:n/1e3,text:"",interactive:!0,completed:z.features.interactiveTimeOpenUri?!o.length||o.every((e=>e.isRemoved)):!o.length}),a!==1/0&&t.push({time:a/1e3,text:"",interactive:!1,completed:!0})}Ui.set(t)}));let Wi=aa(!1);w?.subscribe((e=>{e&&ra(_i)&&xi()}));let Qi=e=>{if(!y)return e;let t=ra(Ui),i=ra(lt),n=ra(pt)/i,a=t.find((e=>e.interactive&&!e.completed&&e.time>n));return"number"==typeof a?.time?Math.min(e,a.time-.05):e},ji=oa([ut,_e,We],(([e,t,i])=>p.features.doubleForwardAvailable&&!e&&"video"===t&&i)),Ki=aa(!1),Yi=null,Gi=e=>{if(!ra(dt)&&e)return;let t=F.info.currentPlaybackRate$.getValue();e?2!==t&&(Yi=t,ni(2,!1),Ki.set(!0)):(Yi&&ni(Yi,!1),Ki.set(!1),Yi=null)};_e.subscribe((e=>{"video"!==e&&Gi(!1)}));let Xi=!1;F.events.playing$.subscribe((()=>{ra(pi)&&Ni(!1)}));let Zi={interfaceLanguage$:ge,isCyrillicRelatedInterface$:fe,initVideo:e=>{Z({message:`init video, config: ${JSON.stringify(e)}`}),y?(e=>{let t=e.container,i=()=>{Le=new MutationObserver((e=>{let{removedNodes:i}=e[0];i.length&&t.append(F.experimental.element$.getValue())})),Le.observe(t,{childList:!0})},n=F.experimental.element$.getValue();if(n)t.append(n),i();else{let e=F.experimental.element$.pipe((0,g.pb)((e=>!!e)),(0,g.Oo)()).subscribe((e=>{t.append(e),i()}));te.add(e)}})(e):(g.dm.push("ui",{key:"videoplayer_embed",strings:["new","core_init_video"],numbers:[(0,g.tB)()]}),F.initVideo(e)),H.log("init video",{isInteractive:y}),e.subtitles&&F.setExternalTextTracks(e.subtitles),q=e,ie=e.subtitlesForcedLanguage||""},videoId:i,isClip:n,playerPhase:_e,vsid:ae,state:{positionExact$:ze,positionWithScrubbing$:$i,duration$:lt,playbackState$:Oe,playbackStateRealistic$:He,isPlaying$:dt,isLoaderVisible:Te,bufferedProgress$:qt,isLive$:Ue,canChangePlaybackSpeed$:We,isActiveLive$:ut,isOldestAvailableLive$:ct,isRewindableLive$:ht,isEnded$:qe,muted$:Ke,volume$:je,trafficSavingEnabled$:Ye,highQualityEnabled$:Ge,autoQualityLimitingAvailable$:Xe,availableVideoStreams$:gt,availableAudioStreams$:mt,videoStream$:ft,audioStream$:bt,currentQuality$:St,isAutoQualityEnabled$:$t,availableQualities$:At,currentPlaybackRate$:Pt,availablePlaybackRates$:Et,currentSubtitle$:Mt,availableTextTracks$:Vt,availableSubtitlesList$:Nt,currentSubtitleCaptions$:Ht,isAutoSubtitleCaptionVisible$:Ft,chromecastState$:et,chromecastDeviceName$:tt,chromecastConnected$:vt,currentFormat$:it,throughputEstimation$:nt,videoBitrate$:at,videoSize$:ot,errorLog$:ce,crashed$:he,isAudioAvailable$:st,isAudioDisabled:!!r,canDownload:z.features.download&&!!s,availableSources$:Ut,hasMpegSources$:Wt,isInteractive:y,showInteractiveGraph:z.features.interactiveGraph,showSeekToInteractive:z.features.seekToInteractive,showPlayPrevChapter:z.features.interactivePlayPrevChapter,showInteractiveTimeIndicator:z.features.interactiveTimeIndicator&&!!ra(Ui).length,interactiveEpisodes$:Ui,isInteractiveTime$:w?Fa(w):aa(!1),isInteractiveExpectation$:Wi,hasInteractiveBranches:$,playPrevChapterDisabledTooltip:C,looped$:Gt,loadedMetadata$:de,isAutoQualityAvailable$:Tt,previewTrackActive:pi,previewTrackDragInProgress:hi},ui:{t:be,controlsVisible:aa(!1),touched:aa(!1),controls:{prevButton:aa(void 0),playButton:aa(void 0),replayButton:aa(void 0),nextButton:aa(void 0),playPrevChapterButton:aa(void 0),seekToInteractiveButton:aa(void 0),interactiveGraphButton:aa(void 0),liveButton:aa(void 0),time:aa(void 0),episodes:aa(void 0),volume:aa(void 0),subtitles:aa(void 0),settings:aa(void 0),context:aa(void 0),chromecast:aa(void 0),pip:aa(void 0),fullscreen:aa(void 0),vkLogo:aa(void 0),interactiveTimeIndicator:aa(void 0),timeline:aa(void 0),autoplayNextToggle:aa(void 0),additionalButtons:S.length?S.reduce((e=>[...e,aa(void 0)]),[]):[],disabledControls$:ke},modals:{hotKeyMap:{show:aa(!1),data:aa({title:"",closeBtnText:"",groups:[]})}},isFullscreen:oe,isFullscreenOpenedByKeyboard:re,rotateAlpha:le,isAutoplay:aa(!1),debugPanelVisible:aa(!1),episodes:{panelOpened$:aa(!1),openedByKeyboard$:aa(!1)},contextMenu:{visible$:aa(!1),btnRef$:aa(void 0),openedByBtnKeyboard$:aa(!1),openedByHotKey$:aa(!1),lastActiveElem$:aa(void 0),showContextMenuBtn$:aa(!1),position$:aa({top:0,left:0})},playerSize:$e,isMobile:ne,mobileNotReportControlHidden$:Bi,icon3DVideoVisible:aa(!1),scrubbingInProgress:_i,volumeChangingInProgress:Ci,is3DVideo:ue,currentGridType$:Si,additionalButtonsDeprecated$:Ai,additionalDesktopControlPanelRightButtons$:Ii,additionalSettingsMenuItems$:Mi,additionalContextMenuItems$:Ri,interactiveHideMobileControls:aa(!1),overlayContainer$:aa(void 0),startedByKeyboard$:aa(!1),autoplayNextEnabled$:aa(!1),timerNextVideoRunning$:aa(!0),settingsMenu:{visible$:aa(!1),ref$:aa(void 0),openedByBtnKeyboard$:aa(!1)},settingsSubMenu:{visible$:aa(!1),ref$:aa(void 0),name$:aa(void 0)},userActionsDisabled:aa(!1),hiddenControls:{volume:aa(!1),vkLogo:aa(!1),pip:aa(!1),chromecast:aa(!1),settings:aa(!1)},isControlsAvailable:li,controlBlocks:{topLeft:aa(void 0),topRight:aa(void 0),middle:aa(void 0),bottom:aa(void 0),bottomLeft:aa(void 0),bottomRight:aa(void 0)},videoTitleInfo:aa(void 0),doubleForwardOn$:Ki,doubleForwardAvailable$:ji,previewTrackNotificationVisible:aa(!1),previewTrackActive:pi,previewTrackDragInProgress:hi,previewTrackAvailable:vi,isPreviewTrackHorizontallyAligned:mi},ads:{position:aa(0),duration:aa(0),playbackState:aa("inactive"),canSkip:aa(!1),secondsToWatchBeforeSkip:aa(0),postrollPassed:aa(!1)},webApi:{pictureInPictureApi:K,annotationsApi:Y,slotsApi:G,focusManager:X},actions:{internal:{preload:()=>{F.prepare()},firstStart:e=>Oi(e,!1),play:()=>zi(!1),pause:()=>Ni(!1),togglePlay:()=>{(0,g.tZ)(Zi);let e=ra(Zi.ui.controls.disabledControls$),t=ra(Zi.playerPhase),i={playerPhase:t,isInteractive:y,isVideoEnded:!1,action:"none"};if(e.has("PLAY_BUTTON"))return;if(Z({message:"toggle play"}),"ads"===t)return i.action="play",H.log("toggle adman play",i),void Q.togglePlay();let n=()=>{Z({message:"toggle play, call player.play"}),i.action="play",F.play(),l?.onPlay?.()};if(F.info.isEnded$.getValue()){if(Z({message:"toggle play, video ended, seek to 0"}),Pe.next(),Ee.next(m.Bv.REWIND),y)return void x?.();F.seekTime(0),n()}else F.info.playbackState$.getValue()!==v.wF.PLAYING?n():(Z({message:"toggle play, call player.pause"}),i.action="pause",F.pause(),l?.onPause?.());H.log("toggle play",i)},toggleMuted:()=>{Z({message:"toggle muted"});let e=F.info.muted$.getValue();0!==F.info.volume$.getValue()||e?Yt(!e,!1):Kt(Qt(),!1)},openSettingsMenu:async(e,t=()=>Promise.resolve())=>{Zi.ui.settingsMenu.openedByBtnKeyboard$.set(!!e),Zi.ui.settingsMenu.visible$.set(!0),await t();let i=ra(Zi.ui.settingsMenu.ref$),n=Di();if(l?.uiInfo?.onSettingsMenu&&i&&n){let e=Iu(i),t=Eu(i,n);l.uiInfo.onSettingsMenu({visible:!0,size:e,position:t,name:"settings"})}H.log("open settings menu",{wasOpenedByKeyboard:e})},closeSettingsMenu:()=>{if(Zi.ui.settingsMenu.visible$.set(!1),!ra(Zi.ui.settingsSubMenu.visible$)){let e=ra(Zi.ui.settingsMenu.ref$);if(l?.uiInfo?.onSettingsMenu&&e){let t=Iu(e),i={top:0,left:0,bottom:0,right:0};l.uiInfo.onSettingsMenu({visible:!1,size:t,position:i,name:"settings"})}}H.log("close settings menu")},openSettingsSubMenu:(e,t)=>{Zi.ui.settingsSubMenu.visible$.set(!0),Zi.ui.settingsSubMenu.ref$.set(t),Zi.ui.settingsSubMenu.name$.set(e);let i=Di();if(l?.uiInfo?.onSettingsMenu&&t&&i){let n=Iu(t),a=Eu(t,i);l.uiInfo.onSettingsMenu({visible:!0,name:e,size:n,position:a})}H.log("open settings sub menu",{name:e})},closeSettingsSubMenu:(e,t=!1)=>{Zi.ui.settingsSubMenu.visible$.set(!1);let i=ra(Zi.ui.settingsMenu.ref$),n=Di(),a=ra(Zi.ui.settingsMenu.visible$);if(l?.uiInfo?.onSettingsMenu&&i&&n)if(a&&!t){let e=Iu(i),t=Eu(i,n);l.uiInfo.onSettingsMenu({visible:!0,size:e,position:t,name:"settings"})}else{let t=Iu(e),i={top:0,left:0,bottom:0,right:0},n=ra(Zi.ui.settingsSubMenu.name$);l.uiInfo.onSettingsMenu({visible:!1,size:t,position:i,name:n})}H.log("close settings sub menu")},setVolume:e=>Kt(e,!1),setMuted:e=>Yt(e,!1),startVolumeChanging:()=>{Ci.set(!0)},stopVolumeChanging:()=>{Ci.set(!1)},setVideoStream:e=>{e.language&&go(e.language),F.setVideoStream(e)},setAudioStream:e=>yt(e,!1),setQuality:(e,t)=>Zt(e,t,!1),setTrafficSavingEnabled:(e,t)=>Jt(e,t,!1),setHighQualityEnabled:(e,t)=>ei(e,t,!1),setPlaybackRate:ni,incrementPlaybackRate:()=>{let e=ra(We),t=ra(Et),i=t.findIndex((({selected:e})=>e));if(i===t.length-1||!e)return t[i];let n=t[i+1];return ni(n.value),n},decrementPlaybackRate:()=>{let e=ra(We),t=ra(Et),i=t.findIndex((({selected:e})=>e));if(0===i||!e)return t[i];let n=t[i-1];return ni(n.value),n},setSubtitle:e=>ai(e,!1),toggleSubtitle:()=>oi(!1),togglePictureInPicture:async()=>{let e=K?.isActive(),t="none";K?.isActive()?(t="exit",await(K?.exit())):(t="request",await(K?.request())),H.log("toggle picture in picture",{isActive:e,action:t})},startScrubbing:e=>{Z({message:`start scrubbing, progress: ${e}`}),H.log("start scrubbing",{progress:e}),_i.set(!0),wi(e)},progressScrubbing:wi,completeScrubbing:(e,t=!1)=>{Z({message:`complete scrubbing, progress: ${e}`}),H.log("complete scrubbing",{progress:e}),ci(e,m.Bv.SLIDER,t),ra(Zi.ui.isMobile)&&ra(Zi.state.currentFormat$)===v.T4.HLS?(U?.addEventListener("seeked",ki),bi=window.setTimeout((()=>{ki()}),300)):xi()},toggleChromecast:()=>{Z({message:"toggle chromecast"}),H.log("toggle chromecast"),F.toggleChromecast()},switchToActiveLive:()=>{Ee.next(m.Bv.LIVE),Z({message:"switch to active live"}),H.log("switch to active live"),F.seekTime(0),F.info.playbackState$.getValue()!==v.wF.PLAYING&&Zi.actions.internal.togglePlay()},switchFromAdsToVideo:(e=!0)=>{(0,g.tZ)(Zi),Z({message:`switch from ads to video, callPlay: ${e}`}),H.log("switch from ads to video",{callPlay:e}),ye.set("video"),e&&F.play(),r&&Yt(!0,!0);let t=ra(we)?.muted,i=!F.info.muted$.getValue();void 0!==t&&!i&&Yt(t,!0),we.set(void 0)},switchFromVideoToAds:()=>{(0,g.tZ)(Zi),Z({message:"switch from video to ads"}),H.log("switch from video to ads"),Zi.actions.internal.pause(),De(),ye.set("ads")},skipAd:()=>{H.log("skip adman"),Q.skip()},setLiveWaitingStart:e=>{(0,g.tZ)(Zi);let t=e?"LiveWaitingStart":"thumb";H.log("set live waiting start",{state:e,playerPhase:t}),ye.set(t)},setLiveWaitingRecover:e=>{(0,g.tZ)(Zi);let t=e?"LiveWaitingRecover":"thumb";H.log("set live waiting recover",{state:e,playerPhase:t}),ye.set(t)},setLiveWaitingRecord:e=>{(0,g.tZ)(Zi);let t=e?"LiveWaitingRecord":"thumb";H.log("set live waiting record",{state:e,playerPhase:t}),ye.set(t)},getDebugTextData:()=>((0,g.tZ)(Zi),H.log("get debug text data"),((e,t,i,n)=>{let a=e.info,{width:o,height:r}=ra(i.ui.playerSize),s=a.throughputEstimation$.getValue()?.toFixed(0)??0,l=a.rttEstimation$.getValue()?.toFixed(0)??0,d=a.isAutoQualityEnabled$.getValue()?"auto":"manual",u=`${Ba} (core: ${v.xv}, stat: ${m.xv}, shared: ${g.xv})`,c=ra(i.state.errorLog$),p=c.length?"\n"+c.map(((e,t)=>`${t}) Type: ${e.id}\nMessage: ${e.message} (${e.thrown})\nTrace: ${e.thrown?.stack}\n`)).join("\n"):void 0,h=i.state.isAudioDisabled?"disabled":ra(i.state.isAudioAvailable$)?void 0:"unavailable",f=e.info.currentVideoStream$.getValue(),b=e.info.currentAudioStream$.getValue(),y=[];f&&y.push(`Video: ${f?.codec??""}`+(f?.hdr?" (HDR)":"")),b&&y.push(`Audio: ${b?.codec??""}`+(b?.language?` (${b.language})`:""));let _=a.currentQuality$.getValue(),w="";if(_){let e=a.availableQualitiesFps$.getValue()[_];w=e?`${e}fps`:""}let x=a.httpConnectionType$.getValue(),k=a.currentBuffer$.getValue()?.end??0,$=Math.max(k-ra(i.state.positionExact$),0),C={Version:u,Browser:navigator.userAgent,Config:e.experimental.tuningConfigName$.getValue().join(", "),"United video id":String(i.videoId),TraceId:n,VSID:ra(i.vsid),"Content host":a.hostname$.getValue(),"Connection type":x?x+(a.httpConnectionReused$.getValue()?" (reused)":""):"",Throughput:`${s}Kbps @ ${l}ms RTT`,Format:a.currentFormat$.getValue(),"Available Formats":t?.sources?Object.keys(t.sources).join(", "):"",Streams:y.join(", "),Quality:`${d} ${_??""} ${w}`,"Available qualities":a.availableQualities$.getValue().join(", "),Audio:h,Position:`${ra(i.state.positionExact$)}s`,Buffer:`${$}s`,State:`${ra(i.playerPhase)} ${a.playbackState$.getValue()??""}`,"Player size":`${o}x${r}`,URL:window.location.href,Errors:p};return Object.entries(C).filter((([e,t])=>void 0!==t)).map((([e,t])=>`${e}: ${t}`)).join("\n")})(F,q,Zi,O.getTraceId())),getTraceTextData:()=>((0,g.tZ)(Zi),JSON.stringify(O.getFinishedSpans())),getDebugPanelData:()=>((0,g.tZ)(Zi),((e,t,i)=>{let n=e.info,{width:a,height:o}=ra(i.ui.playerSize),r={version:Ba,viewport:`${a}x${o}`,volume:Math.round(100*ra(i.state.volume$))};r.id=i.videoId,n.currentFormat$.getValue()&&(r.provider=n.currentFormat$.getValue()),n.hostname$.getValue()&&(r.cdn=n.hostname$.getValue());let s=n.intrinsicVideoSize$.getValue();s&&(r.videoSize=`${s.width}x${s.height}`);let l=n.currentBuffer$.getValue(),d=n.currentNativeBuffer$.getValue(),u=n.isLive$.getValue(),c=n.liveBufferTime$.getValue();l&&d&&(u&&c?(r.buffer=l.end-c,r.nativeBuffer=d.end-c):(r.buffer=Math.max(l.end-ra(i.state.positionExact$),0),r.nativeBuffer=Math.max(d.end-ra(i.state.positionExact$),0))),r.position=ra(i.state.positionExact$);let p=n.throughputEstimation$.getValue();p&&(r.speed=p);let h=n.videoBitrate$.getValue();h&&(r.bitrate=h);let v=n.liveLatency$.getValue();v&&(r.liveLatency=v);let g=n.currentVideoSegmentLength$.getValue();g&&(r.currentVideoSegmentLength=g);let m=n.currentAudioSegmentLength$.getValue();m&&(r.currentAudioSegmentLength=m);let f=ra(i.vsid);"string"==typeof f&&(r.vsid=f);let b=e.info.currentVideoStream$.getValue()?.codec;b&&(r.videoCodec=b);let y=e.info.currentAudioStream$.getValue()?.codec;y&&(r.audioCodec=y),e.info.currentVideoStream$.getValue()?.hdr&&(r.hdr=!0);let _=e.info.currentAudioStream$.getValue()?.language;return _&&(r.audioLanguage=_),r})(F,0,Zi)),getVideoElement:Di,seekTime:(e,t,i)=>ui(e,t,i),clearDelayedBufferingCheckTimeout:()=>{Ce&&clearTimeout(Ce),Ce=null},seekEpisodeStartTime:e=>{Z({message:`seek to episode start time: ${e}`}),H.log("seek to episode start time",{time:e}),ui(e,m.Bv.EPISODE,!0)},seekToPercent:ci,getNextEpisode:Fi,seekToNextEpisode:e=>{let t=e;t||(t=Fi());let i=F.info.position$.getValue();H.log("seek to next episode",{currentTime:i,...t}),t&&(Z({message:"seek to next episode"}),ui(t.time,m.Bv.EPISODE,!0))},getPrevEpisode:qi,seekToPrevEpisode:e=>{let t=e;t||(t=qi());let i=F.info.position$.getValue();H.log("seek to prev episode",{currentTime:i,...t}),t&&(Z({message:"seek to prev episode"}),ui(t.time,m.Bv.EPISODE,!0))},startLogging:()=>{let e,{debugLog:t}=z,i="#9df7b7",n="#efd169";if(t&&!0!==t){let{colors:a}=t;e=t.tag,i=a?.[0]??i,n=a?.[1]??a?.[0]??n}let a=e?`: ${e}`:"";Ne.add(F.events.log$.subscribe((e=>{console.debug(`%c sdk${a} `,`background:${i};`,`sdk component: ${e.component}`,e.message)}))).add(W.log$.subscribe((e=>{console.debug(`%c ui${a} `,`background:${n};`,`ui component: ${e.component}.`,e.message)})))},stopLogging:()=>{Ne.unsubscribe()},startCameraManualRotation:(e,t)=>{H.log("start camera manual rotation",{mx:e,my:t}),F.startCameraManualRotation(e,t)},stopCameraManualRotation:(e=!1)=>{H.log("stop camera manual rotation",{immediate:e}),F.stopCameraManualRotation(e)},moveCameraFocusPX:(e,t,i)=>{H.log("move camera focus px",{xpx:e,ypx:t,dt:i}),F.moveCameraFocusPX(e,t,i)},holdCamera:()=>{F.holdCamera()},releaseCamera:()=>{F.releaseCamera()},getVideoEpisodes:Hi,getPreviewThumbsData:()=>(Z({message:"getting preview thumbs data"}),H.log("get preview thumbs data",{...c}),c),downloadVideo:()=>{let e=(()=>{let e=Object.keys(F.info.availableSources$?.getValue()?.[v.T4.MPEG]||{}),t=(0,g.sm)(e)||g.Xb.Q_144P;return q.sources[v.T4.MPEG]?.[t]})();if(e)H.log("download video",{url:e}),((e,t)=>{Da(e,t,"mp4")})(e,q?.meta?.title||"video");else{let e="There is no URL for download video";H.log("download video",{message:e}),Z({message:e})}},addLanguage:Do,setLanguage:ve,nextMovie:e=>Ae.next(e),videoRotate:(e=-90)=>{H.log("rotate video",{alphaDiff:e}),le.update((t=>t+e))},correctSeekTimeToInteractive:Qi,replayInteractive:x,setLooped:Xt,reportProblem:()=>{l?.uiInfo?.onReportProblem?.()},setAutoplayNextEnabled:(e,t=!1)=>{Z({message:`set autoplayNextEnabled, value: ${e}`}),H.log("set autoplay next enabled",{autoplayNextEnabled:e}),Zi.ui.autoplayNextEnabled$.set(e),(e=>{g.RW.set(Ja,String(e))})(e),t&&l?.onSetAutoplayNextEnabled?.(e)},setTimerNextVideoRunning:e=>{Z({message:`set timerNextVideoRunning, value: ${e}`}),H.log("set timer next video running",{timerNextVideoRunning:e}),Zi.ui.timerNextVideoRunning$.set(e)},prevVideoClick:(e=!0)=>{let t=!0;if(e&&l?.onPrevVideoClick)try{t=l?.onPrevVideoClick?.()}catch{Z({message:"onPrevVideoClick callback failed to execute"})}I(!0),t&&P()},nextVideoClick:(e=!0)=>{let t=!0;if(e&&l?.onNextVideoClick)try{t=l?.onNextVideoClick?.()}catch{Z({message:"onNextVideoClick callback failed to execute"})}I(!1),t&&E()},nextVideoAnnouncementShow:()=>{l?.onNextVideoAnnouncementShow?.()},nextVideoAnnouncementClick:()=>{l?.onNextVideoAnnouncementClick?.()},nextVideoAnnouncementAuto:()=>{l?.onNextVideoAnnouncementAuto?.()},nextVideoAnnouncementCancel:()=>{l?.onNextVideoAnnouncementCancel?.()},checkFullscreenSupport:()=>((e,t)=>!!t||e.fullscreenEnabled||!!e.webkitFullscreenEnabled||!!e.mozFullscreenEnabled||!!e.msFullscreenEnabled)(document,v.zl.device.isIOS),changeDoubleForwardOn:Gi,closePreviewTrack:()=>{zi(!1),pi.set(!1)},previewTrackOpened:()=>{Ni(!1),pi.set(!0)},previewTrackDragStarted:()=>{hi.set(!0),Xi=F.info.playbackState$.getValue()===v.wF.PLAYING,Ni(!1)},previewTrackDragFinished:()=>{hi.set(!1),!ra(pi)&&Xi&&zi(!1),Xi=!1}},external:{firstStart:e=>Oi(e,!0),play:()=>zi(!0),pause:()=>Ni(!0),stop:()=>(e=>{(0,g.tZ)(Zi);let t=!e;"ads"!==ra(Zi.playerPhase)?(Z({message:`player will be stopped, internalCall: ${t}`}),k?.()):Z({message:"player cannot be stopped during ads via external method"})})(!0),seekTime:e=>(e=>{Z({message:`seek external, time: ${e}`}),H.log("seek external",{time:e}),Ee.next(m.Bv.UNKNOWN),F.seekTime(F.info.isLive$.getValue()?-e:e)})(e),seekEpisodeStartTime:e=>(e=>{Z({message:`seek external to episode start time: ${e}`}),H.log("seek external to episode start time",{time:e}),ui(e,m.Bv.EPISODE,!0)})(e),setPlaybackRate:e=>(e=>{Z({message:`set playback rate to: ${e}`}),H.log("set playback rate external",{playbackRate:e}),F.setPlaybackRate(e)})(e),setAutoQualityLimits:e=>(e=>{let t=e.max??"none",i=e.min??"none";Z({message:`set auto quality limitation. Max: ${t}. Min: ${i}`}),H.log("set auto quality limits",{max:t,min:i}),F.setAutoQualityLimits(e)})(e),setMuted:e=>Yt(e,!0),toggleSubtitle:()=>oi(!0),changeSubtitle:(e,t)=>{H.log("change subtitle",{enabled:e}),e?ri(!0,t):si(!0)},setVolume:e=>Kt(e,!0),returnFocusToEpisodes:()=>{Zi.ui.episodes.panelOpened$.set(!1)},updateAdditionalSettingsItem:(e,t)=>{let i=ra(Li).map((i=>i.id!==e?i:{...i,...t}));Li.set(i)},addAdditionalSettingsItem:e=>{let t=ra(Li);t.some((t=>t.id===e.id))?Z({message:`Settings menu item with id: "${e.id}" was exist! Can't add more with the same id`}):(t.push(e),Li.set(t))},removeAdditionalSettingsItem:e=>{let t=ra(Li);t.some((t=>t.id===e))?(t=t.filter((t=>t.id!==e)),Li.set(t)):Z({message:`Can't find settings menu item with id: "${e}"! Can't remove item with this id`})},updateAdditionalContextItem:(e,t)=>{let i=ra(Vi).map((i=>i.id!==e?i:{...i,...t}));Vi.set(i)},addAdditionalContextItem:e=>{let t=ra(Vi);t.some((t=>t.id===e.id))?Z({message:`Context menu item with id: "${e.id}" was exist! Can't add more with the same id`}):(t.push(e),Vi.set(t))},removeAdditionalContextItem:e=>{let t=ra(Vi);t.some((t=>t.id===e))?(t=t.filter((t=>t.id!==e)),Vi.set(t)):Z({message:`Can't find context menu item with id: "${e}"! Can't remove item with this id`})},updateAdditionalButton:(e,t)=>{let i=ra(Pi).map((i=>i.id!==e?i:{...i,...t}));Pi.set(i)},addAdditionalButton:e=>{let t=ra(Pi);t.some((t=>t.id===e.id))?Z({message:`Additional button with id: "${e.id}" was exist! Can't add more with the same id`}):(t.push(e),Pi.set(t))},removeAdditionalButton:e=>{let t=ra(Pi);t.some((t=>t.id===e))?(t=t.filter((t=>t.id!==e)),Pi.set(t)):Z({message:`Can't find additional button with id: "${e}"! Can't remove item with this id`})},setLiveLowLatency:e=>{Ee.next(m.Bv.LIVE),Z({message:"live switch to low latency "+e}),H.log("live switch to low latency "+e),F.setLiveLowLatency(e)},hideControls:()=>di(!1),showControls:()=>di(!0),setQuality:e=>Zt(e,{appliesTo:"to-video"},!0),setTrafficSavingEnabled:e=>Jt(e,"to-video",!0),setHighQualityEnabled:e=>ei(e,"to-video",!0),changeAudioStream:e=>{H.log("change audio stream",{id:e});let t=F.info.availableAudioStreams$.getValue().find((t=>t.id===e));t&&yt(t,!0)}}},callbacks:l,setUiCallbacks:e=>{J={...e}},getAdmanWrapper:()=>Q,getLogger:()=>W,getPlayer:()=>F,destroy:()=>{H.log("destroy store"),clearTimeout(bi),clearTimeout(fi),te.unsubscribe(),Ne.unsubscribe(),F.destroy(),Q.destroy(),M?.destroy(),j?.destroy(),pe.unsubscribe(),Le?.disconnect(),Le=null,ee.destroy()}};return Zi};function Ru(e,t,i,n){let a=t[i]?.getBoundingClientRect(),o=n&&!!a&&!!(a.right-a.left),{top:r,left:s,bottom:l,right:d}=Eu(t[i],e||void 0);return{left:o?s:0,right:o?d:0,top:o?r:0,bottom:o?l:0,isDisplayed:o}}var Bu=["disabledControls$","additionalButtons"],Du=["interactiveTimeIndicator"],Nu=(e,t,i,n)=>{if(e)for(let[a,o]of Object.entries(t))if(!Bu.includes(a)){let t=n||Du.includes(a);o.set(Ru(e,i,a,t))}},zu=async(e,t,i)=>{await li(),t&&i&&(i.focus(),e.set(!1))},Ou=Si('<path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z"></path>');function Hu(e,t){ne(t,!0);let[i,n]=ua(),a=()=>da(l,"$contextMenuVisible$",i),o=ma(t,"disabled",3,!1),r=ma(t,"ariaLabel",3,""),s=Oa(),l=s.ui.contextMenu.visible$,d=s.ui.contextMenu.openedByBtnKeyboard$,u=s.ui.contextMenu.showContextMenuBtn$,c=s.ui.contextMenu.position$,p=s.ui.contextMenu.btnRef$,h=$e(void 0);nt((()=>{di(h)&&ui((()=>{p.set(di(h))}))}));let v=ve((()=>a()?"opened":""));_l(e,{get className(){return di(v)},testId:"btn-context-menu",get disabled(){return o()},get ariaLabel(){return r()},click:e=>{let t=Qr(e),i=(e=>{let t=e.getBoundingClientRect();return{right:t.left+t.width,bottom:t.top+-14}})(di(h));c.set(i),d.set(t),l.set(!a())},focus:()=>{u.set(!0)},blur:()=>{u.set(!1)},get ariaExpanded(){return a()},get ref(){return di(h)},set ref(e){Se(h,e,!0)},children:(e,t)=>{!function(e){Eo(e,{children:(e,t)=>{Pi(e,Ou())},$$slots:{default:!0}})}(e)},$$slots:{default:!0}}),ae(),n()}var Fu=e=>{e.stopPropagation()},qu=Ci("<div><!> <div></div> <div></div></div>"),Uu={hash:"s-26",code:'.interactive-episode-icon-animated.s-26{height:32px;opacity:1;position:absolute;right:16px;top:16px;transition:.3s;width:32px}.interactive-episode-icon-animated.icon-small.s-26{height:28px;width:28px}.invisible.s-26{opacity:0;visibility:hidden}.fullscreen.s-26:not(.mobile){height:40px;right:23px;top:19px;width:40px}.mobile.s-26{height:28px;right:14px;top:12px;width:28px}.fullscreen.mobile.s-26{height:32px;width:32px}@media screen and (orientation:portrait){.interactive-episode-icon-animated.mobile.fullscreen.s-26{right:16px;top:40px}}@keyframes s-26-pulse{0%{border-width:1px;opacity:0;transform:scale(1)}10%{opacity:1}50%{border-width:1px;opacity:.5;transform:scale(1.5)}to{border-width:.5px;opacity:0;transform:scale(1.5)}}.pulse.s-26{animation:s-26-pulse 1s infinite;border:1px solid #fff;border-radius:100%;bottom:0;content:"";display:block;left:0;pointer-events:none;position:absolute;right:0;top:0;transform:scale(1.8);transition:.3s}.pulse.paused.s-26{animation-play-state:paused}.interactive-episode-icon-animated svg{height:100%;width:100%}.ref-block.s-26{height:100%;position:absolute;top:0;visibility:hidden;width:100%}.hidden.s-26{display:none}'};function Wu(e,t){ne(t,!0),gn(e,Uu);let[i,n]=ua(),a=()=>da(c,"$isMobile",i),o=()=>da(v,"$showInteractiveTimeIndicatorTooltip$",i),r=ma(t,"ref",15,void 0),s=$e(void 0),l=Oa(),d=Ha(),{interactiveControlsOpacity$:u}=d,c=l.ui.isMobile,p=l.ui.isFullscreen,h=l.state.isInteractiveTime$,v=d.showInteractiveTimeIndicatorTooltip$,g=l.ui.controlsVisible,m=l.callbacks?.onInteractiveTimeIndicatorClick,f=l.ui.currentGridType$,b=ve((()=>!a()&&da(g,"$areControlsVisible",i))),y=ve((()=>zd(da(f,"$currentGridType$",i),"s"))),_=ve((()=>!da(h,"$isInteractiveTime$",i)||!!da(u,"$interactiveControlsOpacity$",i)||di(b))),w=$e(!1);nt((()=>{Se(w,di(_),!0)}));let x=()=>{Se(w,!0)},k=()=>{Se(w,!1),di(s)?.removeEventListener("animationiteration",x)},$=ve((()=>o()&&!di(_)));nt((()=>{o()?(k(),di(s)?.addEventListener("animationiteration",x,{once:!0})):k()}));Gi((()=>{v.clearTimeout(),k()}));let C=Oo("tooltip_interactive_interaction_time_indicator");var S=qu();let T;S.__mousemove=[Fu],S.__click=()=>{di(_)||(v.set(!0),m?.())};var A=Ge(S);_d(A,{get tooltipContent(){return C},get tooltipVisible(){return di($)},initialTranslateYPx:72,tooltipPlacement:"bottom",onTooltipVisibilityChange:e=>{v.set(e)},get ref(){return r()},set ref(e){r(e)},children:(e,t)=>{xd(e,{completed:!0})},$$slots:{default:!0}});var P=Ze(A,2);let E;Zn(P,(e=>r(e)),(()=>r()));var I=Ze(P,2);let L;Zn(I,(e=>Se(s,e)),(()=>di(s))),Fe(S),rt(((e,t,i)=>{T=xn(S,1,"interactive-episode-icon-animated s-26",null,T,e),E=xn(P,1,"ref-block s-26",null,E,t),L=xn(I,1,"pulse s-26",null,L,i)}),[()=>({mobile:a(),fullscreen:da(p,"$isFullscreen",i),invisible:di(_),"icon-small":di(y)}),()=>({hidden:di(_)}),()=>({paused:di(w)})]),_i("mouseleave",S,(()=>{v.set(!1)})),Pi(e,S),ae(),n()}function Qu(e,t){ne(t,!0);let i=ma(t,"tooltipEnabled",3,!0),n=ma(t,"disabled",3,!1),a=ma(t,"className",3,void 0),o=ma(t,"ref",15),r=ma(t,"tooltipVisible",3,!1);_d(e,{get disabled(){return n()},get tooltipContent(){return t.tooltipText},get disabledTooltipContent(){return t.disabledTooltipContent},get hasTooltip(){return i()},get mouseEnter(){return t.mouseEnter},get mouseLeave(){return t.mouseLeave},get tooltipVisible(){return r()},get className(){return a()},get ref(){return o()},set ref(e){o(e)},children:(e,i)=>{var n=Ai();let a=ve((()=>t.buttonComponent));pn(Xe(n),(()=>di(a)),((e,i)=>{i(e,va((()=>t.buttonComponentProps??{})))})),Pi(e,n)},$$slots:{default:!0}}),ae()}wi(["mousemove","click"]);var ju=100,Ku=200,Yu=300,Gu=400,Xu=500,Zu=600,Ju=700,ec=800,tc=Si('<path d="M32 21.68V15a2 2 90 114 0v18a2 2 90 01-4 0v-6.66l-16.3 9.32A2.48 2.48 90 0112 33.56V14.46c0-1.9 2.06-3.08 3.7-2.12z"></path>');function ic(e,t){ne(t,!0);let i=ma(t,"reversed",3,!1),n=ve((()=>i()?"transform: scaleX(-1);transform-origin: 50%;":void 0)),a=ve((()=>`${js(t.size)}${di(n)}`)),o=ve((()=>i()?"prev-icon":"next-icon"));Eo(e,{get width(){return"48"},get height(){return"48"},get style(){return di(a)},get testId(){return di(o)},get shadow(){return t.shadow},children:(e,t)=>{Pi(e,tc())},$$slots:{default:!0}}),ae()}var nc=Ci('<div class="icon-background-mobile s-24"><!></div>'),ac={hash:"s-24",code:".icon-background-mobile.s-24{align-items:center;background-color:var(--big-play-bg-color);border-radius:var(--big-play-radius);display:flex;height:100%;justify-content:space-around;left:0;position:absolute;top:0;width:100%}"};function oc(e,t){ne(t,!0),gn(e,ac);let i=ma(t,"ref",15,void 0),n=ma(t,"isMobile",3,!1),a=ma(t,"disabled",3,!1),o=Oa().ui.t,r=ve((()=>"prev"===t.type?o("tooltip_previous"):o("tooltip_next"))),s=ve((()=>"prev"===t.type?o("hotkey_map_item_prev_video_value"):o("hotkey_map_item_next_video_value"))),l=ve((()=>`btn-${n()?"m":"d"}--${t.type}`));_l(e,{get className(){return di(l)},get testId(){return`btn-${t.type??""}`},get disabled(){return a()},get ariaLabel(){return di(r)},get click(){return t.click},get ariaKeyShortCut(){return di(s)},get ref(){return i()},set ref(e){i(e)},children:(e,i)=>{var a=Ai(),o=Xe(a),r=e=>{var i=nc(),n=Ge(i);let a=ve((()=>"prev"===t.type));ic(n,{get size(){return"32"},get reversed(){return di(a)}}),Fe(i),Pi(e,i)},s=e=>{let i=ve((()=>"prev"===t.type));ic(e,{get size(){return"24"},get reversed(){return di(i)}})};Zi(o,(e=>{n()?e(r):e(s,!1)})),Pi(e,a)},$$slots:{default:!0}}),ae()}var rc=Si('<path d="M24 21.2a.8.8 90 01-1.34.6L14.08 14a1.34 1.34 90 010-2l8.6-7.8a.8.8 90 011.32.6V11a16 16 90 11-16 16 2 2 90 114 0 12 12 90 1012-12z"></path>');function sc(e,t){ne(t,!0);let i=ve((()=>js(t.size)));Eo(e,{get width(){return"48"},get height(){return"48"},get style(){return di(i)},testId:"replay-icon",get shadow(){return t.shadow},children:(e,t)=>{Pi(e,rc())},$$slots:{default:!0}}),ae()}var lc=Ci('<div class="icon-background-mobile s-25"></div>'),dc=Ci("<!> <div><!></div>",1),uc={hash:"s-25",code:".mobile.s-25{align-items:center;display:flex;justify-content:center;position:relative}.icon-background-mobile.s-25{background-color:var(--big-play-bg-color);border-radius:var(--big-play-radius);height:calc(100% - 32px);left:16px;position:absolute;top:16px;width:calc(100% - 32px)}"};function cc(e,t){ne(t,!0),gn(e,uc);let i=ma(t,"ref",15,void 0),n=ma(t,"isMobile",3,!1),a=ma(t,"disabled",3,!1),o=ma(t,"className",3,""),r=ma(t,"click",3,g.lQ),s=Oo("tooltip_restart"),l=ve((()=>`${n()?"btn-m--play":""} ${o()}`));_l(e,{get className(){return di(l)},testId:"replay-btn",get ariaLabel(){return s},get disabled(){return a()},get click(){return r()},get ariaKeyShortCut(){return ka},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{var i=dc(),a=Xe(i),o=e=>{Pi(e,lc())};Zi(a,(e=>{n()&&e(o)}));var r=Ze(a,2);let s;var l=Ge(r);let d=ve((()=>n()?"48":"24"));sc(l,{get size(){return di(d)}}),Fe(r),rt((e=>s=xn(r,1,"s-25",null,s,e)),[()=>({mobile:n()})]),Pi(e,i)},$$slots:{default:!0}}),ae()}var pc=Si('<path d="m17.4 10 1.6.2a2 2 90 01.8.8l.2 1.6v22.8l-.2 1.6a2 2 90 01-.8.8l-1.6.2h-4l-1.4-.2a2 2 90 01-.8-.8l-.2-1.6V12.6l.2-1.6a2 2 90 01.8-.8l1.6-.2h3.801zm16 0 1.6.2a2 2 90 01.8.8l.2 1.6v22.8l-.2 1.6a2 2 90 01-.8.8l-1.6.2h-4l-1.4-.2a2 2 90 01-.8-.8l-.2-1.6V12.6l.2-1.6a2 2 90 01.8-.8l1.6-.2h4z"></path>');function hc(e,t){ne(t,!0);let i=ve((()=>js(t.size)));Eo(e,{get width(){return"48"},get height(){return"48"},get fill(){return t.fill},get style(){return di(i)},testId:"pause-icon",get shadow(){return t.shadow},children:(e,t)=>{Pi(e,pc())},$$slots:{default:!0}}),ae()}var vc=Ci('<div class="icon-background-mobile s-1z"><!></div>'),gc={hash:"s-1z",code:".icon-background-mobile.s-1z{align-items:center;background-color:var(--big-play-bg-color);border-radius:var(--big-play-radius);display:flex;height:calc(100% - 32px);justify-content:space-around;left:16px;position:absolute;top:16px;width:calc(100% - 32px)}"};function mc(e,t){ne(t,!0),gn(e,gc);let[i,n]=ua(),a=()=>da(o,"$fakeIsPlaying$",i),{fakeIsPlaying$:o}=Ha(),r=ma(t,"ref",15,void 0),s=ma(t,"isMobile",3,!1),l=ma(t,"isPlaying",3,!1),d=ma(t,"disabled",3,!1),u=ma(t,"className",3,""),c=ma(t,"click",3,g.lQ),p=Oa().ui.t,{toggle:h}=o,v=ve((()=>h)),m=ve((()=>null!==a())),f=ve((()=>di(m)?a():l())),b=ve((()=>di(f)?p("tooltip_pause"):p("tooltip_play"))),y=ve((()=>di(f)?hc:Ys)),_=ve((()=>`${s()?"btn-m--play":""} ${u()}`)),w=ve((()=>di(m)?di(v):c()));_l(e,{get className(){return di(_)},testId:"play-btn",get click(){return di(w)},get disabled(){return d()},get ariaLabel(){return di(b)},get ariaKeyShortCut(){return ka},get ref(){return r()},set ref(e){r(e)},children:(e,t)=>{var i=Ai();let n=ve((()=>di(y)));var a=Xe(i),o=e=>{var t=vc();pn(Ge(t),(()=>di(n)),((e,t)=>{t(e,{get size(){return"48"}})})),Fe(t),Pi(e,t)},r=e=>{var t=Ai();pn(Xe(t),(()=>di(n)),((e,t)=>{t(e,{get size(){return"24"}})})),Pi(e,t)};Zi(a,(e=>{s()?e(o):e(r,!1)})),Pi(e,i)},$$slots:{default:!0}}),ae(),n()}var fc=Si('<path d="M12.58 12.92v2.5a1 1 0 0 1-1.52.85l-5.58-3.42a1 1 0 0 1 0-1.7l5.58-3.42a1 1 0 0 1 1.52.86v2.5l5.48-3.36a1 1 0 0 1 1.52.86v6.82a1 1 0 0 1-1.52.86z"></path>');function bc(e,t){ne(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"hidden",3,!1),a=ma(t,"disabled",3,!1),o=Oo("tooltip_interactive_go_back"),r=ve((()=>n()?"hidden":""));_l(e,{get className(){return di(r)},testId:"play-prev-chapter-btn",get ariaLabel(){return o},get disabled(){return a()},get click(){return t.click},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{!function(e){Eo(e,{testId:"play-prev-chapter-icon",children:(e,t)=>{Pi(e,fc())},$$slots:{default:!0}})}(e)},$$slots:{default:!0}}),ae()}var yc=Ci('<span class="gutter s-27"><span><!></span></span>'),_c={hash:"s-27",code:".gutter.s-27{--gutterWidth:32px;--gutterHeight:12px;--togglerWidth:18px;--togglerHeight:18px;--togglerGap:calc(var(--togglerWidth)/6);background-color:hsla(0,0%,100%,.3);border-radius:50px;height:var(--gutterHeight);position:relative;width:var(--gutterWidth)}.toggler.s-27{align-items:center;background-color:#626364;border-radius:50%;display:flex;height:var(--togglerHeight);justify-content:center;left:0;position:absolute;top:calc((var(--togglerHeight) - var(--gutterHeight))/2*-1);transform:translateX(calc(var(--togglerGap)*-1));transition-duration:.2s;transition-property:background-color,transform;transition-timing-function:ease;width:var(--togglerWidth)}.toggler.enabled.s-27{background-color:var(--toggle-color-autoplay-on);transform:translateX(calc(var(--gutterWidth) - var(--togglerWidth) + var(--togglerGap)))}"};function wc(e,t){ne(t,!0),gn(e,_c);let[i,n]=ua(),a=()=>da(l,"$autoplayNextEnabled$",i),o=ma(t,"ref",15,void 0),r=Oa(),s=r.ui.t,l=r.ui.autoplayNextEnabled$,d=r.actions.internal.setAutoplayNextEnabled,u=s("aria_label_autoplay"),c="#000",p=ve((()=>a()?"true":"false"));_l(e,{click:()=>{d(!a(),!0)},get ariaLabel(){return u},role:"switch",get areaChecked(){return di(p)},get ref(){return o()},set ref(e){o(e)},children:(e,t)=>{var i=yc(),n=Ge(i);let o;var r=Ge(n),s=e=>{Ys(e,{get size(){return"12"},fill:c})},l=e=>{hc(e,{get size(){return"12"},fill:c})};Zi(r,(e=>{a()?e(s):e(l,!1)})),Fe(n),Fe(i),rt((e=>o=xn(n,1,"toggler s-27",null,o,e)),[()=>({enabled:a()})]),Pi(e,i)},$$slots:{default:!0}}),ae(),n()}var xc=Si('<path d="M16.73 4.85c-.54-.05-1.23-.05-2.23-.05H7.9a.9.9 0 1 1 0-1.8h6.64q1.41-.01 2.33.05c.64.05 1.2.16 1.73.43a4.4 4.4 0 0 1 1.92 1.92c.27.52.38 1.09.43 1.73q.06.92.05 2.33v5.08q.01 1.41-.05 2.33a5 5 0 0 1-.43 1.73 4.4 4.4 0 0 1-1.92 1.92 5 5 0 0 1-1.73.43q-.92.06-2.33.05H7.9a.9.9 0 1 1 0-1.8h6.6c1 0 1.69 0 2.23-.04.52-.05.82-.13 1.05-.24a2.6 2.6 0 0 0 1.14-1.14c.11-.23.2-.53.24-1.06s.04-1.23.04-2.22v-5c0-1 0-1.69-.04-2.23a3 3 0 0 0-.24-1.05 2.6 2.6 0 0 0-1.14-1.14c-.23-.11-.53-.2-1.05-.24"></path><path d="M7.76 11.17V8.9c0-.71.7-1.15 1.25-.78l4.6 3.1a.96.96 0 0 1 0 1.54L9 15.87c-.55.37-1.25-.07-1.25-.78v-2.26l-4.5 3.04C2.7 16.24 2 15.8 2 15.09V8.91c0-.71.7-1.15 1.25-.78z "></path>',1);function kc(e,t){ne(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"hidden",3,!1),a=ma(t,"disabled",3,!1),o=Oo("tooltip_interactive_seek"),r=ve((()=>n()?"hidden":""));_l(e,{get className(){return di(r)},testId:"btn-seek-to-interactive",get ariaLabel(){return o},get disabled(){return a()},get click(){return t.click},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{!function(e){Eo(e,{testId:"seek-to-interactive-icon",children:(e,t)=>{var i=xc();qe(),Pi(e,i)},$$slots:{default:!0}})}(e)},$$slots:{default:!0}}),ae()}var $c=Si('<path d="M15.2 5.9v1.2c0 .6 0 .9.12 1.12q.15.3.46.46c.23.12.52.12 1.12.12h1.2c.6 0 .9 0 1.12-.12q.3-.15.46-.46c.12-.23.12-.52.12-1.12V5.9c0-.6 0-.9-.12-1.12a1 1 0 0 0-.46-.46c-.23-.12-.52-.12-1.12-.12h-1.2c-.6 0-.9 0-1.12.12q-.3.15-.47.46c-.11.23-.11.53-.11 1.12m-.05 11.03v1.14c0 .6 0 .91.12 1.14q.15.31.47.47c.23.12.53.12 1.14.12h1.22c.6 0 .9 0 1.14-.12a1 1 0 0 0 .47-.47c.12-.23.12-.53.12-1.14v-1.14c0-.6 0-.9-.12-1.14a1 1 0 0 0-.47-.47c-.23-.12-.54-.12-1.14-.12h-1.22c-.6 0-.91 0-1.14.12a1 1 0 0 0-.47.47c-.12.23-.12.53-.12 1.14"></path>'),Cc=Si('<path d="M16.78 3h1.42q.47 0 .83.02.4.02.82.21.61.31.92.92.2.41.21.81.03.36.02.83v1.4q0 .47-.02.83-.02.4-.21.81a2 2 0 0 1-.92.92 2 2 0 0 1-.82.21q-.36.02-.83.02h-1.42q-.47 0-.84-.02a2 2 0 0 1-.81-.2 2 2 0 0 1-.93-.93 2 2 0 0 1-.2-.8l-.03-.64h-2.2c-.49 0-.8 0-1.04.02a1 1 0 0 0-.35.06 1 1 0 0 0-.35.35 1 1 0 0 0-.07.35c-.02.24-.02.55-.02 1.04v5.57c0 .5 0 .8.02 1.04s.05.31.07.34q.12.23.35.35c.03.02.11.05.34.07s.56.02 1.05.02h2.2q0-.34.02-.62.01-.4.21-.81.31-.61.93-.92.42-.2.81-.21.37-.02.84-.02h1.42q.47 0 .83.02.4.01.82.2.61.31.92.93.2.41.21.8.03.37.02.84v1.4q0 .47-.02.83-.02.39-.21.81a2 2 0 0 1-.92.92q-.43.2-.82.21-.36.02-.83.02h-1.42q-.47 0-.84-.02a2 2 0 0 1-.81-.21 2 2 0 0 1-.93-.92 2 2 0 0 1-.2-.81l-.03-.63h-2.24q-.68 0-1.16-.03a3 3 0 0 1-1.01-.26 2.6 2.6 0 0 1-1.14-1.14 3 3 0 0 1-.26-1q-.04-.5-.03-1.16v-1.93H2.9A.9.9 0 0 1 2 12c0-.5.4-.9.9-.9h5.23V9.18q0-.68.03-1.16.02-.51.26-1.02a2.6 2.6 0 0 1 1.14-1.13q.5-.24 1.02-.26.48-.04 1.16-.02h2.23q0-.34.02-.63.01-.4.21-.81.31-.61.93-.92.42-.2.81-.21.37-.02.84-.02m-.84 1.84.15-.02c.16-.02.37-.02.72-.02h1.35c.36 0 .57 0 .72.02l.15.02a.3.3 0 0 1 .12.12l.03.15.01.71v1.34l-.01.71-.02.15a.3.3 0 0 1-.13.13l-.15.02-.72.01h-1.35l-.72-.01-.15-.03a.3.3 0 0 1-.12-.12l-.02-.15-.02-.71V5.82q0-.5.02-.71l.02-.15a.3.3 0 0 1 .12-.12m0 11.02.15-.03.72-.01h1.35l.72.01.15.03a.3.3 0 0 1 .12.12l.03.15.01.71v1.34l-.01.71-.02.15a.3.3 0 0 1-.13.12l-.15.02c-.15.02-.36.02-.72.02h-1.35c-.35 0-.56 0-.72-.02l-.15-.02a.3.3 0 0 1-.12-.12l-.02-.15-.02-.71v-1.34c0-.35 0-.56.02-.71l.02-.15a.3.3 0 0 1 .12-.13"></path><!>',1);function Sc(e,t){ne(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"hidden",3,!1),a=ma(t,"disabled",3,!1),o=ma(t,"graphIsOpened",3,!1),r=Oa().ui.t,s=ve((()=>o()?r("tooltip_interactive_graph_on"):r("tooltip_interactive_graph_off"))),l=ve((()=>n()?"hidden":""));_l(e,{get className(){return di(l)},testId:"btn-graph",get disabled(){return a()},get ariaLabel(){return di(s)},get click(){return t.click},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{let i=ve((()=>!!o()));!function(e,t){let i=ma(t,"isOpened",3,!1),n=ve((()=>i()?"graph-close-icon":"graph-open-icon"));Eo(e,{get testId(){return di(n)},children:(e,t)=>{var n=Cc(),a=Ze(Xe(n)),o=e=>{Pi(e,$c())};Zi(a,(e=>{i()&&e(o)})),Pi(e,n)},$$slots:{default:!0}})}(e,{get isOpened(){return di(i)}})},$$slots:{default:!0}}),ae()}function Tc(e,t){ne(t,!0);let[i,n]=ua(),a=()=>da(d,"$playbackState$",i),o=ma(t,"isMobile",3,!1),r=ma(t,"isLiveActive",3,!1),s=ma(t,"ariaLabel",3,""),l=Oa(),d=l.state.playbackState$,u=l.actions.internal.switchToActiveLive,c=l.actions.internal.togglePlay,p=ve((()=>()=>{r()?a()===v.wF.PAUSED&&c():u()})),h=ve((()=>o()?"":"btn--live btn-full-opacity")),g=ve((()=>r()?"btn-live":"btn-live-offset")),m=ve((()=>r()&&a()===v.wF.PLAYING));_l(e,{get className(){return di(h)},get testId(){return di(g)},get disabled(){return di(m)},get ariaLabel(){return s()},get click(){return di(p)},children:(e,t)=>{Tr(e,{get isActive(){return r()}})},$$slots:{default:!0}}),ae(),n()}var Ac=Ci('<div class="icon icon-error-stub"><div class="inner"></div></div>'),Pc=Ci('<img class="icon" aria-hidden="true"/>');function Ec(e,t){"use strict";let i=$e(!1),n=()=>{Se(i,!0)};var a=Ai(),o=Xe(a),r=e=>{Pi(e,Ac())},s=e=>{var i=Pc();rt((()=>Ln(i,"src",t.icon))),_i("error",i,n),bi(i),Pi(e,i)};Zi(o,(e=>{di(i)?e(r):e(s,!1)})),Pi(e,a)}var Ic=100,Lc=200,Mc=300,Vc=400,Rc=500,Bc=600,Dc=700,Nc=800,zc=(e,t,i,n)=>{if(e)for(let[a,o]of Object.entries(t))o.set(Ru(e,i,a,n))},Oc=e=>e;function Hc(e,{delay:t=0,duration:i=400,easing:n=Oc}={}){let a=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:n,css:e=>"opacity: "+e*a}}var Fc=Ci('<span class="root s-2d"> </span>'),qc={hash:"s-2d",code:".root.s-2d{box-shadow:0 8px 24px 0 rgba(0,0,0,.08);box-shadow:0 0 2px 0 rgba(0,0,0,.08);color:#fff;font-size:13px;font-weight:500;line-height:16px}"};var Uc=Ci('<div class="tooltip-wrapper s-v"><div><!></div></div>'),Wc={hash:"s-v",code:'.tooltip-wrapper.s-v{display:block;position:relative}.tooltip.s-v{bottom:100%;opacity:0;position:absolute;transform:translateX(-50%);transition:opacity .2s;visibility:hidden}.pointer.s-v:after{border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgba(41,41,41,.8);bottom:0;content:" ";font-size:0;left:50%;line-height:0;position:absolute;transform:translate(-50%,5px);width:0}.tooltip.active.s-v{opacity:1;visibility:visible}'};function Qc(e,t){gn(e,Wc);let i=ma(t,"active",3,!1),n=ma(t,"pointer",3,!1),a=ma(t,"translateXPx",3,0),o=ma(t,"translateYPx",3,0),r=ma(t,"leftOffset",3,0),s=ma(t,"rightOffset",3,0),l=$e(void 0),d=$e(void 0);let u=ve((()=>function(e){if(!di(d))return 0;let{width:i}=di(d).getBoundingClientRect(),n=i/2;return e<n?n+r():e>t.containerWidth-n?t.containerWidth-n-s():e}(a())));var c=Uc(),p=Ge(c);let h;Ki(Ge(p),(()=>t.children??R)),Fe(p),Zn(p,(e=>Se(d,e)),(()=>di(d))),Fe(c),Zn(c,(e=>Se(l,e)),(()=>di(l))),rt((e=>{$n(c,`transform: translate(${di(u)}px, ${o()}px);`),h=xn(p,1,"tooltip s-v",null,h,e),$n(p,`opacity: ${i()?1:0}; visibility: ${i()?"visible":"hidden"}`)}),[()=>({active:i(),pointer:n()})]),Pi(e,c)}var jc=Ci('<div class="preview s-u"></div>'),Kc=Ci('<div class="time s-u"> </div>'),Yc=Ci('<div><!> <div class="episode s-u"><!></div> <!></div>'),Gc={hash:"s-u",code:".timeline-preview.s-u{border-radius:2px;bottom:18px;pointer-events:none}.timeline-preview.mobile.s-u{bottom:72px}.preview.s-u{background-color:var(--timeline-preview-bg);border:1px solid var(--white);border-radius:8px;box-shadow:0 0 2px var(--timeline-preview-shadow),0 8px 24px var(--timeline-preview-shadow)}.episode.s-u{margin-bottom:4px;margin-top:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.episode.s-u,.time.s-u{font-size:13px;font-weight:500;line-height:16px;text-align:center;text-shadow:0 8px 24px var(--timeline-preview-shadow),0 0 2px var(--timeline-preview-shadow)}.time.s-u{color:var(--white)}"};function Xc(e,t){ne(t,!0),gn(e,Gc);let[i,n]=ua(),a=()=>da(v,"$rotateAlpha",i),o=150,r=278,s=ma(t,"time",3,""),l=ma(t,"isMobile",3,!1),d=ma(t,"videoEpisodes",19,(()=>[])),u=ma(t,"progress",3,0),c=ma(t,"duration",3,0),p=ma(t,"isInteractive",3,!1),h=Oa(),v=h.ui.rotateAlpha,g=h.ui.playerSize,m=$e(0),f=$e(0),b=$e(""),y=$e(0),_=$e(0),w=$e(0),x=$e(0),k=ve((()=>au(u(),c(),d()))),$=ve((()=>Mu(a()))),C=ve((()=>(e=>Math.abs(e)/90%4==1)(a()))),S=ve((function(){let e=l()?o:r,{isVertical:t}=P(),n=30;return di(k)?.text&&(n+=16),(t||di($))&&(n+=18,n+=50),Math.min(Math.max(da(g,"$playerSize",i).height-n,0),e)})),T=ve((()=>(di(C)?1:-1)*(di(m)/2-di(f)/2))),A=ve((()=>-1*di(T)));function P(){let e=t.previewThumbsData.frameWidth,i=t.previewThumbsData.frameHeight,n=i>e;return{width:e,height:i,isHorizontal:!n,isVertical:n}}nt((()=>{(e=>{Se(m,e.width,!0),Se(f,e.height,!0)})(function(){let{height:e,isHorizontal:t,isVertical:i,width:n}=P();return t&&(e=e/n*di(S),n=di(S)),i&&(n=n/e*di(S),e=di(S)),{width:n,height:e}}())})),nt((()=>{(e=>{Se(b,e.imgSrc,!0),Se(y,e.imgWidth,!0),Se(_,e.imgHeight,!0),Se(w,e.imgOffsetX,!0),Se(x,e.imgOffsetY,!0)})(function(e){let i;i=t.previewThumbsData.isUV?Math.floor(c()*e/t.previewThumbsData.frequency):Math.min(t.previewThumbsData.countTotal,Math.max(0,Math.floor(t.previewThumbsData.countTotal*e)));let n=Math.floor(i/t.previewThumbsData.countPerImage),a=Math.floor(i%t.previewThumbsData.countPerImage/t.previewThumbsData.countPerRow),o=i%t.previewThumbsData.countPerRow,r=Math.floor(t.previewThumbsData.countPerImage/t.previewThumbsData.countPerRow);!t.previewThumbsData.isUV&&n===Math.floor(t.previewThumbsData.countTotal/t.previewThumbsData.countPerImage)&&(r=Math.floor(t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage/t.previewThumbsData.countPerRow),t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage%t.previewThumbsData.countPerRow>0&&r++);let s=t.previewThumbsData.countPerRow;!t.previewThumbsData.isUV&&n===Math.floor(t.previewThumbsData.countTotal/t.previewThumbsData.countPerImage)&&t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage>0&&(s=Math.min(t.previewThumbsData.countPerRow,t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage));let l=di(m)*s,d=di(f)*r,u=-o*di(m),p=-a*di(f);return{imgSrc:t.previewThumbsData.links[n],imgWidth:l,imgHeight:d,imgOffsetX:u,imgOffsetY:p}}(u()))}));var E=Yc();let I;var L=Ge(E),M=e=>{var t=jc();rt((()=>$n(t,`width: ${di(m)}px; height: ${di(f)}px; background-image: url(${di(b)}); background-size: ${di(y)}px ${di(_)}px; background-position: ${di(w)}px ${di(x)}px;\n    transform: rotate(${a()}deg) ${di($)?`translate(${di(T)}px, ${di(A)}px)`:""};\n    `))),Pi(e,t)};Zi(L,(e=>{di(b)&&e(M)}));var V=Ze(L,2),R=Ge(V),B=e=>{var t=Ai(),i=Xe(t),n=e=>{var t=Ti();rt((e=>Hi(t,e)),[()=>Oo("tooltip_episode_unfinished")]),Pi(e,t)},a=e=>{var t=Ti();rt((()=>Hi(t,di(k).text||""))),Pi(e,t)};Zi(i,(e=>{p()&&!1===di(k).completed?e(n):e(a,!1)})),Pi(e,t)};Zi(R,(e=>{di(k)&&e(B)})),Fe(V);var D=Ze(V,2),N=e=>{var t=Kc(),i=Ge(t,!0);Fe(t),rt((()=>Hi(i,s()))),Pi(e,t)};Zi(D,(e=>{p()||e(N)})),Fe(E),rt((e=>{I=xn(E,1,"timeline-preview s-u",null,I,e),$n(E,`width: ${di($)?di(f):di(m)}px;`)}),[()=>({mobile:l()})]),Pi(e,E),ae(),n()}var Zc=Ci('<span class="time s-f"> </span>'),Jc=Ci("<!> <!>",1),ep={hash:"s-f",code:".time.s-f{background-color:rgba(41,41,41,.8);border-radius:3px;color:var(--white);display:inline-block;padding:6px 10px}.timeline-slider{--slider-bg:var(--timeline-slider-bg);--slider-filled-bg:var(--timeline-slider-filled-bg);--slider-handle-bg:var(--timeline-slider-handle-bg);--slider-loaded-bg:var(--timeline-slider-loaded-bg)}"};function tp(e,t){ne(t,!0),gn(e,ep);let[i,n]=ua(),a=()=>da(f,"$duration$",i),o=()=>da(m,"$position$",i),r=()=>da(C,"$isInteractiveTime$",i),s=()=>da(E,"$previewTrackActive",i),l=()=>da(b,"$isLive$",i),d=()=>da(_,"$isMobile",i),u=ma(t,"showTimeline",3,!1),c=ma(t,"withEpisodes",3,!0),p=ma(t,"ref",15,void 0),h=Oa(),v=_a(),g=h.state.bufferedProgress$,m=h.state.positionWithScrubbing$,f=h.state.duration$,b=h.state.isLive$,y=h.state.isActiveLive$,_=h.ui.isMobile,w=v.features.episodes&&c()?h.actions.internal.getVideoEpisodes():void 0,x=h.actions.internal.getPreviewThumbsData(),k=h.state.interactiveEpisodes$,$=h.state.isInteractive,C=h.state.isInteractiveTime$,S=h.state.isInteractiveExpectation$,T=h.actions.internal.correctSeekTimeToInteractive,A=h.callbacks?.onDisabledTimelineClick,P=h.ui.controls.disabledControls$,E=h.ui.previewTrackActive,I=h.callbacks?.uiInfo?.onTimelineMouseEnter,L=h.callbacks?.uiInfo?.onTimelineMouseLeave,M=h.ui.t,V=v.features.interactiveResponsiveUi,R=ve((()=>$?da(k,"$interactiveEpisodes$",i):w)),B=ve((()=>$r(a()))),D=ve((()=>$r(o()))),N=ve((()=>o()/a())),z=ve((()=>da(S,"$isInteractiveExpectation$",i)||r())),O=$e(!1),H=$e(""),F=$e(0),q=$e(0),U=$e(0),W=ve((()=>({containerWidth:di(q),translateXPx:di(F),translateYPx:$&&x?-36:-16,active:di(O)&&u()&&!di(z)&&!V&&!s(),pointer:!v.features.timelinePreview||!x||l()}))),Q=M("aria_timeline"),j=ve((()=>M("aria_timeline_value",{position:di(D),duration:di(B)})));function K(e){return T&&$?T(e*a())/a():e}function Y(e){h.actions.internal.completeScrubbing(K(e)),Se(O,!1),t.onSliderPointerUp?.()}function G(e,t,i){Se(U,K(e),!0),Se(F,t,!0),i&&Se(q,i,!0),Se(H,function(e){let t=$r((l()?1-e:e)*a());return l()?`-${t}`:t}(e),!0)}let X=ve((()=>da(P,"$disabledControls$",i).has("TIMELINE")));var Z=Jc(),J=Xe(Z);Qc(J,va((()=>di(W)),{get leftOffset(){return t.tooltipLeftOffset},get rightOffset(){return t.tooltipRightOffset},children:(e,t)=>{var i=Ai(),n=Xe(i),o=e=>{Xc(e,{get time(){return di(H)},get isMobile(){return d()},get videoEpisodes(){return di(R)},get previewThumbsData(){return x},get progress(){return di(U)},get duration(){return a()},get isInteractive(){return $}})},r=e=>{var t=Zc(),i=Ge(t,!0);Fe(t),rt((()=>Hi(i,di(H)))),Pi(e,t)};Zi(n,(e=>{v.features.timelinePreview&&x&&!l()?e(o):e(r,!1)})),Pi(e,i)},$$slots:{default:!0}})),Dd(Ze(J,2),{className:"timeline-slider",get isActiveLive(){return da(y,"$isActiveLive$",i)},get isMobile(){return d()},get ariaLabel(){return Q},ariaValueMin:0,get ariaValueMax(){return a()},get ariaValueNow(){return o()},get ariaValueText(){return di(j)},get loadedProgress(){return da(g,"$bufferedProgress$",i)},get filledProgress(){return di(N)},get handleProgress(){return di(N)},get videoEpisodes(){return di(R)},onPointerDown:function(e,i){t.onSliderPointerDown?.(i),h.actions.internal.startScrubbing(K(e))},onHandleMove:function(e){r()||h.actions.internal.progressScrubbing(K(e))},onPointerMove:function(e,i,n,a){t.onSliderMove?.(a,e),G(e,i,n),Se(O,!0)},onPointerUp:Y,onPointerEnter:function(e,i,n){t.onSliderPointerEnter?.(e),G(e,i,n),Se(O,!0)},onPointerLeave:function(){Se(O,!1),t.onSliderLeave?.()},get onMouseEnter(){return I},get onMouseLeave(){return L},get onDisabledClick(){return A},get isInteractive(){return $},get disabled(){return di(X)},get handleAlwaysVisible(){return s()},get hideHandel(){return r()},testId:"progress_bar",onContextMenu:Y,get ref(){return p()},set ref(e){p(e)}}),Pi(e,Z),ae(),n()}var ip={hash:"s-g",code:".timeline-ads-slider{--slider-bg:var(--timeline-slider-bg);--slider-filled-bg:var(--timeline-slider-filled-bg);--slider-handle-bg:var(--timeline-slider-handle-bg);--slider-loaded-bg:var(--timeline-slider-loaded-bg)}"};function np(e,t){ne(t,!0),gn(e,ip);let[i,n]=ua(),a=ma(t,"position",3,0),o=ma(t,"duration",3,0),r=Oa(),s=r.ui.isMobile,l=r.ui.t,d=ve((()=>$r(o()))),u=ve((()=>$r(a()))),c=ve((()=>a()/o())),p=ve((()=>l("aria_timeline_value",{position:di(u),duration:di(d)}))),h=ve((()=>Math.round(100*di(c))));Dd(e,{className:"timeline-ads-slider",ariaValueMin:0,get ariaValueMax(){return o()},get ariaValueNow(){return di(h)},get ariaValueText(){return di(p)},get filledProgress(){return di(c)},hideHandel:!0,get squareBorders(){return da(s,"$isMobile",i)}}),ae(),n()}var ap=Ci("<div><!></div>"),op=Ci("<div></div>"),rp={hash:"s-c",code:".timeline.s-c{align-items:center;bottom:0;box-sizing:border-box;display:flex;min-width:86px;pointer-events:all;position:relative;width:100%}.timeline.mobile.s-c{height:16px;margin-top:6px;padding:6px 12px 7px}.withoutPadding.s-c{padding:0}.timeline-stub.s-c{min-width:20px;width:100%}.timeline-stub.mobile.s-c{height:8px}"};function sp(e,t){ne(t,!0),gn(e,rp);let[i,n]=ua(),a=()=>da(h,"$isLive$",i),o=()=>da(m,"$isMobile",i),r=ma(t,"isAds",3,!1),s=ma(t,"isHidden",3,!1),l=ma(t,"timelineNotAvailable",3,!1),d=ma(t,"needPadding",3,!0),u=ma(t,"ref",15,void 0),c=Oa(),p=_a(),h=c.state.isLive$,v=c.ads.duration,g=c.ads.position,m=c.ui.isMobile,f=aa(!1),b=ve((()=>!l()&&(!a()||a()&&t.canRewindLive&&t.isRewindableLive||r())));var y=Ai(),_=Xe(y),w=e=>{var n=ap();let a;var l=Ge(n),c=e=>{np(e,{get position(){return da(g,"$adPosition",i)},get duration(){return da(v,"$adDuration",i)}})},h=e=>{tp(e,{get tooltipLeftOffset(){return t.tooltipLeftOffset},get tooltipRightOffset(){return t.tooltipRightOffset},get showTimeline(){return di(b)},get withEpisodes(){return t.withEpisodes},get onSliderMove(){return t.onSliderMove},get onSliderPointerDown(){return t.onSliderPointerDown},get onSliderPointerUp(){return t.onSliderPointerUp},get onSliderLeave(){return t.onSliderLeave},get onSliderPointerEnter(){return t.onSliderPointerEnter},get ref(){return u()},set ref(e){u(e)}})};Zi(l,(e=>{r()?e(c):e(h,!1)})),Fe(n),mn(n,(()=>Vr(s()&&p.features.usePerformanceFix,f,p.disableInvisibleComponentsTimeout))),rt((e=>a=xn(n,1,"timeline s-c",null,a,e)),[()=>({withoutPadding:!d(),mobile:o(),"out-of-flow":da(f,"$disabled",i)})]),Pi(e,n)},x=e=>{var t=op();let i;rt((e=>i=xn(t,1,"timeline-stub s-c",null,i,e)),[()=>({mobile:o()})]),Pi(e,t)};Zi(_,(e=>{di(b)?e(w):e(x,!1)})),Pi(e,y),ae(),n()}var lp=(e,t,i,n,a,o,r)=>{Se(t,!0),Se(i,e.clientX,!0),Se(n,di(a),!0),o(r())},dp=Ci("<div></div>"),up=Ci('<div><div class="track s-2b"></div></div>'),cp={hash:"s-2b",code:'.root.s-2b{display:flex;height:var(--preview-track-frame-height-horizontal);overflow:hidden;position:relative;width:100%}.root.is-vertical-video.s-2b,.root.vertically-rotated.s-2b{height:var(--preview-track-frame-height-vertical)}.root.s-2b:after{background-color:#fff;box-shadow:0 2px 2px 0 rgba(0,0,0,.12);box-shadow:0 0 2px 0 rgba(0,0,0,.06);content:"";height:100%;margin:0 auto;pointer-events:none;width:3px;z-index:1}.track.s-2b{bottom:0;display:flex;left:0;padding:0 50%;top:0}.frame.s-2b,.track.s-2b{position:absolute}.frame.s-2b{background-position-x:calc(var(--column-index)*-1*var(--frame-width));background-position-y:calc(var(--frame-height)*-1*var(--row-index));background-size:calc(var(--frame-width)*var(--column-numbers)) calc(var(--frame-height)*var(--row-numbers));flex-shrink:0;height:var(--frame-height);pointer-events:none;transform-origin:center;width:var(--frame-width)}.vertically-rotated.s-2b .frame:where(.s-2b){transform-origin:0 0}.rotate-1.s-2b{transform:rotate(-90deg) translateX(-100%)}.rotate-2.s-2b{transform:rotate(-180deg)}.rotate-3.s-2b{transform:rotate(-270deg) translateY(-100%)}'};function pp(e,t){ne(t,!0),gn(e,cp);let[i,n]=ua(),a=()=>da(y,"$rotateAlpha",i),o=()=>da(h,"$duration$",i),r=Oa(),{countPerImage:s=0,countPerRow:l=0,countTotal:d=0,links:u=[],frameHeight:c=0,frameWidth:p=0}=r.actions.internal.getPreviewThumbsData()||{},{duration$:h,positionWithScrubbing$:v}=r.state,{startScrubbing:m,progressScrubbing:f,completeScrubbing:b}=r.actions.internal,y=r.ui.rotateAlpha,_=$e(void 0),w=$e(!1),x=$e(0),k=$e(0),$=$e(0),C=$e(0),S=ve((()=>c<=p)),T=ve((()=>Mu(a()))),A=ve((()=>di(S)?!di(T):di(T))),P=ve((()=>di(A)?114:65)),E=ve((()=>di(S)?114:65)),I=ve((()=>di(S)?"var(--preview-track-frame-height-horizontal)":"var(--preview-track-frame-height-vertical)")),L=ve((()=>d*di(P))),M=$e(0);nt((()=>{Se(C,Math.ceil(-di($)/di(P))-1),Se($,-di(L)*da(v,"$position$",i)/o())}));let V=()=>o()*-di($)/di(L)/o(),R=!1,B=e=>{di(w)&&(Se(w,!1),!R&&e&&Se($,-(e.offsetX-di(M)/2)),R=!1,b(V(),!0))},D=ve((()=>s/l)),N=(e,t)=>{if(e!==u.length-1)return l;let i=0,n=t*l;for(let t=1;t<=l;t++)e*s+i+n<d&&i++;return i},z=ve((()=>Math.floor(di(C)/s))),O=ve((()=>(0,g.ri)(3,di(z),u.length-1))),H=ve((()=>[`--row-numbers: ${di(D)}`,`--column-numbers: ${l}`,`--frame-width: ${di(E)}px`,`--frame-height: ${di(I)}`].join(";")));var F=up();let q;var U=Ge(F);U.__pointerdown=[lp,w,x,k,$,m,V],U.__pointermove=e=>{if(!di(w))return!1;let t=e.clientX-di(x);Se($,di(k)+t),Se($,Math.max(Math.min(di($),0),-di(L)),!0),Math.abs(t)>1&&(R=!0),f(V())},U.__pointerup=B,on(U,20,(()=>di(O)),(e=>e),((e,t)=>{var i=Ai();on(Xe(i),16,(()=>Array.from({length:di(D)},((e,t)=>t))),(e=>e),((e,i)=>{var n=Ai();on(Xe(n),16,(()=>Array.from({length:N(t,i)},((e,t)=>t))),(e=>e),((e,n)=>{var o=dp();rt(((e,t)=>{$n(o,e),xn(o,1,t,"s-2b")}),[()=>`--row-index: ${i}; --column-index: ${n}; left: ${((e,t,i)=>e*(s*di(P))+t*di(P)*l+di(M)/2-1.5+i*di(P))(t,i,n)}px; background-image: url(${u[t]});`,()=>"frame rotate-"+Math.abs(a())/90%4]),Pi(e,o)})),Pi(e,n)})),Pi(e,i)})),Fe(U),Fe(F),Zn(F,(e=>Se(_,e)),(()=>di(_))),rt((e=>{q=xn(F,1,"root s-2b",null,q,e),$n(F,di(H)),$n(U,`transform: translateX(${di($)}px); width: ${di(L)}px;`)}),[()=>({"is-vertical-video":!di(S),"vertically-rotated":di(T)})]),_i("mouseleave",U,(()=>{di(w)&&B()})),Gn(F,"clientWidth",(e=>Se(M,e))),Pi(e,F),ae(),n()}wi(["pointerdown","pointermove","pointerup"]);var hp=Ci('<div class="notification s-2c"><span class="description s-2c"> </span></div>'),vp={hash:"s-2c",code:".notification.s-2c{background:var(--notification-bg);border-radius:var(--notification-radius);padding:9px 14px 10px 12px}.description.s-2c{font-size:14px;line-height:18px}"};var gp=Ci('<div class="preview-track-close tooltip s-28"><!></div>'),mp=Ci('<div class="preview-track-control s-28"><!> <div class="preview-track-close s-28"><!></div> <!></div>'),fp=Ci('<div class="wrapper-preview-track s-28"><!></div>'),bp=Ci('<div class="enriched-timeline s-28"><!> <!> <!></div>'),yp={hash:"s-28",code:".enriched-timeline.s-28{padding:var(--timeline-padding-vertical-top) var(--timeline-padding-horizontal) var(--timeline-padding-vertical-bottom);pointer-events:auto;position:relative}.preview-track-control.s-28{align-items:center;display:flex;justify-content:center;left:0;padding:0 calc(var(--timeline-padding-horizontal));pointer-events:none;position:absolute;right:0;top:calc((var(--timeline-height) + var(--preview-track-controls-top))*-1)}.preview-track-close.s-28{pointer-events:auto;position:absolute;right:calc(var(--timeline-padding-horizontal))}.preview-track-close.tooltip.s-28{bottom:32px;opacity:0;transition:opacity .2s}.preview-track-close.s-28:hover+.tooltip:where(.s-28){opacity:1}.wrapper-preview-track.s-28{box-sizing:border-box;left:0;overflow:hidden;padding:0 calc(var(--timeline-padding-horizontal));position:absolute;right:0;z-index:-1}"};function _p(e,t){ne(t,!0),gn(e,yp);let[i,n]=ua(),a=()=>da(c,"$previewTrackActive",i),o=ma(t,"timelineRef",15,void 0),r=Oa(),{positionWithScrubbing$:s,isRewindableLive$:l,duration$:d}=r.state,{playerSize:u,previewTrackActive:c}=r.ui,{countPerImage:p=0,links:h=[],frequency:v=0}=r.actions.internal.getPreviewThumbsData()||{},m=ve((()=>da(u,"$playerSize",i).width>100)),f=$e(!function(){let e=g.RW.get(io);try{return!!e&&JSON.parse(e)}catch{return!1}}()),b=()=>{di(f)&&(g.RW.set(io,JSON.stringify(!0)),Se(f,!1))},y=e=>{let t=Math.floor(da(d,"$duration$",i)*e/v),n=Math.floor(t/p),a=(0,g.ri)(3,n,h.length-1);for(let e of a){(new Image).src=h[e]}};var _=bp(),w=Ge(_),x=e=>{var t=mp(),n=Ge(t);let a=ve((()=>$r(da(s,"$position$",i))));!function(e,t){gn(e,qc);var i=Fc(),n=Ge(i,!0);Fe(i),rt((()=>Hi(n,t.time))),Pi(e,i)}(n,{get time(){return di(a)}});var o=Ze(n,2);Qs(Ge(o),{onClick:()=>r.actions.internal.closePreviewTrack()}),Fe(o);var l=Ze(o,2),d=e=>{var t=gp();(function(e,t){ne(t,!1),gn(e,vp);let{ui:{t:i}}=Oa();Jn();var n=hp(),a=Ge(n),o=Ge(a,!0);Fe(a),Fe(n),rt((e=>Hi(o,e)),[()=>i("preview_track_close_tooltip")],ge),Qn(3,n,(()=>Hc),(()=>({duration:340}))),Pi(e,n),ae()})(Ge(t),{}),Fe(t),Pi(e,t)};Zi(l,(e=>{di(f)&&e(d)})),Fe(t),_i("mouseleave",o,b),Qn(3,t,(()=>Hc),(()=>({duration:200}))),Pi(e,t)};Zi(w,(e=>{a()&&e(x)}));var k=Ze(w,2);let $=ve((()=>!di(m)));sp(k,{get isHidden(){return di($)},get isAds(){return t.isAds},get canRewindLive(){return t.canRewindLive},get isRewindableLive(){return da(l,"$isRewindableLive$",i)},onSliderMove:(e,i)=>{y(i),!a()&&t.onTimelineMove(e)},get onSliderPointerDown(){return t.onTimelinePointerDown},get onSliderPointerUp(){return t.onTimelinePointerUp},get onSliderLeave(){return t.onTimelinePointerLeave},onSliderPointerEnter:y,get ref(){return o()},set ref(e){o(e)}});var C=Ze(k,2),S=e=>{var i=fp();pp(Ge(i),{}),Fe(i),rt((()=>$n(i,`height: ${t.animatedPreviewTrackHeight}px;`))),Pi(e,i)};Zi(C,(e=>{t.previewTrackAvailable&&e(S)})),Fe(_),rt((()=>$n(_,`transform: translateY(${t.animatedOffsetY}px);`))),Pi(e,_),ae(),n()}var wp=Ci('<div><!> <div class="controls s-12" data-testid="player_controls"><div class="controls-left s-12"><!> <!> <!></div> <div class="controls-right s-12"></div></div></div> <!>',1),xp={hash:"s-12",code:'.wrapper-bottom.s-12{bottom:0;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;left:0;pointer-events:none;position:absolute;transition:transform var(--controls-transition-duration) var(--controls-transition-fn);width:100%;will-change:transform;z-index:var(--controls-container-z-index)}.wrapper-bottom.s-12:before{background:var(--controls-gradient);content:"";height:var(--controls-gradient-height);position:absolute;width:100%}.wrapper-bottom.s-12>:where(.s-12){pointer-events:auto}.controls.s-12{align-items:center;box-sizing:border-box;display:flex;font-size:13px;height:var(--controls-height);justify-content:space-between;padding:0 var(--controls-desktop-padding-horizontal) 4px;white-space:nowrap;width:100%}.controls-left.s-12,.controls-right.s-12{align-content:center;display:flex}.controls-left.s-12{flex-grow:1;min-width:0;overflow:hidden}.controls-left.s-12 >:not(:first-child),.controls-right.s-12 >*{margin-left:var(--controls-desktop-item-margin-left)}.controls-hidden.s-12{transform:translateY(100%);visibility:visible}.wrapper-bottom.no-smooth.s-12{transition:none}'};function kp(e,t){ne(t,!0),gn(e,xp);let[i,n]=ua(),a=()=>da(Ee,"$disabledControls$",i),o=()=>da(ce,"$playbackState$",i),r=()=>da(ge,"$isEnded$",i),s=()=>da(Ue,"$currentGridType$",i),l=()=>da(me,"$isLive$",i),d=()=>da(Te,"$chromecastState$",i),u=()=>da(ye,"$isPictureInPictureActive",i),c=()=>da(_e,"$pictureInPictureType$",i),p=()=>da(ut,"$graphIsOpened$",i),h=()=>da(He,"$isFullscreen",i),m=()=>da(di(Zt),"$prevButton",i),f=()=>da(di(Jt),"$replayButton",i),b=()=>da(di(ei),"$playButton",i),y=()=>da(di(ti),"$nextButton",i),_=()=>da(di(ii),"$playPrevChapterButton",i),w=()=>da(di(ni),"$seekToInteractiveButton",i),x=()=>da(di(ai),"$interactiveGraphButton",i),k=()=>da(di(oi),"$liveButton",i),$=()=>da(di(ri),"$time",i),C=()=>da(di(si),"$episodes",i),S=()=>da(di(li),"$vkLogo",i),T=()=>da(di(ci),"$volume",i),A=()=>da(di(pi),"$subtitles",i),P=()=>da(di(hi),"$settings",i),E=()=>da(di(vi),"$context",i),I=()=>da(di(gi),"$fullscreen",i),L=()=>da(di(mi),"$chromecast",i),M=()=>da(We,"$additionalDesktopControlPanelRightButtons$",i),V=()=>da(Ji,"$previewTrackActive",i),R=()=>da(we,"$settingsMenuVisible",i),B=()=>da(ki,"$settingButtonRef$",i),D=()=>da(Ve,"$startedByKeyboard$",i),N=()=>da(Y,"$fakeIsPlaying$",i),z=()=>da(tn,"$previewTrackAvailable",i),O=()=>da(en,"$previewTrackDragInProgress",i),H=()=>da(ue,"$position$",i),F=()=>da(de,"$duration$",i),q=ma(t,"playerControlsWrapperRef",15,void 0),U=ma(t,"playerControlsRef",15,void 0),W=ma(t,"isAds",3,!1),Q=ma(t,"logoTargetUrl",3,""),j=ma(t,"isOneVideoPlaylist",3,!1),K=ma(t,"customFullscreenSupported",3,!0),{fakeIsPlaying$:Y}=Ha(),G=Oa(),X=Ha(),Z=_a(),J=G.actions.internal.toggleMuted,ee=G.actions.internal.togglePlay,te=G.actions.internal.pause,ie=G.actions.internal.toggleSubtitle,oe=G.actions.internal.checkFullscreenSupport,re=G.callbacks?.onAudioDoesNotExistHint,se=G.callbacks?.onAudioDisabledHint,de=G.state.duration$,ue=G.state.positionWithScrubbing$,ce=G.state.playbackState$,pe=G.state.isAudioAvailable$,he=G.state.isAudioDisabled,ge=G.state.isEnded$,me=G.state.isLive$,fe=G.state.isActiveLive$,be=G.state.isRewindableLive$,{isActive$:ye,type$:_e}=X.pictureInPicture$,we=G.ui.settingsMenu.visible$,xe=G.ui.settingsMenu.openedByBtnKeyboard$,ke=G.ui.controls,Ce=G.actions.internal.getVideoEpisodes(),Te=G.state.chromecastState$,Ae=G.state.availableSubtitlesList$,Pe=G.state.currentSubtitle$,Ee=ke.disabledControls$,Ie=G.ui.contextMenu.visible$,Le=G.ui.contextMenu.showContextMenuBtn$,Me=G.ui.contextMenu.openedByBtnKeyboard$,Ve=G.ui.startedByKeyboard$,Re=G.ui.controlBlocks,Be=G.ui.previewTrackNotificationVisible,De=G.ui.t,Ne=G.ads.duration,ze=G.ads.position,Oe=G.ads.playbackState,He=G.ui.isFullscreen,qe=G.ui.playerSize,Ue=G.ui.currentGridType$,We=G.ui.additionalDesktopControlPanelRightButtons$,Qe=G.ui.autoplayNextEnabled$,je=G.actions.internal.getVideoElement,Ke=G.actions.internal.replayInteractive,Ye=G.actions.internal.prevVideoClick,Je=G.actions.internal.nextVideoClick,et=G.state.isInteractive,tt=G.state.isInteractiveTime$,it=G.state.showInteractiveGraph,at=G.state.showSeekToInteractive,ot=G.state.showPlayPrevChapter,st=G.state.showInteractiveTimeIndicator,lt=G.state.playPrevChapterDisabledTooltip,dt=X.seekToInteractiveDisabledTooltip$,ut=X.graphIsOpened$,ct=Z.features.interactiveResponsiveUi,pt=ve((()=>a().has("EPISODE_BUTTON"))),ht=ve((()=>a().has("GRAPH_BUTTON"))),vt=ve((()=>a().has("SEEK_TO_INTERACTIVE_BUTTON"))),gt=ve((()=>a().has("PLAY_BUTTON"))),mt=ve((()=>a().has("REPLAY_BUTTON"))),ft=ve((()=>a().has("PLAY_PREV_CHAPTER_BUTTON"))),bt=()=>G.actions.internal.toggleChromecast(),yt=ve((()=>W()?"playing"===da(Oe,"$adPlaybackState",i):o()===v.wF.PLAYING)),_t=ve((()=>"off"!==da(Pe,"$currentSubtitle$",i).value)),wt=ve((()=>r()&&!W()||et)),xt=ve((()=>ct?di(wt)&&Nd(s(),"m"):di(wt))),kt=ve((()=>!r()||et||W())),$t=ve((()=>Nd(s(),"m"))),Ct=ve((()=>t.showNextPrevButtons&&Nd(s(),"m")&&!W()&&t.nextButtonActive)),St=ve((()=>t.showNextPrevButtons&&Nd(s(),"m")&&!W()&&t.prevButtonActive)),Tt=ve((()=>!W()&&!!l())),At=ve((()=>d()!==v.di.NOT_AVAILABLE&&!(u()&&1===c())&&Nd(s(),"m")&&!et)),Pt=ve((()=>t.showAutoplayNext&&!j()&&Nd(s(),"s"))),Et=ve((()=>da(Ae,"$availableSubtitlesList$",i).length>0&&Nd(s(),"m"))),It=ve((()=>da(Me,"$contextMenuOpenedByKeyboard$",i)||da(Le,"$showContextMenuBtn$",i))),Lt=ve((()=>Nd(s(),"s")&&!W())),Mt=ve((()=>!t.logoHidden&&!W())),Vt=ve((()=>Z.features.fullscreen&&oe()&&(t.logoHidden||Nd(s(),ct?"xs":"s"))&&!(u()&&1===c())&&(!et||K()))),Rt=ve((()=>(!l()||W())&&!(Z.features.interactiveHideTime&&et))),Bt=ve((()=>it&&Nd(s(),"m"))),Dt=ve((()=>ct?at&&Nd(s(),"s"):at)),Nt=ve((()=>ct?ot&&Nd(s(),"s"):ot)),zt=ve((()=>!W()&&!l()&&!!Ce?.length&&di($t)&&!di(pt))),Ot=ve((()=>!da(be,"$isRewindableLive$",i)||!!da(fe,"$isActiveLive$",i))),Ht=ve((()=>p()?De("tooltip_interactive_graph_on"):De("tooltip_interactive_graph_off"))),Ft=ve((()=>da(Ie,"$contextMenuVisible$",i)?De("tooltip_context_menu_close"):De("tooltip_context_menu_open"))),qt=ve((()=>{return e=di(Ot),t=o(),e?t&&t===v.wF.PAUSED?De("tooltip_play"):"":De("tooltip_live");var e,t})),Ut=ve((()=>"vk_video"===Z.logoType?De("tooltip_vk_video_logo"):De("tooltip_vk_logo"))),Wt=ve((()=>di(_t)?De("tooltip_subtitles_on"):De("tooltip_subtitles_off"))),Qt=ve((()=>h()?De("tooltip_fullscreen_on"):De("tooltip_fullscreen_off"))),jt=ve((()=>d()===v.di.CONNECTED?De("tooltip_chromecast_on"):De("tooltip_chromecast_off"))),Kt=ve((()=>da(Qe,"$autoplayNextEnabled",i)?De("tooltip_autoplay_on"):De("tooltip_autoplay_off"))),Yt=$e(0),Gt=le({}),Xt=le({}),Zt=ve((()=>ke.prevButton)),Jt=ve((()=>ke.replayButton)),ei=ve((()=>ke.playButton)),ti=ve((()=>ke.nextButton)),ii=ve((()=>ke.playPrevChapterButton)),ni=ve((()=>ke.seekToInteractiveButton)),ai=ve((()=>ke.interactiveGraphButton)),oi=ve((()=>ke.liveButton)),ri=ve((()=>ke.time)),si=ve((()=>ke.episodes)),li=ve((()=>ke.vkLogo)),ci=ve((()=>ke.volume)),pi=ve((()=>ke.subtitles)),hi=ve((()=>ke.settings)),vi=ve((()=>ke.context)),gi=ve((()=>ke.fullscreen)),mi=ve((()=>ke.chromecast)),fi=ve((()=>({prevButton:m()?m().right-m().left:0,replayButton:f()?f().right-f().left:0,playButton:b()?b().right-b().left:0,nextButton:y()?y().right-y().left:0,playPrevChapterButton:_()?_().right-_().left:0,seekToInteractiveButton:w()?w().right-w().left:0,interactiveGraphButton:x()?x().right-x().left:0,liveButton:k()?k().right-k().left:0,time:$()?$().right-$().left:0,episodes:C()?C().right-C().left:0,vkLogo:S()?S().right-S().left:0,volume:T()?T().right-T().left:0,subtitles:A()?A().right-A().left:0,settings:P()?P().right-P().left:0,context:E()?E().right-E().left:0,fullscreen:I()?I().right-I().left:0,chromecast:L()?L().right-L().left:0,additionalButtons:M().length?M().reduce((e=>[...e,40]),[]):[]}))),bi=$e(0);nt((()=>{(!di(bi)||di(bi)<di(fi).time)&&ui((()=>Se(bi,di(fi).time,!0)))}));let yi=$e(!1);nt((()=>{let e=0;di(zt)&&(e=Nd(s(),"xl")?di(fi).time:60);let t=di(fi).prevButton+di(fi).playButton+di(fi).nextButton+di(fi).seekToInteractiveButton+di(fi).interactiveGraphButton+di(fi).liveButton+di(bi)+e;Se(yi,di(Rt)&&di(Yt)>=t,!0)}));let _i=ve((()=>di(yi)&&Nd(s(),"m"))),wi=(0,g.eD)(Nu,260),xi=(0,g.eD)(zc,260);nt((()=>{da(qe,"$playerSize",i),da(tt,"$isInteractiveTime$",i),V(),wi(je(),ke,Gt,t.showControls),xi(je(),Re,Xt,t.showControls)})),nt((()=>{Xt.bottom=q()}));let ki=aa();function $i(){sl({isAudioDisabled:he,isAudioAvailable:da(pe,"$isAudioAvailable$",i),isAds:W(),audioIsNotExistHintCallback:re,audioDisabledHintCallback:se})&&J()}nt((()=>{R(),B()&&ui((()=>jr(B(),R(),xe)))})),nt((()=>{D(),ui((()=>zu(Ve,D(),undefined)))}));let Ci,Si=et?Ke:ee,Ti=ve((()=>null!==N())),Ei=ve((()=>di(Ti)?N():di(yt))),Ii=ve((()=>di(Ei)?De("tooltip_pause"):De("tooltip_play"))),Li=De("tooltip_episodes"),Mi=ve((()=>di(St)?{id:"prevButton",type:"desktop-control-panel-left",weight:ju,buttonComponent:oc,buttonComponentProps:{disabled:!t.prevButtonActive,type:"prev",click:Ye.bind(null,!0)},tooltipEnabled:!G.callbacks?.uiInfo?.onPrevButtonMouseEnter&&!G.callbacks?.uiInfo?.onPrevButtonMouseLeave,mouseEnter:()=>{G.callbacks?.uiInfo?.onPrevButtonMouseEnter?.(Ru(je(),Gt,"prevButton",t.showControls))},mouseLeave:()=>{G.callbacks?.uiInfo?.onPrevButtonMouseLeave?.(Ru(je(),Gt,"prevButton",t.showControls))},tooltipText:De("tooltip_previous"),disabled:!t.prevButtonActive}:void 0)),Vi=ve((()=>di(xt)?{id:"replayButton",type:"desktop-control-panel-left",weight:Ku,buttonComponent:cc,buttonComponentProps:{disabled:di(mt),click:Si},tooltipText:De("tooltip_restart"),disabled:di(mt)}:void 0)),Ri=ve((()=>di(kt)?{id:"playButton",type:"desktop-control-panel-left",weight:Yu,buttonComponent:mc,buttonComponentProps:{disabled:di(gt),isPlaying:di(yt),click:ee},tooltipText:di(Ii),disabled:di(gt)}:void 0)),Bi=ve((()=>di(Ct)?{id:"nextButton",type:"desktop-control-panel-left",weight:Gu,buttonComponent:oc,buttonComponentProps:{disabled:!t.nextButtonActive,type:"next",click:Je.bind(null,!0)},tooltipEnabled:!G.callbacks?.uiInfo?.onNextButtonMouseEnter&&!G.callbacks?.uiInfo?.onNextButtonMouseLeave,mouseEnter:()=>{G.callbacks?.uiInfo?.onNextButtonMouseEnter?.(Ru(je(),Gt,"nextButton",t.showControls))},mouseLeave:()=>{G.callbacks?.uiInfo?.onNextButtonMouseLeave?.(Ru(je(),Gt,"nextButton",t.showControls))},tooltipText:De("tooltip_next"),disabled:!t.nextButtonActive}:void 0)),Di=ve((()=>et&&di(Nt)?{id:"playPrevChapterButton",type:"desktop-control-panel-left",weight:Xu,buttonComponent:bc,buttonComponentProps:{disabled:di(ft),click:t.playPrevChapter},tooltipText:De("tooltip_interactive_go_back"),disabledTooltipContent:De(lt),disabled:di(ft)}:void 0)),Ni=ve((()=>et&&di(Dt)?{id:"seekToInteractiveButton",type:"desktop-control-panel-left",weight:Zu,buttonComponent:kc,buttonComponentProps:{disabled:di(vt),click:t.seekToInteractive},tooltipText:De("tooltip_interactive_seek"),disabled:di(vt),disabledTooltipContent:De(da(dt,"$seekToInteractiveDisabledTooltip$",i))}:void 0)),zi=ve((()=>et&&di(Bt)?{id:"interactiveGraphButton",type:"desktop-control-panel-left",weight:Ju,buttonComponent:Sc,buttonComponentProps:{disabled:di(ht),click:ut.toggle,graphIsOpened:p()},tooltipText:di(Ht)}:void 0)),Oi=ve((()=>di(Tt)?{id:"liveButton",type:"desktop-control-panel-left",weight:ec,buttonComponent:Tc,buttonComponentProps:{isLiveActive:di(Ot),ariaLabel:di(qt)},tooltipText:di(qt),disabled:di(Ot)&&o()===v.wF.PLAYING}:void 0)),Hi=ve((()=>[di(Mi),di(Vi),di(Ri),di(Bi),di(Di),di(Ni),di(zi),di(Oi)].filter((e=>!!e)).sort(ps))),Fi=ve((()=>di(Mt)?{id:"vkLogo",type:"desktop-control-panel-right",weight:Ic,buttonComponent:Xd,buttonComponentProps:{targetUrl:Q(),logoClickable:t.logoClickable,click:te},tooltipText:di(Ut),disabledTooltipContent:"",disabled:!t.logoClickable}:void 0)),qi=ve((()=>di(Pt)?{id:"autoplayNext",type:"desktop-control-panel-right",weight:Lc,buttonComponent:wc,tooltipText:di(Kt)}:void 0)),Ui=ve((()=>({id:"volume",type:"desktop-control-panel-right",weight:Mc,buttonComponent:qd,buttonComponentProps:{click:$i,isAds:W()}}))),Wi=ve((()=>di(Et)?{id:"subtitles",type:"desktop-control-panel-right",weight:Vc,buttonComponent:id,buttonComponentProps:{isSubtitlesEnabled:di(_t),click:ie},tooltipText:di(Wt)}:void 0)),Qi=ve((()=>di(Lt)?{id:"settings",type:"desktop-control-panel-right",weight:Rc,buttonComponent:Zl,buttonComponentProps:{ref$:ki},tooltipText:R()?void 0:De("tooltip_settings_off")}:void 0)),ji=ve((()=>Z.features.contextMenuButton?{id:"context",type:"desktop-control-panel-right",weight:Bc,buttonComponent:Hu,buttonComponentProps:{ariaLabel:De("aria_label_context_menu")},className:di(It)?"":"out-of-view",tooltipText:di(Ft)}:void 0)),Ki=ve((()=>di(Vt)?{id:"fullscreen",type:"desktop-control-panel-right",weight:Dc,buttonComponent:Qd,buttonComponentProps:{isFullscreen:h(),click:t.toggleFullscreen},tooltipText:di(Qt)}:void 0)),Gi=ve((()=>di(At)?{id:"chromecast",type:"desktop-control-panel-right",weight:Nc,buttonComponent:iu,buttonComponentProps:{state:d(),click:bt},tooltipText:di(jt)}:void 0)),Xi=ve((()=>[di(Fi),di(qi),di(Ui),di(Wi),di(Qi),di(ji),di(Ki),di(Gi),...M()].filter((e=>!!e)).sort(ps))),Ji=G.ui.previewTrackActive,en=G.ui.previewTrackDragInProgress,tn=G.ui.previewTrackAvailable,nn=G.ui.isPreviewTrackHorizontallyAligned,an=ve((()=>(({onPreviewTrackOpened:e,getTimelineRef:t,isHorizontal:i})=>{let n=ve((()=>i?65:114)),a=$e(!1),o=$e(0),r=$e(0),s=ve((()=>di(n)+10-40-4)),l=ve((()=>(0,g.GW)(di(o),[.2,1],[0,-di(s)]))),d=ve((()=>(0,g.GW)(di(o),[.2,1],[0,40]))),u=ve((()=>(0,g.GW)(di(o),[.2,1],[0,di(n)+10])));return{progressBarY:()=>di(l),controlsY:()=>di(d),calculatedHeight:()=>di(u),onPointerDown:e=>{Se(r,t()?.getBoundingClientRect().bottom||0,!0),Se(a,!0)},onPointerMove:e=>{if(!di(a))return;let t=Math.max(Math.min(e.clientY-di(r),0),-di(s));Se(o,Math.abs(t/di(s)),!0)},onPointerUp:()=>{Se(a,!1),Se(o,di(o)>=.5?1:0,!0),1===di(o)&&e()},closePreviewTrack:()=>{Se(o,0)}}})({onPreviewTrackOpened:G.actions.internal.previewTrackOpened,getTimelineRef:()=>Gt.timeline,isHorizontal:da(nn,"$isPreviewTrackHorizontallyAligned$",i)}))),rn=ve((()=>di(an).progressBarY)),sn=ve((()=>di(an).controlsY)),ln=ve((()=>di(an).onPointerDown)),dn=ve((()=>di(an).onPointerMove)),un=ve((()=>di(an).onPointerUp)),cn=ve((()=>di(an).calculatedHeight)),pn=ve((()=>di(an).closePreviewTrack));nt((()=>{V()?Be.set(!1):di(pn)()})),Yi((()=>()=>Ci&&clearTimeout(Ci)));let hn=e=>{V()||!z()||(di(ln)(e),Ci=setTimeout((()=>{G.actions.internal.previewTrackDragStarted()}),200))},vn=()=>{V()||di(un)(),Ci&&clearTimeout(Ci),O()&&G.actions.internal.previewTrackDragFinished()},mn=e=>{di(dn)(e),!V()&&z()&&!V()&&Be.set(!0)},fn=()=>{Be.set(!1)};var bn=wp(),yn=Xe(bn);let _n;var wn=Ge(yn),kn=e=>{let i=ve((()=>di(rn)())),n=ve((()=>di(cn)()));_p(e,{get animatedOffsetY(){return di(i)},get animatedPreviewTrackHeight(){return di(n)},get canRewindLive(){return t.canRewindLive},get isAds(){return W()},onTimelineMove:mn,onTimelinePointerDown:hn,onTimelinePointerUp:vn,onTimelinePointerLeave:fn,get previewTrackAvailable(){return z()},get timelineRef(){return Gt.timeline},set timelineRef(e){Gt.timeline=e}})};Zi(wn,(e=>{t.showControls&&e(kn)}));var Cn=Ze(wn,2),Sn=Ge(Cn),Tn=Ge(Sn);on(Tn,17,(()=>di(Hi)),(e=>e.id),((e,i)=>{Qu(e,{get buttonComponent(){return di(i).buttonComponent},get buttonComponentProps(){return di(i).buttonComponentProps},get tooltipText(){return di(i).tooltipText},get disabledTooltipContent(){return di(i).disabledTooltipContent},get disabled(){return di(i).disabled},get className(){return di(i).className},get tooltipEnabled(){return di(i).tooltipEnabled},get mouseEnter(){return di(i).mouseEnter},get mouseLeave(){return di(i).mouseLeave},get tooltipVisible(){return t.showControls},get ref(){return Gt[di(i).id]},set ref(e){Gt[di(i).id]=e}})}));var An=Ze(Tn,2),Pn=e=>{let n=ve((()=>!t.showControls)),a=ve((()=>W()?da(ze,"$adPosition",i):H())),o=ve((()=>W()?da(Ne,"$adDuration",i):F()));rd(e,{get isHidden(){return di(n)},isMobile:!1,get showDuration(){return di(_i)},get position(){return di(a)},get duration(){return di(o)},get ref(){return Gt.time},set ref(e){Gt.time=e}})};Zi(An,(e=>{di(Rt)&&e(Pn)}));var En=Ze(An,2);let In=ve((()=>!di(zt)));_d(En,{className:"w-max",get disabled(){return di(In)},get tooltipContent(){return Li},get tooltipVisible(){return t.showControls},get ref(){return Gt.episodes},set ref(e){Gt.episodes=e},children:(e,t)=>{var i=Ai(),n=Xe(i),a=e=>{uu(e,{get position(){return H()},get duration(){return F()},get timeCodes(){return Ce}})};Zi(n,(e=>{di(zt)&&e(a)})),Pi(e,i)},$$slots:{default:!0}}),Fe(Sn);var Ln=Ze(Sn,2);on(Ln,21,(()=>di(Xi)),(e=>e.id),((e,i)=>{var n=Ai(),a=Xe(n),o=e=>{Qu(e,{get buttonComponent(){return di(i).buttonComponent},get buttonComponentProps(){return di(i).buttonComponentProps},get tooltipText(){return di(i).tooltipText},get disabledTooltipContent(){return di(i).disabledTooltipContent},get disabled(){return di(i).disabled},get className(){return di(i).className},get tooltipVisible(){return t.showControls},get ref(){return Gt[di(i).id]},set ref(e){Gt[di(i).id]=e}})},r=e=>{let n=ve((()=>!!di(i).disabled));!function(e,t){ne(t,!0);let i=ma(t,"disabled",3,!1),n=ma(t,"onClick",3,g.lQ),a=ma(t,"ref",15),o=ve((()=>n()===g.lQ)),r=ve((()=>di(o)||i())),s=ve((()=>di(o)?"btn-full-opacity":""));_d(e,{get disabled(){return di(r)},get tooltipContent(){return t.tooltipText},get disabledTooltipContent(){return t.disabledTooltipContent},width:40,get disableMouseupTooltipShow(){return t.disableMouseupTooltipShow},get tooltipVisible(){return t.tooltipVisible},get ref(){return a()},set ref(e){a(e)},children:(e,i)=>{let a=ve((()=>t.testId??t.id));_l(e,{get className(){return di(s)},get ariaLabel(){return t.ariaLabel},get click(){return n()},get disabled(){return di(r)},get testId(){return di(a)},children:(e,i)=>{Ec(e,{get icon(){return t.icon}})},$$slots:{default:!0}})},$$slots:{default:!0}}),ae()}(e,{get id(){return di(i).id},get testId(){return di(i).testId},get icon(){return di(i).icon},get ariaLabel(){return di(i).ariaLabel},get tooltipText(){return di(i).tooltipText},get disabledTooltipContent(){return di(i).disabledTooltipContent},get disabled(){return di(n)},get onClick(){return di(i).onClick},get disableMouseupTooltipShow(){return di(i).disableMouseupTooltipShow},get tooltipVisible(){return t.showControls},get ref(){return Gt[di(i).id]},set ref(e){Gt[di(i).id]=e}})};Zi(a,(e=>{(e=>!!e.buttonComponent)(di(i))?e(o):e(r,!1)})),Pi(e,n)})),Fe(Ln),Fe(Cn),Zn(Cn,(e=>U(e)),(()=>U())),Fe(yn),Zn(yn,(e=>q(e)),(()=>q()));var Mn=Ze(yn,2),Vn=e=>{Wu(e,{get ref(){return Gt.interactiveTimeIndicator},set ref(e){Gt.interactiveTimeIndicator=e}})};Zi(Mn,(e=>{st&&e(Vn)})),rt(((e,t)=>{_n=xn(yn,1,"wrapper-bottom s-12",null,_n,e),$n(Cn,t),Cn.inert=V()}),[()=>({hidden:t.bottomHidden,"controls-hidden":!t.showControls,"no-smooth":t.bottomNoSmooth||O()}),()=>`transform: translateY(${di(sn)()}px);`]),Gn(Sn,"clientWidth",(e=>Se(Yt,e))),Pi(e,bn),ae(),n()}var $p=Ci('<div class="icon icon-error-stub s-20"><div class="inner s-20"></div></div>'),Cp=Ci('<img class="icon s-20" aria-hidden="true"/>'),Sp={hash:"s-20",code:".icon.s-20{height:24px!important;width:24px!important}.inner.s-20{background-color:var(--white);height:16px;width:16px}"};var Tp=Si('<path d="M8.7 8.1 5.3 4.72A1 1 0 0 1 6.72 3.3L20.7 17.29a1 1 0 0 1-1.41 1.41L16 15.41V20a1 1 0 0 1-1 1c-.64 0-1.26-.25-1.72-.7L7.79 15H5a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h2.77zm2.88-2.76 1.7-1.65A2.5 2.5 0 0 1 15 3a1 1 0 0 1 1 1v5.76z"></path>');function Ap(e,t){ne(t,!0);let i=ma(t,"muted",3,!1),n=ma(t,"click",3,g.lQ),a=ma(t,"ref",15,void 0),o=Oa().ui.t,r=ve((()=>i()?o("tooltip_volume"):o("tooltip_volume_muted"))),s=ve((()=>i()?"btn-mobile-muted":"btn-mobile-unmuted"));_l(e,{get testId(){return di(s)},get click(){return n()},get ariaLabel(){return di(r)},role:"button",get ref(){return a()},set ref(e){a(e)},children:(e,t)=>{var n=Ai(),a=Xe(n),o=e=>{!function(e){Eo(e,{testId:"muted-icon",children:(e,t)=>{Pi(e,Tp())},$$slots:{default:!0}})}(e)},r=e=>{ud(e,{get size(){return"24"}})};Zi(a,(e=>{i()?e(o):e(r,!1)})),Pi(e,n)},$$slots:{default:!0}}),ae()}var Pp=Si('<path d="M11.64 12.37 9.07 9.8h1.03a.9.9 0 1 0 0-1.8H6.9a.9.9 0 0 0-.9.9v3.2a.9.9 0 0 0 1.8 0v-1.02l2.53 2.52.13.14a.9.9 0 0 0 1.28-1.28z"></path>'),Ep=Si('<path d="m6.36 9.63 2.57 2.57H7.9a.9.9 0 1 0 0 1.8h3.2a.9.9 0 0 0 .9-.9V9.9a.9.9 0 0 0-1.8 0v1.02L7.67 8.4l-.13-.14a.9.9 0 0 0-1.28 1.28z"></path>'),Ip=Si('<path d="M7.66 4h6.68q1.2-.01 2 .04.83.06 1.53.38a4 4 0 0 1 1.7 1.7c.24.48.34.98.39 1.54q.05.8.04 2v1.44a.9.9 0 0 1-1.8 0V9.7c0-.85 0-1.44-.04-1.9-.03-.44-.1-.68-.19-.85a2 2 0 0 0-.92-.92 2 2 0 0 0-.85-.2c-.46-.03-1.04-.03-1.9-.03H7.7c-.85 0-1.44 0-1.9.04-.44.03-.68.1-.85.19a2 2 0 0 0-.92.92c-.09.17-.16.4-.2.85-.03.46-.03 1.05-.03 1.9v2.65c0 .85 0 1.44.04 1.9.03.44.1.68.19.85a2 2 0 0 0 .92.92c.17.08.4.15.85.19.46.03 1.04.04 1.9.04h2.4a.9.9 0 0 1 0 1.8H7.66q-1.2.01-2-.05a4 4 0 0 1-1.53-.38 4 4 0 0 1-1.7-1.7 4 4 0 0 1-.39-1.53q-.05-.8-.04-2V9.65q-.01-1.2.04-2c.05-.56.15-1.06.39-1.53a4 4 0 0 1 1.7-1.7c.47-.24.97-.34 1.53-.39q.8-.05 2-.04M13 16.8c0-.98 0-1.47.19-1.84a2 2 0 0 1 .77-.77c.37-.19.86-.19 1.84-.19h3.4c.98 0 1.47 0 1.85.19q.5.27.76.77c.19.37.19.86.19 1.84v.4c0 .98 0 1.47-.19 1.85a2 2 0 0 1-.77.76c-.37.19-.86.19-1.84.19h-3.4c-.98 0-1.47 0-1.85-.19a2 2 0 0 1-.76-.76c-.19-.38-.19-.87-.19-1.85z"></path><!>',1);function Lp(e,t){ne(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"isPictureInPictureActive",3,!1),a=ma(t,"click",3,g.lQ),o=Oo("menu_pip");_l(e,{testId:"btn-pip",get ariaLabel(){return o},get click(){return a()},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{!function(e,t){let i=ma(t,"isActive",3,!1),n=ve((()=>i()?"pip-icon--active":"pip-icon"));Eo(e,{get testId(){return di(n)},children:(e,t)=>{var n=Ip(),a=Ze(Xe(n)),o=e=>{Pi(e,Pp())},r=e=>{Pi(e,Ep())};Zi(a,(e=>{i()?e(o):e(r,!1)})),Pi(e,n)},$$slots:{default:!0}})}(e,{get isActive(){return n()}})},$$slots:{default:!0}}),ae()}var Mp=(e,t,i,n)=>{di(t)&&i.onDisabledPlayPrevChapterClick(di(n))},Vp=(e,t,i,n)=>{di(t)&&i.onDisabledSeekToInteractiveClick(di(n))},Rp=Ci("<div><!></div>"),Bp=Ci("<div><!></div>"),Dp=Ci("<div><!></div>"),Np=Ci("<!> <!> <!>",1),zp=Ci("<div></div> <div></div> <div><!> <!> <!> <!> <!> <!></div> <div><!> <!> <!> <!></div> <!>",1),Op=Ci('<div class="wrapper-middle s-11"><!></div>'),Hp=Ci("<div><!></div>  <!> <div><!></div>",1),Fp=Ci('<div aria-hidden="true">·</div> <!>',1),qp=Ci('<!> <!> <div><div><div class="controls mobile s-11" data-testid="bottom-controls"><div class="controls-group contain s-11"><!> <!> <!> <!></div> <div class="controls-group s-11"><!> <!> <!></div></div> <!></div></div> <!>',1),Up={hash:"s-11",code:".wrapper-bottom.s-11{background:var(--controls-gradient);bottom:0;box-sizing:border-box;display:flex;flex-direction:column;height:var(--controls-gradient-height);justify-content:flex-end;left:0;padding:0 4px 8px;pointer-events:none;position:absolute;transition:transform var(--controls-transition-duration) var(--controls-transition-fn);width:100%;z-index:var(--controls-container-z-index)}.wrapper-bottom.s-11>:where(.s-11){pointer-events:auto}.wrapper-bottom.ads-timeline-mobile.s-11{height:9px;padding:0 4px 4px}.wrapper-middle.s-11{align-items:center;left:50%;top:50%;transform:translate(-50%,-50%)}.wrapper-middle.s-11,.wrapper-top-right.s-11{display:flex;position:absolute;transition:opacity var(--controls-transition-duration);z-index:var(--controls-container-z-index)}.wrapper-top-right.s-11{right:8px;top:4px}.wrapper-top-left.s-11{left:8px;position:absolute;top:4px;z-index:var(--controls-container-z-index)}.wrapper-middle-left.s-11,.wrapper-middle-left-second.s-11,.wrapper-middle-right.s-11{align-items:center;background-color:rgba(0,0,0,.56);border-radius:12px;display:flex;height:44px;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);transition:opacity var(--controls-transition-duration);width:44px}.wrapper-middle-left.s-11{left:12px}.wrapper-middle-left-second.s-11{left:64px}.wrapper-middle-right.s-11{right:12px}.controls.s-11{align-items:center;box-sizing:border-box;font-size:13px;height:var(--controls-height);justify-content:space-between;padding:0 4px;transition:transform var(--controls-transition-duration) var(--controls-transition-fn);white-space:nowrap;width:100%;will-change:transform}.controls.s-11,.controls-group.s-11{display:flex}.controls-group.contain.s-11{min-width:0}.controls-group.s-11 >:not(:first-child){margin-left:8px}.hidden.s-11{opacity:0;visibility:hidden}.controls-hidden.s-11{transform:translateY(100%);visibility:visible}.wrapper-bottom.no-smooth.s-11{transition:none}.overlay-mobile.s-11{background-color:rgba(0,0,0,.3);height:100%;left:0;pointer-events:none;position:absolute;top:0;transition:opacity var(--controls-transition-duration);width:100%}@media screen and (orientation:portrait){.wrapper-top-left.fullscreen.s-11,.wrapper-top-right.fullscreen.s-11{top:16px}.controls-wrapper.fullscreen.s-11{bottom:30px;position:absolute;width:calc(100% - 8px)}}@media screen and (orientation:landscape){.wrapper-top-left.fullscreen.s-11{left:44px;top:12px}.wrapper-top-right.fullscreen.s-11{right:44px;top:12px}.wrapper-middle-left.fullscreen.s-11{left:44px}.wrapper-middle-left-second.fullscreen.s-11{left:96px}.wrapper-middle-right.fullscreen.s-11{right:44px}.controls-wrapper.fullscreen.s-11{bottom:32px;left:36px;position:absolute;right:36px;width:calc(100% - 72px)}}"};function Wp(e,t){ne(t,!0),gn(e,Up);let[i,n]=ua(),a=()=>da(Ae,"$disabledControls$",i),o=()=>da(G,"$playbackState$",i),r=()=>da(Me,"$adPlaybackState",i),s=()=>da(J,"$isEnded$",i),l=()=>da(Re,"$playerSize",i),d=()=>da(se,"$scrubbingInProgress",i),u=()=>da(Ce,"$chromecastState$",i),c=()=>da(ue,"$isPictureInPictureActive",i),p=()=>da(ce,"$pictureInPictureType$",i),h=()=>da(de,"$mobileNotReportControlHidden$",i),m=()=>da(Ee,"$currentGridType$",i),f=()=>da(ee,"$isLive$",i),b=()=>da(pe,"$settingsMenuVisible",i),y=()=>da(re,"$isRewindableLive$",i),_=()=>da(X,"$isAudioAvailable$",i),w=()=>da(ie,"$muted$",i),x=()=>da(zt,"$settingButtonRef$",i),k=()=>da(Ve,"$isFullscreen",i),$=()=>da(Be,"$additionalButtons$",i),C=()=>da(je,"$graphIsOpened$",i),S=()=>da(Le,"$adPosition",i),T=()=>da(Ie,"$adDuration",i),A=()=>da(Y,"$position$",i),P=()=>da(K,"$duration$",i),E=ma(t,"playerControlsWrapperRef",15,void 0),I=ma(t,"playerControlsRef",15,void 0),L=ma(t,"isAds",3,!1),M=ma(t,"logoTargetUrl",3,""),V=ma(t,"isOneVideoPlaylist",3,!1),R=ma(t,"customFullscreenSupported",3,!0),B=Oa(),D=Ha(),N=_a(),z=B.actions.internal.toggleMuted,O=B.actions.internal.togglePlay,H=B.actions.internal.pause,F=B.actions.internal.prevVideoClick,q=B.actions.internal.nextVideoClick,U=B.actions.internal.checkFullscreenSupport,W=B.callbacks?.onAudioDoesNotExistHint,Q=B.callbacks?.onAudioDisabledHint,j=B.playerPhase,K=B.state.duration$,Y=B.state.positionWithScrubbing$,G=B.state.playbackState$,X=B.state.isAudioAvailable$,Z=B.state.isAudioDisabled,J=B.state.isEnded$,ee=B.state.isLive$,te=B.state.volume$,ie=B.state.muted$,oe=B.state.isActiveLive$,re=B.state.isRewindableLive$,se=B.ui.scrubbingInProgress,de=B.ui.mobileNotReportControlHidden$,{isActive$:ue,type$:ce}=D.pictureInPicture$,pe=B.ui.settingsMenu.visible$,he=B.ui.settingsMenu.openedByBtnKeyboard$,ge=B.ui.controls,{volume:me,vkLogo:fe,autoplayNextToggle:be,pip:ye,settings:_e,chromecast:we}=B.ui.hiddenControls,xe=B.actions.internal.getVideoEpisodes(),ke=B.webApi.pictureInPictureApi,Ce=B.state.chromecastState$,Te=B.state.crashed$,Ae=ge.disabledControls$,Pe=B.ui.startedByKeyboard$,Ee=B.ui.currentGridType$,Ie=B.ads.duration,Le=B.ads.position,Me=B.ads.playbackState,Ve=B.ui.isFullscreen,Re=B.ui.playerSize,Be=B.ui.additionalButtonsDeprecated$,De=B.actions.internal.getVideoElement,Ne=B.actions.internal.replayInteractive,ze=B.state.isInteractive,Oe=B.state.isInteractiveTime$,He=B.state.showInteractiveGraph,qe=B.state.showSeekToInteractive,Ue=B.state.showPlayPrevChapter,We=B.state.showInteractiveTimeIndicator,Qe=D.seekToInteractiveDisabledTooltip$,je=D.graphIsOpened$,Ke=B.ui.controlBlocks,Ye=ve((()=>Oo(B.state.playPrevChapterDisabledTooltip))),Je=ve((()=>Oo(da(Qe,"$seekToInteractiveDisabledTooltip$",i)))),et=ve((()=>a().has("EPISODE_BUTTON"))),tt=ve((()=>a().has("GRAPH_BUTTON"))),it=ve((()=>a().has("SEEK_TO_INTERACTIVE_BUTTON"))),at=ve((()=>a().has("PLAY_BUTTON"))),ot=ve((()=>a().has("REPLAY_BUTTON"))),st=ve((()=>a().has("PLAY_PREV_CHAPTER_BUTTON"))),lt=ve((()=>o()===v.wF.PLAYING)),dt=ve((()=>"paused"===r())),ut=ve((()=>s()&&!L()&&!ze)),ct=ve((()=>!s()||L())),pt=ve((()=>t.showNextPrevButtons&&!L()&&t.prevButtonActive)),ht=ve((()=>t.showNextPrevButtons&&!L()&&t.nextButtonActive)),vt=ve((()=>l().width>300)),gt=ve((()=>l().width>400)),mt=ve(d),ft=ve((()=>!(u()===v.di.NOT_AVAILABLE||c()&&1===p()||h()||ze||da(we,"$chromecastHidden",i)))),bt=ve((()=>"LiveWaitingStart"===da(j,"$playerPhase",i))),yt=ve((()=>!!ke&&u()!==v.di.CONNECTED&&!h()&&(1===p()&&di(bt)||!di(bt))&&!di(mt)&&!ze&&!da(ye,"$pipHidden",i))),_t=$e(!1);Yi((()=>{let e=ke?.info.isActive$.subscribe((e=>Se(_t,e,!0)));return()=>e?.unsubscribe()}));let wt=ve((()=>!di(mt)&&Nd(m(),"s"))),xt=ve((()=>!t.logoHidden&&l().width>350&&!da(fe,"$vkLogoHidden",i))),kt=ve((()=>N.features.fullscreen&&U()&&!(c()&&1===p())&&(!ze||R())&&!di(mt)&&!di(_t))),$t=ve((()=>!da(me,"$volumeHidden",i)&&!di(mt))),Ct=ve((()=>(!f()||L())&&l().width>260&&!di(mt)&&!(N.features.interactiveHideTime&&ze))),St=ve((()=>b()||t.showControls)),Tt=ve((()=>!L()&&!f()&&!!xe?.length&&di(vt)&&!di(et)&&!di(mt))),At=ve((()=>!y()||!!da(oe,"$isActiveLive$",i))),Pt=ve((()=>He&&Nd(m(),"m"))),Et=ve((()=>!_()||w()||0===da(te,"$volume$",i))),It=le({}),Lt=le({}),Mt=(0,g.eD)(Nu,260),Vt=(0,g.eD)(zc,260);nt((()=>{l(),da(Oe,"$isInteractiveTime$",i),Mt(De(),ge,It,t.showControls),Vt(De(),Ke,Lt,t.showControls)}));let Rt=()=>B.actions.internal.toggleChromecast();async function Bt(){ke?.isActive()?await(ke?.exit()):await(ke?.request())}function Dt(){sl({isAudioDisabled:Z,audioDisabledHintCallback:Q,isAudioAvailable:_(),audioIsNotExistHintCallback:W,isAds:L()})&&z()}let Nt=$e("");nt((()=>{var e,t;e=di(At),t=o(),e?t&&t===v.wF.PAUSED&&Se(Nt,Oo("tooltip_play"),!0):Se(Nt,Oo("tooltip_live"),!0)}));let zt=aa();nt((()=>{x()&&jr(x(),b(),he)})),nt((()=>{zu(Pe,da(Pe,"$startedByKeyboard$",i),It.playButton)}));var Ot=qp(),Ht=Xe(Ot),Ft=e=>{var n=zp(),a=Xe(n);let o;var r=Ze(a,2);let s;Zn(r,(e=>Lt.topLeft=e),(()=>Lt?.topLeft));var l=Ze(r,2);let p;var v=Ge(l);on(v,1,$,(({iconUrl:e,ariaLabel:t,testId:i,onClick:n,tooltip:a})=>e),((e,t)=>{let i=ve((()=>di(t).ariaLabel??di(t).tooltip));!function(e,t){gn(e,Sp);let i=ma(t,"disabled",3,!1),n=ma(t,"onClick",3,g.lQ),a=ve((()=>n()===g.lQ)),o=ve((()=>di(a)||i())),r=$e(!1),s=()=>{Se(r,!0)},l=ve((()=>di(a)?"btn-full-opacity":""));_l(e,{get className(){return di(l)},get ariaLabel(){return t.ariaLabel},get click(){return n()},get disabled(){return di(o)},get testId(){return t.testId},children:(e,i)=>{var n=Ai(),a=Xe(n),o=e=>{Pi(e,$p())},l=e=>{var i=Cp();rt((()=>Ln(i,"src",t.iconUrl))),_i("error",i,s),bi(i),Pi(e,i)};Zi(a,(e=>{di(r)?e(o):e(l,!1)})),Pi(e,n)},$$slots:{default:!0}})}(e,{get iconUrl(){return di(t).iconUrl},get ariaLabel(){return di(i)},get testId(){return di(t).testId},get onClick(){return di(t).onClick}})}));var m=Ze(v,2),f=e=>{wc(e,{get ref(){return It.autoplayNextToggle},set ref(e){It.autoplayNextToggle=e}})};Zi(m,(e=>{t.showAutoplayNext&&!V()&&!da(be,"$autoplayNextToggleHidden",i)&&e(f)}));var b=Ze(m,2),y=e=>{iu(e,{isMobile:!0,click:Rt,get state(){return u()},get ref(){return It.chromecast},set ref(e){It.chromecast=e}})};Zi(b,(e=>{di(ft)&&e(y)}));var _=Ze(b,2),w=e=>{Lp(e,{click:Bt,get isPictureInPictureActive(){return c()},get ref(){return It.pip},set ref(e){It.pip=e}})};Zi(_,(e=>{di(yt)&&e(w)}));var x=Ze(_,2),S=e=>{Zl(e,{get ref$(){return zt}})};Zi(x,(e=>{da(Te,"$crashed$",i)&&!da(_e,"$settingsHidden",i)&&e(S)}));var T=Ze(x,2),A=e=>{Xd(e,{get click(){return H},get targetUrl(){return M()},get logoClickable(){return t.logoClickable},get ref(){return It.vkLogo},set ref(e){It.vkLogo=e}})};Zi(T,(e=>{di(xt)&&e(A)})),Fe(l),Zn(l,(e=>Lt.topRight=e),(()=>Lt?.topRight));var P=Ze(l,2);let E;var I=Ge(P),L=e=>{let t=ve((()=>F.bind(null,!0)));oc(e,{get click(){return di(t)},type:"prev",isMobile:!0,get ref(){return It.prevButton},set ref(e){It.prevButton=e}})};Zi(I,(e=>{di(pt)&&e(L)}));var R=Ze(I,2),B=e=>{mc(e,{get disabled(){return di(at)},get click(){return O},isMobile:!0,get isPlaying(){return di(lt)},get ref(){return It.playButton},set ref(e){It.playButton=e}})};Zi(R,(e=>{di(ct)&&e(B)}));var D=Ze(R,2),N=e=>{cc(e,{get disabled(){return di(ot)},get click(){return O},isMobile:!0,get ref(){return It.replayButton},set ref(e){It.replayButton=e}})};Zi(D,(e=>{di(ut)&&e(N)}));var z=Ze(D,2),U=e=>{let t=ve((()=>q.bind(null,!0)));oc(e,{get click(){return di(t)},type:"next",isMobile:!0,get ref(){return It.nextButton},set ref(e){It.nextButton=e}})};Zi(z,(e=>{di(ht)&&e(U)})),Fe(P),Zn(P,(e=>Lt.middle=e),(()=>Lt?.middle));var W=Ze(P,2),Q=e=>{var i=Np(),n=Xe(i),a=e=>{var i=Rp();let n;i.__click=[Mp,st,t,Ye];var a=Ge(i);let o=ve((()=>!t.showControls));bc(a,{get hidden(){return di(o)},get disabled(){return di(st)},get click(){return t.playPrevChapter},get ref(){return It.playPrevChapterButton},set ref(e){It.playPrevChapterButton=e}}),Fe(i),rt((e=>n=xn(i,1,"wrapper-middle-left s-11",null,n,e)),[()=>({fullscreen:k(),hidden:!t.showControls})]),Pi(e,i)};Zi(n,(e=>{Ue&&e(a)}));var o=Ze(n,2),r=e=>{var i=Bp();let n;var a=Ge(i);let o=ve((()=>!t.showControls&&!C()));Sc(a,{get hidden(){return di(o)},get disabled(){return di(tt)},get click(){return je.toggle},get graphIsOpened(){return C()},get ref(){return It.interactiveGraphButton},set ref(e){It.interactiveGraphButton=e}}),Fe(i),rt((e=>n=xn(i,1,bn(Ue?"wrapper-middle-left-second":"wrapper-middle-left"),"s-11",n,e)),[()=>({fullscreen:k(),hidden:!t.showControls&&!C()})]),Pi(e,i)};Zi(o,(e=>{di(Pt)&&e(r)}));var s=Ze(o,2),l=e=>{var i=Dp();let n;i.__click=[Vp,it,t,Je];var a=Ge(i);let o=ve((()=>!t.showControls));kc(a,{get hidden(){return di(o)},get disabled(){return di(it)},get click(){return t.seekToInteractive},get ref(){return It.seekToInteractiveButton},set ref(e){It.seekToInteractiveButton=e}}),Fe(i),rt((e=>n=xn(i,1,"wrapper-middle-right s-11",null,n,e)),[()=>({fullscreen:k(),hidden:!t.showControls})]),Pi(e,i)};Zi(s,(e=>{qe&&e(l)})),Pi(e,i)};Zi(W,(e=>{ze&&!d()&&e(Q)})),rt(((e,t,i,n)=>{o=xn(a,1,"overlay-mobile s-11",null,o,e),s=xn(r,1,"wrapper-top-left s-11",null,s,t),p=xn(l,1,"wrapper-top-right s-11",null,p,i),E=xn(P,1,"wrapper-middle s-11",null,E,n)}),[()=>({hidden:!di(St)}),()=>({hidden:!t.showControls,fullscreen:k()}),()=>({hidden:!t.showControls&&!h(),fullscreen:k()}),()=>({hidden:!t.showControls||d()||t.endScreenShown&&t.showNextPrevButtons})]),Pi(e,n)};Zi(Ht,(e=>{L()||e(Ft)}));var qt=Ze(Ht,2),Ut=e=>{var t=Hp(),i=Xe(t);let n;Ap(Ge(i),{get muted(){return w()},click:Dt,get ref(){return It.volume},set ref(e){It.volume=e}}),Fe(i);var a=Ze(i,2),o=e=>{var t=Op(),i=Ge(t);let n=ve((()=>!di(dt)));mc(i,{get disabled(){return di(at)},get click(){return O},isMobile:!0,get isPlaying(){return di(n)},get ref(){return It.playButton},set ref(e){It.playButton=e}}),Fe(t),Pi(e,t)};Zi(a,(e=>{di(dt)&&e(o)}));var r=Ze(a,2);let s;np(Ge(r),{get position(){return S()},get duration(){return T()}}),Fe(r),rt(((e,t)=>{n=xn(i,1,"wrapper-top-right s-11",null,n,e),s=xn(r,1,"wrapper-bottom ads-timeline-mobile s-11",null,s,t)}),[()=>({fullscreen:k()}),()=>({fullscreen:k()})]),Pi(e,t)};Zi(qt,(e=>{L()&&"inactive"!==r()&&e(Ut)}));var Wt=Ze(qt,2);let Qt;var jt=Ge(Wt);let Kt;var Yt=Ge(jt),Gt=Ge(Yt),Xt=Ge(Gt),Zt=e=>{_d(e,{get disabled(){return di(ot)},get ref(){return It.replayButton},set ref(e){It.replayButton=e},children:(e,t)=>{cc(e,{get disabled(){return di(ot)},get click(){return Ne}})},$$slots:{default:!0}})};Zi(Xt,(e=>{ze&&e(Zt)}));var Jt=Ze(Xt,2),ei=e=>{_d(e,{get ref(){return It.liveButton},set ref(e){It.liveButton=e},children:(e,t)=>{Tc(e,{get isLiveActive(){return di(At)},isMobile:!0,get ariaLabel(){return di(Nt)}})},$$slots:{default:!0}})};Zi(Jt,(e=>{!L()&&f()&&e(ei)}));var ti=Ze(Jt,2),ii=e=>{let i=ve((()=>L()?S():A())),n=ve((()=>L()?T():P())),a=ve((()=>!t.showControls));rd(e,{get showDuration(){return di(gt)},get position(){return di(i)},get duration(){return di(n)},isMobile:!0,get isHidden(){return di(a)},get ref(){return It.time},set ref(e){It.time=e}})};Zi(ti,(e=>{di(Ct)&&e(ii)}));var ni=Ze(ti,2);let ai=ve((()=>!di(Tt)));_d(ni,{className:"w-max",get disabled(){return di(ai)},get ref(){return It.episodes},set ref(e){It.episodes=e},children:(e,t)=>{var i=Ai(),n=Xe(i),a=e=>{var t=Fp();uu(Ze(Xe(t),2),{get position(){return A()},get duration(){return P()},get timeCodes(){return xe}}),Pi(e,t)};Zi(n,(e=>{di(Tt)&&e(a)})),Pi(e,i)},$$slots:{default:!0}}),Fe(Gt),Zn(Gt,(e=>Lt.bottomLeft=e),(()=>Lt?.bottomLeft));var oi=Ze(Gt,2),ri=Ge(oi),si=e=>{_d(e,{get ref(){return It.volume},set ref(e){It.volume=e},children:(e,t)=>{Ap(e,{get muted(){return di(Et)},click:Dt})},$$slots:{default:!0}})};Zi(ri,(e=>{di($t)&&e(si)}));var li=Ze(ri,2),ui=e=>{_d(e,{get ref(){return It.settings},set ref(e){It.settings=e},children:(e,t)=>{Zl(e,{get ref$(){return zt}})},$$slots:{default:!0}})};Zi(li,(e=>{di(wt)&&e(ui)}));var ci=Ze(li,2),pi=e=>{_d(e,{get ref(){return It.fullscreen},set ref(e){It.fullscreen=e},children:(e,i)=>{Qd(e,{get click(){return t.toggleFullscreen},get isFullscreen(){return k()}})},$$slots:{default:!0}})};Zi(ci,(e=>{di(kt)&&e(pi)})),Fe(oi),Zn(oi,(e=>Lt.bottomRight=e),(()=>Lt?.bottomRight)),Fe(Yt),Zn(Yt,(e=>I(e)),(()=>I()));var hi=Ze(Yt,2);let vi=ve((()=>!t.showControls));sp(hi,{get isHidden(){return di(vi)},get isAds(){return L()},get canRewindLive(){return t.canRewindLive},get isRewindableLive(){return y()},get ref(){return It.timeline},set ref(e){It.timeline=e}}),Fe(jt),Zn(jt,(e=>Lt.bottom=e),(()=>Lt?.bottom)),Fe(Wt),Zn(Wt,(e=>E(e)),(()=>E()));var gi=Ze(Wt,2),mi=e=>{Wu(e,{get ref(){return It.interactiveTimeIndicator},set ref(e){It.interactiveTimeIndicator=e}})};Zi(gi,(e=>{We&&e(mi)})),rt(((e,t)=>{Qt=xn(Wt,1,"wrapper-bottom mobile s-11",null,Qt,e),Kt=xn(jt,1,"controls-wrapper s-11",null,Kt,t)}),[()=>({hidden:t.bottomHidden,"controls-hidden":!t.showControls,"no-smooth":t.bottomNoSmooth}),()=>({fullscreen:k()})]),Pi(e,Ot),ae(),n()}function Qp(e,t){ne(t,!0);let[i,n]=ua(),a=ma(t,"bottomNoSmooth",3,!1),o=ma(t,"playerControlsWrapperRef",15,void 0),r=ma(t,"playerControlsRef",15,void 0),s=ma(t,"isAds",3,!1),l=ma(t,"logoTargetUrl",3,""),d=ma(t,"showAutoplayNext",3,!1),u=ma(t,"isOneVideoPlaylist",3,!1),c=ma(t,"customFullscreenSupported",3,!0),p=ma(t,"endScreenShown",3,!1),h=ma(t,"onDisabledPlayPrevChapterClick",3,g.lQ),v=ma(t,"onDisabledSeekToInteractiveClick",3,g.lQ),m=Oa().ui.isMobile,f=$e(!1);Yi((()=>{let e=setTimeout((()=>Se(f,!0)),0);return()=>clearTimeout(e)}));var b=Ai(),y=Xe(b),_=e=>{var n=Ai(),g=Xe(n),f=e=>{Wp(e,{get bottomHidden(){return t.bottomHidden},get bottomNoSmooth(){return a()},get showControls(){return t.showControls},get isAds(){return s()},get canRewindLive(){return t.canRewindLive},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return l()},get showAutoplayNext(){return d()},get showNextPrevButtons(){return t.showNextPrevButtons},get nextButtonActive(){return t.nextButtonActive},get prevButtonActive(){return t.prevButtonActive},get isOneVideoPlaylist(){return u()},get customFullscreenSupported(){return c()},get endScreenShown(){return p()},get toggleFullscreen(){return t.toggleFullscreen},get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},get onDisabledPlayPrevChapterClick(){return h()},get onDisabledSeekToInteractiveClick(){return v()},get playerControlsWrapperRef(){return o()},set playerControlsWrapperRef(e){o(e)},get playerControlsRef(){return r()},set playerControlsRef(e){r(e)}})},b=e=>{kp(e,{get bottomHidden(){return t.bottomHidden},get bottomNoSmooth(){return a()},get showControls(){return t.showControls},get isAds(){return s()},get canRewindLive(){return t.canRewindLive},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return l()},get isOneVideoPlaylist(){return u()},get showAutoplayNext(){return d()},get showNextPrevButtons(){return t.showNextPrevButtons},get nextButtonActive(){return t.nextButtonActive},get prevButtonActive(){return t.prevButtonActive},get customFullscreenSupported(){return c()},get toggleFullscreen(){return t.toggleFullscreen},get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},get playerControlsWrapperRef(){return o()},set playerControlsWrapperRef(e){o(e)},get playerControlsRef(){return r()},set playerControlsRef(e){r(e)}})};Zi(g,(e=>{da(m,"$isMobile",i)?e(f):e(b,!1)})),Pi(e,n)};Zi(y,(e=>{di(f)&&e(_)})),Pi(e,b),ae(),n()}wi(["click"]);var jp=Si('<path d="M23.75 31.2v-5.45l-11.84 6.7a1.45 1.45 180 01-2.16-1.25v-14.4a1.45 1.45 180 012.16-1.26l11.84 6.7v-5.44a1.45 1.45 180 012.16-1.26l12.7 7.19a1.45 1.45 180 010 2.52l-12.7 7.2a1.45 1.45 180 01-2.16-1.27Z"></path>');function Kp(e,t){ne(t,!0);let i=ve((()=>t.reversed?"transform:scaleX(-1);transform-origin:50% 0;":"")),n=ve((()=>`${js(t.size)}${di(i)}`));Eo(e,{get width(){return"48"},get height(){return"48"},get fill(){return t.fill},get style(){return di(n)},get testId(){return t.testId},get shadow(){return t.shadow},children:(e,t)=>{Pi(e,jp())},$$slots:{default:!0}}),ae()}var Yp=Si('<path d="M32.46 9.53a1.16 1.16 90 010 1.96l-7.66 4.83c-.78.49-1.8-.07-1.8-.98v-3.3a14 14 90 1014.1 18.93 1.5 1.5 90 012.8 1.06 17 17 90 11-16.9-23V5.66c0-.91 1.03-1.47 1.8-.98z"></path>');var Gp=Ci('<span class="hot-key-helpers-text s-1e"> </span>'),Xp=Ci('<div data-testid="hotkey-helper-icon" class="s-1e"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!>',1),Zp=Ci("<div><!></div>"),Jp={hash:"s-1e",code:'.hot-key-helpers-container.s-1e{align-items:center;animation:s-1e-fadeIn ease var(--controls-transition-duration);box-sizing:border-box;display:flex;flex-direction:column;height:120px;left:calc(50% - 100px);padding-top:14px;position:absolute;top:calc(50% - 40px);width:200px;z-index:var(--hot-key-helpers-container-z-index)}.hot-key-helpers-container--left.s-1e{left:calc(25% - 100px)}.hot-key-helpers-container--right.s-1e{left:calc(75% - 100px)}.hot-key-helpers-text.s-1e{display:-webkit-box;font-feature-settings:"clig" off,"liga" off;font-size:15px;font-style:normal;font-weight:600;letter-spacing:-.105px;-webkit-line-clamp:2;line-height:20px;margin-top:4px;max-height:40px;overflow:hidden;text-align:center;text-overflow:ellipsis;text-shadow:0 0 5px rgba(0,0,0,.16);white-space:pre-wrap;width:100%;-webkit-box-orient:vertical}.hidden.s-1e{animation:s-1e-fadeOut ease var(--controls-transition-duration);height:0;visibility:hidden;width:0}@keyframes s-1e-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes s-1e-fadeOut{0%{opacity:1}to{opacity:0}}'};function eh(e,t){ne(t,!0),gn(e,Jp);let[i,n]=ua(),a=()=>da(t.data,"$data",i),o=Oa(),{features:r}=_a(),s=o.ui.t,l=ve((()=>!a())),d=ve((()=>"BACKWARD_SEEK"===a()?.type)),u=ve((()=>"FORWARD_SEEK"===a()?.type)),c=ve((()=>a()?.type)),p=ve((()=>a()?.t?s(a().t.key,{value:a().t.value||""}):a()?.text));var h=Zp();let v;var g=Ge(h),m=e=>{var t=Xp(),i=Xe(t),n=Ge(i),a=e=>{let t=ve((()=>"BACKWARD_SEEK"===di(c)));!function(e,t){ne(t,!0);let i=ma(t,"reversed",3,!1),n=ve((()=>i()?"transform:scaleX(-1);transform-origin: 50% 0;":void 0)),a=ve((()=>"seek-icon-"+(i()?"backward":"forward")));Eo(e,{get width(){return"48"},get height(){return"48"},get style(){return di(n)},get testId(){return di(a)},get shadow(){return t.shadow},children:(e,t)=>{Pi(e,Yp())},$$slots:{default:!0}}),ae()}(e,{get reversed(){return di(t)},shadow:!0})};Zi(n,(e=>{["BACKWARD_SEEK","FORWARD_SEEK"].includes(di(c))&&e(a)}));var o=Ze(n,2),s=e=>{hc(e,{get size(){return"48"},shadow:!0})};Zi(o,(e=>{"PAUSE"===di(c)&&!r.playbackStatusShow&&e(s)}));var l=Ze(o,2),d=e=>{Ys(e,{get size(){return"48"},shadow:!0})};Zi(l,(e=>{"PLAY"===di(c)&&!r.playbackStatusShow&&e(d)}));var u=Ze(l,2),h=e=>{sc(e,{get size(){return"48"},shadow:!0})};Zi(u,(e=>{"REPLAY"===di(c)&&!r.playbackStatusShow&&e(h)}));var v=Ze(u,2),g=e=>{td(e,{get size(){return"48"},type:"off",shadow:!0})};Zi(v,(e=>{"SUBTITLES_OFF"===di(c)&&e(g)}));var m=Ze(v,2),f=e=>{td(e,{get size(){return"48"},shadow:!0})};Zi(m,(e=>{"SUBTITLES_ON"===di(c)&&e(f)}));var b=Ze(m,2),y=e=>{let t=ve((()=>"RATE_DOWN"===di(c)));Kp(e,{get size(){return"48"},get reversed(){return di(t)},testId:"rate-change-icon",shadow:!0})};Zi(b,(e=>{["RATE_DOWN","RATE_UP"].includes(di(c))&&e(y)}));var _=Ze(b,2),w=e=>{let t=ve((()=>"EPISODE_PREV"===di(c)));ic(e,{get size(){return"48"},get reversed(){return di(t)},shadow:!0})};Zi(_,(e=>{["EPISODE_PREV","EPISODE_NEXT"].includes(di(c))&&e(w)}));var x=Ze(_,2),k=e=>{ud(e,{get size(){return"48"},volume:0,shadow:!0})};Zi(x,(e=>{"MUTE"===di(c)&&e(k)}));var $=Ze(x,2),C=e=>{ud(e,{get size(){return"48"},volume:1,shadow:!0})};Zi($,(e=>{"VOLUME"===di(c)&&e(C)})),Fe(i);var S=Ze(i,2),T=e=>{var t=Gp(),i=Ge(t,!0);Fe(t),rt((()=>Hi(i,di(p)))),Pi(e,t)};Zi(S,(e=>{di(p)&&e(T)})),rt((()=>Ln(i,"data-type",di(c)))),Pi(e,t)};Zi(g,(e=>{!di(l)&&di(c)&&e(m)})),Fe(h),rt((e=>v=xn(h,1,"hot-key-helpers-container s-1e",null,v,e)),[()=>({hidden:di(l),"hot-key-helpers-container--left":di(d),"hot-key-helpers-container--right":di(u)})]),Pi(e,h),ae(),n()}var th=(e,t,i,n,a,o)=>{if(t.has(e.code))switch(e.preventDefault(),e.stopPropagation(),e.code){case"ArrowUp":i();break;case"ArrowDown":n();break;case"ArrowLeft":a();break;case"ArrowRight":o()}},ih=(e,t,i)=>{t.has(e.code)&&(e.preventDefault(),e.stopPropagation(),i())},nh=Ci('<div tabindex="0" role="button"><div class="button-block s-j" aria-hidden="true"><div class="button-row s-j"><div class="button button-up s-j"><!></div> <div class="button button-right s-j"><!></div></div> <div class="button-row s-j"><div class="button button-left s-j"><!></div> <div class="button button-down s-j"><!></div></div></div></div>'),ah={hash:"s-j",code:".immersive-controls.s-j{background-color:rgba(0,0,0,.56);border-radius:8px;display:flex;flex-direction:row;height:56px;left:10px;position:absolute;top:10px;transition-duration:var(--controls-transition-duration);transition-property:top,left;transition-timing-function:var(--controls-transition-fn);width:56px}.immersive-controls.m-shifted.s-j{left:20px;top:50px}.button-block.s-j{height:40px;margin:auto;transform:rotate(45deg);width:40px}.button-row.s-j{display:flex;flex-direction:row;position:relative}.button.s-j{cursor:pointer;height:20px;text-align:center;width:20px}.button.s-j svg{opacity:.7;transition:opacity .2s linear}.button.button-up.s-j svg{transform:rotate(-45deg) translate(-1px,-1px)}.button.button-right.s-j svg{transform:rotate(45deg) translate(1px,-1px)}.button.button-down.s-j svg{transform:rotate(135deg) translate(1px,-3px)}.button.button-left.s-j svg{transform:rotate(-135deg) translate(-1px,-3px)}.button.s-j:hover svg{opacity:1}"};function oh(e,t){ne(t,!0),gn(e,ah);let i=ma(t,"isShifted",3,!1),n=Oa(),a=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]),o=()=>{n.actions.internal.startCameraManualRotation(0,1)},r=()=>{n.actions.internal.startCameraManualRotation(0,-1)},s=()=>{n.actions.internal.startCameraManualRotation(1,0)},l=()=>{n.actions.internal.startCameraManualRotation(-1,0)},d=()=>(n.actions.internal.stopCameraManualRotation(),null),u=Oo("aria_label_spherical_control");var c=nh();let p;c.__keydown=[th,a,o,r,l,s],c.__keyup=[ih,a,d];var h=Ge(c),v=Ge(h),g=Ge(v);g.__mousedown=o,g.__mouseup=d,pr(Ge(g),{direction:"up",useBtnColor:!0}),Fe(g);var m=Ze(g,2);m.__mousedown=s,m.__mouseup=d,pr(Ge(m),{direction:"up",useBtnColor:!0}),Fe(m),Fe(v);var f=Ze(v,2),b=Ge(f);b.__mousedown=l,b.__mouseup=d,pr(Ge(b),{direction:"up",useBtnColor:!0}),Fe(b);var y=Ze(b,2);y.__mousedown=r,y.__mouseup=d,pr(Ge(y),{direction:"up",useBtnColor:!0}),Fe(y),Fe(f),Fe(h),Fe(c),rt((e=>{p=xn(c,1,"immersive-controls s-j",null,p,e),Ln(c,"aria-label",u)}),[()=>({"m-shifted":i()})]),_i("mouseleave",g,d),_i("mouseleave",m,d),_i("mouseleave",b,d),_i("mouseleave",y,d),Pi(e,c),ae()}wi(["keydown","keyup","mousedown","mouseup"]);var rh=class{subscribe(){return this.subscriptions.add(this.captions$.pipe((0,g.pb)((()=>this.isEnabled())),(0,g.jX)()).subscribe((e=>{this.processCaptions(e)}))),this}setIsAuto(e){this.isAuto=e}setIsLive(e){this.isLive=e}setCaptions(e){this.captions$.next(e)}destroy(){this.subscriptions.unsubscribe(),this.flickeringTimeout.clear()}isEnabled(){return this.isAuto&&!this.isLive}processCaptions(e){if(!e.length)return void this.flickeringTimeout.add((()=>{this.captionsPrepared$.next([])}));this.flickeringTimeout.clear();let t=[],i=e.length>1&&"timestamp"!==e[0].type&&"timestamp"!==e[1].type;i&&t.push([{value:String(e[0].value),timeAppeared:null}]),t.push(e.reduce(((e,{type:t,value:n},a)=>(i&&!a||("timestamp"===t?e.push({timeAppeared:Number(n),value:""}):0===e.length?e.push({value:String(n)}):e[e.length-1].value=String(n)),e)),[])),this.captionsPrepared$.next(t)}constructor(){this.flickeringTimeout=((e=1e3)=>{let t=null,i=()=>{t&&(clearTimeout(t),t=null)};return{add:n=>{i(),t=setTimeout(n,e)},clear:i}})(1e3),this.subscriptions=new g.yU,this.isAuto=!1,this.isLive=!1,this.captions$=new g.Ot([]),this.captionsPrepared$=new g.Ot([])}},sh=Ci('<span class="caption-line s-b"><span class="caption-segment s-b"> </span></span>'),lh=Ci('<span class="caption-line s-b"><span class="caption-segment s-b"></span></span>'),dh=Ci('<span class="caption-line s-b"><span class="caption-segment s-b"> </span></span>'),uh=Ci('<div><span class="caption s-b"><!></span></div>'),ch=Ci("<div><!></div>"),ph={hash:"s-b",code:".subtitles-container.s-b{height:100%;left:0;pointer-events:none;position:absolute;top:0;transition:transform var(--controls-transition-duration);width:100%}.subtitles-container.shifted.s-b{transform:translateY(calc(var(--controls-height)*-1))}.subtitles-container.preview-track-active.s-b{transform:translateY(calc(var(--preview-track-height)*-1))}.preview-track-active.s-b .subtitles-caption:where(.s-b){bottom:var(--preview-track-controls-top-offset)}.subtitles-caption.s-b{bottom:4%;display:flex;justify-content:center;left:4%;position:absolute;right:4%}.subtitles-caption.mobile.s-b{bottom:8%}.subtitles-container.auto.s-b .subtitles-caption:where(.s-b){left:var(--subtitles-caption-margin);right:var(--subtitles-caption-margin)}.caption.s-b{background:rgba(0,0,0,.4);border-radius:4px;display:block;overflow-wrap:normal;padding:4px 8px}.subtitles-container.auto.s-b .caption:where(.s-b){width:100%}.caption-line.s-b{display:block;text-align:center}.subtitles-container.auto.s-b .caption-line:where(.s-b){text-align:left}.caption-segment.s-b{color:var(--white);display:inline-block;font-size:13px;line-height:1.2;white-space:pre-wrap}"};function hh(e,t){ne(t,!0),gn(e,ph);let[i,n]=ua(),a=()=>da(d,"$isAutoSubtitleCaptionVisible$",i),o=ma(t,"isMobile",3,!1),r=Oa(),s=_a(),l=r.state.currentSubtitle$,d=r.state.isAutoSubtitleCaptionVisible$,u=r.state.isLive$,c=r.ui.isFullscreen,p=r.ui.previewTrackActive,h=ve((()=>!!da(l,"$currentSubtitle$",i).isAuto)),v=ve((()=>!!da(u,"$isLive$",i))),g=ve((()=>.02*t.playerSize.width)),m=ve((()=>o()&&!da(c,"$isFullscreen",i)||di(g)<=s.minSubtitlesFontSize?s.minSubtitlesFontSize:di(g))),f=$e(null);nt((()=>{di(f)?.setIsAuto(di(h)),di(f)?.setIsLive(di(v)),di(f)?.setCaptions(t.captions)}));let b=$e(le([[]]));Yi((()=>{Se(f,(new rh).subscribe(),!0);let e=di(f).captionsPrepared$.subscribe((e=>{Se(b,e,!0)}));return()=>{di(f)?.destroy(),e.unsubscribe()}})),Yi((()=>{if(di(h)){let e=window.setTimeout((()=>{d.set(!1)}),s.autoSubtitlesTimeout);return()=>{window.clearTimeout(e)}}d.set(!1)}));let y=ve((()=>t.playerSize.width<400?10:t.playerSize.width<550?14:24));var _=ch();let w;var x=Ge(_),k=e=>{var i=uh();let n;var r=Ge(i),s=Ge(r),l=e=>{var t=sh(),i=Ge(t),n=Ge(i,!0);Fe(i),Fe(t),rt((e=>{$n(i,`font-size: ${di(m)??""}px`),Hi(n,e)}),[()=>Oo("subtitles_auto_caption")]),Pi(e,t)},d=(e,i)=>{var n=e=>{var i=Ai();on(Xe(i),17,(()=>di(b)),an,((e,i)=>{var n=lh(),a=Ge(n);on(a,21,(()=>di(i)),(({value:e,timeAppeared:t})=>t),((e,i)=>{let n=()=>di(i).timeAppeared;var a=Ai(),o=Xe(a),r=e=>{var t=Ti();rt((()=>Hi(t,di(i).value))),Pi(e,t)};Zi(o,(e=>{(!n()||n()<=t.position)&&e(r)})),Pi(e,a)})),Fe(a),Fe(n),rt((()=>$n(a,`font-size: ${di(m)??""}px`))),Pi(e,n)})),Pi(e,i)},a=e=>{var i=Ai();on(Xe(i),17,(()=>t.captions),(({value:e})=>e),((e,t)=>{var i=dh(),n=Ge(i),a=Ge(n,!0);Fe(n),Fe(i),rt((()=>{$n(n,`font-size: ${di(m)??""}px`),Hi(a,di(t).value)})),Pi(e,i)})),Pi(e,i)};Zi(e,(e=>{di(h)&&di(b)?.length?e(n):e(a,!1)}),i)};Zi(s,(e=>{di(h)&&a()?e(l):e(d,!1)})),Fe(r),Fe(i),rt((e=>{n=xn(i,1,"subtitles-caption s-b",null,n,e),$n(i,`--subtitles-caption-margin: ${di(y)??""}%`)}),[()=>({mobile:o()})]),Pi(e,i)};Zi(x,(e=>{(t.captions.length||di(b)?.length)&&e(k)})),Fe(_),rt((e=>w=xn(_,1,"subtitles-container s-b",null,w,e)),[()=>({shifted:t.shifted,"preview-track-active":da(p,"$previewTrackActive",i),auto:di(h)&&!di(v)&&!a()})]),Pi(e,_),ae(),n()}var vh=Ci('<div class="text s-o"> </div>'),gh=Ci('<div><div class="icon_wrapper s-o"><!></div> <!></div>'),mh={hash:"s-o",code:".wrapper.s-o{align-items:center;background-position:50%;background-repeat:no-repeat;background-size:contain;display:flex;flex-direction:column;font-size:16px;height:100%;justify-content:center}.wrapper.bgCover.s-o{background-size:cover}.icon_wrapper.s-o{align-items:center;display:flex;flex-direction:column;width:400px}.text.s-o{margin-top:20px}"};function fh(e,t){ne(t,!0),gn(e,mh);let i=ma(t,"chromecastDeviceName",3,"chromecastDeviceName"),n=_a();var a=gh();let o;a.__contextmenu=function(...e){t.onContextMenu?.apply(this,e)},a.__click=function(...e){t.onClick?.apply(this,e)},a.__dblclick=function(...e){t.onDblClick?.apply(this,e)};var r=Ge(a);tu(Ge(r),{get size(){return"48"},get iconState(){return v.di.CONNECTED}}),Fe(r);var s=Ze(r,2),l=e=>{var t=vh(),n=Ge(t);Fe(t),rt((()=>Hi(n,`Видео воспроизводится на ${i()??""}`))),Pi(e,t)};Zi(s,(e=>{i()&&e(l)})),Fe(a),rt((e=>{o=xn(a,1,"wrapper s-o",null,o,e),$n(a,`background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('${t.thumbUrl||""}')`)}),[()=>({bgCover:n.features.previewNoEmptySpace})]),Pi(e,a),ae()}wi(["contextmenu","click","dblclick"]);var bh=Si('<path d="M460 194a4 4 0 0 1 4-4h122a4 4 0 0 1 4 4v82a4 4 0 0 1-4 4H464a4 4 0 0 1-4-4zm6 3a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm112-72a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm0 12a1 1 0 0 1 .99-1h4.02a1 1 0 0 1 .99 1v4a1 1 0 0 1-.99 1h-4.02a1 1 0 0 1-.99-1zm-71-37a6 6 0 1 0 0-12 6 6 0 0 0 0 12m36 0a6 6 0 1 0 0-12 6 6 0 0 0 0 12m-18.05 15c6.05 0 11.62 4.45 11.94 4.65 2.11 1.35 3.26.77 3.96.16s1.15-2.81-1.04-4.66c-1.74-1.48-5.8-5.16-14.86-5.15s-12.95 3.5-14.8 5.18c-1.83 1.69-2.28 3.5-.96 4.66s2.31 1.16 4.35-.33c0 .01 5.36-4.51 11.41-4.51"></path>');var yh=Ci('<div class="container s-5"><!></div>'),_h={hash:"s-5",code:".container.s-5{align-items:center;background:#000;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}"};function wh(e){gn(e,_h);var t=yh();(function(e){Eo(e,{width:"200",height:"200",viewBox:"460 190 130 90",testId:"error-icon",children:(e,t)=>{Pi(e,bh())},$$slots:{default:!0}})})(Ge(t)),Fe(t),Pi(e,t)}var xh=Ci('<div class="playButton s-a" tabindex="0" role="button"><div class="playButtonBackground s-a"></div> <!></div>'),kh=Ci('<div data-testid="unstarted-thumb"><!></div>'),$h={hash:"s-a",code:".container.s-a{background-position:50%;background-repeat:no-repeat;background-size:contain;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;transition:opacity .2s,visibility .2s;will-change:opacity}.container.hidden.s-a{opacity:0;visibility:hidden}.container.bgCover.s-a{background-size:cover}.playButton.s-a{align-items:center;display:flex;height:var(--big-play-size);justify-content:center;margin:auto;width:var(--big-play-size)}.playButton.s-a,.playButtonBackground.s-a{bottom:0;left:0;position:absolute;right:0;top:0}.playButtonBackground.s-a{background-color:var(--big-play-bg-color);border-radius:var(--big-play-radius);transition:background .2s,transform .2s;transition-timing-function:ease-out;will-change:background,transform}.container.s-a:hover .playButtonBackground:where(.s-a){background-color:var(--big-play-hover-bg-color);transform:scale(1.15)}.playButton.s-a svg{position:relative}"};function Ch(e,t){ne(t,!0),gn(e,$h);let i=ma(t,"iconVisible",3,!0),n=Oa(),a=_a(),o=n.ui.startedByKeyboard$,r=Oo("tooltip_play"),s=e=>{let i=e.code;["Enter","Space"].includes(i)&&(e.stopPropagation(),e.preventDefault(),o.set(!0),t.startVideo?.())},l=e=>{e.stopPropagation(),t.startVideo?.(),t.onClick?.(e)};var d=kh();let u;d.__click=l,d.__contextmenu=function(...e){t.onContextMenu?.apply(this,e)};var c=Ge(d),p=e=>{var t=xh();t.__keydown=s,Ys(Ze(Ge(t),2),{get size(){return"48"}}),Fe(t),rt((()=>Ln(t,"aria-label",r))),Pi(e,t)};return Zi(c,(e=>{i()&&e(p)})),Fe(d),rt((e=>{u=xn(d,1,"container s-a",null,u,e),$n(d,`background-color: #222; background-image: url('${t.thumbUrl||""}')`)}),[()=>({hidden:t.hidden,bgCover:a.features.previewNoEmptySpace})]),Pi(e,d),ae({handlePressKey:s,handleClick:l})}wi(["click","contextmenu","keydown"]);var Sh=Ci('<span class="text s-1h"> </span>'),Th=(e,t)=>t.onTitleClicked?.(),Ah=Ci('<a target="_blank" class="link s-1h"><!></a>'),Ph=Ci('<div data-testid="video_title"><!></div>'),Eh={hash:"s-1h",code:".title.s-1h{background:linear-gradient(0deg,transparent,rgba(0,0,0,.02) 19%,rgba(0,0,0,.1) 34%,rgba(0,0,0,.4) 60%,rgba(0,0,0,.6));box-sizing:border-box;font-size:15px;height:var(--controls-gradient-height);left:0;overflow:hidden;padding:18px 20px 10px;pointer-events:none;position:absolute;text-overflow:ellipsis;top:0;transition-duration:var(--controls-transition-duration);transition-property:visibility,transform,opacity;transition-timing-function:var(--controls-transition-fn);white-space:nowrap;width:100%;will-change:transform,opacity;z-index:var(--controls-container-z-index)}.link.s-1h,.title.s-1h{color:var(--white)}.link.s-1h{pointer-events:auto;text-decoration:none}.link.s-1h:hover{text-decoration:underline}.text.s-1h{pointer-events:auto}.size-sm.s-1h{font-size:14px;font-weight:500;line-height:18px}.hidden.s-1h{opacity:0;transform:translateY(calc(var(--controls-gradient-height)*-1));visibility:hidden}"};wi(["click"]);var Ih=Ci('<div class="timer__cell cell s-y"><span class="cell__value s-y"> </span> <span class="cell__unit s-y"> </span></div> <span class="timer__points s-y"> </span>',1),Lh=Ci('<div class="timer__cell cell s-y"><span class="cell__value s-y"> </span> <span class="cell__unit s-y"> </span></div> <span class="timer__points s-y"> </span>',1),Mh=Ci('<div class="timer__cell cell s-y"><span class="cell__value s-y"> </span> <span class="cell__unit s-y"> </span></div> <span class="timer__points s-y"> </span>',1),Vh=Ci('<div class="timer__cell cell s-y"><span class="cell__value s-y"> </span> <span class="cell__unit s-y"> </span></div>'),Rh=Ci("<div><!> <!> <!> <!></div>"),Bh={hash:"s-y",code:".timer__container.s-y{align-items:flex-start;display:flex;justify-content:center}.cell.s-y{align-items:center;display:flex;flex-direction:column}.cell__value.s-y{font-size:48px;font-weight:600;line-height:1.2}.small.s-y .cell__value:where(.s-y){font-size:24px}.cell__unit.s-y{font-size:14px;font-weight:400;line-height:1.2}.small.s-y .cell__unit:where(.s-y){font-size:12px}.timer__points.s-y{display:inline-block;font-size:42px;font-weight:600;line-height:1.2;margin:0 8px}.small.s-y .timer__points:where(.s-y){font-size:20px}"};function Dh(e,t){ne(t,!0),gn(e,Bh);let i,n=$e(""),a=$e(""),o=$e(""),r=$e(""),s=e=>String(e).padStart(2,"0"),l=e=>(t.isSmallSize?16:32)*(e=>Math.max(e.length,1))(e)+"px",d=()=>{let e=Math.floor(Date.now()/1e3),l=t.startTime-e;(e=>{let t=Math.floor(e/86400);t&&(e-=86400*t,Se(n,s(t),!0));let i=Math.floor(e/3600);Se(a,s(i),!0);let l=Math.floor(e/60)%60;Se(o,s(l),!0),Se(r,s(e%60),!0)})(l),l>=1?i=requestAnimationFrame(d):t.onTimerOver()};Yi((()=>{i=requestAnimationFrame(d)})),Gi((()=>{cancelAnimationFrame(i)}));var u=Rh();let c;var p=Ge(u),h=e=>{var t=Ih(),i=Xe(t);let a;var o=Ge(i),r=Ge(o,!0);Fe(o);var s=Ze(o,2),d=Ge(s,!0);Fe(s),Fe(i);var u=Ze(i,2),c=Ge(u,!0);Fe(u),rt(((e,t,o)=>{a=$n(i,"",a,{width:e}),Hi(r,di(n)),Hi(d,t),Hi(c,o)}),[()=>l(di(n)),()=>Oo("waiting_live_day_value"),()=>Oo("waiting_live_colon")]),Pi(e,t)};Zi(p,(e=>{di(n)&&e(h)}));var v=Ze(p,2),g=e=>{var t=Lh(),i=Xe(t);let n;var o=Ge(i),r=Ge(o,!0);Fe(o);var s=Ze(o,2),d=Ge(s,!0);Fe(s),Fe(i);var u=Ze(i,2),c=Ge(u,!0);Fe(u),rt(((e,t,o)=>{n=$n(i,"",n,{width:e}),Hi(r,di(a)),Hi(d,t),Hi(c,o)}),[()=>l(di(a)),()=>Oo("waiting_live_hour_value"),()=>Oo("waiting_live_colon")]),Pi(e,t)};Zi(v,(e=>{di(a)&&e(g)}));var m=Ze(v,2),f=e=>{var t=Mh(),i=Xe(t);let n;var a=Ge(i),r=Ge(a,!0);Fe(a);var s=Ze(a,2),d=Ge(s,!0);Fe(s),Fe(i);var u=Ze(i,2),c=Ge(u,!0);Fe(u),rt(((e,t,a)=>{n=$n(i,"",n,{width:e}),Hi(r,di(o)),Hi(d,t),Hi(c,a)}),[()=>l(di(o)),()=>Oo("waiting_live_minute_value"),()=>Oo("waiting_live_colon")]),Pi(e,t)};Zi(m,(e=>{di(o)&&e(f)}));var b=Ze(m,2),y=e=>{var t=Vh();let i;var n=Ge(t),a=Ge(n,!0);Fe(n);var o=Ze(n,2),s=Ge(o,!0);Fe(o),Fe(t),rt(((e,n)=>{i=$n(t,"",i,{width:e}),Hi(a,di(r)),Hi(s,n)}),[()=>l(di(r)),()=>Oo("waiting_live_second_value")]),Pi(e,t)};Zi(b,(e=>{di(r)&&e(y)})),Fe(u),rt((e=>c=xn(u,1,"timer__container s-y",null,c,e)),[()=>({small:t.isSmallSize})]),Pi(e,u),ae()}var Nh=Ci('<div class="waiting s-r"><span> </span></div>'),zh=Ci('<div class="upcoming-timer timer s-r"><span> </span> <!></div>'),Oh=Ci('<div class="waiting-container s-r"><!></div>'),Hh={hash:"s-r",code:'.waiting-container.s-r{background-color:var(--black);background-position:50%;background-repeat:no-repeat;background-size:cover;white-space:nowrap}.waiting-container.s-r,.waiting-container.s-r:before{height:100%;left:0;position:absolute;top:0;width:100%}.waiting-container.s-r:before{backdrop-filter:blur(15px);background-color:rgba(0,0,0,.56);content:"";z-index:1}.waiting.s-r{align-items:center;display:flex;flex-direction:column;justify-content:center;left:0;position:absolute;top:50%;transform:translateY(-50%);width:100%;z-index:2}.waiting__title.s-r{font-size:20px;font-weight:600;line-height:1.2}.upcoming-timer.s-r{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:2}.timer.s-r{align-items:center;display:flex;flex-direction:column;justify-content:center}.timer__title.s-r{display:inline-block;font-size:20px;font-weight:600;line-height:1.2;margin-bottom:12px;vertical-align:middle}.small.s-r{font-size:15px}.medium.s-r{font-size:17px}'};function Fh(e,t){ne(t,!0),gn(e,Hh);let i=ma(t,"startTime",3,0),n=ve((()=>i()<Math.floor(Date.now()/1e3))),a=$e(void 0),o=$e(void 0),r=0,s=$e(void 0),l=$e(void 0),d=ve((()=>(di(s)??1/0)<=509||(di(l)??1/0)<=320)),u=ve((()=>!di(d)&&((di(s)??1/0)<=699||(di(l)??1/0)<=599))),c=t.onUpcomingLiveViewStateChanged?(0,g.rj)((()=>{cancelAnimationFrame(r),r=requestAnimationFrame((()=>{let e={type:di(n)?"expired":"default",size:di(d)?"s":di(u)?"m":"l"},i=di(n)?di(a):di(o);t.onUpcomingLiveViewStateChanged(e,i)}))}),300):void 0;nt((()=>{di(l),di(s),di(n),c?.()})),Gi((()=>{if(cancelAnimationFrame(r),c?.cancel(),t.onUpcomingLiveViewStateChanged){let e={type:di(n)?"expired":"default",size:di(d)?"s":di(u)?"m":"l"};t.onUpcomingLiveViewStateChanged(e)}}));var p=Oh();p.__contextmenu=function(...e){t.onContextMenu?.apply(this,e)},p.__click=function(...e){t.onClick?.apply(this,e)};var h=Ge(p),v=e=>{var t=Nh(),i=Ge(t);let n;var o=Ge(i,!0);Fe(i),Fe(t),Zn(t,(e=>Se(a,e)),(()=>di(a))),rt(((e,t)=>{n=xn(i,1,"waiting__title s-r",null,n,e),Hi(o,t)}),[()=>({medium:di(u),small:di(d)}),()=>Oo("waiting_live_upcoming_title")]),Pi(e,t)},m=e=>{var t=zh(),a=Ge(t);let r;var s=Ge(a,!0);Fe(a);var l=Ze(a,2);let c=ve((()=>di(d)||di(u))),p=ve((()=>i()||0));Dh(l,{get isSmallSize(){return di(c)},get startTime(){return di(p)},onTimerOver:()=>Se(n,!0)}),Fe(t),Zn(t,(e=>Se(o,e)),(()=>di(o))),rt(((e,t)=>{r=xn(a,1,"timer__title s-r",null,r,e),Hi(s,t)}),[()=>({medium:di(u),small:di(d)}),()=>Oo("waiting_live_timer_title")]),Pi(e,t)};Zi(h,(e=>{di(n)?e(v):e(m,!1)})),Fe(p),rt((()=>$n(p,`background-image: url(${t.thumbUrl})`))),Gn(p,"clientWidth",(e=>Se(s,e))),Gn(p,"clientHeight",(e=>Se(l,e))),Pi(e,p),ae()}wi(["contextmenu","click"]);var qh=Ci('<div class="waiting-container s-p"><div class="waiting-caption s-p"><!> <p class="waiting-title s-p"> </p></div></div>'),Uh={hash:"s-p",code:'.waiting-container.s-p{align-items:center;background-color:var(--black);background-position:50%;background-repeat:no-repeat;background-size:cover;display:flex;justify-content:center}.waiting-container.s-p,.waiting-container.s-p:before{height:100%;left:0;position:absolute;top:0;width:100%}.waiting-container.s-p:before{backdrop-filter:blur(10px);background-color:rgba(0,0,0,.4);content:""}.waiting-caption.s-p{align-items:center;display:flex;flex-direction:column;position:relative}.waiting-title.s-p{font-size:20px;font-weight:400;line-height:1.2;margin:0;padding:20px;text-align:center}'};function Wh(e,t){ne(t,!0),gn(e,Uh);let i=ma(t,"thumbUrl",3,""),n={recover:Oo("waiting_live_recover_title"),record:Oo("waiting_record_title")},a=ve((()=>n[t.kind]||""));var o=qh();o.__contextmenu=function(...e){t.onContextMenu?.apply(this,e)},o.__click=function(...e){t.onClick?.apply(this,e)};var r=Ge(o),s=Ge(r);gl(s,{style:"position: static; transform: translate(0, 0)"});var l=Ze(s,2),d=Ge(l,!0);Fe(l),Fe(r),Fe(o),rt((()=>{$n(o,`background-image: url('${i()}')`),Hi(d,di(a))})),Pi(e,o),ae()}wi(["contextmenu","click"]);var Qh=Si('<path d="M6 10.2 3.5 7.7a.99.99 0 0 0-1.4 1.4l3.2 3.2a1 1 0 0 0 1.4 0l7.6-7.6a.99.99 0 0 0-1.4-1.4z"></path>');var jh=Ci('<div class="select-icon s-1w"><!></div>'),Kh={hash:"s-1w",code:".select-icon.s-1w{margin-right:auto;opacity:.9;padding-right:12px;position:relative;top:3px}"};function Yh(e){gn(e,Kh);var t=jh();(function(e){Eo(e,{width:"16",height:"16",testId:"check-mark-icon",children:(e,t)=>{Pi(e,Qh())},$$slots:{default:!0}})})(Ge(t)),Fe(t),Pi(e,t)}var Gh=(e,t)=>{e.stopPropagation(),t.item.selectItem(t.item.value)},Xh=(e,t)=>{Xr(e,(()=>t.item.selectItem(t.item.value)))},Zh=Ci("<p> </p>"),Jh=Ci('<p class="sublabel s-1q"> </p>'),ev=Ci('<li role="menuitem" tabindex="0"><!> <div><!> <!></div></li>'),tv={hash:"s-1q",code:".menu-item-value.s-1q{align-items:end;display:flex;flex-direction:column;min-width:0}.menu-item-value[data-selected=false].s-1q{--select-icon-width:16px;--icon-padding:12px;margin-left:calc(var(--icon-padding) + var(--select-icon-width))}.label.s-1q,.sublabel.s-1q{max-width:100%;overflow:hidden;text-overflow:ellipsis}.sublabel.s-1q{opacity:.5}"};wi(["click","keydown"]);var iv=Ci('<li role="menuitem" tabindex="0" aria-haspopup="true"><!> <div><!></div></li>');wi(["click","keydown"]);var nv=100,av=200,ov=300,rv=400,sv=500,lv=600,dv=700,uv=800,cv=900,pv=1e3,hv=(e,t)=>{(async(e,t,i)=>{if(Wr(e),(e=>"ArrowLeft"===e.code)(e))return Hr(e),void t();qr(e)&&(Hr(e),i())})(e,t.returnFromSubMenu,t.closeSettingsMenu)},vv=(e,t)=>{e.stopPropagation(),t.returnFromSubMenu()},gv=(e,t)=>{Ur(e)&&(Hr(e),t.returnFromSubMenu())},mv=Ci('<div><ul role="menu"><li role="menuitem" tabindex="0" data-testid="return-to-settings-menu"><!> <p class="title s-19"> </p></li> <!></ul></div>'),fv={hash:"s-19",code:".sub-menu.s-19{--item-padding-vertical-mobile:16px;--item-padding-vertical:7px;--item-label-line-height:18px;--edge-item-padding-vertical-mobile:calc(6px + var(--item-padding-vertical-mobile));--edge-item-padding-vertical:calc(8px + var(--item-padding-vertical))}.sub-menu.s-19 .item.mobile{font-size:14px;line-height:var(--item-label-line-height);padding:var(--item-padding-vertical-mobile) 17px}.sub-menu.s-19{padding-top:calc(var(--edge-item-padding-vertical) + var(--item-padding-vertical) + var(--item-label-line-height))}.sub-menu.mobile.s-19{padding-top:calc(var(--edge-item-padding-vertical-mobile) + var(--item-padding-vertical-mobile) + var(--item-label-line-height) + 1px)}.sub-menu.s-19 .items:where(.s-19) .item.header:where(.s-19){border-bottom:var(--divider-border);display:flex;justify-content:space-between;left:0;min-width:max-content;position:absolute;right:0;top:0}.header.s-19 .title:where(.s-19){margin-left:8px}.sub-menu.s-19 .item{padding:var(--item-padding-vertical) 12px;padding-right:22px}.items.s-19 .item:first-child:not(.mobile){padding-top:var(--edge-item-padding-vertical)}.items.s-19 .item:last-child:not(.mobile){padding-bottom:var(--edge-item-padding-vertical)}.items.s-19 .item.mobile:first-child{padding-top:var(--edge-item-padding-vertical-mobile)}.items.s-19 .item.mobile:last-child{padding-bottom:var(--edge-item-padding-vertical-mobile)}.sub-menu.s-19 .item.bottomBordered{border-bottom:var(--divider-border)}.sub-menu.s-19 .item .sublabel{font-size:12px;line-height:14px}.item.s-19:not(.mobile) p:where(.s-19),.sub-menu.s-19 .item:not(.mobile) .label{font-size:13px;line-height:var(--item-label-line-height)}"};function bv(e,t){ne(t,!0),gn(e,fv);let[i,n]=ua(),a=()=>da(c,"$playerSize",i),o=ma(t,"isMobile",3,!1),r=ma(t,"playerControlsHeight",3,0),s=ma(t,"ariaLabelReturnFromSubMenu",19,(()=>Oo("aria_label_submenu_back"))),l=ma(t,"listRef",15);Yi((()=>{let e=t.items.findIndex((e=>e.selected));l().children[e+1].focus()}));let d=Oa(),u=d.ui.isFullscreen,c=d.ui.playerSize,p=$e(void 0),h=$e(0),v=$e(0),g=ve((()=>o()&&da(u,"$isFullscreen",i)?`max-height: ${Math.round(.6*a().height)}px`:o()?"":`max-height: ${a().height-32-di(v)-r()}px; overflow: auto;`)),m=ve((()=>Math.max(t.minWidth,di(h))));var f=mv();let b;var y=Ge(f);let _;y.__keydown=[hv,t];var w=Ge(y);let x;w.__click=[vv,t],w.__keydown=[gv,t];var k=Ge(w);pr(k,{direction:"left"});var $=Ze(k,2),C=Ge($,!0);Fe($),Fe(w),Zn(w,(e=>Se(p,e)),(()=>di(p))),on(Ze(w,2),17,(()=>t.items),an,((e,i)=>{var n=Ai(),a=Xe(n),r=e=>{!function(e,t){ne(t,!0),gn(e,tv);let i=ma(t,"isMobile",3,!1);var n=ev();let a;n.__click=[Gh,t],n.__keydown=[Xh,t];var o=Ge(n),r=e=>{Yh(e)};Zi(o,(e=>{t.item.selected&&e(r)}));var s=Ze(o,2);let l;var d=Ge(s),u=e=>{var i=Ai();pn(Xe(i),(()=>t.item.valueComponent),((e,i)=>{i(e,va((()=>t.item.valueComponentParams??{})))})),Pi(e,i)},c=e=>{var n=Zh();let a;var o=Ge(n,!0);Fe(n),rt((e=>{a=xn(n,1,"label s-1q",null,a,e),Hi(o,t.item.label??t.item.value)}),[()=>({mobile:i()})]),Pi(e,n)};Zi(d,(e=>{t.item.valueComponent?e(u):e(c,!1)}));var p=Ze(d,2),h=e=>{var i=Jh(),n=Ge(i,!0);Fe(i),rt((()=>Hi(n,t.item.sublabel))),Pi(e,i)};Zi(p,(e=>{t.item.sublabel&&e(h)})),Fe(s),Fe(n),rt(((e,i,o)=>{a=xn(n,1,"item",null,a,e),Ln(n,"data-value",t.item.dataValue??t.item.value),Ln(n,"aria-label",i),Ln(n,"data-testid",t.item.dataTestid),l=xn(s,1,"menu-item-value s-1q",null,l,o),Ln(s,"data-selected",t.item.selected)}),[()=>({mobile:i()}),()=>t.item.ariaLabel??t.item.label??t.item.value.toString(),()=>({"submenu-value-mobile":i()})]),Pi(e,n),ae()}(e,{get item(){return di(i)},get isMobile(){return o()}})},s=(e,n)=>{var a=e=>{!function(e,t){ne(t,!0);let i=ma(t,"isMobile",3,!1),n=ma(t,"refMenuItems",15),a=ve((()=>()=>t.openSubMenuList(t.item.children))),o=ve((()=>e=>Gr(e,di(a))));var r=iv();let s;r.__click=function(...e){di(a)?.apply(this,e)},r.__keydown=function(...e){di(o)?.apply(this,e)};var l=Ge(r),d=e=>{Yh(e)};Zi(l,(e=>{t.item.selected&&e(d)}));var u=Ze(l,2);let c;var p=Ge(u),h=e=>{var i=Ai();let n=ve((()=>t.item.valueComponent));pn(Xe(i),(()=>di(n)),((e,i)=>{i(e,va((()=>t.item.valueComponentParams??{})))})),Pi(e,i)},v=e=>{var i=Ti();rt((()=>Hi(i,t.item.label))),Pi(e,i)};Zi(p,(e=>{t.item.valueComponent?e(h):e(v,!1)})),Fe(u),Fe(r),Zn(r,(e=>n(n()[t.item.id]=e,!0)),(()=>n()?.[t.item.id])),rt(((e,i)=>{s=xn(r,1,"item",null,s,e),Ln(r,"aria-label",t.item.ariaLabel??t.item.label),Ln(r,"data-testid",t.item.id),c=xn(u,1,"menu-item-value",null,c,i)}),[()=>({mobile:i(),bottomBordered:t.item.bottomBordered}),()=>({"submenu-value-mobile":i()})]),Pi(e,r),ae()}(e,{get isMobile(){return o()},get item(){return di(i)},get openSubMenuList(){return t.openSubMenuList},get refMenuItems(){return t.refMenuItems}})};Zi(e,(e=>{"OPEN_SUB_MENU"===di(i).type&&e(a)}),n)};Zi(a,(e=>{"SELECT_VALUE"===di(i).type?e(r):e(s,!1)})),Pi(e,n)})),Fe(y),Zn(y,(e=>l(e)),(()=>l())),Fe(f),rt(((e,i,n)=>{b=xn(f,1,"sub-menu menu s-19",null,b,e),Ln(f,"data-testid",`${t.id}-sub-menu`),$n(f,`min-width: ${di(m)}px`),_=xn(y,1,"items s-19",null,_,i),$n(y,di(g)),x=xn(w,1,"item header back s-19",null,x,n),Ln(w,"aria-label",s()),Hi(C,t.title)}),[()=>({desktop:!o(),mobile:o()}),()=>({mobile:o()}),()=>({mobile:o()})]),Gn(w,"clientWidth",(e=>Se(h,e))),Gn(w,"clientHeight",(e=>Se(v,e))),Pi(e,f),ae(),n()}wi(["keydown","click"]);var yv=(e,t)=>Gr(e,t()),_v=(e,t)=>{e.stopPropagation(),t()()},wv=Ci('<div class="value s-1a"> </div>'),xv=Ci('<li role="menuitem" tabindex="0" aria-haspopup="true"><div class="icon-wrapper"><!></div> <div class="label"> </div> <!></li>'),kv={hash:"s-1a",code:".value.s-1a{opacity:.7;overflow:hidden;position:relative;text-overflow:ellipsis}"};wi(["click","keydown"]);var $v=(e,t)=>{Xr(e,(()=>t()))},Cv=Ci('<div class="icon icon-error-stub"><div class="inner"></div></div>'),Sv=Ci('<img class="icon" aria-hidden="true"/>'),Tv=Ci('<li role="menuitem" tabindex="0"><div class="icon-wrapper"><!></div> <div class="label s-1b"> </div></li>'),Av={hash:"s-1b",code:".label.s-1b{overflow:hidden;text-overflow:ellipsis}"};wi(["click","keydown"]);var Pv=Ci('<div class="toggle_wrap s-1o"><div></div> <div class="toggle-label s-1o"></div></div>'),Ev={hash:"s-1o",code:'.toggle_wrap.s-1o{cursor:pointer;font-size:12px;line-height:15px;min-height:15px;padding:0;user-select:none}.toggle.s-1o{background-color:var(--toggle-color-separator);border-radius:45px;cursor:pointer;float:right;height:9px;margin-top:3px;width:28px}.toggle.s-1o:after{background-color:var(--toggle-color-off);border-radius:50%;content:"";float:left;height:15px;left:0;position:relative;top:-3px;transition:left .1s ease;width:15px}.toggle.on.s-1o:after{background-color:var(--toggle-color-on);left:13px}.toggle-label.s-1o{overflow:hidden}'};var Iv=(e,t,i)=>{((e,t,i)=>{if(Ur(e))Hr(e),i(!t);else{let n=e.code;if("ArrowLeft"===n&&t)return i(!1),void Hr(e);"ArrowRight"===n&&!t&&(i(!0),Hr(e))}})(e,t(),(e=>i()(e)))},Lv=(e,t,i)=>{e.stopPropagation(),t()(!i())},Mv=Ci('<div><div class="icon-wrapper"><!></div> <div class="label"> </div> <!></div>'),Vv=Ci('<li role="menuitem" tabindex="0"><!></li>');function Rv(e,t){ne(t,!0);let i=ma(t,"isMobile",3,!1),n=ma(t,"onClick",3,g.lQ),a=ma(t,"enabled",3,!1),o=ma(t,"tooltipText",3,void 0),r=ma(t,"maxTooltipWidth",3,void 0);var s=Vv();let l;s.__click=[Lv,n,a],s.__keydown=[Iv,a,n],md(Ge(s),{get content(){return o()},get isMobile(){return i()},placement:"left",translateX:10,isFullWidthWrapper:!0,get maxTooltipWidth(){return r()},children:(e,n)=>{var o=Mv();let r;var s=Ge(o),l=Ge(s),d=e=>{Ec(e,{get icon(){return t.icon}})},u=e=>{var i=Ai();let n=ve((()=>t.icon));pn(Xe(i),(()=>di(n)),((e,t)=>{t(e,{})})),Pi(e,i)};Zi(l,(e=>{"string"==typeof t.icon?e(d):e(u,!1)})),Fe(s);var c=Ze(s,2),p=Ge(c,!0);Fe(c),function(e,t){gn(e,Ev);let i=ma(t,"enabled",3,!1);var n=Pv(),a=Ge(n);let o;qe(2),Fe(n),rt((e=>o=xn(a,1,"toggle s-1o",null,o,e)),[()=>({on:i()})]),Pi(e,n)}(Ze(c,2),{get enabled(){return a()}}),Fe(o),rt((e=>{r=xn(o,1,"switch-wrapper",null,r,e),Hi(p,t.label)}),[()=>({mobile:i()})]),Pi(e,o)},$$slots:{default:!0}}),Fe(s),rt((e=>{l=xn(s,1,"item switch-item",null,l,e),Ln(s,"aria-label",t.ariaLabel??t.label),Ln(s,"data-testid",t.id)}),[()=>({mobile:i()})]),Pi(e,s),ae()}wi(["click","keydown"]);var Bv=Ci('<div class="quality-icon s-1n"><!></div>'),Dv=Ci('<div class="quality-label s-1n"><span> </span> <!></div>'),Nv={hash:"s-1n",code:".quality-label.s-1n{position:relative}.quality.s-1n{font-size:13px;line-height:18px}.quality.sub.s-1n{opacity:.7}.quality-icon.s-1n{display:flex;padding-left:2px;position:absolute;right:0;top:0;transform:translateX(100%)}.quality-icon.s-1n svg{color:var(--blue-light)}"};function zv(e,t){ne(t,!0),gn(e,Nv);let i=ma(t,"isSubCase",3,!1),n=ve((()=>t.quality?(0,g.lZ)(t.quality):"")),a=ve((()=>Ul(t.quality)));var o=Dv(),r=Ge(o);let s;var l=Ge(r,!0);Fe(r);var d=Ze(r,2),u=e=>{var t=Bv();let i=ve((()=>di(a)));pn(Ge(t),(()=>di(i)),((e,t)=>{t(e,{})})),Fe(t),rt((()=>Ln(t,"data-testid",`${di(n)}-icon`))),Pi(e,t)};Zi(d,(e=>{di(a)&&!t.isMobile&&e(u)})),Fe(o),rt((e=>{s=xn(r,1,"s-1n",null,s,e),Hi(l,t.label)}),[()=>({sub:!i(),quality:!t.isMobile})]),Pi(e,o),ae()}var Ov=({quality:e,availableQualities:t})=>{let i=t.find((t=>t.value===e));return i?i.displayValue:e},Hv=Ci('<div class="menu-item-value-wrapper s-1s"><!></div>'),Fv={hash:"s-1s",code:".menu-item-value-wrapper.s-1s{line-height:normal}"};function qv(e,t){ne(t,!0),gn(e,Fv);let[i,n]=ua(),a=()=>da(r,"$currentQuality$",i),o=Oa(),r=o.state.currentQuality$,s=o.state.availableQualities$,l=o.ui.isMobile,d=ve((()=>t.prefix+(t.selected&&a()!==g.Xb.INVARIANT?" · ":""))),u=ve((()=>(({quality:e,availableQualities:t,prefix:i,onlyPrefix:n})=>e?n||e===g.Xb.INVARIANT?i:`${i}${Ov({quality:e,availableQualities:t})}`:"...")({prefix:di(d),quality:a(),availableQualities:da(s,"$availableQualities$",i),onlyPrefix:!t.selected})));var c=Hv(),p=Ge(c);let h=ve((()=>t.selected?a():void 0));zv(p,{get quality(){return di(h)},get label(){return di(u)},get isMobile(){return da(l,"$isMobile$",i)},isSubCase:!0}),Fe(c),Pi(e,c),ae(),n()}var Uv={br:!0,span:!0},Wv=(e,t={})=>{if(!e)return e;let i={...Uv,...t},n=Object.keys(i);if(!n.length)return e;let a=(e=>{let t=e.join("|");return new RegExp(`<(?<keyhtml>.*?)(?<propshtml> .*?)?>(?<childrenhtml>.*?)</\\k<keyhtml>>|{(?<keyi18n>${t})}(?<childreni18n>.*?){/\\k<keyi18n>}|<(?<keyhtmlself>.*?)(?<propshtmlself> .*?)?/?>|{(?<keyi18nself>${t})}`,"g")})(n),o=[],r=0;for(let t of e.matchAll(a)){let n=t[0],a=t.groups?.keyhtml||t.groups?.keyi18n||t.groups?.keyhtmlself||t.groups?.keyi18nself||"",{index:s}=t;if(!i[a]){o.push(e.slice(r,s)),r=s+n.length;continue}let l=t.groups?.childrenhtml?Wv(t.groups.childrenhtml,i):"",d=t.groups?.childrenhtml?n.replace(new RegExp(t.groups?.childrenhtml),(()=>l||"")):n;o.push(e.slice(r,s),d),r=s+n.length}return 0===r?e:(o.push(e.slice(r)),o.join(""))};function Qv(e,t){ne(t,!1);let i=ma(t,"message",8),n=Wv(i());Jn();var a=Ai(),o=Xe(a),r=e=>{var t=Ai();cn(Xe(t),(()=>n)),Pi(e,t)};Zi(o,(e=>{n&&e(r)})),Pi(e,a),ae()}var jv=Ci('<p class="quality-applies sublabel s-1r"><!></p>'),Kv={hash:"s-1r",code:".quality-applies.s-1r{color:hsla(0,0%,100%,.5);display:flex;justify-content:end;padding:3px 0}.quality-applies span{color:#70c1ff}"};function Yv(e,t){ne(t,!1),gn(e,Kv),Jn();var i=jv(),n=Ge(i);let a=ge((()=>Oo("quality_applience",{action:`<span>${Oo("quality_applience_action")}</span>`})));Qv(n,{get message(){return di(a)}}),Fe(i),Pi(e,i),ae()}var Gv=({isAutoQualityEnabled:e,trafficSavingEnabled:t,highQualityEnabled:i})=>{let n=!e&&!t&&!i;return{id:"quality-other-settings",type:"OPEN_SUB_MENU",label:Oo("other_quality"),selected:n,valueComponent:qv,valueComponentParams:{prefix:Oo("other_quality"),selected:n},children:"quality-other-settings"}},Xv=({appliesTo:e,labelWithQuality:t,selected:i},{selectQuality:n})=>({id:"quality-auto",type:"SELECT_VALUE",value:"auto",label:Oo("auto_quality_limit"),valueComponent:t?qv:void 0,valueComponentParams:{prefix:Oo("auto_quality_limit"),selected:i},selectItem:()=>n("auto",e),selected:i}),Zv=({labelWithQuality:e,appliesTo:t,selected:i},{toggleHighQuality:n})=>({id:"quality-high",type:"SELECT_VALUE",value:"high_quality",selectItem:()=>n(!0,t),selected:i,label:Oo("high_quality"),valueComponent:e?qv:void 0,valueComponentParams:{prefix:Oo("high_quality"),selected:i},sublabel:Oo("high_quality_description")}),Jv=({labelWithQuality:e,appliesTo:t,selected:i},{toggleTrafficSaving:n})=>({id:"quality-traffic-saving",type:"SELECT_VALUE",value:"save_traffic",selectItem:()=>n(!0,t),selected:i,label:Oo("traffic_saving_quality"),valueComponent:e?qv:void 0,valueComponentParams:{prefix:Oo("traffic_saving_quality"),selected:i},sublabel:Oo("traffic_saving_quality_description")}),eg=(e,t)=>String(t.findIndex((t=>t.id===e.id))+1),tg=(e,t)=>{if(!e)return"";let i,{language:n,label:a}=e;if("und"===n?i=void 0:n&&(i=Su(n)??n),a&&n&&i){let o=t.filter((e=>e.label===a&&e.language===n));if(1===o.length)return Oo("audio_stream_display_language_label",{language:i,label:a});{let t=eg(e,o);return Oo("audio_stream_display_language_label_index",{language:i,label:a,index:t})}}if(a){let i=t.filter((e=>e.label===a));if(1===i.length)return a;{let t=eg(e,i);return Oo("audio_stream_display_label_index",{label:a,index:t})}}if(n&&i){let a=t.filter((e=>e.language===n));if(1===a.length)return i;{let t=eg(e,a);return Oo("audio_stream_display_language_index",{language:i,index:t})}}let o=eg(e,t);return Oo("audio_stream_display_unknown",{index:o})},ig={"quality-settings":e=>{let{isAutoQualityEnabled:t,isAutoQualityAvailable:i,trafficSavingEnabled:n,highQualityEnabled:a}=e,o=[];return i&&o.push({handler:Xv,selected:t&&!n&&!a||!1}),o.push({handler:Jv,selected:n},{handler:Zv,selected:a}),{title:Oo("submenu_quality"),id:"quality-settings",items:[{id:"quality-appliance-settings",type:"OPEN_SUB_MENU",valueComponent:Yv,bottomBordered:!0,children:"quality-appliance"},...o.map((({handler:t,selected:i})=>t({labelWithQuality:!0,appliesTo:"to-video",selected:i},e))),Gv(e)]}},"quality-other-settings":({closeSettingsMenu:e,selectQuality:t,availableQualities:i,isMobile:n})=>({id:"quality-other-settings",title:Oo("submenu_quality"),closeSettingsMenu:e,items:i.map((e=>({type:"SELECT_VALUE",value:e.value,valueComponent:zv,valueComponentParams:{quality:e.value,label:e.displayValue,isMobile:n,isSubCase:!0},selectItem:e=>t(e,"to-video"),selected:e.selected,label:e.displayValue})))}),"quality-appliance":e=>{let{closeSettingsMenu:t}=e;return{id:"quality-appliance",title:Oo("default_quality_for_any_video"),closeSettingsMenu:t,items:[{handler:Xv,selected:"auto_quality"===ko()?.type},{handler:Jv,selected:"traffic_saving"===ko()?.type},{handler:Zv,selected:"high_quality"===ko()?.type}].map((({handler:t,selected:i})=>t({labelWithQuality:!1,appliesTo:"as-default",selected:i},e)))}},"audio-tracks":({closeSettingsMenu:e,availableAudioStreams:t,currentAudioStream:i,selectAudioLanguage:n})=>({id:"audio-tracks",title:Oo("submenu_audio_languages"),closeSettingsMenu:e,items:t.map((e=>({type:"SELECT_VALUE",value:e,dataValue:e.id,selectItem:n,selected:e.id===i?.id,label:tg(e,t)})))}),"playback-rate":({closeSettingsMenu:e,availablePlaybackRates:t,selectPlaybackRate:i})=>({id:"playback-rate",title:Oo("submenu_playback_rate"),closeSettingsMenu:e,items:t.map((e=>({type:"SELECT_VALUE",value:e.value,selectItem:i,selected:e.selected,label:e.displayValue})))}),subtitles:({availableSubtitlesList:e,selectSubtitle:t})=>({id:"subtitles",minWidth:164,title:Oo("subtitles_caption"),items:e.map((e=>({type:"SELECT_VALUE",value:e.value,selectItem:()=>t(e),selected:e.selected,label:e.displayValue,dataTestid:e.value===Lu?"sub_off":void 0})))})},ng=Si('<path d="M3.1 9.5c0-2.24 0-3.36.44-4.22A4 4 0 015.28 3.54C6.14 3.1 7.26 3.1 9.5 3.1h5c2.24 0 3.36 0 4.22.44a4 4 0 011.74 1.74c.44.86.44 1.98.44 4.22s0 3.36-.44 4.22a4 4 0 01-1.74 1.74c-.84.43-1.93.44-4.07.44l.55 2.2h1.9a.9.9 0 010 1.8H6.9a.9.9 0 110-1.8h1.9l.55-2.2c-2.14 0-3.23-.01-4.07-.44a4 4 0 01-1.74-1.74C3.1 12.86 3.1 11.74 3.1 9.5m11.4-4.6h-5c-1.15 0-1.9 0-2.48.05-.56.04-.79.12-.92.19a2.2 2.2 0 00-.96.96 2 2 0 00-.2.92C4.9 7.6 4.9 8.35 4.9 9.5s0 1.9.05 2.48c.04.56.12.79.19.92q.33.63.96.96c.13.07.36.15.92.2.58.04 1.33.04 2.48.04h5c1.15 0 1.9 0 2.48-.05.56-.04.79-.12.92-.19a2.2 2.2 0 00.96-.96c.07-.13.15-.36.2-.92.04-.58.04-1.33.04-2.48s0-1.9-.05-2.48a3 3 0 00-.19-.92 2.2 2.2 0 00-.96-.96 2 2 0 00-.92-.2c-.58-.04-1.33-.04-2.48-.04m-3.3 11-.55 2.2h2.7l-.55-2.2z"></path>');function ag(e){Eo(e,{testId:"traffic-saving-icon",children:(e,t)=>{Pi(e,ng())},$$slots:{default:!0}})}var og=Si('<path d="M8.3 14.25c1.86 1.9 5.5.02 5.5-3.55V5.64l2.4-.7A2.74 2.74 0 0 0 18 2.37V.64a.75.75 0 0 0-.92-.62l-.26.06C15.88.3 14.93.51 14 .8c-1.33.45-2.03 1.62-2.01 3.08V9c-3.89.2-5.64 3.29-3.7 5.25ZM.9.1a.9.9 0 0 0 0 1.8h8.2a.9.9 0 0 0 0-1.8H.9ZM.9 5.1a.9.9 0 1 0 0 1.8h7.2a.9.9 0 0 0 0-1.8H.9ZM0 11c0-.5.4-.9.9-.9h4.18a.9.9 0 1 1 0 1.8H.9A.9.9 0 0 1 0 11Z"></path>');function rg(e){Eo(e,{width:"18",height:"15",children:(e,t)=>{Pi(e,og())},$$slots:{default:!0}})}var sg=Si('<path d="M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69A8 8 0 0 1 11 4.07M5.69 7.1 4.26 5.68A10 10 0 0 0 2.05 11h2.02a8 8 0 0 1 1.62-3.9M2.05 13c.2 2.01 1 3.84 2.21 5.32l1.43-1.43A8 8 0 0 1 4.07 13zM11 21.95v-2.02a8 8 0 0 1-3.9-1.62l-1.42 1.43A10 10 0 0 0 11 21.95M22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12M10.69 8.58l4.74 2.73a.8.8 0 0 1 0 1.37l-4.74 2.74a.8.8 0 0 1-1.19-.68V9.26a.8.8 0 0 1 1.19-.68"></path>');function lg(e){Eo(e,{testId:"play-speed-icon",children:(e,t)=>{Pi(e,sg())},$$slots:{default:!0}})}var dg=Si('<path d="M12 2a.9.9 0 01.9.9v10.93l4.56-4.57a.9.9 0 011.28 1.28l-6.1 6.1a.9.9 0 01-1.28 0l-6.1-6.1a.9.9 0 111.28-1.28l4.56 4.57V2.9A.9.9 0 0112 2M4 20a.9.9 0 01.9-.9h14.2a.9.9 0 110 1.8H4.9A.9.9 0 014 20"></path>');function ug(e){Eo(e,{testId:"download-icon",children:(e,t)=>{Pi(e,dg())},$$slots:{default:!0}})}var cg=Si('<path d="M8.86 2.1h6.28c.67 0 1.2.21 1.68.7l4.38 4.38c.48.48.7 1 .7 1.68v6.28c0 .68-.22 1.2-.7 1.68l-4.38 4.38c-.48.48-1 .7-1.68.7H8.86c-.68 0-1.2-.22-1.68-.7L2.8 16.82c-.48-.48-.7-1-.7-1.68V8.86c0-.68.22-1.2.7-1.68L7.18 2.8c.48-.49 1-.7 1.68-.7m-.44 2L4.1 8.43c-.18.18-.21.24-.21.5v6.17c0 .25.03.31.2.5l4.32 4.3c.18.18.24.21.5.21h6.17c.25 0 .31-.03.5-.2l4.3-4.32c.18-.18.21-.24.21-.5V8.92c0-.25-.03-.31-.2-.5l-4.32-4.3c-.18-.18-.24-.21-.5-.21H8.92c-.25 0-.32.03-.5.2M13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-.1-8.1a.9.9 0 0 0-1.8 0v5.2a.9.9 0 1 0 1.8 0z"></path>');function pg(e){Eo(e,{testId:"report-icon",children:(e,t)=>{Pi(e,cg())},$$slots:{default:!0}})}var hg=Si('<path d="M4 12.3V12c0-1.47 0-2.55.08-3.4.07-.9.21-1.48.45-1.95a4.85 4.85 0 0 1 2.12-2.12 5.1 5.1 0 0 1 1.95-.45C9.5 4 10.68 4 12.3 4h4.51c-.03-.16-.09-.33-.17-.49a2.4 2.4 0 0 0-1.05-1.05c-.3-.16-.63-.21-.93-.24-.29-.02-.64-.02-1.03-.02h-1.37c-1.58 0-2.81 0-3.81.08a6.84 6.84 0 0 0-2.62.64 6.65 6.65 0 0 0-2.9 2.91c-.4.76-.57 1.6-.65 2.62-.08 1-.08 2.23-.08 3.81v1.37c0 .4 0 .74.02 1.03.03.3.08.62.24.93A2.4 2.4 0 0 0 4 16.8V12.3ZM10.08 6h-.03c-.53 0-.97 0-1.33.03-.39.03-.76.1-1.12.28a2.9 2.9 0 0 0-1.3 1.3c-.17.35-.24.72-.27 1.1C6 9.09 6 9.53 6 10.06v7.9c0 .53 0 .97.03 1.33.03.39.1.76.28 1.12a2.9 2.9 0 0 0 1.3 1.3c.35.17.72.24 1.1.27.37.03.81.03 1.33.03h6.91c.53 0 .97 0 1.33-.03.39-.03.76-.1 1.12-.28a2.9 2.9 0 0 0 1.3-1.3c.17-.35.24-.72.27-1.1.03-.37.03-.81.03-1.34v-7.9c0-.53 0-.97-.03-1.33-.03-.39-.1-.76-.28-1.12a2.9 2.9 0 0 0-1.3-1.3 2.96 2.96 0 0 0-1.1-.27C17.91 6 17.47 6 16.94 6h-6.87ZM8.41 7.92c.06-.04.18-.07.45-.1.28-.02.65-.02 1.22-.02h6.84c.57 0 .94 0 1.22.02.27.03.39.06.45.1.21.1.39.28.5.49.03.06.06.18.09.45.02.28.02.65.02 1.22v7.84c0 .57 0 .94-.02 1.22-.03.27-.06.39-.1.45-.1.21-.28.39-.49.5-.06.03-.18.06-.45.09-.28.02-.65.02-1.22.02h-6.84c-.57 0-.94 0-1.22-.02a1.23 1.23 0 0 1-.45-.1 1.1 1.1 0 0 1-.5-.49 1.23 1.23 0 0 1-.09-.45c-.02-.28-.02-.65-.02-1.22v-7.84c0-.57 0-.94.02-1.22.03-.27.06-.39.1-.45.1-.21.28-.39.49-.5Z"></path>');function vg(e){Eo(e,{children:(e,t)=>{Pi(e,hg())},$$slots:{default:!0}})}var gg=Si('<path d="M12 20.1a8.1 8.1 0 1 0 0-16.2 8.1 8.1 0 0 0 0 16.2m0 1.9a10 10 0 1 1 0-20 10 10 0 0 1 0 20m0-12.37A1.32 1.32 0 1 1 12 7a1.32 1.32 0 0 1 0 2.63m-.95 2.82c0-.54.43-.98.95-.98s.95.44.95.98v3.83c0 .54-.43.98-.95.98a.96.96 0 0 1-.95-.98z"></path>');function mg(e){Eo(e,{testId:"info-icon",children:(e,t)=>{Pi(e,gg())},$$slots:{default:!0}})}var fg=Ci('<div class="menu-item-value-wrapper s-1u"><!></div>'),bg={hash:"s-1u",code:".menu-item-value-wrapper.s-1u{line-height:normal}"};function yg(e,t){ne(t,!0),gn(e,bg);let[i,n]=ua(),a=()=>da(r,"$currentQuality$",i),o=Oa(),r=o.state.currentQuality$,s=o.state.availableQualities$,l=o.state.isAutoQualityEnabled$,d=o.ui.isMobile,u=ve((()=>(({quality:e,availableQualities:t,isAutoQualityEnabled:i})=>{if(!e)return"...";let n=Ov({quality:e,availableQualities:t});return i?e===g.Xb.INVARIANT?Oo("auto_quality_invariant"):Oo("auto_quality",{actual:n}):n})({quality:a(),availableQualities:da(s,"$availableQualities$",i),isAutoQualityEnabled:da(l,"$isAutoQualityEnabled$",i)})));var c=fg();zv(Ge(c),{get quality(){return a()},get label(){return di(u)},get isMobile(){return da(d,"$isMobile$",i)}}),Fe(c),Pi(e,c),ae(),n()}var _g={"quality-settings":({isAutoQualityEnabled:e,currentQuality:t,qualityDetailsSubMenuEnabled:i})=>{let n=(e?Oo("auto_quality_option"):t)||"";return{id:"quality-settings",type:"OPEN_SUB_MENU",ariaLabel:Oo("aria_label_menu_quality",{actual:n}),icon:Yl,label:Oo("menu_quality"),value:t,valueComponent:yg,weight:nv,children:i?"quality-settings":"quality-other-settings"}},"traffic-saving-switch":({trafficSavingEnabled:e,toggleTrafficSaving:t})=>({id:"traffic-saving-switch",weight:sv,type:"SWITCH",onClick:e=>t(e,"to-video"),ariaLabel:Oo("aria_label_submenu_traffic_saving"),icon:ag,label:Oo("menu_traffic_saving"),enabled:e,tooltipText:Oo("traffic_saving_helper_text"),maxTooltipWidth:175}),"audio-tracks-settings":({currentAudioStream:e,availableAudioStreams:t})=>{let i=tg(e,t);return{id:"audio-tracks-settings",weight:av,type:"OPEN_SUB_MENU",ariaLabel:Oo("aria_label_menu_audio_languages",{actual:i}),icon:rg,label:Oo("menu_audio_languages"),value:i,children:"audio-tracks"}},"playback-rate-settings":({availablePlaybackRates:e,currentPlaybackRate:t})=>{let i=e.find((e=>e.value===t))?.displayValue||"";return{id:"playback-rate-settings",weight:ov,type:"OPEN_SUB_MENU",ariaLabel:Oo("aria_label_menu_rate",{actual:i}),icon:lg,label:Oo("menu_playback_rate"),value:`${t}x`,children:"playback-rate"}},"subtitles-settings":({currentSubtitle:e})=>({id:"subtitles-settings",weight:rv,type:"OPEN_SUB_MENU",ariaLabel:Oo("aria_label_menu_subtitle",{actual:e.displayValue}),icon:td,iconProps:{type:"outline"},label:Oo("subtitles_caption"),value:e.displayValue,children:"subtitles"}),download:({onDownloadClick:e})=>({id:"download",weight:lv,type:"CLICK",onClick:e,label:Oo("download_video_caption"),ariaLabel:Oo("aria_label_menu_download"),icon:ug}),"show-support":({onReportProblemClick:e})=>({id:"show-support",weight:dv,type:"CLICK",onClick:e,label:Oo("menu_report"),ariaLabel:`${Oo("menu_report")}. ${Oo("aria_label_new_tab_alert")}`,icon:pg,isHiddenFor:["desktop"]}),"copy-data":({onCopyDataClick:e})=>({id:"copy-data",weight:uv,type:"CLICK",onClick:e,label:Oo("menu_copy_debug"),ariaLabel:Oo("menu_copy_debug"),icon:vg,isHiddenFor:["desktop"]}),"save-trace-info":({onSaveTraceDataClick:e})=>({id:"save-trace-info",weight:cv,type:"CLICK",onClick:e,label:Oo("menu_save_debug"),ariaLabel:Oo("menu_save_debug"),icon:vg,isHiddenFor:["desktop"]}),"debug-info":({toggleShowDebugInfo:e})=>({id:"debug-info",weight:pv,type:"CLICK",onClick:e,ariaLabel:Oo("aria_label_menu_debug_overlay"),label:Oo("menu_debug_overlay"),icon:mg,isHiddenFor:["desktop"]})},wg=(e,t)=>{Yr(e,t)},xg=Ci('<div><div> </div> <div class="close s-q"></div></div>'),kg=Ci('<div data-testid="settings-menu" role="presentation"><!> <ul role="menu"></ul></div>'),$g=Ci("<div><!> <!></div>"),Cg={hash:"s-q",code:'.settings-menu-container.mobile.s-q{width:100%;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.settings-menu-container.s-q ul{list-style-type:none;margin:0;padding:0}.settings-menu-container.s-q .menu{background-color:var(--settings-bg);border-radius:var(--settings-radius);overflow:hidden;transition:opacity .2s,visibility .2s}.settings-menu-container.s-q .menu .item:first-child:not(.mobile){border-top-left-radius:var(--settings-radius);border-top-right-radius:var(--settings-radius)}.settings-menu-container.s-q .menu .item:last-child{border-bottom-left-radius:var(--settings-radius);border-bottom-right-radius:var(--settings-radius)}.settings-menu-container.s-q .settings-menu .item:first-child:not(.mobile){padding-top:6px}.settings-menu-container.s-q .settings-menu .item:last-child:not(.mobile){padding-bottom:6px}.settings-menu-container.s-q .menu.desktop{bottom:0;max-width:100%;position:absolute;right:0}.settings-menu.s-q{line-height:40px}.settings-menu.desktop.s-q{min-width:300px}.settings-menu-container.s-q .menu.mobile{background:var(--mobile-settings-bg);font-size:15px;line-height:50px;width:100%}.settings-menu-container.s-q .menu.mobile.hidden{display:none}.settings-menu-container.s-q .menu .item:not(.switch-item),.settings-menu-container.s-q .menu .switch-wrapper{align-items:center;color:var(--white);cursor:pointer;display:flex;justify-content:flex-end;position:relative;white-space:nowrap}.settings-menu-container.s-q .menu .item:hover{background-color:var(--settings-item-bg-hover)}.settings-menu-container.s-q .menu .item.mobile:hover{background:var(--mobile-settings-bg)}.settings-menu.s-q .item:not(.switch-item),.settings-menu.s-q .switch-wrapper{padding:0 32px 0 18px}.settings-menu.s-q .item.mobile:not(.switch-item),.settings-menu.s-q .switch-wrapper.mobile{padding:0 14px}.settings-menu.s-q .icon-wrapper{align-items:center;display:flex;height:24px;justify-content:center;margin-right:16px;min-width:24px;width:24px}.settings-menu.s-q .label{flex-grow:1;margin-right:24px;overflow:hidden;text-overflow:ellipsis}.settings-menu.s-q .item.header.mobile:where(.s-q){border-bottom:var(--divider-border);color:var(--white);column-gap:12px;cursor:pointer;display:flex;justify-content:space-between;margin-bottom:4px}.settings-menu-container.s-q .items::-webkit-scrollbar{width:8px}.settings-menu-container.s-q .items::-webkit-scrollbar-track{background-color:#3a3a3a;border-radius:4px;box-shadow:none}.settings-menu-container.s-q .items::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#666;border:1px solid transparent;border-radius:5px;min-height:40px}.settings-menu-container.s-q .items::-webkit-scrollbar-thumb:hover{background-color:#777}.settings-menu-container.s-q .items.mobile{max-height:160px;overflow-x:hidden;overflow-y:auto;text-align:left}.close.s-q{height:12px;margin-right:-12px;padding:12px;position:relative;width:12px}.close.s-q:after,.close.s-q:before{background-color:var(--white);content:" ";height:12px;left:18px;position:absolute;width:2px}.close.s-q:before{transform:rotate(45deg)}.close.s-q:after{transform:rotate(-45deg)}'};function Sg(e,t){ne(t,!0),gn(e,Cg);let[i,n]=ua(),a=()=>da(B,"$settingsMenuVisible",i),o=()=>da(D,"$settingsMenuOpenedByKeyboard",i),r=()=>da(z,"$isMobile",i),s=()=>da(U,"$playerSize",i),l=()=>da(O,"$mobileNotReportControlHidden$",i),d=()=>da(M,"$availableSubtitlesList$",i),u=()=>da($,"$availableAudioStreams$",i),c=()=>da(I,"$availablePlaybackRates$",i),p=()=>da(k,"$currentAudioStream$",i),h=()=>da(F,"$trafficSavingEnabled",i),v=()=>da(C,"$currentQuality$",i),m=()=>da(A,"$isAutoQualityEnabled$",i),f=ma(t,"ref",15,void 0),b=ma(t,"playerControlsHeight",3,0),y=le({}),_=le({}),w=Oa(),x=_a(),k=w.state.audioStream$,$=w.state.availableAudioStreams$,C=w.state.currentQuality$,S=w.state.availableQualities$,T=w.state.autoQualityLimitingAvailable$,A=w.state.isAutoQualityEnabled$,P=w.state.isAutoQualityAvailable$,E=w.state.currentPlaybackRate$,I=w.state.availablePlaybackRates$,L=w.state.currentSubtitle$,M=w.state.availableSubtitlesList$,V=w.state.canDownload,R=w.state.hasMpegSources$,B=w.ui.settingsMenu.visible$,D=w.ui.settingsMenu.openedByBtnKeyboard$,N=w.ui.settingsMenu.ref$,z=w.ui.isMobile,O=w.ui.mobileNotReportControlHidden$,H=w.state.canChangePlaybackSpeed$,F=w.state.trafficSavingEnabled$,q=w.state.highQualityEnabled$,U=w.ui.playerSize,W=w.ui.debugPanelVisible,Q=w.state.isInteractiveTime$,j=w.ui.additionalSettingsMenuItems$,K=w.ui.t,Y=w.actions.internal.downloadVideo,G=w.actions.internal.closeSettingsMenu,X=w.actions.internal.openSettingsSubMenu,Z=w.actions.internal.closeSettingsSubMenu,J=$e(!1),ee=$e(void 0),te=(()=>{let e=$e(le([])),t=ve((()=>(di(e).length?di(e).at(-1):null)||null));return{get current(){return di(t)},pushSubMenu:t=>{di(e).push(t)},popSubMenu:()=>{Se(e,di(e).slice(0,-1),!0)},popAllSubMenus:()=>{Se(e,[],!0)}}})();async function ie(e){te.pushSubMenu(e),await li(),X(e,_[e]);let t=f()?.firstElementChild;t&&Fr(t)}function oe(e){e?.stopPropagation(),o()||t.returnFocus?.(),G(),Se(J,!1)}function re(e,t){w.actions.internal.setQuality(e,{appliesTo:t,byUser:!0}),oe()}function se(e){w.actions.internal.setAudioStream(e),oe()}function de(e,t){w.actions.internal.setTrafficSavingEnabled(e,t),x.features.qualityDetailsSubMenuEnabled&&oe()}function ue(e,t){w.actions.internal.setHighQualityEnabled(e,t),oe()}function ce(e){w.actions.internal.setPlaybackRate(e),oe()}function pe(e){w.actions.internal.setSubtitle(e),oe()}function he(){Y()}function ge(){(0,g.Gz)(t.supportLink)&&window.open(t.supportLink,"_blank"),w.actions.internal.reportProblem(),w.actions.internal.pause()}function me(){Nr(w.actions.internal.getDebugTextData())}nt((()=>{!a()&&te.current&&(Z(_[te.current]),te.popAllSubMenus())})),nt((()=>{a()||Se(ee,void 0)})),nt((()=>{!te.current&&di(ee)&&(async(e,t)=>{setTimeout((()=>{let i=e[t];i&&i.focus()}),100)})(y,di(ee))})),nt((()=>{f()&&N.set(f())}));let fe=()=>{let e=w.actions.internal.getTraceTextData(),t=new Blob([...e],{type:"application/json"}),i=window.URL.createObjectURL(t);Da(i,"vk_player_trace_info","json")};function be(){W.set(!da(W,"$debugPanelVisible",i))}function ye(){Se(J,!0)}function _e(){Se(J,!1)}function we(){return r()?`max-height: ${Math.round(.6*s().height)}px`:`max-height: ${s().height-32-b()}px; overflow: auto;`}let xe=ve((()=>V&&da(R,"$hasMpegSources$",i)&&!l())),ke=ve((()=>x.features.trafficSaving&&!l()&&da(T,"$autoQualityLimitingAvailable$",i)&&!x.features.qualityDetailsSubMenuEnabled)),Ce=ve((()=>d().length>0&&!l())),Te=ve((()=>!!da(H,"$isLiveWithPlaybackSpeed",i)&&!l())),Ae=ve((()=>x.features.audioLanguages&&u().length>=2&&!l())),Pe=ve((()=>!l()));Yi((()=>Q.subscribe((e=>{e&&!r()&&!di(J)&&!o()&&oe()}))));let Ee=ve((()=>(({items:e,context:t,additionalSettingsMenuItems:i})=>{let{isMobile:n}=t;return[...e.map((e=>_g[e](t))),...i.map((e=>({...e,isAdditional:!0})))].filter((e=>!e?.isHiddenFor?.length||!e?.isHiddenFor?.includes("desktop")&&!n||!e?.isHiddenFor?.includes("mobile")&&n)).sort(ps)})({items:[di(Pe)&&"quality-settings",di(Ae)&&"audio-tracks-settings",di(Te)&&"playback-rate-settings",di(Ce)&&"subtitles-settings",di(ke)&&"traffic-saving-switch",di(xe)&&"download",x.showSupport&&"show-support","copy-data",x.features.saveTraceInfoToFile&&"save-trace-info","debug-info"].filter((e=>!!e)),context:{qualityDetailsSubMenuEnabled:x.features.qualityDetailsSubMenuEnabled,availablePlaybackRates:c(),currentAudioStream:p(),availableAudioStreams:u(),currentPlaybackRate:da(E,"$currentPlaybackRate$",i),selectPlaybackRate:ce,trafficSavingEnabled:h(),toggleTrafficSaving:de,currentQuality:v()||g.Xb.INVARIANT,isAutoQualityEnabled:m()||!1,currentSubtitle:da(L,"$currentSubtitle$",i),isMobile:r(),onDownloadClick:he,onCopyDataClick:me,onReportProblemClick:ge,onSaveTraceDataClick:fe,toggleShowDebugInfo:be},additionalSettingsMenuItems:da(j,"$additionalSettingsMenuItems$",i)}))),Ie=ve((()=>(({subMenuId:e,context:t})=>e?[ig[e](t)]:[])({subMenuId:te.current,context:{availablePlaybackRates:c(),selectPlaybackRate:ce,trafficSavingEnabled:h(),toggleTrafficSaving:de,currentQuality:v()||g.Xb.INVARIANT,isAutoQualityEnabled:m()||!1,isAutoQualityAvailable:da(P,"$isAutoQualityAvailable$",i)||!1,availableQualities:da(S,"$availableQualities$",i),highQualityEnabled:da(q,"$highQualityEnabled",i),toggleHighQuality:ue,availableAudioStreams:u(),availableSubtitlesList:d(),closeSettingsMenu:G,currentAudioStream:p(),isMobile:r(),selectAudioLanguage:se,selectQuality:re,selectSubtitle:pe}})));var Le=$g();let Me;var Ve=Ge(Le),Re=e=>{var t=kg();let i;t.__keydown=[wg,G];var n=Ge(t),a=e=>{var t=xg();let i;var n=Ge(t),a=Ge(n,!0);Fe(n),Ze(n,2).__click=oe,Fe(t),rt(((e,n)=>{i=xn(t,1,"item header s-q",null,i,e),Hi(a,n)}),[()=>({mobile:r()}),()=>K("submenu_settings")]),Pi(e,t)};Zi(n,(e=>{r()&&e(a)}));var o=Ze(n,2);let s;on(o,21,(()=>di(Ee)),(e=>e.id),((e,t)=>{var i=Ai(),n=Xe(i),a=e=>{!function(e,t){ne(t,!0),gn(e,kv);let i=ma(t,"isMobile",3,!1),n=ma(t,"onClick",3,g.lQ),a=ma(t,"valueComponent",3,void 0),o=ma(t,"iconProps",19,(()=>({}))),r=ma(t,"ref",15);var s=xv();let l;s.__click=[_v,n],s.__keydown=[yv,n];var d=Ge(s),u=Ge(d),c=e=>{Ec(e,{get icon(){return t.icon}})},p=e=>{var i=Ai();let n=ve((()=>t.icon));pn(Xe(i),(()=>di(n)),((e,t)=>{t(e,va(o))})),Pi(e,i)};Zi(u,(e=>{"string"==typeof t.icon?e(c):e(p,!1)})),Fe(d);var h=Ze(d,2),v=Ge(h,!0);Fe(h);var m=Ze(h,2),f=e=>{var t=Ai();let i=ve(a);pn(Xe(t),(()=>di(i)),((e,t)=>{t(e,{})})),Pi(e,t)},b=e=>{var i=wv(),n=Ge(i,!0);Fe(i),rt((()=>Hi(n,t.value))),Pi(e,i)};Zi(m,(e=>{a()?e(f):e(b,!1)})),Fe(s),Zn(s,(e=>r(e)),(()=>r())),rt((e=>{l=xn(s,1,"item",null,l,e),Ln(s,"aria-label",t.ariaLabel),Ln(s,"data-testid",t.id),Hi(v,t.label)}),[()=>({mobile:i()})]),Pi(e,s),ae()}(e,{get isMobile(){return r()},get id(){return di(t).id},get icon(){return di(t).icon},get iconProps(){return di(t).iconProps},get label(){return di(t).label},get ariaLabel(){return di(t).ariaLabel},get value(){return di(t).value},get valueComponent(){return di(t).valueComponent},onClick:()=>{ie(di(t).children),Se(ee,di(t).id,!0)},get ref(){return y[di(t).id]},set ref(e){y[di(t).id]=e}})},o=(e,i)=>{var n=e=>{let i=ve((()=>`${di(t).id}-menu-item`));!function(e,t){ne(t,!0),gn(e,Av);let i=ma(t,"isMobile",3,!1),n=ma(t,"onClick",3,g.lQ),a=ma(t,"closeSettings",3,g.lQ),o=$e(!1),r=()=>{Se(o,!0)},s=e=>{e?.stopPropagation(),n()(),a()()};var l=Tv();let d;l.__click=s,l.__keydown=[$v,s];var u=Ge(l),c=Ge(u),p=e=>{var i=Ai(),n=Xe(i),a=e=>{Pi(e,Cv())},s=e=>{var i=Sv();rt((()=>Ln(i,"src",t.icon))),_i("error",i,r),bi(i),Pi(e,i)};Zi(n,(e=>{di(o)?e(a):e(s,!1)})),Pi(e,i)},h=e=>{var i=Ai();let n=ve((()=>t.icon));pn(Xe(i),(()=>di(n)),((e,t)=>{t(e,{})})),Pi(e,i)};Zi(c,(e=>{"string"==typeof t.icon?e(p):e(h,!1)})),Fe(u);var v=Ze(u,2),m=Ge(v,!0);Fe(v),Fe(l),rt((e=>{d=xn(l,1,"item",null,d,e),Ln(l,"aria-label",t.ariaLabel??t.label),Ln(l,"data-testid",t.id),Hi(m,t.label)}),[()=>({mobile:i()})]),Pi(e,l),ae()}(e,{get isMobile(){return r()},get id(){return di(i)},get onClick(){return di(t).onClick},get icon(){return di(t).icon},get label(){return di(t).label},get ariaLabel(){return di(t).ariaLabel},closeSettings:oe})},a=(e,i)=>{var n=e=>{let i=ve((()=>`${di(t).id}-menu-item`));Rv(e,{get isMobile(){return r()},get id(){return di(i)},get onClick(){return di(t).onClick},get icon(){return di(t).icon},get label(){return di(t).label},get ariaLabel(){return di(t).ariaLabel},get enabled(){return di(t).enabled},get tooltipText(){return di(t).tooltipText},get maxTooltipWidth(){return di(t).maxTooltipWidth}})};Zi(e,(e=>{"SWITCH"===di(t).type&&e(n)}),i)};Zi(e,(e=>{"CLICK"===di(t).type?e(n):e(a,!1)}),i)};Zi(n,(e=>{"OPEN_SUB_MENU"===di(t).type?e(a):e(o,!1)})),Pi(e,i)})),Fe(o),Zn(o,(e=>f(e)),(()=>f())),Fe(t),rt(((e,n,a)=>{i=xn(t,1,"settings-menu menu s-q",null,i,e),s=xn(o,1,"items",null,s,n),$n(o,a)}),[()=>({desktop:!r(),mobile:r(),hidden:!!te.current}),()=>({mobile:r()}),we]),_i("mouseenter",t,ye),_i("mouseleave",t,_e),Pi(e,t)};Zi(Ve,(e=>{a()&&e(Re)})),on(Ze(Ve,2),17,(()=>di(Ie)),(e=>e.id),((e,t)=>{let i=ve((()=>di(t).minWidth??137));bv(e,{get isMobile(){return r()},get playerControlsHeight(){return b()},get returnFromSubMenu(){return te.popSubMenu},get id(){return di(t).id},get title(){return di(t).title},get closeSettingsMenu(){return G},openSubMenuList:ie,get items(){return di(t).items},get minWidth(){return di(i)},get refMenuItems(){return y},get listRef(){return _[di(t).id]},set listRef(e){_[di(t).id]=e}})})),Fe(Le),rt((e=>Me=xn(Le,1,"settings-menu-container s-q",null,Me,e)),[()=>({mobile:r(),hidden:!a()})]),Pi(e,Le),ae(),n()}wi(["keydown","click"]);var Tg=Ci('<button class="btn s-14"> </button>'),Ag={hash:"s-14",code:"button.btn.s-14{background:hsla(0,0%,100%,.1);border-radius:8px;font-size:14px;line-height:18px;margin-top:12px;padding:6px 12px 7px}"};wi(["click"]);var Pg=Ci('<div class="container s-t"><div class="notification s-t"><div><p class="description s-t"><!></p> <!></div> <!></div></div>'),Eg={hash:"s-t",code:".container.s-t{display:flex;justify-content:center;left:0;pointer-events:none;position:absolute;right:0;top:20px}.notification.s-t{background:var(--notification-bg);border-radius:var(--notification-radius);display:inline-flex;gap:10px;padding:9px 14px 10px 12px;pointer-events:auto}.description.s-t{font-size:13px;line-height:16px;margin:0;white-space:pre}"};function Ig(e,t){ne(t,!0),gn(e,Eg);let{features:{forceAutoQualityWhenSevereStallHappens:i}}=_a(),{ui:{t:n}}=Oa(),a=n(i?"slow_video_notification_force_description":"slow_video_notification_suggest_description");var o=Pg(),r=Ge(o),s=Ge(r),l=Ge(s);Qv(Ge(l),{get message(){return a}}),Fe(l);var d=Ze(l,2),u=e=>{let i=ve((()=>n("slow_video_notification_button")));!function(e,t){gn(e,Ag);var i=Tg();i.__click=function(...e){t.onClick?.apply(this,e)};var n=Ge(i,!0);Fe(i),rt((()=>Hi(n,t.label))),Pi(e,i)}(e,{get label(){return di(i)},get onClick(){return t.onSelectAutoQuality}})};Zi(d,(e=>{i||e(u)})),Fe(s),Qs(Ze(s,2),{get onClick(){return t.onClose}}),Fe(r),Fe(o),Qn(3,r,(()=>Hc),(()=>({duration:340}))),Pi(e,o),ae()}var Lg="annotation",Mg=class{init(e,t){this.shadowRootContainer=e,this.store=t}add(e,t){let{overlay:i,id:n,controlsBehaviour:a,hideAllControls:o}=t;e.setAttribute("slot",Lg),this.setupSlotStyles(e,i),this.shadowRootContainer.append(e),this.slots.set(n,{rootElement:e,options:t}),a&&this.runHidingControlsWhenIntersected(n,a),o&&this.store?.ui.isControlsAvailable.set(!1)}setupSlotStyles(e,t){switch(e.style.position="absolute",t){case"over_video":e.style.zIndex="calc(var(--video-container-z-index) + 1)";break;case"over_controls":e.style.zIndex="calc(var(--controls-container-z-index) + 1)";break;default:e.style.zIndex="0"}}async runHidingControlsWhenIntersected(e,{observedSlotElementId:t,controlsToObserve:i}){let n=this.slots.get(e);if(!n)return;let a=await this.findSlotElement(n.rootElement,t,e),{controls:o,hiddenControls:r}=this.store?.ui||{},s=new MutationObserver((e=>e.forEach((()=>{let e=Eu(a,this.shadowRootContainer);i.forEach((t=>{let i=o?.[t],n=i?ra(i):null,a=r?.[t];n&&a?.set((0,g.qL)(n,e))}))}))));s.observe(a,{childList:!0,subtree:!0}),n.observer=s;let l=new g.yU;i.forEach((e=>{o&&l.add(o[e].subscribe((t=>{let i=r?.[e];t&&t.isDisplayed?i?.set((0,g.qL)(t,Eu(a,this.shadowRootContainer))):i?.set(!1)})))})),n.subs=l}async findSlotElement(e,t,i){return new Promise((n=>{let a=null,o=new MutationObserver((()=>{if(a=e.querySelector(`#${t}`),a){o.disconnect();let e=this.slots.get(i);e&&(e.observerForFindingSlotElement=void 0),n(a)}}));o.observe(e,{childList:!0,subtree:!0});let r=this.slots.get(i);r&&(r.observerForFindingSlotElement=o)}))}remove(e){let t=this.slots.get(e);if(!t)return;let{rootElement:i,observer:n,observerForFindingSlotElement:a,subs:o,options:{controlsBehaviour:r,hideAllControls:s}}=t;i&&i.remove(),[n,a].forEach((e=>e?.disconnect())),o?.unsubscribe(),this.slots.delete(e),s&&this.store?.ui.isControlsAvailable.set(!0),r?.controlsToObserve?.forEach((e=>{this.store?.ui.hiddenControls[e]?.set(!1)}))}destroy(){for(let e in this.slots.keys())this.remove(e);this.slots.clear()}haveSlots(){return this.slots.size>0}constructor(){this.slots=new Map}},Vg=Ci('<div class="container s-4"><!></div>'),Rg={hash:"s-4",code:".container.s-4{align-items:center;animation-fill-mode:forwards;animation-name:s-4-videoPlayerStatusIconPopup;background-color:#00000073;border-radius:100%;display:flex;height:64px;justify-content:center;width:64px;will-change:opacity,scale}@keyframes s-4-videoPlayerStatusIconPopup{0%{opacity:0;scale:.6}10%{animation-timing-function:ease-in;opacity:1;scale:1}75%{opacity:1;scale:1}90%{animation-timing-function:ease-out;opacity:0;scale:.4}to{opacity:0;scale:0}}"};function Bg(e,t){ne(t,!0),gn(e,Rg);let i=ma(t,"reversed",3,!1);var n=Ai();Ji(Xe(n),(()=>t.Icon),(e=>{var n=Vg();pn(Ge(n),(()=>t.Icon),((e,t)=>{t(e,{get size(){return"48"},get reversed(){return i()}})})),Fe(n),rt((()=>$n(n,`animation-duration: ${t.duration}ms`))),Pi(e,n)})),Pi(e,n),ae()}var Dg=Ci('<div class="container s-1i"><!></div>'),Ng={hash:"s-1i",code:".container.s-1i{align-items:center;display:flex;height:100%;justify-content:center;pointer-events:none;position:absolute;width:100%}"};function zg(e,t){ne(t,!0),gn(e,Ng);let[i,n]=ua(),a=()=>da(o,"$playbackState$",i),{state:{playbackState$:o,isPlaying$:r},ui:{previewTrackActive:s,previewTrackDragInProgress:l}}=Oa(),{features:{playbackStatusShow:d},playbackStatusAnimationDuration:u}=_a(),c=0,p=$e(null),h=$e(!1);nt((()=>{a()===v.wF.PLAYING?Se(p,Ys,!0):a()===v.wF.PAUSED?Se(p,hc,!0):Se(p,null)})),nt((()=>{if(d&&!da(s,"$previewTrackActive",i)&&!da(l,"$previewTrackDragInProgress",i))return c=window.setTimeout((()=>{c=0,Se(p,null)}),u),()=>{c&&(window.clearTimeout(c),c=0)}})),nt((()=>{da(r,"$isPlaying$",i)&&!di(h)&&(Se(h,!0),Se(p,null))}));var g=Ai(),m=Xe(g),f=e=>{var t=Dg();Bg(Ge(t),{get duration(){return u},get Icon(){return di(p)}}),Fe(t),Pi(e,t)};Zi(m,(e=>{di(p)&&d&&e(f)})),Pi(e,g),ae(),n()}var Og=Ci('<div><div data-testid="video-container"></div></div>'),Hg={hash:"s-d",code:".video-container.s-d,.video-wrapper.s-d{height:100%;left:0;position:absolute;top:0;width:100%}.video-wrapper.s-d{background:var(--black)}.video-container.s-d,.video-wrapper.s-d{z-index:var(--video-container-z-index)}.video-container.s-d{transition:var(--rotate-transition-duration) ease all}.video-container.fast-rotate.s-d{transition:none}.nocursor.s-d{cursor:none}"};function Fg(e,t){ne(t,!0),gn(e,Hg);let[i,n]=ua(),a=()=>da(l,"$rotateAlpha",i),o=()=>da(d,"$playerSize",i),r=ma(t,"videoContainer",15),{playerPhase:s,ui:{rotateAlpha:l,playerSize:d},state:{isPlaying$:u,chromecastConnected$:c}}=Oa(),{isSmoothVideoRotate:p}=_a(),h=ve((()=>r()&&a()%180?o().height/o().width:1));var v=Og();let g;v.__contextmenu=function(...e){t.onContextMenu?.apply(this,e)},v.__mousedown=function(...e){t.onMouseDown?.apply(this,e)},v.__mouseup=function(...e){t.onMouseUp?.apply(this,e)},v.__click=function(...e){t.onClick?.apply(this,e)},v.__dblclick=function(...e){t.onDblClick?.apply(this,e)};var m=Ge(v);let f;Zn(m,(e=>r(e)),(()=>r())),Fe(v),rt(((e,t)=>{g=xn(v,1,"video-wrapper s-d",null,g,e),f=xn(m,1,"video-container s-d",null,f,t),$n(m,`transform: rotate(${a()}deg) scale(${di(h)})`),Ln(m,"data-is-playing",da(u,"$isPlaying$",i))}),[()=>({hidden:"video"!==da(s,"$playerPhase",i)||da(c,"$chromecastConnected$",i),nocursor:t.hideCursor}),()=>({"fast-rotate":!p})]),Pi(e,v),ae(),n()}wi(["contextmenu","mousedown","mouseup","click","dblclick"]);var qg=Ci('<div><span class="text s-1k"> </span> <!></div>'),Ug={hash:"s-1k",code:".root.s-1k{background-color:var(--double-forward-bg);border-radius:100px;color:var(--white);display:flex;gap:4px;left:50%;opacity:0;padding:6px 12px;pointer-events:none;position:absolute;top:24px;transition:opacity var(--controls-transition-duration) var(--controls-transition-fn);visibility:hidden}.root.s-1k,.root.visible.s-1k{transform:translateX(-50%)}.root.visible.s-1k{opacity:1;visibility:visible}.text.s-1k{font-size:13px;font-weight:600;line-height:16px}"};var Wg=Ci('<div class="container s-1l" role="button" data-testid="preview-track-overlay"><div class="icon s-1l"><!></div></div>'),Qg={hash:"s-1l",code:".container.s-1l{background-color:rgba(0,0,0,.48);cursor:pointer;height:100%;position:absolute;width:100%}.container.s-1l,.icon.s-1l{align-items:center;display:flex;justify-content:center}.icon.s-1l{background-color:#00000073;border-radius:100%;height:64px;transition:transform .2s;transition-timing-function:ease-out;width:64px;will-change:transform}.container.s-1l:hover .icon:where(.s-1l){transform:scale(1.15)}"};function jg(e,t){ne(t,!1),gn(e,Qg);let i=Oa().actions.internal.closePreviewTrack,n=e=>{e.stopPropagation(),i()};Jn();var a=Wg();a.__click=n;var o=Ge(a);return Ys(Ge(o),{get size(){return"32"}}),Fe(o),Fe(a),Qn(3,a,(()=>Hc),(()=>({duration:200}))),Pi(e,a),function(e,t,i){var n=A(e,t);n&&n.set&&(e[t]=i,it((()=>{e[t]=null})))}(t,"handleClick",n),ae({handleClick:n})}wi(["click"]);var Kg=Ci('<div class="container s-1j"><div class="notification s-1j"><span class="text s-1j"> </span></div></div>'),Yg={hash:"s-1j",code:".container.s-1j{display:flex;justify-content:center;left:0;pointer-events:none;position:absolute;right:0;top:20px}.notification.s-1j{background-color:var(--black-alpha-40);border-radius:var(--notification-radius);padding:10px 16px}.text.s-1j{font-size:14px;font-weight:500;line-height:18px}"};var Gg=(e,t,i,n,a,o)=>{e.stopPropagation(),(t()||n())&&o()},Xg=Ci("<div><!></div>"),Zg=Ci('<div class="spherical-video-icon s-9"><!></div>'),Jg=Ci("<div><!></div>"),em=Ci('<div class="settings-menu s-9"><!></div>'),tm=Ci("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),im=Ci("<!> <!> <!>",1),nm=Ci('<div class="blocked s-9"></div>'),am=Ci('<div class="player-wrapper s-9"><!> <div class="overlay-container"></div></div> <!>',1),om={hash:"s-9",code:".blocked.s-9,.player-wrapper.s-9{height:100%;position:absolute;width:100%}.blocked.s-9{z-index:var(--overlay-container-z-index)}.player-wrapper.s-9 .player-media{background:var(--black);height:100%;left:0;position:absolute;top:0;transition:transform .2s ease-in-out;width:100%}.spherical-video-icon.s-9{display:inline-block;left:calc(50% - 38px);position:absolute;top:calc(50% - 23px)}.ads-container.s-9{background:var(--black);height:100%;left:0;position:absolute;top:0;width:100%;z-index:var(--ads-container-z-index)}.settings-menu.s-9{bottom:57px;left:0;position:absolute;right:18px;transition:opacity .2s;z-index:var(--settings-menu-z-index)}"};function rm(e,t){ne(t,!0),gn(e,om);let i,n,a,[o,r]=ua(),s=()=>da(le,"$playerPhase",o),l=()=>da(Pe,"$crashed",o),d=()=>da(ze,"$isInteractiveTime$",o),u=()=>da(pe,"$settingsMenuVisible",o),c=()=>da(ce,"$controlsVisible",o),p=()=>da(vt,"$graphIsOpened$",o),h=()=>da(de,"$isFullscreen",o),g=()=>da(tt,"$autoplayNextEnabled$",o),m=()=>da(we,"$isEnded$",o),f=()=>da(at,"$isControlsAvailable",o),b=()=>da(st,"$doubleForwardOn$",o),y=()=>da(St,"$bottomNoSmooth",o),_=()=>da(je,"$interactiveTimeIndicator",o),w=()=>da(Re,"$playerSize",o),x=()=>da(Be,"$is3DVideo",o),k=()=>da(be,"$contextMenuVisible$",o),$=()=>da(te,"$playbackState$",o),C=()=>da(me,"$scrubbingInProgress",o),S=()=>da(xe,"$chromecastConnected$",o),T=()=>da(Tt,"$controlsTimeoutActive",o),A=()=>da(he,"$settingsMenuOpenedByKeyboard",o),P=()=>da(yi,"$contextMenuOpenedByKeyboard$",o),E=()=>da(ki,"$contextMenuOpenedByHotKey$",o),I=()=>da(ee,"$language$",o),L=()=>da(re,"$position$",o),M=()=>da(se,"$duration$",o),V=ma(t,"videoContainer",15),R=ma(t,"adsSlotId",3,void 0),B=ma(t,"adsParams",3,void 0),D=ma(t,"adsAutoplayParam",3,void 0),N=ma(t,"duration",3,void 0),z=ma(t,"logoTargetUrl",3,""),O=ma(t,"showNextPrevButtons",3,!1),H=ma(t,"nextButtonActive",3,!1),F=ma(t,"prevButtonActive",3,!1),q=ma(t,"endScreenVideoTitle",3,void 0),U=ma(t,"endScreenVideoThumb",3,void 0),W=ma(t,"isOneVideoPlaylist",3,!1),Q=ma(t,"shadowRootContainer",3,void 0),j=ma(t,"outerContainerRef",3,void 0),K=ma(t,"playerStarted",3,!1),Y=ma(t,"fullScreenTarget",3,void 0),G=ma(t,"showMiniTimer",3,!1),X=ma(t,"showEndScreen",3,!0),Z=ma(t,"keyboardControls",15),J=t.store.getLogger().createComponentLog("Root component"),ee=t.store.interfaceLanguage$,te=t.store.state.playbackState$,oe=t.store.ads.playbackState,re=t.store.state.positionWithScrubbing$,se=t.store.state.duration$,le=t.store.playerPhase,de=t.store.ui.isFullscreen,ue=t.store.ui.isFullscreenOpenedByKeyboard,ce=t.store.ui.controlsVisible,pe=t.store.ui.settingsMenu.visible$,he=t.store.ui.settingsMenu.openedByBtnKeyboard$,me=t.store.ui.scrubbingInProgress,fe=t.store.ui.volumeChangingInProgress,be=t.store.ui.contextMenu.visible$,ye=t.store.ui.debugPanelVisible,_e=t.store.state.isLoaderVisible,we=t.store.state.isEnded$,xe=t.store.state.chromecastConnected$,ke=t.store.state.chromecastDeviceName$,Ce=t.store.ads.postrollPassed,Te=t.store.state.isLive$,Ae=t.store.state.isPlaying$,Pe=t.store.state.crashed$,Ee=t.store.webApi.annotationsApi,Ie=t.store.webApi.pictureInPictureApi,Le=t.store.state.currentSubtitle$,Me=t.store.state.currentSubtitleCaptions$,Re=t.store.ui.playerSize,Be=t.store.ui.is3DVideo,De=t.store.ui.icon3DVideoVisible,Ne=t.store.state.isInteractive,ze=t.store.state.isInteractiveTime$,Oe=t.store.state.isInteractiveExpectation$,He=t.store.state.hasInteractiveBranches,qe=t.store.ui.touched,Ue=t.store.ui.modals.hotKeyMap.data,We=t.store.ui.modals.hotKeyMap.show,Qe=t.store.ui.overlayContainer$,je=t.store.ui.controls.interactiveTimeIndicator,Ke=t.store.state.showInteractiveTimeIndicator,Ye=t.store.ui.contextMenu.position$,Je=t.store.actions.internal.setQuality,et=t.store.actions.internal.closeSettingsMenu,tt=t.store.ui.autoplayNextEnabled$,it=t.store.ui.userActionsDisabled,at=t.store.ui.isControlsAvailable,ot=t.store.ui.videoTitleInfo,st=t.store.ui.doubleForwardOn$,lt=t.store.ui.doubleForwardAvailable$,dt=t.store.ui.previewTrackNotificationVisible,ut=t.store.actions.internal.getVideoElement,ct=t.store.actions.internal.checkFullscreenSupport,{fakeIsPlaying$:pt,notifications$:ht,graphIsOpened$:vt}=Ha(),gt=$e(void 0),mt=$e(void 0),ft=$e(void 0),bt=$e(void 0);Ue.set({title:Oo("hotkey_map_modal_title"),closeBtnText:Oo("hotkey_map_modal_close_btn_text"),groups:[{title:Oo("hotkey_map_group_title_common"),items:[{description:Oo("hotkey_map_item_mute_description"),value:Oo("hotkey_map_item_mute_value")},{description:Oo("hotkey_map_item_volume_up_description"),value:Oo("hotkey_map_item_volume_up_value")},{description:Oo("hotkey_map_item_volume_down_description"),value:Oo("hotkey_map_item_volume_down_value")},{description:Oo("hotkey_map_item_pip_description"),value:Oo("hotkey_map_item_pip_value")},{description:Oo("hotkey_map_item_full_screen_description"),value:Oo("hotkey_map_item_full_screen_value")},{description:Oo("hotkey_map_item_show_context_menu_description"),value:Oo("hotkey_map_item_show_context_menu_value")},{description:Oo("hotkey_map_item_show_hotkey_map_description"),value:Oo("hotkey_map_item_show_hotkey_map_value")}]},{title:Oo("hotkey_map_group_title_playback"),items:[{description:Oo("hotkey_map_item_play_toggle_description"),value:Oo("hotkey_map_item_play_toggle_value")},{description:Oo("hotkey_map_item_seek_backward_description"),value:Oo("hotkey_map_item_seek_backward_value")},{description:Oo("hotkey_map_item_seek_forward_description"),value:Oo("hotkey_map_item_seek_forward_value")},{description:Oo("hotkey_map_item_fast_seek_backward_description"),value:Oo("hotkey_map_item_fast_seek_backward_value")},{description:Oo("hotkey_map_item_fast_seek_forward_description"),value:Oo("hotkey_map_item_fast_seek_forward_value")},{description:Oo("hotkey_map_item_rate_down_description"),value:Oo("hotkey_map_item_rate_down_value")},{description:Oo("hotkey_map_item_rate_up_description"),value:Oo("hotkey_map_item_rate_up_value")},{description:Oo("hotkey_map_item_prev_frame_description"),value:Oo("hotkey_map_item_prev_frame_value")},{description:Oo("hotkey_map_item_next_frame_description"),value:Oo("hotkey_map_item_next_frame_value")},{description:Oo("hotkey_map_item_jump_seek_description"),value:Oo("hotkey_map_item_jump_seek_value")},{description:Oo("hotkey_map_item_next_video_description"),value:Oo("hotkey_map_item_next_video_value")},{description:Oo("hotkey_map_item_prev_video_description"),value:Oo("hotkey_map_item_prev_video_value")}]},{title:Oo("hotkey_map_group_title_subtitles"),items:[{description:Oo("hotkey_map_item_subtitles_toggle_description"),value:Oo("hotkey_map_item_subtitles_toggle_value")}]},{title:Oo("hotkey_map_group_title_episodes"),items:[{description:Oo("hotkey_map_item_prev_episode_description"),value:v.zl.device.isApple?Oo("hotkey_map_item_prev_episode_mac_value"):Oo("hotkey_map_item_prev_episode_pc_value")},{description:Oo("hotkey_map_item_next_episode_description"),value:v.zl.device.isApple?Oo("hotkey_map_item_next_episode_mac_value"):Oo("hotkey_map_item_next_episode_pc_value")}]}]});let yt,{closeNotification:_t,notificationsToShow$:wt}=ht,xt=ve((()=>!!da(wt,"$notificationsToShow$",o).slow_video)),kt=()=>_t("slow_video"),$t=ve((()=>("video"===s()&&da(_e,"$isLoaderVisible",o)||"ads"===s()&&"inactive"===da(oe,"$adPlaybackState",o))&&!l())),Ct=$e(void 0),St=aa(!1),Tt=aa(!1),At=aa(),Pt=aa(!1),Et=$e(!1),It=$e(!1),Lt=$e(!1),Mt=$e(!(t.autoplay&&!t.uiConfig.controls.showOnStartupAtAutoplay)),Vt=ve((()=>d()&&!u()&&!(di(Et)||di(It))&&!(di(Lt)&&!da(Oe,"$isInteractiveExpectation$",o)))),Rt=!0,Bt=ve((()=>t.uiConfig.features.thumbTimer&&G()&&"video"===s()&&!c()&&!l()&&!Ne&&(t.uiConfig.hideThumbTimerAfterTouch&&!da(qe,"$touched",o)||!t.uiConfig.hideThumbTimerAfterTouch))),Dt=t.uiConfig.titleShowBehaviour,Nt=ve((()=>!(!["video","thumb"].includes(s())||"never"===Dt||p())&&("fullscreen"!==Dt||h()))),zt=ve((()=>"always"!==Dt&&"thumb"!==s()&&!c())),Ot=$e(!1),Ht=ve((()=>(X()||t.showAutoplayNext&&g())&&!!q()&&!!U()&&(t.showAds&&da(Ce,"$postrollPassed",o)||!t.showAds)&&m()&&!l()&&!di(Ot))),Ft=ve((()=>da(Pt,"$cursorInside",o)&&!(c()||di(Ht))&&!d()&&f()&&!b())),qt=$e(!1),Ut=ve((()=>null!==da(pt,"$fakeIsPlaying$",o))),{toggle:Wt}=pt,Qt=!1,jt=null;Ie?.setContext(ie());t.store.setUiCallbacks({onStarted:()=>{t.autoplay&&!Ne&&t.uiConfig.controls.showOnStartupAtAutoplay&&Yt(t.uiConfig.controls.hideTimeout)}});let Kt=()=>{window.clearTimeout(i),Tt.set(!1)},Yt=e=>{Kt(),Tt.set(!0),i=window.setTimeout((()=>Tt.set(!1)),e);let t=e-100;yt=window.setTimeout((()=>{y()&&St.set(!1)}),t>0?t:e)},Gt=(e,t)=>{window.clearTimeout(n),At.set(null),At.set(t),n=window.setTimeout((()=>At.set(null)),e)},Xt=Be.subscribe((e=>{De.set(e),e&&(window.clearTimeout(a),a=window.setTimeout((()=>De.set(!1)),t.uiConfig.controls.hide360IconTimeout))})),Zt=async()=>{let e=or();if(e){let t=ar();e=t===ti()||t===Q()}if(e){Yt(t.uiConfig.controls.hideTimeoutFullscreen);try{await(Ie?.exit())}catch(e){J({message:String(e)})}}de.set(e),t.store.getAdmanWrapper().setFullscreen(e),h()?t.store.callbacks?.onFullscreenEnter?.():t.store.callbacks?.onFullscreenExit?.()},Jt=e=>{let{width:t,height:i}=e.target;Re.set({width:t,height:i})},ei=()=>{let{width:e,height:t}=di(gt).getBoundingClientRect();Re.set({width:e,height:t})};Yi((()=>(rr(Zt),t.uiConfig.features.annotationsInside&&Ee?.init(di(gt)),dr(Ie)&&(Ie?.assignPlayerContainer(di(gt)),Ie?.setExternalEventHandlers({resize:Jt,leavepictureinpicture:ei})),t.interactiveContainer&&V().parentElement?.insertBefore(t.interactiveContainer,V().nextSibling),()=>{window.clearTimeout(i),window.clearTimeout(yt),window.clearTimeout(n),window.clearTimeout(a),Xt(),Ie?.dispose().catch((e=>{J({message:String(e)})})),sr(Zt)})));let ti=()=>{let e=t.uiConfig.features.fullscreenInternalTargetPlayerContainer||!j()?di(gt):j(),i=e.getRootNode(),n=i instanceof ShadowRoot?i.host:i,a=Y()instanceof HTMLElement&&Y().contains(n);return t.uiConfig.allowChangingFullscreenTarget&&Y()&&a?Y():e},ii=()=>{be.set(!1)},ni=()=>{et(),ii()},ai=async()=>{ct()?(ii(),or()?(await nr(document),J({message:"exit fullscreen"})):(J({message:"request fullscreen"}),await ir(ti()))):J({message:"fullscreen disabled"})},oi=e=>{p()||(e.preventDefault(),be.set(!0),Ye.set({left:e.clientX,top:e.clientY}))};function ri(e){return e?e.offsetTop+ri(e.offsetParent):0}function si(e){return e?e.offsetLeft+si(e.offsetParent):0}function ci(e){if(_()&&Ke){let t=e.currentTarget,i=ri(t),n=si(t),a=e.pageX-n,o=e.pageY-i,{left:r,bottom:s,right:l}=_(),d=l-r;return a>=r-d&&o<=s+d}}let pi=null,hi=()=>{pi=window.setTimeout((()=>{t.store.actions.internal.changeDoubleForwardOn(!0),Kt()}),t.uiConfig.doubleForwardActivationTime)},vi=()=>{t.store.actions.internal.changeDoubleForwardOn(!1),pi&&clearTimeout(pi),pi=null},gi=e=>{e.preventDefault(),0===e.button&&(Qt=!0,t.store.actions.internal.holdCamera(),da(lt,"$doubleForwardAvailable$",o)&&hi()),!Qt&&Yt(t.uiConfig.controls.hideTimeoutCursor)},mi=e=>{e.preventDefault(),0===e.button&&(jt=e,Qt=!1,t.store.actions.internal.releaseCamera()),!b()&&Yt(t.uiConfig.controls.hideTimeoutCursor)},fi=e=>{e.preventDefault(),J({message:"double click on video"}),ai(),Yt(t.uiConfig.controls.hideTimeoutCursor)},bi=e=>{if(e.preventDefault(),b())vi();else if(pi&&vi(),k()||u())ni();else if(!m()||He){if(di(Ut))return Wt();if(Z()?.focus(),!K())return t.firstStart(),void Yt(t.uiConfig.controls.hideTimeoutCursor);(!t.uiConfig.preventPauseOnVideoClick||$()!==v.wF.PLAYING)&&t.store.actions.internal.togglePlay(),Yt(t.uiConfig.controls.hideTimeoutCursor)}},yi=t.store.ui.contextMenu.openedByBtnKeyboard$,wi=t.store.ui.contextMenu.btnRef$,xi=$e(void 0),ki=t.store.ui.contextMenu.openedByHotKey$,$i=t.store.ui.contextMenu.lastActiveElem$,Ci=$e(!1),Si=t.store.ui.previewTrackActive;nt((()=>{Qe.set(di(Ct))})),nt((()=>{Se(Lt,di(Mt)&&$()!==v.wF.PLAYING,!0),di(Mt)||ui((()=>Se(Mt,!0)))})),nt((()=>{let e=(di(Lt)||m()||u()||C()||da(fe,"$volumeChangingInProgress",o)||S()||T()||di(Ci))&&!di(Vt)&&("video"===s()||"ads"===s())&&!l()&&f();ce.set(e),!e&&!T()&&di(ft)?.contains(ll())&&Z()?.focus()})),nt((()=>{!C()&&di(qt)&&!d()&&Yt(t.uiConfig.controls.hideTimeoutCursor),ui((()=>Se(qt,C(),!0)))})),nt((()=>{di(bt),u(),A(),ui((()=>Kr(di(bt),u(),A())))})),nt((()=>{di(xi),k(),P(),E(),ui((()=>{let e=P()||E();Kr(di(xi),k(),e)}))})),nt((()=>{let e=da(wi,"$contextMenuButtonRef$",o);e&&(k(),ui((()=>jr(e,k(),yi))))})),nt((()=>{let e=da($i,"$contextMenuLastActiveElem$",o);e&&(k(),ui((()=>(async(e,t,i)=>{await li(),e&&!t&&ra(i)&&(i.set(!1),e.focus())})(e,k(),ki))))})),nt((()=>{!da(ue,"$isFullscreenOpenedByKeyboard",o)&&h()&&(ui((()=>ue.set(!1))),Z()?.focus())})),nt((()=>{p()&&ni()}));let Ti=$e(void 0),Ai=e=>{ot.set(Ru(ut(),{title:di(Ti)},"title",e))},Ei=(e,i)=>{let n=t.store.callbacks?.uiInfo?.onUpcomingLiveViewStateChanged;if(!n)return;let a=!!i;n({...Ru(di(gt),{upcomingLiveScreen:i},"upcomingLiveScreen",a),...e})};var Ii=am();_i("blur",Ve,ni);var Li=Xe(Ii);Li.__mousemove=function(e){(function(e){if(di(gt)){let t=ri(e.currentTarget),i=w().height,n=e.pageY-t;if(ci(e))return void Se(It,!1);n<40?Se(It,!0):n>i-40?Se(Et,!0):(Se(It,!1),u()||Se(Et,!1))}})(e),!di(Vt)&&!b()&&Yt(t.uiConfig.controls.hideTimeoutCursor),x()&&Qt&&jt&&t.store.actions.internal.moveCameraFocusPX(jt.clientX-e.clientX,jt.clientY-e.clientY,e.timeStamp-jt.timeStamp),jt=e};var Mi=Ge(Li);let Vi=ve((()=>"ads"===s())),Ri=ve((()=>di(Ut)?Wt:void 0));Zn(pl(Mi,{startDoubleForwardActivationTimer:hi,stopDoubleForward:vi,toggleFullscreen:ai,hideContextMenu:ni,showHotKeyHelpers:e=>{ni(),qe.set(!0),Yt(t.uiConfig.controls.hideTimeout),e&&Gt(t.uiConfig.controls.hideHotKeyHelpers,e)},showKeyMap:()=>{ni(),t.store.callbacks?.onOpenHotKeyMap?t.store.callbacks?.onOpenHotKeyMap(da(Ue,"$hotKeyMapData",o)):We.update((e=>!e))},get isAds(){return di(Vi)},get fakePlayButtonHandler(){return di(Ri)},get nextButtonActive(){return H()},get prevButtonActive(){return F()},children:(e,i)=>{var n=im(),a=Xe(n);Fg(a,{get hideCursor(){return di(Ft)},onClick:bi,onContextMenu:oi,onMouseDown:gi,onMouseUp:mi,onDblClick:fi,get videoContainer(){return V()},set videoContainer(e){V(e)}});var r=Ze(a,2);hn(r,(()=>"slot"),!1,((e,t)=>{Mn(e,(()=>({name:Lg})))})),Ji(Ze(r,2),I,(e=>{var i=tm(),n=Xe(i);let a=ve((()=>"thumb"!==s()||l()||Ne&&t.autoplay));Ch(n,{get hidden(){return di(a)},get thumbUrl(){return t.thumbUrl},get startVideo(){return t.firstStart},onContextMenu:oi,onClick:ii});var r=Ze(n,2),d=e=>{jg(e,{})};Zi(r,(e=>{da(Si,"$previewTrackActive$",o)&&e(d)}));var p=Ze(r,2);zg(p,{});var v=Ze(p,2);!function(e,t){ne(t,!0),gn(e,Ug);let{ui:{t:i}}=Oa();var n=qg();let a;var o=Ge(n),r=Ge(o,!0);Fe(o),Kp(Ze(o,2),{get size(){return"16"},fill:"currentColor"}),Fe(n),rt(((e,t)=>{a=xn(n,1,"root s-1k",null,a,e),Hi(r,t)}),[()=>({visible:t.isVisible}),()=>i("double_forward_label")]),Pi(e,n),ae()}(v,{get isVisible(){return b()}});var m=Ze(v,2),f=e=>{let i=ve((()=>t.live?.startTime));Fh(e,{get thumbUrl(){return t.thumbUrl},get startTime(){return di(i)},onUpcomingLiveViewStateChanged:Ei,onContextMenu:oi,onClick:ii})};Zi(m,(e=>{"LiveWaitingStart"===s()&&e(f)}));var _=Ze(m,2),$=e=>{Wh(e,{kind:"recover",get thumbUrl(){return t.thumbUrl},onContextMenu:oi,onClick:ii})};Zi(_,(e=>{"LiveWaitingRecover"===s()&&e($)}));var C=Ze(_,2),T=e=>{Wh(e,{kind:"record",get thumbUrl(){return t.thumbUrl},onContextMenu:oi,onClick:ii})};Zi(C,(e=>{"LiveWaitingRecord"===s()&&e(T)}));var A=Ze(C,2),P=e=>{var i=Xg();let n;kr(Ge(i),{get adsSlotId(){return R()},get adsParams(){return B()},get adsAutoplayParam(){return D()},get duration(){return N()},get adsExternalApi(){return t.adsExternalApi}}),Fe(i),rt((e=>n=xn(i,1,"ads-container s-9",null,n,e)),[()=>({hidden:"ads"!==s()})]),Pi(e,i)};Zi(A,(e=>{t.showAds&&K()&&e(P)}));var E=Ze(A,2),I=e=>{let i=ve((()=>!X()&&t.showAutoplayNext&&g()));il(e,{get title(){return q()},get thumb(){return U()},get isHide(){return di(i)},clickCloseIcon:()=>Se(Ot,!0)})};Zi(E,(e=>{di(Ht)&&q()&&U()&&e(I)}));var V=Ze(E,2),Q=e=>{let i=ve((()=>h()?"md":"sm")),n=ve((()=>t.store.callbacks?.onTitleClicked));!function(e,t){ne(t,!0),gn(e,Eh);let i=e=>{var i=Sh(),a=Ge(i,!0);Fe(i),Zn(i,(e=>r(e)),(()=>r())),rt((()=>Hi(a,n()))),_i("mouseenter",i,(function(...e){t.onMouseEnter?.apply(this,e)})),_i("mouseleave",i,(function(...e){t.onMouseLeave?.apply(this,e)})),Pi(e,i)},n=ma(t,"title",3,""),a=ma(t,"isHidden",3,!1),o=ma(t,"size",3,"md"),r=ma(t,"ref",15),s=$e(void 0);Yi((()=>{function e(e){"transform"===e.propertyName&&t.onVisibilityChanged?.(!a())}return requestAnimationFrame((()=>{t.onVisibilityChanged?.(!0)})),di(s)?.addEventListener("transitionend",e),()=>di(s)?.removeEventListener("transitionend",e)}));let l=t.getVideoDeeplink?.();var d=Ph();let u;var c=Ge(d),p=e=>{var n=Ah();n.__click=[Th,t];var a=Ge(n);i(a),Fe(n),rt((()=>Ln(n,"href",l||""))),Pi(e,n)},h=e=>{i(e)};Zi(c,(e=>{l||t.onTitleClicked?e(p):e(h,!1)})),Fe(d),Zn(d,(e=>Se(s,e)),(()=>di(s))),rt((e=>u=xn(d,1,`title size-${o()}`,"s-1h",u,e)),[()=>({hidden:a()})]),Pi(e,d),ae()}(e,{get title(){return t.title},get getVideoDeeplink(){return t.getVideoDeeplink},get isHidden(){return di(zt)},onVisibilityChanged:Ai,onMouseEnter:()=>{Se(Ci,!0)},onMouseLeave:()=>{Se(Ci,!1)},get size(){return di(i)},get onTitleClicked(){return di(n)},get ref(){return di(Ti)},set ref(e){Se(Ti,e,!0)}})};Zi(V,(e=>{di(Nt)&&e(Q)}));var j=Ze(V,2),Y=e=>{let t=ve((()=>"video"===s()&&c()));oh(e,{get isShifted(){return di(t)}})};Zi(j,(e=>{x()&&e(Y)}));var G=Ze(j,2),J=e=>{var t=Zg();Fo(Ge(t),{}),Fe(t),Pi(e,t)};Zi(G,(e=>{da(De,"$icon3DVideoVisible",o)&&e(J)}));var ee=Ze(G,2),te=e=>{fh(e,{get thumbUrl(){return t.thumbUrl},get chromecastDeviceName(){return da(ke,"$chromecastDeviceName$",o)},onClick:bi,onContextMenu:oi,onDblClick:fi})};Zi(ee,(e=>{S()&&e(te)}));var ie=Ze(ee,2),oe=e=>{hh(e,{get shifted(){return c()},get captions(){return da(Me,"$currentSubtitleCaptions$",o)},get position(){return L()},get playerSize(){return w()}})};Zi(ie,(e=>{"off"!==da(Le,"$currentSubtitle$",o).value&&e(oe)}));var re=Ze(ie,2),se=e=>{var t=Jg();t.__contextmenu=oi,t.__click=[Gg,k,be,u,pe,ni],wh(Ge(t)),Fe(t),Pi(e,t)};Zi(re,(e=>{l()&&e(se)}));var le=Ze(re,2),de=e=>{let i=ve((()=>"thumb"===s()||"LiveWaitingStart"===s()||"LiveWaitingRecover"===s()||"LiveWaitingRecord"===s())),n=ve((()=>"ads"===s())),a=ve((()=>t.canRewindLive&&0!==M()));Qp(e,{get bottomHidden(){return di(i)},get bottomNoSmooth(){return y()},get showControls(){return c()},get isAds(){return di(n)},get canRewindLive(){return di(a)},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return z()},get showAutoplayNext(){return t.showAutoplayNext},get showNextPrevButtons(){return O()},get nextButtonActive(){return H()},get prevButtonActive(){return F()},get isOneVideoPlaylist(){return W()},customFullscreenSupported:Rt,toggleFullscreen:ai,get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},get playerControlsWrapperRef(){return di(mt)},set playerControlsWrapperRef(e){Se(mt,e,!0)},get playerControlsRef(){return di(ft)},set playerControlsRef(e){Se(ft,e,!0)}})};Zi(le,(e=>{K()&&e(de)}));var ue=Ze(le,2),ce=e=>{var i=em(),n=Ge(i);let a=ve((()=>di(ft)?.clientHeight));Sg(n,{get supportLink(){return t.supportLink},get playerControlsHeight(){return di(a)},returnFocus:()=>Z()?.focus(),get ref(){return di(bt)},set ref(e){Se(bt,e,!0)}}),Fe(i),Pi(e,i)};Zi(ue,(e=>{!S()&&"ads"!==s()&&e(ce)}));var he=Ze(ue,2);let me=ve((()=>!di(Bt)));Dr(he,{get isLive(){return da(Te,"$isLive$",o)},get isHidden(){return di(me)},get isPlaying(){return da(Ae,"$isPlaying$",o)},get position(){return L()},get duration(){return M()}});var fe=Ze(he,2);eh(fe,{get data(){return At}});var _e=Ze(fe,2);bs(_e,{get supportLink(){return t.supportLink},returnFocus:()=>Z()?.focus(),get visible(){return k()},get playerContainerRef(){return di(gt)},get position(){return da(Ye,"$contextMenuPosition$",o)},get menuElementRef(){return di(xi)},set menuElementRef(e){Se(xi,e,!0)}});var we=Ze(_e,2),xe=e=>{Ig(e,{onClose:kt,onSelectAutoQuality:()=>{Je("auto"),kt()}})};Zi(we,(e=>{di(xt)&&e(xe)}));var Ce=Ze(we,2),Pe=e=>{!function(e,t){ne(t,!1),gn(e,Yg);let{ui:{t:i}}=Oa();Jn();var n=Kg(),a=Ge(n),o=Ge(a),r=Ge(o,!0);Fe(o),Fe(a),Fe(n),rt((e=>Hi(r,e)),[()=>i("preview_track_notification_text")],ge),Qn(3,a,(()=>Hc),(()=>({duration:340}))),Pi(e,n),ae()}(e,{})};Zi(Ce,(e=>{da(dt,"$previewTrackNotificationVisible$",o)&&e(Pe)}));var Ee=Ze(Ce,2),Ie=e=>{gl(e,{})};Zi(Ee,(e=>{di($t)&&e(Ie)}));var Ve=Ze(Ee,2),Re=e=>{Il(e,{})};Zi(Ve,(e=>{da(We,"$showHotKeyMap",o)&&e(Re)}));var Be=Ze(Ve,2),ze=e=>{Fs(e,{})};Zi(Be,(e=>{da(ye,"$debugPanelVisible",o)&&e(ze)})),Pi(e,i)})),Pi(e,n)},$$slots:{default:!0}}),(e=>Z(e)),(()=>Z())),Zn(Ze(Mi,2),(e=>Se(Ct,e)),(()=>di(Ct))),Fe(Li),Zn(Li,(e=>Se(gt,e)),(()=>di(gt)));var Bi=Ze(Li,2),Di=e=>{Pi(e,nm())};Zi(Bi,(e=>{da(it,"$userActionsDisabled$",o)&&e(Di)})),_i("mouseenter",Li,(function(){Pt.set(!0),Ne||Yt(t.uiConfig.controls.hideTimeoutCursor)})),_i("mouseleave",Li,(function(){Pt.set(!1),Se(It,!1),Se(Et,!1),Qt=!1,t.store.actions.internal.releaseCamera(),Yt(t.uiConfig.controls.hideTimeout),b()&&vi()})),_i("click",Li,(()=>{qe.set(!0)}),!0),_i("focusin",Li,(function(e){let{relatedTarget:i}=e,n=!(!i||!di(ft)?.contains(i))&&Z()?.isFocused();!Ne&&!n&&(St.set(!0),Yt(t.uiConfig.controls.hideTimeoutCursor))}),!0),Pi(e,Ii),ae(),r()}wi(["mousemove","contextmenu","click"]);var sm=Ci('<div></div> <div class="info s-h"><div class="triangles-wrapper s-h"><div></div> <div></div> <div></div></div> <p class="step-caption s-h"> </p></div>',1),lm=Ci("<div><!></div>"),dm={hash:"s-h",code:".double-click-area.s-h{height:100%;overflow:hidden;position:absolute;top:0;width:25%}.double-click-area.left.s-h{left:0}.double-click-area.right.s-h{right:0}.semicircle.s-h{background-color:rgba(0,0,0,.5);height:100%;position:absolute;top:0;width:100%}.semicircle.left.s-h{border-bottom-right-radius:50%;border-top-right-radius:50%;left:0}.semicircle.right.s-h{border-bottom-left-radius:50%;border-top-left-radius:50%;right:0}.info.s-h{align-items:center;flex-direction:column;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.info.s-h,.triangles-wrapper.s-h{display:flex;justify-content:center}.triangles-wrapper.s-h{margin-bottom:10px;position:relative}.triangle.s-h{animation:s-h-blink .5s infinite;border-bottom:6px solid transparent;border-top:6px solid transparent;height:0;opacity:0;width:0}.triangle.left.s-h:nth-child(3),.triangle.right.s-h:first-child{animation-delay:0s}.triangle.left.s-h:nth-child(2),.triangle.right.s-h:nth-child(2){animation-delay:.1s}.triangle.left.s-h:first-child,.triangle.right.s-h:nth-child(3){animation-delay:.2s}@keyframes s-h-blink{0%{opacity:0}50%{opacity:1}to{opacity:0}}.triangle.left.s-h{border-right:8px solid var(--white)}.triangle.right.s-h{border-left:8px solid var(--white)}.triangle.s-h:not(:last-child){margin-right:5px}.step-caption.s-h{color:var(--white);font-size:12px;line-height:1;margin:0;text-align:center}"};function um(e,t){ne(t,!0),gn(e,dm);let i=ma(t,"seekStep",3,0),n=$e(!1),a=0,o=0,r=$e(le(i()));Gi((()=>{window.clearTimeout(a)}));var s=lm();s.__click=e=>{e.stopPropagation(),o+=1,Se(r,i()*(o-1)),1===o?t.handleSingleFirstClick(e):(Se(n,!0),t.handleSecondClick()),window.clearTimeout(a),a=window.setTimeout((()=>{o=0,Se(n,!1)}),300)};var l=Ge(s),d=e=>{var i=sm(),n=Xe(i),a=Ze(n,2),o=Ge(a),s=Ge(o),l=Ze(s,2),d=Ze(l,2);Fe(o);var u=Ze(o,2),c=Ge(u,!0);Fe(u),Fe(a),rt((e=>{xn(n,1,`semicircle ${t.side??""}`,"s-h"),xn(s,1,`triangle ${t.side??""}`,"s-h"),xn(l,1,`triangle ${t.side??""}`,"s-h"),xn(d,1,`triangle ${t.side??""}`,"s-h"),Hi(c,e)}),[()=>Oo("doubletap_seek_step",{seconds:di(r).toFixed(0)})]),Pi(e,i)};Zi(l,(e=>{di(n)&&e(d)})),Fe(s),rt((()=>xn(s,1,`double-click-area ${t.side??""}`,"s-h"))),Pi(e,s),ae()}wi(["click"]);var cm=(e,t,i)=>{t(!1),i()},pm=Ci('<div class="overlay s-k"></div> <div class="next-video s-k"><div class="top s-k"><div class="caption s-k"> </div> <!></div> <div class="row s-k"><div class="column s-k"><div class="thumb s-k"><div></div> <!></div></div> <div class="column s-k"><div class="title s-k"> </div></div></div></div>',1),hm={hash:"s-k",code:".overlay.s-k{background:rgba(0,0,0,.72);height:100%;position:absolute;width:100%}.next-video.s-k{display:flex;flex-direction:column;left:50%;margin:0 auto;max-width:362px;min-width:320px;padding-bottom:12px;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:var(--end-screen-mobile-z-index)}.top.s-k{display:flex;justify-content:space-between}.caption.s-k{color:var(--white);font-size:11px;font-weight:700;opacity:.8;text-transform:uppercase}.row.s-k{background:rgba(48,48,48,.8);cursor:pointer;display:flex;flex-direction:row;height:102px;margin-top:6px;width:100%}.column.s-k{display:flex;flex-basis:50%;flex-direction:column}.thumb.s-k{align-items:center;background:no-repeat 50%;background-size:cover;display:flex;justify-content:space-around;position:relative}.thumb.s-k,.thumb-overlay.s-k{height:100%;width:100%}.thumb-overlay.s-k{position:absolute}.thumb-overlay.withOpacity.s-k{background:var(--black);opacity:.3}.title.s-k{color:var(--white);font-size:12px;font-weight:700;line-height:1.6;max-height:52px;overflow:hidden;padding:10px 16px}"};function vm(e,t){ne(t,!0),gn(e,hm);let[i,n]=ua(),a=()=>da(r,"$autoplayNextEnabled$",i),o=Oa(),r=o.ui.autoplayNextEnabled$,s=o.ui.timerNextVideoRunning$,l=o.actions.internal.nextVideoClick,d=o.actions.internal.nextVideoAnnouncementShow,u=o.actions.internal.nextVideoAnnouncementClick,c=o.actions.internal.nextVideoAnnouncementAuto,p=o.actions.internal.nextVideoAnnouncementCancel,h=()=>{l(!1),c()},v=()=>{t.clickCloseIcon(),p()};Yi((()=>{t.isHide||d(),t.isHide&&a()&&(l(!1),c())}));var g=Ai(),m=Xe(g),f=e=>{var n=pm(),o=Ze(Xe(n),2),r=Ge(o),d=Ge(r),c=Ge(d,!0);Fe(d),Qs(Ze(d,2),{onClick:v}),Fe(r);var p=Ze(r,2);p.__click=[cm,l,u];var g=Ge(p),m=Ge(g),f=Ge(m);let b;var y=Ze(f,2),_=e=>{Zs(e,{get isRunning(){return da(s,"$timerNextVideoRunning$",i)},onTimerEnded:h})};Zi(y,(e=>{a()&&e(_)})),Fe(m),Fe(g);var w=Ze(g,2),x=Ge(w),k=Ge(x,!0);Fe(x),Fe(w),Fe(p),Fe(o),rt(((e,i)=>{Hi(c,e),$n(m,`background-image: url('${t.thumb}')`),b=xn(f,1,"thumb-overlay s-k",null,b,i),Hi(k,t.title)}),[()=>a()?Oo("end_screen_next_video"):Oo("end_screen_recommended_video"),()=>({withOpacity:a()})]),Pi(e,n)};Zi(m,(e=>{t.isHide||e(f)})),Pi(e,g),ae(),n()}wi(["click"]);var gm=class{getTracksArray(){return Array.from(this.video.getElementsByTagName("track"))}attach(e,t=!1){let i=document.createElement("track");i.setAttribute("src",e.url),i.setAttribute("id",e.id),e.label&&i.setAttribute("label",e.label),e.language&&i.setAttribute("srclang",e.language),t&&(i.track.mode="showing"),this.video.appendChild(i)}detachAll(){for(let e of this.getTracksArray())this.video.removeChild(e)}updateSrc(e){let t=this.getTracksArray().find((t=>t.id===e.id));t&&(t.src=e.url)}getCurrentShowingId(){return this.getTracksArray().find((e=>"showing"===e.track.mode))?.id??null}constructor(e){this.video=e}},mm=({store:e,getFullscreenTarget:t})=>{let{isFullscreen:i}=e.ui,{setSubtitle:n}=e.actions.internal,{currentSubtitle$:a,availableSubtitlesList$:o,currentFormat$:r,availableTextTracks$:s}=e.state,l=null,d=()=>{l?.(),l=null},u=e=>{if(d(),!v.zl.device.isIOS||ra(r)!==v.T4.DASH_LIVE_CMAF||!e)return;let i=t().querySelector("video");if(!i)return;let u=new gm(i),c=ra(s),p=ra(o),h=ra(a);for(let e of c)p.some((t=>t.value===e.id))&&u.attach(e,h.value===e.id);let g=s.subscribe((e=>{for(let t of e)u.updateSrc(t)})),m=()=>{let e=u.getCurrentShowingId();n(ra(o).find((t=>t.value===e)))};i.textTracks.addEventListener("change",m),l=()=>{g(),u.detachAll(),i.textTracks.removeEventListener("change",m)}};Yi((()=>i.subscribe(u))),Gi(d)},fm=(e,t,i,n)=>{e.stopPropagation(),t()&&n()},bm=Ci("<!> <!>",1),ym=Ci("<div><!></div>"),_m=Ci('<div class="spherical-video-icon s-8"><!></div>'),wm=Ci("<div><!></div>"),xm=Ci('<div class="settings-mobile s-8"><!></div>'),km=Ci("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),$m=Ci('<div class="player-wrapper s-8" role="region" tabindex="-1"><!> <!> <!> <div class="overlay-container"></div></div>'),Cm={hash:"s-8",code:".player-wrapper.s-8{height:100%;position:absolute;width:100%}.player-wrapper.s-8 .player-media{background:var(--black);height:100%;left:0;position:absolute;top:0;transition:transform .2s ease-in-out;width:100%}.spherical-video-icon.s-8{display:inline-block;left:calc(50% - 38px);position:absolute;top:calc(50% - 23px)}.ads-container.s-8{background:var(--black);height:100%;left:0;position:absolute;top:0;width:100%;z-index:var(--ads-container-z-index)}.settings-mobile.s-8{align-items:center;display:flex;left:50%;max-width:320px;position:absolute;top:50%;transform:translate(-50%,-50%);transition:opacity var(--controls-transition-duration);width:90%;z-index:var(--settings-menu-z-index)}"};function Sm(e,t){ne(t,!0),gn(e,Cm);let i,n,a,[o,r]=ua(),s=()=>da(j,"$playerPhase",o),l=()=>da(me,"$crashed",o),d=()=>da(X,"$interactiveHideMobileControls",o),u=()=>da(se,"$isEnded$",o),c=()=>da(Y,"$controlsVisible",o),p=()=>da(Be,"$autoplayNextEnabled$",o),h=()=>da(it,"$bottomNoSmooth",o),m=()=>da(ye,"$videoSize",o),f=()=>da(ke,"$playerSize",o),b=()=>da(W,"$position$",o),y=()=>da(Q,"$duration$",o),_=()=>da(Z,"$settingsMenuVisible",o),w=()=>da(ee,"$scrubbingInProgress",o),x=()=>da(le,"$chromecastConnected$",o),k=ma(t,"videoContainer",15),$=ma(t,"adsSlotId",3,void 0),C=ma(t,"adsParams",3,void 0),S=ma(t,"adsAutoplayParam",3,void 0),T=ma(t,"duration",3,void 0),A=ma(t,"logoTargetUrl",3,""),P=ma(t,"showNextPrevButtons",3,!1),E=ma(t,"nextButtonActive",3,!1),I=ma(t,"prevButtonActive",3,!1),L=ma(t,"endScreenVideoTitle",3,void 0),M=ma(t,"endScreenVideoThumb",3,void 0),V=ma(t,"isOneVideoPlaylist",3,!1),R=ma(t,"showMiniTimer",3,!1),B=ma(t,"fullScreenTarget",3,void 0),D=ma(t,"playerStarted",3,!1),N=ma(t,"showEndScreen",3,!0),{notifications$:z,graphIsOpened$:O}=Ha(),H=t.store.getLogger().createComponentLog("Root component"),F=t.store.interfaceLanguage$,q=t.store.state.playbackState$,U=t.store.ads.playbackState,W=t.store.state.positionWithScrubbing$,Q=t.store.state.duration$,j=t.store.playerPhase,K=t.store.ui.isFullscreen,Y=t.store.ui.controlsVisible,G=t.store.ui.isControlsAvailable,X=t.store.ui.interactiveHideMobileControls,Z=t.store.ui.settingsMenu.visible$,J=t.store.ui.settingsMenu.openedByBtnKeyboard$,ee=t.store.ui.scrubbingInProgress,te=t.store.ui.volumeChangingInProgress,oe=t.store.ui.debugPanelVisible,re=t.store.state.isLoaderVisible,se=t.store.state.isEnded$,le=t.store.state.chromecastConnected$,de=t.store.state.chromecastDeviceName$,ue=t.store.ads.postrollPassed,ce=t.store.state.isLive$,pe=t.store.state.isPlaying$,he=t.store.state.isActiveLive$,ge=t.store.state.isRewindableLive$,me=t.store.state.crashed$,fe=t.store.webApi.annotationsApi,be=t.store.webApi.pictureInPictureApi,ye=t.store.state.videoSize$,_e=t.store.state.currentSubtitle$,we=t.store.state.currentSubtitleCaptions$,xe=t.store.state.duration$,ke=t.store.ui.playerSize,Ce=t.store.ui.is3DVideo,Te=t.store.ui.icon3DVideoVisible,Ae=t.store.state.isInteractive,Pe=t.store.state.isInteractiveTime$,Ee=t.store.state.isInteractiveExpectation$,Ie=t.store.state.hasInteractiveBranches,Le=t.store.ui.controls.disabledControls$,Me=t.store.ui.touched,Re=t.store.ui.overlayContainer$,Be=t.store.ui.autoplayNextEnabled$,De=t.store.state.loadedMetadata$,Ne=t.store.actions.internal.closeSettingsMenu,ze=t.store.callbacks?.onDisabledPlayPrevChapterClick,Oe=t.store.callbacks?.onDisabledSeekToInteractiveClick,He=t.store.actions.internal.setQuality,qe=$e(void 0),Ue=$e(void 0),We=$e(void 0),Qe=$e(void 0),je=ve((()=>("video"===s()&&da(re,"$isLoaderVisible",o)||"ads"===s()&&"inactive"===da(U,"$adPlaybackState",o))&&!l())),Ke=$e(void 0),{closeNotification:Ye,notificationsToShow$:Je}=z,et=ve((()=>!!da(Je,"$notificationsToShow$",o).slow_video)),tt=()=>Ye("slow_video"),it=aa(!1),at=$e(!1),ot=ve((()=>da(q,"$playbackState$",o)!==v.wF.PLAYING)),st=$e(!1),lt=ve((()=>da(O,"$graphIsOpened$",o)||d()||!di(at)&&(u()&&!!Ie||di(ot)&&da(Ee,"$isInteractiveExpectation$",o)))),dt=$e(!0),ut=ve((()=>t.uiConfig.features.thumbTimer&&R()&&"video"===s()&&!c()&&!l()&&!Ae&&(t.uiConfig.hideThumbTimerAfterTouch&&!da(Me,"$touched",o)||!t.uiConfig.hideThumbTimerAfterTouch))),ct=$e(!1),pt=ve((()=>(N()||t.showAutoplayNext&&p())&&!!L()&&!!M()&&(t.showAds&&da(ue,"$postrollPassed",o)||!t.showAds)&&u()&&!l()&&!di(ct))),ht=$e(!1);be?.setContext(ie());t.store.setUiCallbacks({onStarted:e=>{e&&!Ae&&gt(t.uiConfig.controls.hideTimeoutMobile)}});let vt=()=>{clearTimeout(i),Se(at,!1),d()&&X.set(!1)},gt=e=>{vt(),Se(at,!0),i=setTimeout((()=>Se(at,!1)),e);let t=e-100;a=setTimeout((()=>{h()&&it.set(!1)}),t>0?t:e)},mt=Ce.subscribe((e=>{Te.set(e),e&&(clearTimeout(n),n=setTimeout((()=>Te.set(!1)),t.uiConfig.controls.hide360IconTimeout))})),ft=async(e=or())=>{if(e&&!v.zl.device.isIOS){let i=ar(),n=kt(),a=v.zl.browser.isSamsungBrowser&&i===t.shadowRootContainer;e=i===n||a}if(e){gt(t.uiConfig.controls.hideTimeoutFullscreen);try{await(be?.exit())}catch(e){H({message:String(e)})}try{let e=m()?.width&&m()?.height?m():f();await(e=>{let t=window.screen;return(async e=>t.orientation?t.orientation.lock(e):t.mozLockOrientation?t.mozLockOrientation(e):t.msLockOrientation?t.msLockOrientation(e):Promise.reject())(((e={width:0,height:0})=>e.width<=e.height?"portrait":"landscape")(e))})(e)}catch(e){H({message:String(e)})}}K.set(e),t.store.getAdmanWrapper().setFullscreen(e),da(K,"$isFullscreen",o)?t.store.callbacks?.onFullscreenEnter?.():t.store.callbacks?.onFullscreenExit?.()},bt=e=>{let t=e,{width:i,height:n}=t.target;ke.set({width:i,height:n})},yt=()=>{let{width:e,height:t}=di(qe).getBoundingClientRect();ke.set({width:e,height:t})};Yi((()=>(rr(ft),t.uiConfig.features.annotationsInside&&fe?.init(di(qe)),dr(be)&&(be?.assignPlayerContainer(di(qe)),be?.setExternalEventHandlers({resize:bt,leavepictureinpicture:yt})),Se(dt,!v.zl.device.isIphoneOrOldIpad),t.interactiveContainer&&k().parentElement?.insertBefore(t.interactiveContainer,k().nextSibling),()=>{clearTimeout(i),clearTimeout(a),clearTimeout(n),mt(),be?.dispose().catch((e=>{H({message:String(e)})})),sr(ft)})));let _t=$e(!0),wt=$e(!0),xt=e=>{let i=b()+("forward"===e?1:-1)*t.uiConfig.controls.seekStepMobile/1e3;i<0?(Se(_t,!1),i=0):i>=y()&&(Se(wt,!1),i=y()),Se(st,!0),t.seekTime(i)},kt=()=>v.zl.device.isIOS?di(qe):t.uiConfig.allowChangingFullscreenTarget&&B()&&B().contains(t.outerContainerRef)?B():t.outerContainerRef,$t=async()=>{try{if(or())await nr(document),H({message:"exit fullscreen"});else{if(H({message:"request fullscreen"}),v.zl.device.isIOS&&!da(De,"$loadedMetadata",o))return;await ir(kt())}}catch(e){H({message:String(e)})}},Ct=()=>{Ne()},St=e=>{if(e.preventDefault(),!_())return D()?(Se(st,!1),void(c()?vt():gt(t.uiConfig.controls.hideTimeoutMobile))):(t.firstStart(),void gt(t.uiConfig.controls.hideTimeoutCursor));Ct()},Tt=e=>{ze&&(ze(e),gt(t.uiConfig.controls.hideTimeoutMobile))},At=e=>{Oe&&(Oe(e),gt(t.uiConfig.controls.hideTimeoutMobile))};nt((()=>{Re.set(di(Ke))})),nt((()=>{Y.set((di(ot)||_()||w()||da(te,"$volumeChangingInProgress",o)||x()||!di(pt)&&(u()||di(at)&&!di(st)))&&!di(lt)&&"video"===s()&&!l()&&da(G,"$isControlsAvailable",o))})),nt((()=>{!w()&&di(ht)&&!da(Pe,"$isInteractiveTime$",o)&&gt(t.uiConfig.controls.hideTimeoutMobile),Se(ht,w(),!0)})),nt((()=>{Se(_t,b()>0),Se(wt,!da(he,"$isActiveLive",o)&&b()<y(),!0)})),nt((()=>{Kr(di(Qe),_(),da(J,"$settingsMenuOpenedByKeyboard",o),!0)}));let Pt=Oo("aria_label_video_player");(({getFullscreenTarget:e,fullScreenChangeHandler:t})=>{let i,n=null;Yi((()=>{v.zl.device.isIOS&&(i=setTimeout((()=>{let i=e().querySelector("video");if(!i)return;let a=()=>t(!0),o=()=>t(!1);i.addEventListener("webkitbeginfullscreen",a),i.addEventListener("webkitendfullscreen",o),n=()=>{i.removeEventListener("webkitbeginfullscreen",a),i.removeEventListener("webkitendfullscreen",o)}}),0))})),Gi((()=>{n?.(),clearTimeout(i)}))})({fullScreenChangeHandler:ft,getFullscreenTarget:kt}),mm({store:t.store,getFullscreenTarget:kt});let Et=(e,i)=>{let n=t.store.callbacks?.uiInfo?.onUpcomingLiveViewStateChanged;if(!n)return;let a=!!i;n({...Ru(di(qe),{upcomingLiveScreen:i},"upcomingLiveScreen",a),...e})};var It=$m();_i("blur",Ve,Ct);var Lt=Ge(It);Fg(Lt,{onClick:St,get videoContainer(){return k()},set videoContainer(e){k(e)}});var Mt=Ze(Lt,2);hn(Mt,(()=>"slot"),!1,((e,t)=>{Mn(e,(()=>({name:Lg})))}));var Vt=Ze(Mt,2);Ji(Vt,(()=>da(F,"$language$",o)),(e=>{var i=km(),n=Xe(i);let a=ve((()=>"thumb"!==s()||l()||Ae&&t.autoplay||t.uiConfig.features.disableThumbUnstartedOnAutoplay&&t.autoplay));Ch(n,{get hidden(){return di(a)},get thumbUrl(){return t.thumbUrl},get startVideo(){return t.firstStart}});var r=Ze(n,2),d=e=>{var i=bm(),n=Xe(i),a=e=>{let i=ve((()=>t.uiConfig.controls.seekStepMobile/1e3));um(e,{side:"left",get seekStep(){return di(i)},handleSingleFirstClick:St,handleSecondClick:()=>xt("backward")})};Zi(n,(e=>{di(_t)&&e(a)}));var o=Ze(n,2),r=e=>{let i=ve((()=>t.uiConfig.controls.seekStepMobile/1e3));um(e,{side:"right",get seekStep(){return di(i)},handleSingleFirstClick:St,handleSecondClick:()=>xt("forward")})};Zi(o,(e=>{di(wt)&&e(r)})),Pi(e,i)};Zi(r,(e=>{t.canRewindLive&&ge&&!da(Le,"$disabledControls$",o).has("TIMELINE")&&e(d)}));var u=Ze(r,2),v=e=>{let i=ve((()=>t.live?.startTime));Fh(e,{get thumbUrl(){return t.thumbUrl},get startTime(){return di(i)},onUpcomingLiveViewStateChanged:Et})};Zi(u,(e=>{"LiveWaitingStart"===s()&&e(v)}));var m=Ze(u,2),w=e=>{Wh(e,{kind:"recover",get thumbUrl(){return t.thumbUrl}})};Zi(m,(e=>{"LiveWaitingRecover"===s()&&e(w)}));var k=Ze(m,2),R=e=>{Wh(e,{kind:"record",get thumbUrl(){return t.thumbUrl}})};Zi(k,(e=>{"LiveWaitingRecord"===s()&&e(R)}));var B=Ze(k,2),z=e=>{var i=ym();let n;kr(Ge(i),{get adsSlotId(){return $()},get adsParams(){return C()},get adsAutoplayParam(){return S()},get duration(){return T()},get adsExternalApi(){return t.adsExternalApi}}),Fe(i),rt((e=>n=xn(i,1,"ads-container s-8",null,n,e)),[()=>({hidden:"ads"!==s()})]),Pi(e,i)};Zi(B,(e=>{t.showAds&&D()&&e(z)}));var O=Ze(B,2),H=e=>{let i=ve((()=>!N()&&t.showAutoplayNext&&p()));vm(e,{get title(){return L()},get thumb(){return M()},get isHide(){return di(i)},clickCloseIcon:()=>Se(ct,!0)})};Zi(O,(e=>{di(pt)&&L()&&M()&&e(H)}));var F=Ze(O,2),q=e=>{oh(e,{})};Zi(F,(e=>{da(Ce,"$is3DVideo",o)&&e(q)}));var U=Ze(F,2),W=e=>{var t=_m();Fo(Ge(t),{}),Fe(t),Pi(e,t)};Zi(U,(e=>{da(Te,"$icon3DVideoVisible",o)&&e(W)}));var Q=Ze(U,2),j=e=>{fh(e,{get thumbUrl(){return t.thumbUrl},get chromecastDeviceName(){return da(de,"$chromecastDeviceName$",o)},onClick:St})};Zi(Q,(e=>{x()&&e(j)}));var K=Ze(Q,2),Y=e=>{hh(e,{get shifted(){return c()},get captions(){return da(we,"$currentSubtitleCaptions$",o)},get position(){return b()},get playerSize(){return f()},isMobile:!0})};Zi(K,(e=>{"off"!==da(_e,"$currentSubtitle$",o).value&&e(Y)}));var G=Ze(K,2),X=e=>{var t=wm();t.__click=[fm,_,Z,Ct],wh(Ge(t)),Fe(t),Pi(e,t)};Zi(G,(e=>{l()&&e(X)}));var J=Ze(G,2),ee=e=>{let i=ve((()=>"thumb"===s()||"LiveWaitingStart"===s()||"LiveWaitingRecover"===s()||"LiveWaitingRecord"===s()||"ads"===s())),n=ve((()=>"ads"===s())),a=ve((()=>t.canRewindLive&&0!==da(xe,"$realDuration$",o)));Qp(e,{get bottomHidden(){return di(i)},get showControls(){return c()},get bottomNoSmooth(){return h()},get isAds(){return di(n)},get canRewindLive(){return di(a)},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return A()},get showAutoplayNext(){return t.showAutoplayNext},get showNextPrevButtons(){return P()},get nextButtonActive(){return E()},get prevButtonActive(){return I()},get isOneVideoPlaylist(){return V()},get customFullscreenSupported(){return di(dt)},get endScreenShown(){return di(pt)},toggleFullscreen:$t,get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},onDisabledPlayPrevChapterClick:Tt,onDisabledSeekToInteractiveClick:At,get playerControlsWrapperRef(){return di(Ue)},set playerControlsWrapperRef(e){Se(Ue,e,!0)},get playerControlsRef(){return di(We)},set playerControlsRef(e){Se(We,e,!0)}})};Zi(J,(e=>{D()&&e(ee)}));var te=Ze(J,2),ie=e=>{var i=xm();Sg(Ge(i),{get supportLink(){return t.supportLink},get returnFocus(){return g.lQ},get ref(){return di(Qe)},set ref(e){Se(Qe,e,!0)}}),Fe(i),Pi(e,i)};Zi(te,(e=>{_()&&e(ie)}));var ne=Ze(te,2);let ae=ve((()=>!di(ut)));Dr(ne,{get isLive(){return da(ce,"$isLive$",o)},get isHidden(){return di(ae)},get isPlaying(){return da(pe,"$isPlaying$",o)},get position(){return b()},get duration(){return y()}});var re=Ze(ne,2),se=e=>{gl(e,{})};Zi(re,(e=>{di(je)&&e(se)}));var le=Ze(re,2),ue=e=>{Fs(e,{})};Zi(le,(e=>{da(oe,"$debugPanelVisible",o)&&e(ue)}));var he=Ze(le,2),me=e=>{Ig(e,{onClose:tt,onSelectAutoQuality:()=>{He("auto"),tt()}})};Zi(he,(e=>{di(et)&&e(me)})),Pi(e,i)})),Zn(Ze(Vt,2),(e=>Se(Ke,e)),(()=>di(Ke))),Fe(It),Zn(It,(e=>Se(qe,e)),(()=>di(qe))),rt((()=>Ln(It,"aria-label",Pt))),_i("click",It,(()=>{Me.set(!0)}),!0),_i("focusin",It,(()=>{Ae||(it.set(!0),gt(t.uiConfig.controls.hideTimeoutCursor))}),!0),Pi(e,It),ae(),r()}function Tm(e){let t="";return Am(e.timelineSliderFilledColor)&&(t+=`--timeline-slider-filled-bg:${e.timelineSliderFilledColor};`),Am(e.timelineSliderHandleColor)&&(t+=`--timeline-slider-handle-bg:${e.timelineSliderHandleColor};`),Am(e.timelineSliderLoadedColor)&&(t+=`--timeline-slider-loaded-bg:${e.timelineSliderLoadedColor};`),Am(e.timelineSliderColor)&&(t+=`--timeline-slider-bg:${e.timelineSliderColor};`),Am(e.volumeSliderColor)&&(t+=`--volume-slider-bg:${e.volumeSliderColor};`),Am(e.volumeSliderHandleColor)&&(t+=`--volume-slider-handle-bg:${e.volumeSliderHandleColor};`),Am(e.volumeSliderFilledColor)&&(t+=`--volume-slider-filled-bg:${e.volumeSliderFilledColor};`),Am(e.controlsTimeColor)&&(t+=`--controls-time:${e.controlsTimeColor};`),Am(e.timelineSliderFilledActiveLiveColor)&&(t+=`--timeline-slider-filled-active-live-bg:${e.timelineSliderFilledActiveLiveColor};`),Am(e.timelineSliderHandleActiveLiveColor)&&(t+=`--timeline-slider-handle-active-live-bg:${e.timelineSliderHandleActiveLiveColor};`),Am(e.buttonColor)&&(t+=`--btn-color:${e.buttonColor};`),Am(e.buttonToggleOnColor)&&(t+=`--toggle-color-on:${e.buttonToggleOnColor};`,t+=`--toggle-color-autoplay-on:${e.buttonToggleOnColor};`),Am(e.focusedColor)&&(t+=`--focused:${e.focusedColor};`),Am(e.focusedOutlineWidth)&&(t+=`--focused-outline-width:${e.focusedOutlineWidth};`),Am(e.focusedOutlineRadius)&&(t+=`--focused-outline-radius:${e.focusedOutlineRadius};`),Am(e.controlsDesktopPaddingHorizontal)&&(t+=`--controls-desktop-padding-horizontal:${e.controlsDesktopPaddingHorizontal};`),Am(e.timelinePaddingHorizontal)&&(t+=`--timeline-padding-horizontal:${e.timelinePaddingHorizontal};`),Am(e.settingsBackgroundColor)&&(t+=`--settings-bg:${e.settingsBackgroundColor};`),Am(e.font)&&(t+=`--font:${e.font};`),Am(e.controlsGradientHeight)&&(t+=`--controls-gradient-height:${e.controlsGradientHeight};`),Am(e.controlsGradient)&&(t+=`--controls-gradient:${e.controlsGradient};`),t.length&&t||void 0}function Am(e){return"string"==typeof e&&!e.includes(";")}wi(["click"]);var Pm=Ci('<div class="time-container s-7"><!></div>'),Em=Ci('<div class="player-wrapper s-7" role="region"><!> <!> <!> <!> <!> <div><!></div></div>'),Im={hash:"s-7",code:".player-wrapper.s-7{height:100%;position:absolute;width:100%}.player-wrapper.s-7 .player-media{background:var(--black);height:100%;left:0;position:absolute;top:0;transition:transform .2s ease-in-out;width:100%}.timeline.s-7{bottom:0;left:0;opacity:0;opacity:1;position:absolute;transition:opacity var(--controls-transition-duration) var(--controls-transition-fn);width:100%;z-index:var(--controls-container-z-index)}.visible.s-7{opacity:1}.time-container.s-7{bottom:8px;position:absolute;right:8px;z-index:var(--thumb-timer-z-index)}"};function Lm(e,t){ne(t,!0),gn(e,Im);let[i,n]=ua(),a=()=>da(_,"$playerSize",i),o=()=>da(h,"$isPlaying$",i),r=()=>da(c,"$duration$",i),s=ma(t,"outsideDuration",3,0),l=ma(t,"videoContainer",15),{playerPhase:d,state:{crashed$:u,duration$:c,positionExact$:p,isPlaying$:h,currentSubtitle$:v,currentSubtitleCaptions$:m,positionWithScrubbing$:f,isLive$:b,isRewindableLive$:y},ui:{playerSize:_,controls:w,scrubbingInProgress:x},actions:{internal:{getVideoElement:k}}}=Oa(),$=$e(!1),C=le({}),S=$e(!1),T=ve((()=>!da(x,"$scrubbingInProgress",i)&&!di(S))),A=(0,g.eD)(Nu,260);nt((()=>{a(),A(k(),w,C,di($))}));let P=ve((()=>o()?$r(r()-da(f,"$positionWithScrubbing$",i)):$r(isFinite(r())?r():s())));var E=Em(),I=Ge(E);Fg(I,{hideCursor:!1,get videoContainer(){return l()},set videoContainer(e){l(e)}});var L=Ze(I,2);hn(L,(()=>"slot"),!1,((e,t)=>{Mn(e,(()=>({name:Lg})))}));var M=Ze(L,2);let V=ve((()=>"thumb"!==da(d,"$playerPhase",i)||da(u,"$crashed$",i)));Ch(M,{get hidden(){return di(V)},get thumbUrl(){return t.thumbUrl},iconVisible:!1});var R=Ze(M,2),B=e=>{hh(e,{shifted:!1,get captions(){return da(m,"$currentSubtitleCaptions$",i)},get position(){return da(p,"$positionExact$",i)},get playerSize(){return a()}})};Zi(R,(e=>{"off"!==da(v,"$currentSubtitle$",i).value&&di(T)&&e(B)}));var D=Ze(R,2),N=e=>{var t=Pm();Mr(Ge(t),{get isLive(){return da(b,"$isLive$",i)},get isPlaying(){return o()},get time(){return di(P)}}),Fe(t),Pi(e,t)};Zi(D,(e=>{di(T)&&e(N)}));var z=Ze(D,2);let O;sp(Ge(z),{get canRewindLive(){return t.canRewindLive},get isRewindableLive(){return da(y,"$isRewindableLive$",i)},isAds:!1,needPadding:!1,isHidden:!1,withEpisodes:!1,tooltipLeftOffset:8,tooltipRightOffset:8,get ref(){return C.timeline},set ref(e){C.timeline=e}}),Fe(z),Fe(E),rt((e=>O=xn(z,1,"timeline s-7",null,O,e)),[()=>({visible:di($)})]),_i("mouseenter",E,(()=>{Se($,!0)})),_i("mouseleave",E,(()=>{Se($,!1)})),_i("mouseenter",z,(()=>Se(S,!0))),_i("mouseleave",z,(()=>Se(S,!1))),Pi(e,E),ae(),n()}var Mm=Ci("<div><!></div>"),Vm={hash:"s-0",code:'.vk-vp-root.s-0{--white:#fff;--black:#000;--red:#ff3347;--blue-light:#70c1ff;--black-alpha-40:rgba(0,0,0,.4);--white-alpha-24:hsla(0,0%,100%,.24);--white-alpha-72:hsla(0,0%,100%,.72);--devider-gray:#dce1e6;--text-gray:#626d7a;--font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;--controls-height:40px;--controls-gradient-height:100px;--controls-transition-duration:0.25s;--controls-transition-fn:cubic-bezier(0.455,0.03,0.515,0.955);--controls-desktop-item-margin-left:4px;--controls-desktop-padding-horizontal:4px;--focused:var(--white);--focused-outline-width:2px;--focused-outline-radius:0;--focused-element-shadow:inset 0 0 0 var(--focused-outline-width) var(--focused);--focused-slider-shadow:0 0 0 2px var(--focused);--big-play-size:96px;--big-play-radius:50%;--big-play-bg-color:rgba(0,0,0,.5);--big-play-hover-bg-color:rgba(0,0,0,.6);--big-play-icon-width:38px;--big-play-icon-height:33px;--interactive-episode-complete:#5c9ce6;--slider-bg:hsla(0,0%,100%,.4);--slider-filled-bg:var(--white);--slider-handle-bg:var(--white);--slider-loaded-bg:hsla(0,0%,100%,.4);--slider-height:3px;--slider-video-episode-gap:1.5px;--slider-radius:0px;--slider-handle-size:12px;--slider-filled-ads:#67a5eb;--slider-disabled-color:hsla(0,0%,97%,.31);--slider-volume-height:5px;--slider-volume-radius:calc(var(--slider-volume-height)/2);--slider-volume-handle-size:13px;--timeline-slider-filled-active-live-bg:var(--red);--timeline-slider-handle-active-live-bg:var(--red);--timeline-slider-bg:var(--slider-bg);--timeline-slider-filled-bg:var(--slider-filled-bg);--timeline-slider-handle-bg:var(--slider-handle-bg);--timeline-slider-loaded-bg:var(--slider-loaded-bg);--volume-slider-bg:var(--slider-bg);--volume-slider-filled-bg:var(--slider-filled-bg);--volume-slider-handle-bg:var(--slider-handle-bg);--controls-time:var(--white);--controls-gradient:linear-gradient(180deg,transparent 0%,rgba(0,0,0,.005) 6.67%,rgba(0,0,0,.02) 13.33%,rgba(1,1,1,.04) 20%,rgba(1,1,1,.07) 26.67%,rgba(2,2,2,.11) 33.33%,rgba(3,3,3,.16) 40%,rgba(4,4,4,.22) 46.67%,rgba(6,6,6,.28) 53.33%,rgba(7,7,7,.33) 60%,rgba(8,8,8,.38) 66.67%,rgba(9,9,9,.42) 73.33%,rgba(9,9,9,.46) 80%,hsla(0,0%,4%,.48) 86.67%,hsla(0,0%,4%,.5));--timeline-preview-shadow:rgba(0,0,0,.08);--timeline-preview-bg:#222;--timeline-padding-horizontal:10px;--timeline-padding-vertical-top:3px;--timeline-padding-vertical-bottom:4px;--timeline-height:calc(var(--timeline-padding-vertical-bottom) + var(--timeline-padding-vertical-top) + var(--slider-height));--preview-track-frame-height-vertical:114px;--preview-track-frame-height-horizontal:65px;--preview-track-controls-top:16px;--preview-track-time-line-height:16px;--preview-track-bottom-offset:10px;--preview-track-height:calc(var(--preview-track-frame-height-vertical) + var(--preview-track-bottom-offset));--preview-track-controls-top-offset:calc(var(--timeline-height) + var(--preview-track-controls-top) + var(--preview-track-time-line-height));--settings-bg:rgba(0,0,0,.72);--settings-item-bg-hover:hsla(0,0%,100%,.08);--settings-radius:8px;--mobile-settings-bg:#2c2d2e;--divider-border:1px solid var(--white-alpha-24);--toggle-color-separator:#363738;--toggle-color-off:#656565;--toggle-color-on:#71aaeb;--toggle-color-autoplay-on:var(--white);--notification-bg:#2c2d2e;--notification-radius:8px;--button-hover-transition:opacity 0.2s;--video-container-z-index:0;--controls-container-z-index:1;--ads-container-z-index:1;--end-screen-mobile-z-index:1;--notification-z-index:1;--thumb-timer-z-index:2;--debug-panel-z-index:2;--modal-z-index:2;--settings-menu-z-index:2;--context-menu-z-index:3;--hot-key-helpers-container-z-index:3;--overlay-container-z-index:4;--rotate-transition-duration:0.25s;--btn-color:var(--white);--double-forward-bg:rgba(0,0,0,.6);background:var(--black);color:var(--white);font-family:var(--vk-vp-custom-font,var(--font));font-size:12px;height:100%;line-height:normal;outline:0;overflow:hidden;position:relative;user-select:none;width:100%}.vk-vp-root.visible-outside.s-0{overflow:visible}.vk-vp-root.s-0 *{-webkit-tap-highlight-color:transparent}.vk-vp-root.s-0 button{background:transparent;border:none;color:inherit;font:inherit;line-height:normal;margin:0;overflow:visible;padding:0;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;cursor:pointer}.vk-vp-root.s-0 p{margin:0}.vk-vp-root.s-0 svg:not(.interactive-root svg){pointer-events:none}.vk-vp-root.s-0 .interactive-root{font-family:var(--vk-vp-int-custom-font,inherit)}.vk-vp-root.s-0 :focus,.vk-vp-root.s-0 :focus-visible{outline:none}.vk-vp-root.s-0 :focus-visible{border-radius:var(--focused-outline-radius);box-shadow:var(--focused-element-shadow)}.vk-vp-root.s-0 .focus-hidden:focus-visible{box-shadow:none}.vk-vp-root.s-0 .hidden{opacity:0;visibility:hidden}.vk-vp-root.s-0 .out-of-flow{content-visibility:hidden!important}.vk-vp-root.s-0 .overlay-container{height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--overlay-container-z-index)}.vk-vp-root.s-0 .out-of-view{left:-1000vh!important;position:absolute!important}.vk-vp-root.s-0 .icon.icon-error-stub{align-items:center;display:flex;justify-content:center}'};function Rm(e,t){ne(t,!0),gn(e,Vm);let[i,n]=ua(),a=()=>da(ye,"$availableSubtitlesList$",i),o=ma(t,"sources",7),r=ma(t,"store",7),s=ma(t,"microStoresRoot",7),l=ma(t,"videoConfig",7),d=ma(t,"uiConfig",7),u=ma(t,"title",7),c=ma(t,"thumbUrl",7),p=ma(t,"interactiveContainer",7),h=ma(t,"interactiveController",7),f=ma(t,"subtitles",7),b=ma(t,"subtitlesForcedLanguage",7),y=ma(t,"live",7),_=ma(t,"preload",7),w=ma(t,"autoplay",7),x=ma(t,"volume",7,void 0),k=ma(t,"muted",7,void 0),$=ma(t,"fromTime",7),C=ma(t,"canRewindLive",7),S=ma(t,"showAds",7),T=ma(t,"adsSlotId",7,void 0),A=ma(t,"adsParams",7,void 0),P=ma(t,"adsAutoplayParam",7,void 0),E=ma(t,"duration",7,void 0),I=ma(t,"logoClickable",7),L=ma(t,"logoHidden",7),M=ma(t,"isMobile",7),V=ma(t,"showNextPrevButtons",7,!1),R=ma(t,"nextButtonActive",7,!1),B=ma(t,"prevButtonActive",7,!1),D=ma(t,"endScreenVideoTitle",7,void 0),N=ma(t,"endScreenVideoThumb",7,void 0),z=ma(t,"isOneVideoPlaylist",7,!1),O=ma(t,"supportLink",7),H=ma(t,"shadowRootContainer",7),F=ma(t,"outerContainerRef",7),q=ma(t,"fullScreenTarget",7,void 0),U=ma(t,"failoverHosts",7,void 0),W=ma(t,"showMiniTimer",7,!1),Q=ma(t,"saveRate",7),j=ma(t,"seekToInteractive",7,g.lQ),K=ma(t,"playPrevChapter",7,g.lQ),Y=ma(t,"volumeMultiplier",7),G=ma(t,"showAutoplayNext",7),X=ma(t,"showEndScreen",7,!0),Z=ma(t,"keyboardControls",15,void 0),{subscribers:J,stores:ee}=s();(e=>{te("ui-config",e)})(d());let ie=_a(),oe=d().logoLink,re=r().ui.debugPanelVisible,se=r().ui.playerSize,le=r().state.isLive$,de=r().state.isInteractive&&v.zl.device.isAndroid,ue=$e(void 0),ce=null,pe=$e(!1);r().getAdmanWrapper().init({switchFromAdsToVideo:r().actions.internal.switchFromAdsToVideo,switchFromVideoToAds:r().actions.internal.switchFromVideoToAds,setMuted:r().actions.external.setMuted},r().ads,{vsid:r().vsid}),((e,t)=>{te(Na,e),te(za,t)})(r(),ee),nt((()=>{r().ui.isMobile.set(M()),l().callbacks?.onDomReady?.()}));let he=(e=!1)=>{Se(pe,!0),e?r().actions.external.firstStart(S()):r().actions.internal.firstStart(S())};function ve(e){let t=o()||e;t&&r().initVideo({container:di(ue),sources:t,failoverHosts:U(),subtitles:f(),subtitlesForcedLanguage:b(),volumeMultiplier:Y()});let n="true"===g.RW.get(wa);re.set(n),$()>0&&r().actions.external.seekTime($());let a=M()?ie.volumeDefault:x()??oo()??ie.volumeDefault,s=k()??co(ja);if(r().actions.external.setVolume(a),r().actions.external.setMuted(s),r().getAdmanWrapper().setInitialVolume(s?0:a),(()=>{if(ie.features.qualityDetailsSubMenuEnabled){let e=bo(r().videoId);if(e)switch(e.type){case"high_quality":r().actions.internal.setHighQualityEnabled(!0,e.appliesTo);break;case"traffic_saving":r().actions.internal.setTrafficSavingEnabled(!0,e.appliesTo);break;case"exact_quality":r().actions.internal.setQuality(e.quality)}}else{yo(r().videoId),vo()&&r().actions.internal.setTrafficSavingEnabled(!0);let e=lo(r().videoId);e&&r().actions.internal.setQuality(e)}})(),ie.features.saveRate&&Q()){let e=(()=>{let e=g.RW.get(Za);if((0,g.wD)(e))return;let{rate:t}=JSON.parse(e);return t})();e&&!da(le,"$isLive$",i)&&r().actions.internal.setPlaybackRate(e)}if(G()){let e=co(Ja);e&&r().actions.internal.setAutoplayNextEnabled(e)}r().ui.isAutoplay.set(w()),w()&&he(),_()&&ie.features.preload&&r().actions.internal.preload()}let ge=()=>{document.hidden&&r().actions.external.stop()};function me(e){r().actions.internal.seekTime(e,m.Bv.UNKNOWN)}Yi((()=>{de&&document.addEventListener("visibilitychange",ge),ie.debugLog&&r().actions.internal.startLogging(),(e=>{if(window.ResizeObserver){let t,i;ce=new ResizeObserver((0,g.rj)((e=>{let n=e[0];if(n.contentBoxSize){let e=Array.isArray(n.contentBoxSize)?n.contentBoxSize[0]:n.contentBoxSize;t=e.inlineSize,i=e.blockSize}else n.contentRect&&(t=n.contentRect.width,i=n.contentRect.height);se.set({width:t,height:i})}),300)),ce.observe(e)}e.clientWidth&&e.clientHeight&&se.set({width:e.clientWidth,height:e.clientHeight})})(di(ue));let e=J.map((e=>e.init({store:r(),microStores:ee,config:l(),interactiveController:h(),uiConfig:d()}))),t=()=>{de&&document.removeEventListener("visibilitychange",ge),ce?.disconnect(),e.forEach((e=>e.unsubscribe())),r().destroy()};return"upcoming"===y()?.status?(r().actions.internal.setLiveWaitingStart(!0),t):"waiting"===y()?.status?(r().actions.internal.setLiveWaitingRecover(!0),t):"finished"!==y()?.status&&"postlive"!==y()?.status||o()&&(0,v.qE)(o())?(ve(),t):(r().actions.internal.setLiveWaitingRecord(!0),t)}));let fe=Tm(ie.view),be="preview"===l().playerView,ye=r().state.availableSubtitlesList$;if(ie.features.initSubtitles){let e=!1;nt((()=>{if(!e&&a().length){let t;if(e=!0,ie.features.userVideoPrefs&&r().videoId){let e=Co(ie.userSalt,String(r().videoId));e?.subtitleTrackId&&(t=a().find((t=>t.value===e.subtitleTrackId)))}let i=b()??mo();i&&(t=a().find((e=>e.language===i))),r().actions.internal.setSubtitle(t)}}))}let _e=r().ui.isPreviewTrackHorizontallyAligned;var we=Mm();let xe;var ke=Ge(we),Ce=e=>{Sm(e,{get store(){return r()},get uiConfig(){return ie},get thumbUrl(){return c()},get interactiveContainer(){return p()},get live(){return y()},get autoplay(){return w()},get canRewindLive(){return C()},get showAds(){return S()},get adsSlotId(){return T()},get adsParams(){return A()},get adsAutoplayParam(){return P()},get duration(){return E()},get logoClickable(){return I()},get logoHidden(){return L()},get logoTargetUrl(){return oe},get nextButtonActive(){return R()},get prevButtonActive(){return B()},get endScreenVideoTitle(){return D()},get endScreenVideoThumb(){return N()},get isOneVideoPlaylist(){return z()},get supportLink(){return O()},get shadowRootContainer(){return H()},get outerContainerRef(){return F()},get fullScreenTarget(){return q()},get showMiniTimer(){return W()},get playerStarted(){return di(pe)},get seekToInteractive(){return j()},get playPrevChapter(){return K()},firstStart:he,seekTime:me,get showEndScreen(){return X()},get showAutoplayNext(){return G()},get showNextPrevButtons(){return V()},get adsExternalApi(){return t.adsExternalApi},get videoContainer(){return di(ue)},set videoContainer(e){Se(ue,e,!0)}})},Te=e=>{var i=Ai(),n=Xe(i),a=e=>{Lm(e,{get thumbUrl(){return c()},get outsideDuration(){return E()},get canRewindLive(){return C()},get videoContainer(){return di(ue)},set videoContainer(e){Se(ue,e,!0)}})},o=e=>{rm(e,{get store(){return r()},get uiConfig(){return ie},get title(){return u()},get thumbUrl(){return c()},get interactiveContainer(){return p()},get live(){return y()},get autoplay(){return w()},get canRewindLive(){return C()},get showAds(){return S()},get adsSlotId(){return T()},get adsParams(){return A()},get adsAutoplayParam(){return P()},get duration(){return E()},get logoClickable(){return I()},get logoHidden(){return L()},get logoTargetUrl(){return oe},get nextButtonActive(){return R()},get prevButtonActive(){return B()},get endScreenVideoTitle(){return D()},get endScreenVideoThumb(){return N()},get isOneVideoPlaylist(){return z()},get supportLink(){return O()},get shadowRootContainer(){return H()},get outerContainerRef(){return F()},get fullScreenTarget(){return q()},get showMiniTimer(){return W()},get playerStarted(){return di(pe)},get seekToInteractive(){return j()},get playPrevChapter(){return K()},firstStart:he,get showEndScreen(){return X()},get showAutoplayNext(){return G()},get showNextPrevButtons(){return V()},get adsExternalApi(){return t.adsExternalApi},get getVideoDeeplink(){return t.getVideoDeeplink},get videoContainer(){return di(ue)},set videoContainer(e){Se(ue,e,!0)},get keyboardControls(){return Z()},set keyboardControls(e){Z(e)}})};Zi(n,(e=>{be?e(a):e(o,!1)})),Pi(e,i)};Zi(ke,(e=>{M()?e(Ce):e(Te,!1)})),Fe(we),rt((e=>{xe=xn(we,1,"vk-vp-root s-0",null,xe,e),$n(we,fe)}),[()=>({"root--miui-browser":v.zl.device.isMobile&&v.zl.browser.isMiuiBrowser,"visible-outside":be,"preview-track-horizontally-alinged":da(_e,"$isPreviewTrackHorizontallyAligned$",i)})]),Pi(e,we);var Ae=ae({initVideo:ve,play:function(){di(pe)?r().actions.external.play():he(!0)},pause:function(){r().actions.external.pause()},setMuted:function(e){r().actions.external.setMuted(e)},toggleSubtitle:function(){r().actions.external.toggleSubtitle()},changeSubtitle:function(e,t){r().actions.external.changeSubtitle(e,t)},changeAudioStream:function(e){r().actions.external.changeAudioStream(e)},hideControls:function(){r().webApi.slotsApi?.haveSlots()&&r().actions.external.hideControls()},showControls:function(){r().webApi.slotsApi?.haveSlots()&&r().actions.external.showControls()},setVolume:function(e){M()||e>=0&&e<=1&&r().actions.external.setVolume(e)},seekTime:me,seekEpisodeStartTime:function(e){r().actions.external.seekEpisodeStartTime(e)},returnFocusToEpisodes:function(){r().actions.external.returnFocusToEpisodes()},setPlaybackRate:function(e){r().actions.external.setPlaybackRate(e)},setAutoQualityLimits:function(e){r().actions.external.setAutoQualityLimits(e)},setAutoQuality:function(){r().actions.external.setQuality("auto")},toggleTrafficSaving:function(e){r().actions.external.setTrafficSavingEnabled(e)},toggleHighQuality:function(e){r().actions.external.setHighQualityEnabled(e)},get sources(){return o()},set sources(e){o(e)},get store(){return r()},set store(e){r(e)},get microStoresRoot(){return s()},set microStoresRoot(e){s(e)},get videoConfig(){return l()},set videoConfig(e){l(e)},get uiConfig(){return d()},set uiConfig(e){d(e)},get title(){return u()},set title(e){u(e)},get thumbUrl(){return c()},set thumbUrl(e){c(e)},get interactiveContainer(){return p()},set interactiveContainer(e){p(e)},get interactiveController(){return h()},set interactiveController(e){h(e)},get subtitles(){return f()},set subtitles(e){f(e)},get subtitlesForcedLanguage(){return b()},set subtitlesForcedLanguage(e){b(e)},get live(){return y()},set live(e){y(e)},get preload(){return _()},set preload(e){_(e)},get autoplay(){return w()},set autoplay(e){w(e)},get volume(){return x()},set volume(e){x(e)},get muted(){return k()},set muted(e){k(e)},get fromTime(){return $()},set fromTime(e){$(e)},get canRewindLive(){return C()},set canRewindLive(e){C(e)},get showAds(){return S()},set showAds(e){S(e)},get adsSlotId(){return T()},set adsSlotId(e){T(e)},get adsParams(){return A()},set adsParams(e){A(e)},get adsAutoplayParam(){return P()},set adsAutoplayParam(e){P(e)},get duration(){return E()},set duration(e){E(e)},get logoClickable(){return I()},set logoClickable(e){I(e)},get logoHidden(){return L()},set logoHidden(e){L(e)},get isMobile(){return M()},set isMobile(e){M(e)},get showNextPrevButtons(){return V()},set showNextPrevButtons(e){V(e)},get nextButtonActive(){return R()},set nextButtonActive(e){R(e)},get prevButtonActive(){return B()},set prevButtonActive(e){B(e)},get endScreenVideoTitle(){return D()},set endScreenVideoTitle(e){D(e)},get endScreenVideoThumb(){return N()},set endScreenVideoThumb(e){N(e)},get isOneVideoPlaylist(){return z()},set isOneVideoPlaylist(e){z(e)},get supportLink(){return O()},set supportLink(e){O(e)},get shadowRootContainer(){return H()},set shadowRootContainer(e){H(e)},get outerContainerRef(){return F()},set outerContainerRef(e){F(e)},get fullScreenTarget(){return q()},set fullScreenTarget(e){q(e)},get failoverHosts(){return U()},set failoverHosts(e){U(e)},get showMiniTimer(){return W()},set showMiniTimer(e){W(e)},get saveRate(){return Q()},set saveRate(e){Q(e)},get showAutoplayNext(){return G()},set showAutoplayNext(e){G(e)},get seekToInteractive(){return j()},set seekToInteractive(e){j(e)},get playPrevChapter(){return K()},set playPrevChapter(e){K(e)},get volumeMultiplier(){return Y()},set volumeMultiplier(e){Y(e)},get showEndScreen(){return X()},set showEndScreen(e){X(e)},get keyboardControls(){return Z()},set keyboardControls(e){Z(e)}});return n(),Ae}var Bm=Si('<defs><path id="rect" d="m2.72 0c.45 0 .6.05.77.13a1 1 0 01.38.38c.09.16.13.33.13.77v1.44c0 .44-.04.6-.13.77a1 1 0 01-.38.38c-.16.08-.32.13-.77.13h-1.44c-.44 0-.6-.05-.77-.13a1 1 0 01-.37-.38c-.1-.16-.14-.33-.14-.77v-1.44c0-.44.05-.6.13-.77a1 1 0 01.38-.38c.17-.08.33-.13.77-.13z"></path></defs><path d="M38.24 6c3.57 0 4.86.37 6.17 1.07a7.3 7.3 0 0 1 3.02 3.02c.7 1.3 1.07 2.6 1.07 6.17v23.49c0 3.56-.37 4.85-1.07 6.16a7.3 7.3 0 0 1-3.02 3.02c-1.3.7-2.6 1.07-6.16 1.07h-19.5c-3.56 0-4.85-.37-6.16-1.07a7.3 7.3 0 0 1-3.02-3.02c-.7-1.3-1.07-2.6-1.07-6.16v-23.5c0-3.56.37-4.85 1.07-6.16a7.3 7.3 0 0 1 3.02-3.02C13.9 6.37 15.2 6 18.76 6zm.32 3h-19.8c-2.8 0-3.77.19-4.75.71a4.3 4.3 0 0 0-1.8 1.8c-.5.95-.7 1.87-.7 4.43l-.01 23.8c0 2.8.19 3.76.71 4.75a4.3 4.3 0 0 0 1.8 1.8c.98.52 1.95.71 4.75.71h19.49c2.8 0 3.76-.19 4.74-.71a4.3 4.3 0 0 0 1.8-1.8c.52-.98.71-1.95.71-4.74v-23.5c0-2.8-.19-3.75-.71-4.74a4.3 4.3 0 0 0-1.8-1.8c-.95-.5-1.87-.7-4.43-.7z"></path><use xlink:href="#rect" x="16.5" y="14"></use><use xlink:href="#rect" x="16.5" y="22"></use><use xlink:href="#rect" x="16.5" y="30"></use><use xlink:href="#rect" x="16.5" y="38"></use><use xlink:href="#rect" x="37" y="14"></use><use xlink:href="#rect" x="37" y="22"></use><use xlink:href="#rect" x="37" y="30"></use><use xlink:href="#rect" x="37" y="38"></use>',1);var Dm=Ci('<div class="title s-1"> </div>'),Nm=Ci('<div class="playerStub s-1"><!> <!></div>'),zm={hash:"s-1",code:".playerStub.s-1{align-items:center;background-color:#222;background-position:50%;background-size:cover;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;height:100%;justify-content:center;position:relative;width:100%}.title.s-1{box-sizing:border-box;color:#fff;font-size:15px;left:0;overflow:hidden;padding:18px 20px 10px;position:absolute;text-overflow:ellipsis;top:0;white-space:nowrap;width:100%}"};function Om(e,t){gn(e,zm);var i=Nm(),n=Ge(i),a=e=>{var i=Dm(),n=Ge(i,!0);Fe(i),rt((()=>Hi(n,t.title))),Pi(e,i)};Zi(n,(e=>{t.title&&e(a)}));var o=Ze(n,2),r=e=>{let i=ve((()=>!!t.thumbUrl));!function(e,t){let i=ma(t,"isWhite",3,!1),n=ve((()=>i()?"#fff":"#909499"));Eo(e,{width:"57",height:"60",get fill(){return di(n)},testId:"stub-icon",children:(e,t)=>{var i=Bm();qe(9),Pi(e,i)},$$slots:{default:!0}})}(e,{get isWhite(){return di(i)}})};Zi(o,(e=>{(!t.title||!t.thumbUrl)&&e(r)})),Fe(i),rt((()=>$n(i,t.thumbUrl?`background-image: url('${t.thumbUrl}')`:""))),Pi(e,i)}var Hm=Ci('<div class="playerError s-3"><!></div>'),Fm={hash:"s-3",code:".playerError.s-3{align-items:center;background-color:#222;background-position:50%;background-size:cover;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;height:100%;justify-content:center;position:relative;width:100%}"};function qm(e){gn(e,Fm);var t=Hm();wh(Ge(t)),Fe(t),Pi(e,t)}var Um=class{isSupported(){return"mediaSession"in navigator}setMetaData({title:e,artist:t="",thumbUrl:i=""}){this.isSupported()&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t,artwork:[{src:i,sizes:"96x96",type:"image/png"},{src:i,sizes:"128x128",type:"image/png"},{src:i,sizes:"192x192",type:"image/png"},{src:i,sizes:"256x256",type:"image/png"},{src:i,sizes:"384x384",type:"image/png"},{src:i,sizes:"512x512",type:"image/png"}]}))}updateActionHandlers(e){this.resetActionHandlers(),this.setActionHandlers(e)}resetActionHandlers(){this.setActionHandlers([["play",null],["pause",null],["stop",null],["nexttrack",null],["previoustrack",null],["seekto",null],["seekbackward",null],["seekforward",null]])}setActionHandlers(e){if(this.isSupported())for(let[t,i]of e)try{navigator.mediaSession.setActionHandler?.(t,i)}catch{throw new Error(`The media session action "${t}" is not supported yet.`)}}attachToStore(e){!this.isSupported()||!e||(this.clearSubscriptions(),this.subscription.add(e.state.positionExact$.subscribe((t=>{let i=ra(e.state.currentPlaybackRate$),n=ra(e.state.duration$);if(isFinite(t)&&isFinite(n))try{navigator.mediaSession.setPositionState?.({position:t,playbackRate:i,duration:n})}catch{this.log({message:`MediaSession setPositionState can't call with position: ${t} and duration: ${n}`})}}))))}clearSubscriptions(){this.subscription.unsubscribe()}destroy(){this.resetActionHandlers(),this.clearSubscriptions()}constructor(){this.subscription=new g.yU,this.logger=new g.Vy,this.log=this.logger.createComponentLog("MediaSessionApi")}},Wm=Si('<path d="M31.257 3.998c3.037.01 4.52.39 6.13 1.24a9 9 0 013.47 3.35l.17.31.15.3c.78 1.55 1.07 3.18 1.09 6.25v9.04a1.5 1.5 0 01-3 .02v-9.65c-.05-2.04-.24-3.12-.64-4.04l-.12-.27-.13-.25A6 6 0 0036.2 7.9c-1.19-.64-2.34-.88-5.11-.9h-8.84c-2.73 0-4 .2-5.07.7l-.25.13a6 6 0 00-2.4 2.41c-.64 1.19-.88 2.34-.9 5.11v20.83c0 2.74.2 4 .7 5.08l.13.25a6 6 0 002.41 2.4c1.1.6 2.13.83 4.44.89H26a1.5 1.5 0 010 3h-4.47c-3-.05-4.53-.38-6.14-1.24a9 9 0 01-3.48-3.35l-.15-.3c-.73-1.47-1.04-3.01-1.08-5.8V15c.05-2.98.39-4.52 1.25-6.12a9 9 0 013.293-3.582c1.85-.871 2.623-1.27 5.747-1.27z"></path><path d="M30.5 33.8c0-1.68 0-2.52.33-3.16a3 3 0 0 1 1.3-1.31c.65-.33 1.49-.33 3.17-.33h6.4c1.68 0 2.52 0 3.16.33a3 3 0 0 1 1.31 1.3c.33.65.33 1.49.33 3.17v13.4c0 1.68 0 2.52-.33 3.16a3 3 0 0 1-1.3 1.31c-.65.33-1.49.33-3.17.33h-6.4c-1.68 0-2.52 0-3.16-.33a3 3 0 0 1-1.31-1.3c-.33-.65-.33-1.49-.33-3.17z"></path>',1),Qm=Ci('<div><div><!></div> <span class="title s-6"> </span></div>'),jm={hash:"s-6",code:".player-pip-dummy.s-6{align-items:center;background-color:#19191a;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;height:100%;justify-content:center;width:100%}.player-pip-dummy.is-pip-api.s-6{position:relative}.dummy-image.s-6 svg{transform:scale(1.07143)}.dummy-image.desktop.s-6{transform:scale(1.07143) rotate(-90deg) rotateY(180deg)}.title.s-6{color:#fff;font-size:16px;padding:18px 20px 10px;text-align:center}"};function Km(e,t){ne(t,!0),gn(e,jm);let[i,n]=ua(),a=Oa(),o=_a(),r=!!a.webApi.pictureInPictureApi,s=a.interfaceLanguage$,l=a.ui.isMobile,d=a.ui.t,u=ve((()=>da(s,"$interfaceLanguage$",i)&&d("pip_dummy_title"))),c=Tm(o.view);var p=Qm();let h;var v=Ge(p);let g;Eo(Ge(v),{width:"57",height:"56",testId:"pip-dummy-icon",children:(e,t)=>{var i=Wm();qe(),Pi(e,i)},$$slots:{default:!0}}),Fe(v);var m=Ze(v,2),f=Ge(m,!0);Fe(m),Fe(p),rt(((e,t)=>{h=xn(p,1,"player-pip-dummy s-6",null,h,e),$n(p,c),g=xn(v,1,"dummy-image s-6",null,g,t),Hi(f,di(u))}),[()=>({"is-pip-api":r}),()=>({desktop:!da(l,"$isMobile$",i)})]),Pi(e,p),ae(),n()}var Ym=class{isSupported(){let{isEmbed:e}=(0,g.dh)();return"documentPictureInPicture"in window&&!e}isActive(){return this.info.isActive$.getValue()}setPlayerDomElement(e,t){this.playerDomElement=e,this.playerParentShadowRoot=t}setContext(e){this.svelteContext=e}async request(){if(!this.isSupported()||!this.playerDomElement||!this.playerParentShadowRoot)return;this.pipWindow=await documentPictureInPicture.requestWindow({width:460,height:280,copyStyleSheets:!0}),this.pipWindow.document.body.style.margin="0";let e=[...this.playerParentShadowRoot.styleSheets].map((e=>[...e.cssRules].map((e=>e.cssText)).join(" "))).filter(Boolean).join("\n"),t=document.createElement("style");t.textContent=e;let i=this.createStretchedContainer(),n=i.attachShadow({mode:"open"});n.append(t),n.append(this.playerDomElement);let a={target:this.playerParentShadowRoot,context:this.svelteContext};this.playerDummyElement=Fi(Km,a),this.pipWindow?.document.body.append(i),this.info.isActive$.next(!0),this.pipWindow?.addEventListener("unload",(e=>{!this.playerDomElement||!this.playerParentShadowRoot||!this.playerDummyElement||(ji(this.playerDummyElement),this.playerParentShadowRoot.append(this.playerDomElement),this.info.isActive$.next(!1),this.pipWindow=void 0)}))}async exit(){return new Promise((e=>{this.pipWindow&&documentPictureInPicture.window?.close(),e()}))}async dispose(){await this.exit()}setEnabled(e){this.info.isEnabled$.next(e)}createStretchedContainer(){let e=document.createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e}constructor({enabled:e=!0}={enabled:!0}){this.info={isActive$:new g.Ot(!1),isEnabled$:new g.Ot(!1),type:1},this.info.isEnabled$=new g.Ot(e)}};var Gm=class{static getLatestSupportedVersion(e){let t=new lr(e),i=new Ym(e);return i.isSupported()?i:t.isSupported()?t:void 0}};function Xm(e,t){let i=new Set([...Object.keys(e),...Object.keys(t)]),n={};for(let a of i)n[a]=t[a]??e[a]??void 0;return n}var Zm=class extends Error{constructor(e){super(e),this.name="AnnotationError"}},Jm=class{init(e){if(this.rootAnnotationsContainer=e,this.annotationsInside)return;let t=(0,g.rj)((()=>{for(let e of this.annotations.values())this.isElementExceedsBoundaries(e,this.playerSize.width,this.playerSize.height)?e.style.visibility="hidden":e.style.visibility="visible"}),100);this.subscriptions.add((0,g.qi)(this.rootAnnotationsContainer).subscribe((({width:e,height:i})=>{this.playerSize={width:e,height:i},t()}))),this.mutationObserver=new MutationObserver(t),this.mutationObserver.observe(this.rootAnnotationsContainer,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}add(e,t){if(!this.rootAnnotationsContainer)throw new Zm("Inner error. Unexpectedly root annotation container null reference exception");if(this.annotations.has(e))throw new Zm("Annotation with such name already exists");t.style.zIndex=t.style.zIndex??"1",t.style.position="absolute",this.rootAnnotationsContainer.append(t),this.annotations.set(e,t)}get(e){let t=this.annotations.get(e);if(!t)throw new Zm("Annotation with such name does not exist");return t}remove(e){let t=this.get(e);this.annotations.delete(e)&&t.remove()}clear(){for(let e in this.annotations.keys())this.remove(e)}destroy(){this.annotations.clear(),this.subscriptions.unsubscribe(),this.mutationObserver?.disconnect(),this.rootAnnotationsContainer=null}isElementExceedsBoundaries(e,t,i){let n=e.offsetTop,a=e.offsetLeft,o=e.offsetWidth,r=e.offsetHeight;return n<0||a<0||a+o>t||n+r>i}registryRootContainer(e){}addLayer(e){return document.createElement("div")}getLayer(e){}removeLayer(e){}clearLayer(e){}detach(){}reattach(){}constructor(e){this.annotationsInside=e,this.annotations=new Map,this.subscriptions=new g.yU}},ef=class{init({store:e,microStores:t,interactiveController:i,config:n}){return(0,g.tZ)(e),(0,g.tZ)(t),(0,g.tZ)(n),n.interactiveData&&(0,g.tZ)(i),this.subscription=new g.yU,this.subscription}},tf=class extends ef{init(e){let t=super.init(e),{isInteractiveExpectation$:i}=e.store.state;return t.add(i.subscribe((e=>{this.state$.set(!!e||null)}))),t}constructor(){super(...arguments),this.stateName="fakeIsPlaying$",this.state$={...aa(null),toggle:()=>this.state$.update((e=>!e))}}},nf=class extends ef{init(e){let t=super.init(e),{microStores:i,store:n}=e,{fakeIsPlaying$:a}=i,{isInteractiveExpectation$:o,isPlaying$:r}=n.state,{controlsVisible:s,isMobile:l}=n.ui,d=ra(l),u=()=>d&&ra(s);return t.add(s.subscribe((e=>{if(!d)return;let t=ra(a);ra(r)?this.state$.set(e):null!==t&&this.state$.set(!t||e)}))),t.add(r.subscribe((e=>{this.state$.set(!e||u())}))),t.add(a.subscribe((e=>{if(null===e)return;let t=ra(o);u()?this.state$.set(!0):t&&this.state$.set(!e)}))),t}constructor(){super(...arguments),this.stateName="interactiveControlsOpacity$",this.state$={...aa(null),toggle:()=>this.state$.update((e=>!e))}}},af=class extends ef{init(e){let t=super.init(e),{store:i}=e;return t.add(i.state.interactiveEpisodes$.subscribe((e=>{e.length&&(e.every((e=>e.completed))?this.state$.set("tooltip_interactive_of_chapter_completed"):this.state$.set("tooltip_disabled_when_interactive"))}))),t}constructor(){super(...arguments),this.stateName="seekToInteractiveDisabledTooltip$",this.state$=aa("tooltip_chapter_without_interactive")}},of=aa(!1),rf=null,sf=class extends ef{init(e){let t=super.init(e),{store:i,config:n}=e,{isInteractiveTime$:a,isPlaying$:o}=i.state,r=i.ui.controlsVisible,{interactiveTimeIndicator:s}=i.ui.controls;t.add(r.subscribe((e=>{ra(a)&&e&&this.state$.set(!1)})));let l=n?.interactiveData||{tooltipHelpHintActive:!1};return t.add((0,g.kg)({isPlaying$:o,isInteractiveTime$:a,interactiveTimeIndicator:s}).subscribe((({isPlaying$:e,isInteractiveTime$:t,interactiveTimeIndicator:n})=>{if(e&&n?.isDisplayed){if(!t)return this.state$.set(!1);l.tooltipHelpHintActive&&null===rf&&(rf=!0,l.tooltipHelpHintActive=!1,this.state$.set(!0),i.callbacks?.onInteractiveTimeIndicatorHintDeactivated?.())}}))),t}clearTimeout(){window.clearTimeout(this.timeout)}constructor(){super(...arguments),this.stateName="showInteractiveTimeIndicatorTooltip$",this.state$={...of,set:(e,t=!1)=>{e!==ra(of)&&(this.clearTimeout(),of.set(e),!e&&rf&&(rf=!1),e&&t&&(this.timeout=setTimeout((()=>{this.state$.set(!1)}),3e3)))},clearTimeout:()=>this.clearTimeout()}}},lf=class extends ef{init(e){let t=super.init(e),{store:i,interactiveController:n}=e,a=i.ui.currentGridType$,o=i.getLogger().createComponentLog("GraphIsOpened microStore");return this.state$.toggle=async()=>{if(this.checkIfShouldHide(ra(a)))return;let e=ra(this.state$),{isEnded$:t,playbackState$:r}=i.state,{disabledControls$:s}=i.ui.controls,l=ra(t),d=ra(r);if(e)try{await(n?.toggleGraphView(!1)),this.state$.set(!1),s.remove(Ia),!l&&this.graphMadePause&&i.actions.internal.play()}catch{o({message:"Cant hide graph"})}else{this.graphMadePause="playing"===d;try{await(n?.toggleGraphView(!0)),this.state$.set(!0),s.add(Ia),!l&&this.graphMadePause&&i.actions.internal.pause()}catch{o({message:"Cant show graph"})}}},t.add((0,g.kg)({graphIsOpened:this.state$,currentGridType:a}).subscribe((async({graphIsOpened:e,currentGridType:t})=>{if(this.checkIfShouldHide(t)&&e)try{await(n?.toggleGraphView(!1)),this.state$.set(!1)}catch{o({message:"Cant hide graph"})}}))),t}constructor(){super(...arguments),this.stateName="graphIsOpened$",this.graphMadePause=!1,this.state$={...aa(null),toggle:g.lQ},this.checkIfShouldHide=e=>zd(e,"s")}},df=class extends ef{init(e){let t=super.init(e),{store:i}=e,{info:{isActive$:n,isEnabled$:a,type:o}}=i.webApi.pictureInPictureApi||{info:{isActive$:new g.Ot(!1),isEnabled$:new g.Ot(!1)}};return t.add(n.subscribe((e=>{this.state$.isActive$.set(e)}))),t.add(a.subscribe((e=>{this.state$.isEnabled$.set(e)}))),this.state$.type$.set(o),t}constructor(){super(...arguments),this.stateName="pictureInPicture$",this.state$={isActive$:aa(!1),isEnabled$:aa(!1),type$:aa(void 0)}}},uf=({maxCount:e})=>{let t={};return{notificationShowed:e=>{t[e]=(t[e]??0)+1,g.RW.set("videoplayer_notifications_manager_count",JSON.stringify(t[e]??0))},canShowNotification:i=>(t[i]??0)<e}},cf=({timeout:e})=>{let t="videoplayer_notifications_manager",i=()=>{try{return JSON.parse(g.RW.get(t)||"{}")}catch{return{}}},n=e=>g.RW.set(t,JSON.stringify(e));return{notificationShowed:t=>{n({...i(),[t]:{timeout:e,launchTime:Date.now()}})},canShowNotification:t=>{let a=i()[t];if(a){let o=Date.now()-a.launchTime>e;return o&&(e=>{let t=i();delete t[e],n(t)})(t),o}return!0}}},pf=class extends ef{init(e){let t=super.init(e),{store:i,uiConfig:{features:{maxCountShowSlowVideoNotification:n,timeoutShowSlowVideoNotification:a,showSlowVideoNotification:o,forceAutoQualityWhenSevereStallHappens:r}}}=e;this.notificationManager=(({maxShowCount:e,timeout:t})=>{let i=[0!==e?uf({maxCount:e}):void 0,0!==t?cf({timeout:t}):void 0].filter((e=>!!e));return{notificationShowed:e=>i.forEach((t=>t.notificationShowed(e))),canShowNotification:e=>i.every((t=>t.canShowNotification(e)))}})({maxShowCount:n,timeout:a});let s=i.getPlayer();return t.add(s.events.severeStallOccured$.pipe((0,g.jX)(),(0,g.pb)((e=>e))).subscribe((()=>{o&&!s.info.isAutoQualityEnabled$.getValue()&&this.notificationManager.canShowNotification("slow_video")&&(r&&i.actions.internal.setQuality("auto"),this.state$.showNotification("slow_video"))}))),t}constructor(){super(...arguments),this.stateName="notifications$",this.state$={notificationsToShow$:aa({}),showNotification:e=>{this.state$.notificationsToShow$.update((t=>(t[e]=!0,t))),this.notificationManager.notificationShowed(e)},closeNotification:e=>{this.state$.notificationsToShow$.update((t=>(delete t[e],t)))}}}},hf=class{activate(){this.isActive||(document.addEventListener("keydown",this.handleTabKey),this.isActive=!0)}deactivate(){this.isActive&&(document.removeEventListener("keydown",this.handleTabKey),this.isActive=!1,this.focusableElements=[])}updateFocusableElements(){this.isActive&&(this.focusableElements=this.getFocusableElements())}getFocusableElements(){let e=["button:not([disabled])","[href]:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([disabled])'].join(", ");return Array.from(this.container.querySelectorAll(e)).filter((e=>!e.disabled&&null!==e.offsetParent))}destroy(){this.deactivate()}setContainer(e){this.container=e}constructor(e){this.getActiveElement=e,this.focusableElements=[],this.isActive=!1,this.handleTabKey=e=>{if(this.updateFocusableElements(),!this.focusableElements.length)return;let t=this.focusableElements[0],i=this.focusableElements[this.focusableElements.length-1],n=this.getActiveElement();e.shiftKey&&n===t?(e.preventDefault(),i.focus()):!e.shiftKey&&n===i&&(e.preventDefault(),t.focus())}}},vf=class{destroy(){this.shadowRoot.removeEventListener("focusin",this.handleFocusChange),this.focusLock.destroy()}getLastFocusedNode(){return this.lastFocusedNode}activateLock(){this.focusLock.activate()}deactivateLock(){this.focusLock.deactivate()}setContainerForFocusLock(e){this.focusLock.setContainer(e)}constructor(e){this.shadowRoot=e,this.lastFocusedNode=null,this.init=()=>{this.shadowRoot.addEventListener("focusin",this.handleFocusChange)},this.handleFocusChange=()=>{this.lastFocusedNode=this.shadowRoot.activeElement},this.restoreFocus=()=>{this.lastFocusedNode?.focus()},this.focusLock=new hf((()=>this.lastFocusedNode)),this.init()}},gf=Ci('<div class="root s-2"><!></div>'),mf={hash:"s-2",code:".root.s-2{align-items:center;display:flex;inset:0;justify-content:center;pointer-events:none;position:absolute;z-index:1}"};function ff(e,t){ne(t,!0),gn(e,mf);let i=null,n=$e(null);nt((()=>(di(n)&&(i=window.setTimeout((()=>{Se(n,null)}),t.animationDuration)),()=>{i&&clearTimeout(i)})));var a=Ai(),o=Xe(a),r=e=>{var i=Ai();Ji(Xe(i),(()=>di(n)),(e=>{var i=gf(),a=Ge(i);let o=ve((()=>"prev"===di(n)));Bg(a,{get duration(){return t.animationDuration},get Icon(){return ic},get reversed(){return di(o)}}),Fe(i),Pi(e,i)})),Pi(e,i)};return Zi(o,(e=>{t.playbackStatusShow&&di(n)&&e(r)})),Pi(e,a),ae({startVideoChangedAnimation:function(e){t.playbackStatusShow&&Se(n,e?"prev":"next",!0)}})}var bf={preload:!0,autoplay:!1,repeat:!1,loop:!1,fromTime:0,canRewindLive:!0,showAds:!1,interfaceLanguage:g.cA.RU,isCyrillicRelatedInterface:!0,logoClickable:!1,logoHidden:!1,isTouch:(0,v.Fr)(),isMediaSessionEnabled:!0,isPictureInPictureEnabled:!0,isAudioDisabled:!1,callbacks:{uiInfo:{}},tuningConfig:{configName:[]},saveRate:!0,volumeMultiplier:1,showEndScreen:!0,showAutoplayNext:!0,showNextPrevButtons:!0},yf=$e(void 0),_f=le({animationDuration:0,playbackStatusShow:!1}),wf=class extends HTMLElement{connectedCallback(){if(this.rootContainer)return;this.initPlayerRootContainers();let e=le({title:this.getAttribute("stub-title")??void 0,thumbUrl:this.getAttribute("stub-thumb-url")??void 0}),t={target:this.playerContainer,props:e};this.svelteStubComponent=Fi(Om,t),this.sveltePersistentLayerComponent=Fi(ff,{target:this.playerContainer,props:_f}),this.postponedInitParams&&(this.initPlayer(...this.postponedInitParams),this.postponedInitParams=null)}updatePersistentLayerProps(){if(!this.uiConfig)return;let{playbackStatusNextVideoAnimationDuration:e,features:{playbackStatusShow:t,playbackStatusNextVideoShow:i}}=this.uiConfig;_f.animationDuration=e,_f.playbackStatusShow=t&&i}disconnectedCallback(){this.shadowDOMCallbacksDisabled||(this.annotationsApi?.destroy(),this.slotsApi?.destroy(),this.focusManager?.destroy(),this.mediaSessionApi?.destroy(),this.unmountComponent(this.svelteRootComponent),this.unmountComponent(this.svelteStubComponent),this.unmountComponent(this.svelteErrorComponent),this.unmountComponent(this.sveltePersistentLayerComponent),this.subscription.unsubscribe(),this.unsubscribePlayerPhaseSubscription?.(),this.interactiveController?.destroy(),this.interactiveSubscription.unsubscribe(),this.internalsExposure?.destroy(),g.dm.destroy("ui"))}initPlayerRootContainers(){this.rootContainer=document.createElement("div"),this.rootContainer.style.position="relative",this.rootContainer.className="root-container",this.rootContainer.style.width="100%",this.rootContainer.style.height="100%",this.rootContainer.style.minHeight="206px",this.shadowRootContainer=document.createElement("div"),this.shadowRootContainer.style.position="absolute",this.shadowRootContainer.className="shadow-root-container",this.shadowRootContainer.style.width="100%",this.shadowRootContainer.style.height="100%",this._shadowRoot=this.shadowRootContainer.attachShadow({mode:"open"}),this.playerContainer=document.createElement("div"),this.playerContainer.style.all="initial",this.playerContainer.style.display="block",this.playerContainer.style.contain="strict",this.playerContainer.style.width="100%",this.playerContainer.style.height="100%",this._shadowRoot.append(this.playerContainer),this.rootContainer.append(this.shadowRootContainer),this.stateContainer=document.createElement("div"),this.stateContainer.className="state-container",this.stateContainer.style.width="1px",this.stateContainer.style.height="1px",this.stateContainer.style.position="absolute",this.stateContainer.style.backgroundColor="transparent",this.stateContainer.style.left="-100000px",this.append(this.rootContainer),this.append(this.stateContainer)}needToShowNextPrevButtons(){return!!this.videoConfig&&(this.videoConfig.videos.length>1&&this.videoConfig.showNextPrevButtons)}isNextButtonActive(){return!!this.videoConfig&&(this.needToShowNextPrevButtons()&&(this.currentPlayingVideoIndex<this.videoConfig.videos.length-1||this.needToRepeatPlaylist))}isPrevButtonActive(){return!!this.videoConfig&&(this.needToShowNextPrevButtons()&&(this.currentPlayingVideoIndex>0||this.needToRepeatPlaylist))}isControlDisabled(e){return this.store?.ui.controls.disabledControls$?.includes(e)||!1}getNextVideoInfo(){if(!this.videoConfig)return{nextVideoTitle:void 0,nextVideoThumb:void 0};let e=this.videoConfig.videos[this.currentPlayingVideoIndex+1]||{};return{nextVideoTitle:e.title,nextVideoThumb:e.thumbUrl}}createThinOneStat(e,t={}){if(!this.videoConfig)return;let{deviceId:i,preload:n,refreshStatAuthToken:a}=Xm(this.videoConfig,t),{unitedVideoId:o}=e;return this.uiConfig.features.thinStatistics&&o?new m.W.ThinOneStat({deviceId:i,movieId:o,preload:n,isPreviewPlayerView:"preview"===this.videoConfig.playerView},{config:this.statisticsConfig,refreshAuthToken:a}):void 0}createPlayer(e,t={},i){if(!this.videoConfig)return;let{albumId:n,statPlace:a,statAuthToken:o,preload:r,autoplay:s,volume:l,muted:d,fromTime:u,canRewindLive:c,supportLink:p,showAds:h,adsSlotId:f,adsParams:b={},adsAutoplayParam:y,interfaceLanguage:_,isCyrillicRelatedInterface:w,logoClickable:x,logoHidden:k,isMobile:$,isTouch:C,isAudioDisabled:S,isLiveCatchUpMode:T,fullScreenTarget:A,failoverHosts:P,canDownload:E,callbacks:I,interactiveData:L,showThumbTimer:M,additionalButtons:V=[],additionalSettingsMenuItems:R=[],additionalContextMenuItems:B=[],repeat:D,loop:N,saveRate:z,volumeMultiplier:O,showEndScreen:H,showAutoplayNext:F,mediascopePixels:q}=Xm(this.videoConfig,t),{sources:U,title:W,thumbUrl:Q,unitedVideoId:j,isClip:K=!1,duration:Y,adsParams:G={},videoEpisodes:X,previewThumbsData:Z,subtitles:J,subtitlesForcedLanguage:ee,live:te,adsExternalApi:ie}=e;if(!U&&!te){let e=new Error("empty sources and live");return this.fatalError$.next(e),void I.onCrashed?.(e.message)}let ne={...b,...G},ae=this.getNextVideoInfo(),oe={sources:U,title:W,thumbUrl:Q,subtitles:J,subtitlesForcedLanguage:ee,unitedVideoId:j,isClip:K,live:te,albumId:n,statPlace:a,autoplay:s,muted:d,volume:l,fromTime:u,canRewindLive:c,showAds:h,adsSlotId:f,adsParams:ne,adsAutoplayParam:y,duration:Y,logoClickable:x,logoHidden:k,isTouch:C??$,repeat:D,loop:N,showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive(),endScreenVideoTitle:ae.nextVideoTitle,endScreenVideoThumb:ae.nextVideoThumb,isOneVideoPlaylist:this.isOneVideoPlaylist()},re={pictureInPictureApi:this.pictureInPictureApi,annotationsApi:this.annotationsApi,slotsApi:this.slotsApi,focusManager:this.focusManager};this.log({message:`create player, props: ${JSON.stringify(oe)}`});let se,le=this.interactiveController?.state.statistics$.getValue(),de=le?.oneStat||this.createOneStat(e,t),ue=this.createThinOneStat(e,t);q&&(se=new m.f_({pixels:q})),(de||ue)&&(this.statistics=new Tu(de,ue,se,le?.statSubscription)),this.uiConfig.features.sentry&&this.uiConfig.sentry.dsn&&new er(this.uiConfig.sentry,{version:Ba,env:Ra},{movieId:j,albumId:n,place:a,autoplay:(s&&!this.interactiveController)??!1,mobile:C??$,clip:K}),this.interactiveController&&(this.prevIsid??(this.prevIsid=this.statistics?.oneStat?.isid$.getValue())),this.sentry={...this.sentry,...er.getInstance()};let ce=!!L,pe=[],he="tooltip_interactive_go_back_disabled_first";if(ce&&this.interactiveController){let e=this.interactiveController.state.isInitialChapter$.getValue(),t=this.interactiveController.getHistoryState();e&&pe.push("REPLAY_BUTTON"),this.interactiveController.getIsSeekable().getValue()||pe.push("SEEK_TO_INTERACTIVE_BUTTON"),t.hasPrevChapter$.getValue()||(pe.push("PLAY_PREV_CHAPTER_BUTTON"),e||(he=t.isGoBackLimited$.getValue()?"tooltip_interactive_go_back_disabled_limit":"tooltip_interactive_go_back_disabled"))}let ve=D&&1===this.videoConfig.videos.length;this.store=Vu({player:i,interfaceLanguage:_,isCyrillicRelatedInterface:w,videoId:j,isClip:K,isLiveCatchUpMode:T,isAudioDisabled:S,statAuthToken:o,callbacks:I,webApi:re,videoEpisodes:X,previewThumbsData:Z,canDownload:E,uiConfig:this.uiConfig,coreConfig:this.coreConfig,disabledControls:pe,isInteractive:ce,saveRate:z,interactiveRanges$:this.interactiveController?.state.interactiveRanges$,isInteractiveTime$:this.interactiveController?.state.isInteractiveTime$,stopPlayer:()=>this.stop(),replayInteractive:()=>{this.isInited=!1,this.prevIsid=void 0;let e=i?.info.isEnded$.getValue()&&this.interactiveController?.state.isEndChapter$.getValue();I.onReplayInteractiveVideo&&!e?I.onReplayInteractiveVideo():this.replayInteractiveVideo()},playPrevChapterDisabledTooltip:he,hasInteractiveBranches:!!this.interactiveController?.getChapterBranches()?.length,additionalButtons:this.uiConfig.features.additionalButtons?V:[],additionalSettingsMenuItems:R??[],additionalContextMenuItems:B??[],playPrevVideo:()=>this.playPrevVideo(),playNextVideo:()=>this.playNextVideo(),onVideoChanged:e=>this.sveltePersistentLayerComponent?.startVideoChangedAnimation(e),looped:this.uiConfig.features.useLoopSetting?N:ve,statistics:this.statistics,internalsExposure:this.internalsExposure,playerView:this.videoConfig.playerView,playerId:this.playerId});let{stores:ge}=this.microStoresRoot=[tf,nf,af,sf,lf,df,pf].reduce((({subscribers:e,stores:t},i)=>{let n=new i;return{subscribers:[...e,n],stores:{...t,[n.stateName]:n.state$}}}),{subscribers:[],stores:{}}),me=()=>{if(!this.store||!this.microStoresRoot||!this.videoConfig)return;this.subscription.add(this.store.state.currentFormat$.subscribe((e=>I?.onCurrentFormatChanged?.(e)))),this.subscription.add(ge.interactiveControlsOpacity$.subscribe((e=>{null!==e&&this?.interactiveController?.setDisabledControls(e)}))),this.subscription.add(this.store.state.throughputEstimation$.subscribe((e=>I?.onThroughputEstimationChanged?.(e)))),this.subscription.add(this.store.state.trafficSavingEnabled$.subscribe((e=>I?.onTrafficSavingEnabledChanged?.(e)))),this.subscription.add(this.store.state.highQualityEnabled$.subscribe((e=>I?.onHighQualityEnabledChanged?.(e)))),this.subscription.add(this.store.state.isAutoQualityEnabled$.subscribe((e=>I?.onAutoQualityEnabledChanged?.(!!e)))),this.subscription.add(new g.cP((e=>{this.store&&this.subscription.add(this.store.state.currentPlaybackRate$.subscribe((t=>e.next(t))))})).pipe((0,g.iv)(1)).subscribe((e=>I?.onCurrentPlaybackRateChanged?.(e)))),this.subscription.add(this.store.state.volume$.subscribe((e=>I?.onVolumeChange?.(e)))),this.subscription.add(this.store.state.muted$.subscribe((e=>{if(e)I?.onMute?.();else{let e=(this.store?.state.volume$&&ra(this.store.state.volume$))??0;I?.onUnmute?.(e)}}))),this.subscription.add(this.store.state.videoBitrate$.subscribe((e=>I?.onVideoBitrateChanged?.(e)))),this.subscription.add(this.store.state.isInteractiveTime$.subscribe((e=>{let t=this.store?.ui.controls.disabledControls$;t&&(e&&!t.includes(Ea)&&t.add(Ea),e||t.remove(Ea))}))),this.subscription.add(this.store.ui.isFullscreen.subscribe((async e=>{v.zl.browser.isSamsungBrowser&&e&&this.interactiveController&&document.fullscreenElement===this.shadowRootContainer&&await this.replayInteractiveChapter(this.videoConfig?.callbacks.onExternalFullscreenExit)}))),this.statistics&&this.statistics.oneStat&&this.subscription.add(this.statistics.oneStat.vsid$.subscribe((e=>I?.onVSIDChanged?.(e)))),this.initMediaSession(),Se(yf,{interactiveController:this.interactiveController,interactiveContainer:this.interactiveContainer,sources:U,store:this.store,microStoresRoot:this.microStoresRoot,videoConfig:this.videoConfig,uiConfig:this.uiConfig,title:W,thumbUrl:Q,subtitles:J,subtitlesForcedLanguage:ee,live:te,preload:r,autoplay:s,muted:d,volume:l,fromTime:u,canRewindLive:c,supportLink:p,showAds:h,adsSlotId:f,adsParams:ne,adsAutoplayParam:y,duration:Y,logoClickable:x,logoHidden:k,isMobile:C??$,failoverHosts:P,fullScreenTarget:A,saveRate:z,shadowRootContainer:this.shadowRootContainer,showMiniTimer:M,outerContainerRef:this.rootContainer,showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive(),endScreenVideoTitle:ae.nextVideoTitle,endScreenVideoThumb:ae.nextVideoThumb,isOneVideoPlaylist:this.isOneVideoPlaylist(),playPrevChapter:()=>this.playPrevChapter(),seekToInteractive:()=>this.seekToInteractive(),volumeMultiplier:O,showEndScreen:H,showAutoplayNext:F,adsExternalApi:ie,getVideoDeeplink:this.videoConfig.getVideoDeeplink},!0);let e={target:this.playerContainer,props:di(yf)};this.svelteRootComponent=Fi(Rm,e),this.addPlayerInfoSubscriptions(),this.isInited||(this.isInited=!0,this.videoConfig?.callbacks?.onInited?.()),this.internalsExposure?.expose({player:this,videoConfig:this.videoConfig,coreConfig:this.coreConfig,uiConfig:this.uiConfig,statisticsConfig:this.statisticsConfig,logger:this.logger,log:this.log}),this.uiConfig.devNullLog&&this.videoConfig?.callbacks?.onDevNullLog?g.dm.subscribe("ui",this.videoConfig.callbacks.onDevNullLog):g.dm.destroy("ui")};this.coreConfig.asyncResolveClientChecker?v.zl.isInited$.subscribe((e=>{e&&(console.log("UI SDK async start"),me())})):me()}addPlayerInfoSubscriptions(){let e=this.store,t=this.microStoresRoot?.stores;if(!e||!t)return;let i=this.videoConfig?.callbacks;i&&this.subscription.add(e.playerPhase.subscribe((e=>i.onPlayerPhaseChanged?.(e)))).add(e.state.playbackState$.subscribe((e=>e&&i.onPlaybackStateChanged?.(e)))).add(e.state.playbackStateRealistic$.subscribe((e=>{e?this.stateContainer.setAttribute("data-playback-state",e):this.stateContainer.removeAttribute("data-playback-state")}))).add(e.state.isLive$.subscribe((e=>i.onIsLiveChanged?.(e)))).add(e.state.isActiveLive$.subscribe((e=>i.onIsActiveLiveChanged?.(e)))).add(e.state.isAudioAvailable$.subscribe((e=>i.onIsAudioAvailableChanged?.(e)))).add(e.state.currentQuality$.subscribe((e=>i.onCurrentQualityChanged?.(e)))).add(e.state.availableQualities$.subscribe((e=>i.onAvailableQualitiesChanged?.(e.map((({value:e})=>e)).filter((e=>"auto"!==e)))))).add(e.state.availableAudioStreams$.subscribe((e=>{e.length>1&&i.onAudioLanguagesAvailable&&i.onAudioLanguagesAvailable()}))).add(t.pictureInPicture$.isActive$.subscribe((e=>e?i.onPiPEnter?.():i.onPiPExit?.())));let n=i?.uiInfo;n&&this.subscription.add(e.ui.controlsVisible.subscribe((e=>n.onControlsVisibleChanged?.(e)))).add(e.ui.isMobile.subscribe((e=>n.onIsMobileChanged?.(e)))).add(e.ui.playerSize.subscribe((e=>n.onPlayerSizeChanged?.(e)))).add(e.ui.controls.prevButton.subscribe((e=>n.onPrevButtonChanged?.(e)))).add(e.ui.controls.playButton.subscribe((e=>n.onPlayButtonChanged?.(e)))).add(e.ui.controls.replayButton.subscribe((e=>n.onReplayButtonChanged?.(e)))).add(e.ui.controls.nextButton.subscribe((e=>n.onNextButtonChanged?.(e)))).add(e.ui.controls.playPrevChapterButton.subscribe((e=>n.onPlayPrevChapterChanged?.(e)))).add(e.ui.controls.seekToInteractiveButton.subscribe((e=>n.onSeekToInteractiveButtonChanged?.(e)))).add(e.ui.controls.interactiveGraphButton.subscribe((e=>n.onGraphButtonChanged?.(e)))).add(e.ui.controls.liveButton.subscribe((e=>n.onLiveButtonChanged?.(e)))).add(e.ui.controls.time.subscribe((e=>n.onTimeUpdateChanged?.(e)))).add(e.ui.controls.episodes.subscribe((e=>n.onEpisodesChanged?.(e)))).add(e.ui.controls.subtitles.subscribe((e=>n.onSubtitlesChanged?.(e)))).add(e.ui.controlBlocks.topLeft.subscribe((e=>n.onTopLeftControlBlockChanged?.(e)))).add(e.ui.controlBlocks.topRight.subscribe((e=>n.onTopRightControlBlockChanged?.(e)))).add(e.ui.controlBlocks.bottomLeft.subscribe((e=>n.onBottomLeftControlBlockChanged?.(e)))).add(e.ui.controlBlocks.bottomRight.subscribe((e=>n.onBottomRightControlBlockChanged?.(e)))).add(e.ui.controlBlocks.middle.subscribe((e=>n.onMiddleControlBlockChanged?.(e)))).add(e.ui.controlBlocks.bottom.subscribe((e=>n.onBottomControlBlockChanged?.(e)))).add(e.ui.videoTitleInfo.subscribe((e=>n.onTitleChanged?.(e)))).add(e.ui.controls.settings.subscribe((e=>n.onSettingsChanged?.(e)))).add(e.ui.controls.fullscreen.subscribe((e=>n.onFullscreenChanged?.(e)))).add(e.ui.controls.chromecast.subscribe((e=>n.onChromecastChanged?.(e)))).add(e.ui.controls.pip.subscribe((e=>n.onPipChanged?.(e)))).add(e.ui.controls.vkLogo.subscribe((e=>n.onVkLogoChanged?.(e)))).add(e.ui.controls.interactiveTimeIndicator.subscribe((e=>n.onInteractiveTimeIndicatorChanged?.(e)))).add(e.ui.controls.timeline.subscribe((e=>n.onTimelineChanged?.(e))))}playNextVideo(){this.videoConfig&&(this.currentPlayingVideoIndex++,this.currentPlayingVideoIndex>=this.videoConfig.videos.length&&(this.currentPlayingVideoIndex=0),this.log({message:`play next video, index: ${this.currentPlayingVideoIndex}`}),this.createPlayerWithCurrentVideo())}playPrevVideo(){this.videoConfig&&(this.currentPlayingVideoIndex--,this.currentPlayingVideoIndex<0&&(this.currentPlayingVideoIndex=this.videoConfig.videos.length-1),this.log({message:`play prev video, index: ${this.currentPlayingVideoIndex}`}),this.createPlayerWithCurrentVideo())}createPlayerWithCurrentVideo(e,t=!0){if(!this.videoConfig)return;let i=this.videoConfig.videos[this.currentPlayingVideoIndex];i?(this.isInited&&(0,g.R)(i.unitedVideoId)&&this.store?.actions.internal.nextMovie(i.unitedVideoId),this.unmountComponent(this.svelteRootComponent),this.createPlayer(i,{autoplay:t,fromTime:0},e)):this.log({message:"no next video"})}playPrevChapter(){this.interactiveController?.playPrevChapter()}seekToInteractive(){let e=this.interactiveController?.getNextInteractiveStartTime();"number"==typeof e&&this.seekTime(e/1e3)}async initInteractives(){if(this.videoConfig?.interactiveData)try{let{Interactives:e}=await Promise.all([i.e(92877),i.e("langs/core_spa/92877")]).then(i.bind(i,592877));this.interactiveContainer=document.createElement("div"),this.interactiveContainer.classList.add("interactive-root");let t=this.store?.interfaceLanguage$,n=t?ra(t):this.videoConfig.interfaceLanguage,{projectInfo:a,initChapterId:o,historyApi:r,videoLoader:s}=this.videoConfig.interactiveData;this.interactiveController=new e({parentElement:this.interactiveContainer,fullscreenTargetElement:this.playerContainer,lang:n,graph:this.uiConfig.features.interactiveGraph,projectInfo:a,initChapterId:o,historyApi:r,vkVideoLoader:s,lastFrame:this.uiConfig.features.interactiveLastFrame,permanentTextControls:this.uiConfig.features.interactiveTextPermanent,interactiveTimeOpenUri:this.uiConfig.features.interactiveTimeOpenUri,initSeamless:!0,config:this.uiConfig.interactive,coreConfig:this.coreConfig,createOneStat:this.createOneStat,isTouch:this.videoConfig.isTouch,animationsFeatureToggles:{areaControlShadow:this.uiConfig.features.interactiveAreaControlShadow,controlsExpectTimeBlinkAnimation:this.uiConfig.features.interactiveControlsExpectTimeBlinkAnimation,controlsTapPlace:this.uiConfig.features.interactiveControlsTapPlace,controlsFillAnimation:this.uiConfig.features.interactiveControlsFillAnimation,controlsHideAnimation:this.uiConfig.features.interactiveControlsHideAnimation},endChapterHistoryFix:this.uiConfig.features.interactiveHistoryEndChapterFix});let{isInteractiveExpectation$:l,isSeekable$:d}=this.interactiveController.state;this.uiConfig.features.seekToInteractive&&this.subscription.add(d.subscribe((e=>{if(!this.isInited)return;let t=this.store;e?t.ui.controls.disabledControls$.remove("SEEK_TO_INTERACTIVE_BUTTON"):t.ui.controls.disabledControls$.add("SEEK_TO_INTERACTIVE_BUTTON")}))),this.subscription.add(l.subscribe((e=>{this.store&&this.store.state.isInteractiveExpectation$.set(e)})));let u=!0;if(this.subscription.add(this.interactiveController.events.playerChanged$.subscribe((e=>{if(!this.videoConfig)return;this.videoConfig.videos[this.currentPlayingVideoIndex]={...e.config,title:a?.title||e.config.title};let t=!u||this.videoConfig.autoplay;this.createPlayerWithCurrentVideo(e.player,t),u&&(u=!1)}))),this.interactiveSubscription.add(this.interactiveController.events.interactiveActionChoice$.subscribe((({type:e,actionType:t})=>{if(!this.store||!this.microStoresRoot)return;let i=l.getValue();if("action-choice"===e&&"setRandomBranch"===t&&(this.microStoresRoot.stores.graphIsOpened$.set(!1),this.store.ui.controls.disabledControls$.remove(La)),"action-choice-canceled"===e){let e=ra(this.store.state.isPlaying$)||i;if((this.videoConfig?.isTouch??this.videoConfig?.isMobile)&&e)return void this.store.ui.interactiveHideMobileControls.set(!0);this.videoConfig?.callbacks.onDisabledInteractiveClick?.()}}))),this.interactiveSubscription.add(this.interactiveController.events.interactiveContainerFakeRemoved$.subscribe((({type:e,removeAllOpenURI:t})=>{this.store&&"container-fake-removed"===e&&t&&this.store.ui.controls.disabledControls$.remove(La)}))),await this.interactiveController.setManifest(this.videoConfig.interactiveData.manifest),this.videoConfig?.callbacks?.onInteractiveHistoryChanged){let e=this.interactiveController.getHistoryState();this.subscription.add(e.history$.subscribe((e=>{e.length&&this.videoConfig?.callbacks?.onInteractiveHistoryChanged?.(e)})))}this.videoConfig?.callbacks?.onInteractiveChapterChanged&&this.subscription.add(this.interactiveController.events.chapterChanged$.subscribe((e=>{this.videoConfig?.callbacks.onInteractiveChapterChanged?.(e.chapter,e.manifestVideo)}))),this.uiConfig.features.interactiveTimeIndicator&&this.subscription.add(this.interactiveController.events.noInteraction$.subscribe((()=>{this.microStoresRoot?.stores.showInteractiveTimeIndicatorTooltip$.set(!0,!0),this.videoConfig?.callbacks.onInteractiveTimeIndicatorClick?.()}))),this.interactiveSubscription.add(this.interactiveController.events.error$.subscribe((e=>{this.log({message:e.toString()})})))}catch(e){this.log({message:e.message})}}initPlayer(e,t={}){var i,n;if(this.isConnected){if(!Array.isArray(e.videos)||0===e.videos.length&&!e.interactiveData){let t=new Error("empty videos");return this.fatalError$.next(t),void e.callbacks?.onCrashed?.(t.message)}if(this.fatalError$.next(null),this.videoConfig=Xm(bf,(0,g.sj)(e,(e=>e instanceof HTMLElement?e:void 0))),this.playerId=(0,g.j0)(e.playerId),this.uiConfig=(e=>(0,g.Xz)(e,ya))(t.ui??{}),this.updatePersistentLayerProps(),this.coreConfig=t.core??{configName:[]},this.statisticsConfig=t.statistics??{},this.uiConfig.features.forcePlayerDisplayBlock&&(this.rootContainer&&(this.rootContainer.style.minHeight="unset"),this.style.display="block",this.style.width="100%",this.style.height="100%"),"preview"===this.videoConfig.playerView&&(this.playerContainer.style.contain="none"),this.sentry={config:this.uiConfig.sentry??{}},this.uiConfig.features.exposeInternalsToGlobal&&(this.internalsExposure??(this.internalsExposure=new g.cV("ui",this.playerId))),g.dm.push("ui",{key:"videoplayer_embed",strings:["new","player_init_player","ads.enable: "+this.uiConfig.ads.enable,"showAds: "+this.videoConfig?.showAds],numbers:[(0,g.tB)()]}),(0,g.R)(this.videoConfig.isMediaSessionEnabled)&&(this.uiConfig.features.mediaSession=this.uiConfig.features.mediaSession??this.videoConfig.isMediaSessionEnabled??!0),(0,g.R)(this.videoConfig.isPictureInPictureEnabled)&&(this.uiConfig.features.pip=this.uiConfig.features.pip??this.videoConfig.isPictureInPictureEnabled??!0,this.uiConfig.features.dpip=this.uiConfig.features.dpip??this.videoConfig.isPictureInPictureEnabled??!0),this.uiConfig.ads.paramsOverride={preview:this.uiConfig.ads.preview??this.videoConfig.adsPreviewParam,...this.uiConfig.ads.paramsOverride},this.videoConfig.isTouch=this.uiConfig.isMobile??this.videoConfig.isTouch??this.videoConfig.isMobile,(i=this.videoConfig).autoplay&&(i.autoplay=this.uiConfig.features.autoplay),this.videoConfig.showAds=this.uiConfig.ads.enable??this.videoConfig.showAds,this.videoConfig.adsSlotId=this.uiConfig.ads.slot??this.videoConfig.adsSlotId,this.videoConfig.logoHidden=!(this.uiConfig.showLogo??!this.videoConfig.logoHidden),(n=this.videoConfig).canRewindLive&&(n.canRewindLive=this.uiConfig.features.liveRewind),this.videoConfig.supportLink=this.videoConfig.supportLink??this.uiConfig.supportLink,this.videoConfig.showEndScreen=this.uiConfig.features.endScreen&&this.videoConfig.showEndScreen,this.videoConfig.showAutoplayNext=this.uiConfig.features.autoplayNext&&this.videoConfig.showAutoplayNext,this.videoConfig.showNextPrevButtons=this.uiConfig.features.nextPrevButtons&&this.videoConfig.showNextPrevButtons,this.currentPlayingVideoIndex=this.videoConfig.videoIndex&&this.videoConfig.videos?.[this.videoConfig.videoIndex]?this.videoConfig.videoIndex:0,this.needToRepeatPlaylist=this.videoConfig.repeat,this.uiConfig.features.pip){let e={enabled:this.videoConfig.pipEnabled};this.uiConfig.features.dpip?this.pictureInPictureApi=Gm.getLatestSupportedVersion(e):this.pictureInPictureApi=new lr(e)}this.mediaSessionApi=this.uiConfig.features.mediaSession?new Um:void 0,this.slotsApi=this.uiConfig.features.slots?new Mg:void 0,this.annotationsApi=this.uiConfig.features.annotations?new Jm(this.uiConfig.features.annotationsInside):void 0,this.annotationsApi&&!this.uiConfig.features.annotationsInside&&this.annotationsApi.init(this.rootContainer),this.focusManager=this._shadowRoot?new vf(this._shadowRoot):void 0,this.unmountComponent(this.svelteStubComponent),this.unmountComponent(this.svelteRootComponent),this.unmountComponent(this.svelteErrorComponent),this.isInited=!1,this.prevIsid=void 0,this.interactiveController&&(this.interactiveController.destroy(),this.interactiveController=void 0,this.interactiveSubscription.unsubscribe()),this.videoConfig.interactiveData?this.initInteractives():this.createPlayer(this.videoConfig.videos[this.currentPlayingVideoIndex]),function(e){return e instanceof Ym}(this.pictureInPictureApi)&&this.pictureInPictureApi.setPlayerDomElement(this.playerContainer,this._shadowRoot),this.slotsApi?.init(this.shadowRootContainer,this.store)}else this.postponedInitParams=[e,t]}isOneVideoPlaylist(){return!!this.videoConfig&&1===this.videoConfig.videos.length}updateVideos(e,t){if(!this.videoConfig)return;this.log({message:`update ${t} videos, videos: ${JSON.stringify(e)}`}),"prev"===t?(this.videoConfig.videos.splice(0,this.currentPlayingVideoIndex),this.videoConfig.videos.unshift(...e),this.currentPlayingVideoIndex=e.length):"next"===t&&(this.videoConfig.videos.splice(this.currentPlayingVideoIndex+1),this.videoConfig.videos.push(...e));let i=this.getNextVideoInfo();di(yf)&&(di(yf).showNextPrevButtons=this.needToShowNextPrevButtons(),di(yf).nextButtonActive=this.isNextButtonActive(),di(yf).prevButtonActive=this.isPrevButtonActive(),di(yf).endScreenVideoTitle=i.nextVideoTitle,di(yf).endScreenVideoThumb=i.nextVideoThumb,di(yf).isOneVideoPlaylist=this.isOneVideoPlaylist())}updatePrevVideos(e){this.updateVideos(e,"prev")}updateNextVideos(e){this.updateVideos(e,"next")}initMediaSession(){this.mediaSessionApi&&(this.unsubscribePlayerPhaseSubscription?.(),this.mediaSessionApi.clearSubscriptions(),this.unsubscribePlayerPhaseSubscription=this.store?.playerPhase.subscribe((e=>{"video"===e?this.setupMediaSessionForVideo():"ads"===e&&this.setupMediaSessionForAds()})))}setupMediaSessionForVideo(){if(this.videoConfig&&this.mediaSessionApi)try{let{title:e,thumbUrl:t}={...this.videoConfig.videos[this.currentPlayingVideoIndex]},i=[["play",()=>this.play()],["pause",()=>this.pause()],["seekto",e=>this.seekTime(e.seekTime)]];this.videoConfig.videos.length>1&&(this.currentPlayingVideoIndex<this.videoConfig.videos.length-1&&i.push(["nexttrack",()=>{if(this.uiConfig.features.useCallbackForMediaSessionNextPrevClick)try{this.videoConfig?.callbacks?.onNextVideoClick?.()}catch{this.log({message:"onNextVideoClick callback failed to execute"})}else this.playNextVideo()}]),this.currentPlayingVideoIndex>0&&i.push(["previoustrack",()=>{if(this.uiConfig.features.useCallbackForMediaSessionNextPrevClick)try{this.videoConfig?.callbacks?.onPrevVideoClick?.()}catch{this.log({message:"onPrevVideoClick callback failed to execute"})}else this.playPrevVideo()}])),this.mediaSessionApi.setMetaData({title:e,thumbUrl:t}),this.mediaSessionApi.updateActionHandlers(i),this.mediaSessionApi.attachToStore(this.store)}catch(e){this.log({message:e.message})}}setupMediaSessionForAds(){if(this.videoConfig&&this.mediaSessionApi)try{let e="Реклама",t=[["play",()=>this.play()],["pause",()=>this.pause()]];this.mediaSessionApi.setMetaData({title:e}),this.mediaSessionApi.updateActionHandlers(t),this.mediaSessionApi.attachToStore(this.store)}catch(e){this.log({message:e.message})}}moveTo(e){this.shadowDOMCallbacksDisabled=!0,e.append(this),this.shadowDOMCallbacksDisabled=!1}play(){this.isControlDisabled("PLAY_BUTTON")||this.store?.playerPhase.is("LiveWaitingStart")||this.store?.playerPhase.is("LiveWaitingRecover")||this.store?.playerPhase.is("LiveWaitingRecord")||(this.log({message:"play"}),this.svelteRootComponent?.play())}pause(){this.log({message:"pause"}),this.svelteRootComponent?.pause()}stop(){if(!this.videoConfig)return;this.log({message:"stop"});let e=!!this.interactiveController;e&&(this.interactiveController.destroy(),this.interactiveController=void 0,this.interactiveContainer=void 0,this.interactiveSubscription.unsubscribe()),this.unmountComponent(this.svelteStubComponent),this.mediaSessionApi?.destroy();let t=this.videoConfig.videos[0];t&&(this.unmountComponent(this.svelteRootComponent),e?(this.videoConfig.autoplay=!1,this.initInteractives()):this.createPlayer(t))}setMuted(e){this.log({message:`set muted, muted: ${e}`}),this.svelteRootComponent?.setMuted(e)}toggleSubtitle(){this.log({message:"toggle subtitle"}),this.svelteRootComponent?.toggleSubtitle()}changeSubtitle(e,t){this.log({message:"change subtitle"}),this.svelteRootComponent?.changeSubtitle(e,t)}hideControls(){this.log({message:"hide controls"}),this.svelteRootComponent?.hideControls()}showControls(){this.log({message:"show controls"}),this.svelteRootComponent?.showControls()}setPiPEnabled(e){this.store?.webApi.pictureInPictureApi?.setEnabled(e)}setVolume(e){this.log({message:`set volume, volume: ${e}`}),this.svelteRootComponent?.setVolume(e)}setRepeat(e){this.log({message:`set repeat, repeat: ${e}`}),this.needToRepeatPlaylist=e,di(yf)&&(di(yf).needToRepeatPlaylist=this.needToRepeatPlaylist,di(yf).showNextPrevButtons=this.needToShowNextPrevButtons(),di(yf).nextButtonActive=this.isNextButtonActive(),di(yf).prevButtonActive=this.isPrevButtonActive())}seekTime(e){this.isControlDisabled("TIMELINE")||(this.log({message:`seek time, time: ${e}`}),this.svelteRootComponent?.seekTime(e))}seekEpisodeStartTime(e){this.log({message:`seek episode start time, time: ${e}`}),this.svelteRootComponent?.seekEpisodeStartTime(e)}returnFocusToEpisodes(){this.log({message:"return focus to episodes button"}),this.svelteRootComponent?.returnFocusToEpisodes()}setPlaybackRate(e){this.log({message:`set playback rate to: ${e}`}),this.svelteRootComponent?.setPlaybackRate(e)}setAutoQualityLimits(e){this.log({message:`set auto quality limitation. Max: ${e.max??"none"}. Min: ${e.min??"none"}`}),this.svelteRootComponent?.setAutoQualityLimits(e)}setAutoQuality(){this.svelteRootComponent?.setAutoQuality()}toggleTrafficSaving(e){this.svelteRootComponent?.toggleTrafficSaving(e)}toggleHighQuality(e){this.svelteRootComponent?.toggleHighQuality(e)}changeAudioStream(e){this.svelteRootComponent?.changeAudioStream(e)}addLanguage(e){this.store?.actions.internal.addLanguage(e)}async setLanguage(e){await(this.store?.actions.internal.setLanguage(e))}setLiveStart(e){let t=this.isLiveTailPlaying();this.log({message:`live started: liveTailPlaying = ${t}`}),t||(this.store?.actions.internal.setLiveWaitingRecover(!1),this.store?.actions.internal.setLiveWaitingStart(!1),this.unmountComponent(this.svelteRootComponent),this.createPlayer(e,{autoplay:!0}))}setLiveWaitingStart(){this.log({message:"live waiting"}),this.store?.actions.internal.setLiveWaitingStart(!0)}isLiveTailPlaying(){let e=this.store?.getPlayer();if(!e)return!1;let{info:t}=e;return t.canPlayLiveTailBuffer$.getValue()&&!t.isStalled$.getValue()&&!t.atLiveEdge$.getValue()}setLiveWaitingRecover(e=!1){let t=this.isLiveTailPlaying(),i=e||!t;this.log({message:`live waiting recover: forceImmediate = ${e}, liveTailPlaying = ${t}`});let n=()=>{this.store?.actions.internal.setLiveWaitingRecover(!0)};i&&n(),this.store?.callbacks&&(this.store.callbacks.onLiveEnded=()=>{i||n(),this.store?.destroy()})}setLiveWaitingRecord(){let e=this.isLiveTailPlaying(),t=!e;this.log({message:`live waiting record: liveTailPlaying = ${e}`});let i=()=>{this.store?.actions.internal.setLiveWaitingRecord(!0)};t&&i(),this.store?.callbacks&&(this.store.callbacks.onLiveEnded=()=>{t||i(),this.store?.destroy()})}setLiveEnd(e){let t=this.isLiveTailPlaying(),i=!t;this.log({message:`live ended: liveTailPlaying = ${t}`});let n=()=>{this.store?.actions.internal.setLiveWaitingRecover(!1),this.store?.actions.internal.setLiveWaitingRecord(!1),this.unmountComponent(this.svelteRootComponent),this.createPlayer(e,{autoplay:!1})};i?n():this.store?.callbacks&&(this.store.callbacks.onLiveEnded=n)}setLiveLowLatency(e){this.log({message:"live switch to low latency "+e}),this.store?.actions.external.setLiveLowLatency(e)}setLooped(e){this.store?.actions.internal.setLooped(e)}getDebugData(){return this.store?.actions.internal.getDebugTextData()??""}getDeviceId(){return this.statistics?.oneStat?.getDeviceId()??void 0}replayInteractiveVideo(){this.interactiveController&&this.interactiveController.setChapter()}async replayInteractiveChapter(e){if(this.interactiveController&&this.store?.state.positionExact$){let t=ra(this.store.state.positionExact$),i=ra(this.store.state.interactiveEpisodes$).find((e=>!e.completed));this.interactiveController.events.playerChanged$.pipe((0,g.Oo)()).subscribe((()=>{i&&t>=i.time?this.seekTime(i.time):this.seekTime(t),e?.()}));let n=this.interactiveController.getCurrentChapter();await this.interactiveController.setChapter({chapterId:n?.chapter?.id,pushToHistory:!1})}}showInteractiveIndicatorTooltip(e,t=!1){this.microStoresRoot?.stores.showInteractiveTimeIndicatorTooltip$.set(e,t)}switchToActiveLive(){this.store?.actions.internal.switchToActiveLive()}updateAdditionalSettingsItem(e,t){this.store?.actions.external.updateAdditionalSettingsItem(e,t)}addAdditionalSettingsItem(e){this.store?.actions.external.addAdditionalSettingsItem(e)}removeAdditionalSettingsItem(e){this.store?.actions.external.removeAdditionalSettingsItem(e)}updateAdditionalContextItem(e,t){this.store?.actions.external.updateAdditionalContextItem(e,t)}addAdditionalContextItem(e){this.store?.actions.external.addAdditionalContextItem(e)}removeAdditionalContextItem(e){this.store?.actions.external.removeAdditionalContextItem(e)}updateAdditionalButton(e,t){this.store?.actions.external.updateAdditionalButton(e,t)}addAdditionalButton(e){this.store?.actions.external.addAdditionalButton(e)}removeAdditionalButton(e){this.store?.actions.external.removeAdditionalButton(e)}updateStatContext(e){this.statistics&&(this.statistics.oneStat&&this.statistics.oneStat.updateContext(e),this.statistics.thinOneStat&&this.statistics.thinOneStat.updateContext(e))}handleTimerNextVideo(e){this.store?.actions.internal.setTimerNextVideoRunning(e)}togglePictureInPicture(){this.store?.actions.internal.togglePictureInPicture()}focus(){this.svelteRootComponent?.keyboardControls?.focus?.()}restoreFocus(){this.focusManager?.restoreFocus()}handleExternalKeyboardEvent(e){return!!this.svelteRootComponent?.keyboardControls?.handleExternalKeyboardEvent(e)}setAutoplayNext(e){this.store?.actions.internal.setAutoplayNextEnabled(e)}getTotalViewTime(){return this.statistics?.thinOneStat?.getTotalViewTime()}unmountComponent(e){e&&ji(e)}constructor(){super(),this.currentPlayingVideoIndex=0,this.needToRepeatPlaylist=!1,this.videoConfig=void 0,this.pictureInPictureApi=void 0,this.mediaSessionApi=void 0,this.unsubscribePlayerPhaseSubscription=void 0,this.annotationsApi=void 0,this.prevIsid=void 0,this.isInited=!1,this.postponedInitParams=null,this.internalsExposure=null,this.shadowDOMCallbacksDisabled=!1,this.fatalError$=new g.Ot(null),this.createOneStat=(e,t={})=>{if(!this.videoConfig)return;let{albumId:i,statPlace:n,statUserSalt:a,statTrackCode:o,statVKAppId:r,refreshStatAuthToken:s,autoplay:l,isMobile:d,isTouch:u,refDomain:c,deviceId:p,interactiveData:h}=Xm(this.videoConfig,t),v=h?.projectInfo?.pid,g=this.interactiveController?.state.isReplay$.getValue()??!1;g&&(this.prevIsid=void 0);let{unitedVideoId:f,isClip:b=!1}=e;if(this.uiConfig.features.statistics&&f)try{return new m.rT({movieId:f,albumId:i,place:n,trackCode:o,vkAppId:r,autoplay:(l&&!this.interactiveController)??!1,mobile:u??d,clip:b,refDomain:c,deviceId:p,isPreviewPlayerView:"preview"===this.videoConfig.playerView,...v&&(!this.isInited||g)&&{projectId:Number(v)}},{refreshAuthToken:s,userSalt:a,config:this.statisticsConfig,...this.interactiveController&&{useIsid:!0,isid:this.prevIsid}})}catch(e){console.error(e),this.log({message:e.message})}},g.dm.create("ui"),this.logger=new g.Vy,this.log=this.logger.createComponentLog("VKVideoPlayer"),this.subscription=new g.yU,this.interactiveSubscription=new g.yU,this.graphMadePause=!1,this.fatalError$.subscribe((e=>{this.unmountComponent(this.svelteErrorComponent),e&&(this.unmountComponent(this.svelteStubComponent),this.unmountComponent(this.svelteRootComponent),this.svelteErrorComponent=Fi(qm,{target:this.playerContainer}))}))}},xf=()=>{window.customElements.define("vk-video-player",wf)};function kf(){return(0,p._)(this,l)[l]??((0,p._)(this,l)[l]=new ResizeObserver((e=>{for(var t of e)for(var i of(c.entries.set(t.target,t),(0,p._)(this,s)[s].get(t.target)||[]))i(t)})))}}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/25426.0add8312.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/25426.0add8312.js",e),e}