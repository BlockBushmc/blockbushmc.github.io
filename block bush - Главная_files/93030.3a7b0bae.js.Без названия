try{(self.webpackChunkvk=self.webpackChunkvk||[]).push([[93030,93741],{898018:(e,t,i)=>{i.d(t,{X:()=>l});var n=i(221020),a=i(694809),o=i(165051),r=i(982444),s=i(526228);function l({lines:e,placement:t="top",portalElement:i,...l}){return e.length?(0,n.Y)(a.m,{text:(0,n.Y)(o.r,{separator:(0,n.Y)(r.K,{size:16}),children:[...e]}),appearance:"neutral",placement:t,maxWidth:316,usePortal:i,...l,children:(0,n.Y)(s.t,{})}):null}},36794:(e,t,i)=>{i.d(t,{u:()=>D});var n=i(434518),a=i(763812),o=i(331635),r=i(42107),s=i(249018),l=i(975077),d=i(990126),c=i(273193),p=i(916533),g=i(317562),u=i(861700),h=i(788535),m=i(161308),b=i(15589),y=i(595432),f=i(12527),v=i(156589),_=i(655732),k=i(477999),O=i(393951),P=i(908677),S=i(327813),w=i(541859),M=(0,a._)("_getData"),T=(0,a._)("_createActions");class C extends w.z{get data(){return(0,n._)(this,M)[M]()}get actions(){return(0,n._)(this,T)[T]()}constructor(e){super(e),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),this.type="music_track",(0,n._)(this,M)[M]=e.getData,(0,n._)(this,T)[T]=e.createActions,this.entity=e.entity,(0,S.Gn)(this)}}(0,o.Cg)([S.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],C.prototype,"data",null),(0,o.Cg)([S.EW,(0,o.Sn)("design:type",void 0),(0,o.Sn)("design:paramtypes",[])],C.prototype,"actions",null);var A=(0,a._)("_createAudioEntity"),I=(0,a._)("_createFallbackEnsureList"),j=(0,a._)("_createActionsProvider"),x=(0,a._)("_createContext");class D{create(e){const{langs:t}=this,{getSource:i,onTogglePlaying:a,overrideTogglePlayingAction:o}=e,r=e.context??(0,n._)(this,x)[x](),s=e.channel??this.player.main,l=new k.H({getSource:i}),d=e.entities?.audio??(0,n._)(this,A)[A](i),c=e.ensureList??(0,n._)(this,I)[I](d),p=(0,n._)(this,j)[j](s),g=new O.z({entityType:"track",musicService:this.musicService,getSource:i}),u=new P.j({musicService:this.musicService,getSource:i});return new C({entity:d,getData:()=>l,getPlayback:()=>new b.H({entity:d,ensureList:c,channel:s,langs:t,onTogglePlaying:a,overrideTogglePlayingAction:o}),context:r,like:g,dislike:u,langs:t,musicService:this.musicService,createAlbum:t=>this.albumFactory.create({data:t,actionsCallbacks:e.albumActionsCallbacks}),createActions:()=>new f.P({getSource:i,data:l,entity:d,ensureList:c,context:r,provider:p,callbacks:e.actionsCallbacks}),authorsOverride:e.authorsOverride})}createFromEntity(e){const{audio:t,list:i}=e.entities;return this.create({...e,getSource:()=>{let e=null;return i&&(0,s._)(i)&&(e=i.items.findIndex((e=>e.identity.fullId===t.identity.fullId))),{audio:t.data.apiAudio,trackCode:t.context.trackCode,listIndex:e}}})}constructor(e,t,i,n,a,o,r,s,l){Object.defineProperty(this,A,{value:E}),Object.defineProperty(this,I,{value:z}),Object.defineProperty(this,j,{value:F}),Object.defineProperty(this,x,{value:Y}),this.langs=e,this.authService=t,this.entityFactory=i,this.musicService=n,this.albumFactory=a,this.audioConfig=o,this.notifications=r,this.player=s,this.audioDislikesAnalytics=l}}function E(e){const t=e();return this.entityFactory.createTrack(t.audio).attachContext({trackCode:t.trackCode??t.audio.track_code??""})}function z(e){const t=e.context.list??new g.Z({items:[e]});return async()=>t}function F(e){return new v.A({overrides:this.audioConfig.musicAudioActionOverrides,langs:this.langs,authService:this.authService,musicService:this.musicService,channel:e,platformConfig:this.audioConfig,notifications:this.notifications,audioDislikesAnalytics:this.audioDislikesAnalytics})}function Y(e={}){return{targetOwnerId:this.authService.userIdOrAnonim,...e}}D=(0,o.Cg)([r.z8.container(),(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[void 0===c.Y?Object:c.Y,void 0===p.u?Object:p.u,void 0===l.C?Object:l.C,void 0===d.v?Object:d.v,void 0===y.K?Object:y.K,void 0===u.w?Object:u.w,void 0===h.F?Object:h.F,void 0===m.Y?Object:m.Y,void 0===_.$?Object:_.$])],D)},539213:(e,t,i)=>{i.d(t,{T:()=>h});var n=i(434518),a=i(763812),o=i(331635),r=i(327813),s=i(682941),l=i(444155),d=i(860656),c=(0,a._)("_activating"),p=(0,a._)("_deactivating"),g=(0,a._)("_pending"),u=(0,a._)("_state");class h{get events(){return this.emitter.listenable}get pending(){return(0,n._)(this,g)[g]}get state(){return(0,n._)(this,u)[u]}async activate(e,t){this.assertRequestsAllowed?.();const i=(0,n._)(this,c)[c].get(e);if(i)return i;if(await(0,n._)(this,p)[p].get(e),!0===(0,n._)(this,u)[u].get(e))return;const a=this.forceActivate(e,t);try{(0,n._)(this,c)[c].set(e,a),await a}finally{(0,n._)(this,c)[c].delete(e)}}async deactivate(e,t){this.assertRequestsAllowed?.();const i=(0,n._)(this,p)[p].get(e);if(i)return i;if(await(0,n._)(this,c)[c].get(e),!1===(0,n._)(this,u)[u].get(e))return;const a=this.forceDeactivate(e,t);try{(0,n._)(this,p)[p].set(e,a),await a}finally{(0,n._)(this,p)[p].delete(e)}}async toggle(e,t,i){if(this.assertRequestsAllowed?.(),(0,n._)(this,g)[g].has(e))return;const a=(0,n._)(this,u)[u].get(e),o=i??!a;return o!==a?o?this.activate(e,t.activate):this.deactivate(e,t.deactivate):void 0}setState(e,t){(0,n._)(this,u)[u].set(e,t)}assertRequestsAllowed(){}async forceActivate(e,t){try{(0,n._)(this,g)[g].add(e),this.emitter.emit("activate",{identity:e,params:t}),await this.requestActivate(e,t),this.setState(e,!0)}finally{(0,n._)(this,g)[g].delete(e)}this.emitter.emit("activated",{identity:e,params:t})}async forceDeactivate(e,t){try{(0,n._)(this,g)[g].add(e),this.emitter.emit("deactivate",{identity:e,params:t}),await this.requestDeactivate(e,t),this.setState(e,!1)}finally{(0,n._)(this,g)[g].delete(e)}this.emitter.emit("deactivated",{identity:e,params:t})}constructor(e,t={}){Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0});const i=function(e,{sharedStateConfig:t}){if(!t)return m(e);const{key:i,version:n}=t,a=(0,d.b)(i,(()=>({})),{version:n})();a.current||(a.current=m(e));return a.current}(e,t);this.emitter=i.emitter,(0,n._)(this,c)[c]=i.activating,(0,n._)(this,p)[p]=i.deactivating,(0,n._)(this,g)[g]=i.pending,(0,n._)(this,u)[u]=i.state,(0,r.Gn)(this)}}function m(e){return{emitter:e.create(),activating:new s.W,deactivating:new s.W,pending:new l.S,state:new s.W}}(0,o.Cg)([r.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof ActivateParams?Object:ActivateParams]),(0,o.Sn)("design:returntype",Promise)],h.prototype,"activate",null),(0,o.Cg)([r.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof DeactivateParams?Object:DeactivateParams]),(0,o.Sn)("design:returntype",Promise)],h.prototype,"deactivate",null),(0,o.Cg)([r.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof IAudioEntityToggleActionToggleParams?Object:IAudioEntityToggleActionToggleParams,Boolean]),(0,o.Sn)("design:returntype",Promise)],h.prototype,"toggle",null),(0,o.Cg)([r.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,Boolean]),(0,o.Sn)("design:returntype",void 0)],h.prototype,"setState",null),(0,o.Cg)([r.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof ActivateParams?Object:ActivateParams]),(0,o.Sn)("design:returntype",Promise)],h.prototype,"forceActivate",null),(0,o.Cg)([r.XI,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof DeactivateParams?Object:DeactivateParams]),(0,o.Sn)("design:returntype",Promise)],h.prototype,"forceDeactivate",null)},575485:(e,t,i)=>{i.d(t,{H:()=>l});var n=i(331635),a=i(42107),o=i(490455),r=i(186742),s=i(539213);class l extends s.T{async requestActivate(e){await this.audioApi.addPodcastEpisode({owner_id:e.ownerId,episode_id:e.id})}async requestDeactivate(e){await this.audioApi.removePodcastEpisode({owner_id:e.ownerId,episode_id:e.id})}constructor(e,t){super(e,{sharedStateConfig:{key:"domains/audio/PodcastAudioFavoritesService/stuffing",version:1}}),this.audioApi=t}}l=(0,n.Cg)([a.z8.global(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[void 0===o.d?Object:o.d,void 0===r.L?Object:r.L])],l)},483175:(e,t,i)=>{i.d(t,{Y:()=>r});var n=i(815287),a=i(486526),o=i(364517);function r(e,t){const i=(0,o.K)(e),r=(0,n.useMemo)((()=>(0,a.s)(i,t)),[i,t]);return(0,n.useEffect)((()=>()=>{r.cancel()}),[r]),r}},3356:(e,t,i)=>{i.d(t,{V:()=>s});var n=i(221020),a=i(634164),o=i(516427);const r={primary:"vkitCalendar__rootWithPrimaryButton--u9NNx",secondary:void 0},s=({doneButtonMode:e,className:t,onClose:i,onDoneButtonClick:s,...l})=>(0,n.Y)(o.VvS,{...l,className:(0,a.$)(e&&r[e],t),onDoneButtonClick:i||s})},694057:(e,t,i)=>{i.d(t,{j:()=>P});var n=i(221020),a=i(754694),o=i(634164),r=i(260147),s=i(838742),l=i(162753),d=i(257116),c=i(364517),p=i(815287),g=i(772812);const u="vkitOnboardingHighlighter__root--vRaVZ",h="vkitOnboardingHighlighter__text--oBf88",m="vkitOnboardingHighlighter__shapeWrapper--HvBwL",b="vkitOnboardingHighlighter__shape--YZHwS",y="vkitOnboardingHighlighter__static--vcKhC",f="vkitOnboardingHighlighter__shown--rP7zq",v="vkitOnboardingHighlighter__hidden--zGc3C",_="vkitOnboardingHighlighter__textContrast--yVPXx",k={lime:(0,g.I)("color_accent_lime"),azure:(0,g.I)("color_accent_azure"),cyan:(0,g.I)("color_accent_cyan"),pink:(0,g.I)("color_accent_pink")},O={1:r.W,2:s.N,3:l.m,4:d.$},P=({children:e,appearance:t="lime",shape:i=1,animated:r,duration:s,onHide:l=a.l,zIndex:d,contrast:g})=>{const P=O[i],[S,w]=(0,p.useState)(!1),M=(0,c.K)(l);return(0,p.useEffect)((()=>{if(!r||!s)return;const e=setTimeout((()=>{w(!0),M()}),s);return()=>clearTimeout(e)}),[M,r,s]),(0,n.FD)("span",{className:u,style:{zIndex:d},children:[e,(0,n.FD)("span",{className:(0,o.$)(m,k[t],!r&&y,r&&!S&&f,r&&S&&v),children:[(0,n.Y)(P,{style:{width:"100%",height:"100%"},className:b}),(0,n.Y)("span",{className:(0,o.$)(h,g&&_),children:e})]})]})}},393741:(e,t,i)=>{i.d(t,{V:()=>z});var n=i(221020),a=i(634164),o=i(335631),r=i(815287),s=i(838396),l=i(516427),d=i(638945),c=i(364517),p=i(526537),g=i(455356);const u=[48,56,64,72,96,146,166],h={1:1,2:1,3:1,4:1,5:1,6:1.75},m={top:"top","top-left":"top-end","top-right":"top-start",bottom:"bottom","bottom-left":"bottom-end","bottom-right":"bottom-start"},b=e=>Boolean(e?.endsWith("end")),y=e=>"top"===e||"bottom"===e,f=(e,t=!1)=>t?-e:e,v=e=>e?"bottom":"top",_=(e,t)=>t?"center":e?"right":"left",k=(e,t,i=0)=>{if(!t||y(e))return 0;const n=b(e),a=((o=t)>=96?Math.round(44/96*o):o/2)-i;var o;return f(a,n)},O=(e,t=0)=>e?t-(e=>{switch(!0){case e>96:return e/10;case 96===e:return 12;default:return 10}})(e):0,P=(e,t,i)=>t?`calc(50% - ${i/2}px)`:e?"auto":"0",S=({tipPlacement:e,size:t,tilt:i,markerOffsetX:n,markerOffsetY:a})=>{if(!t)return{};const o=b(e),r=(s=e,Boolean(s?.startsWith("top")));var s;const l=y(e),d="left"===i,c=k(e,t[0],n),p=O(t[1],a),g=f(3,d),u=l?0:f(n,!o)-c,h=f(a,r)-f(p,r);return{"--onboarding-tooltip-content-tilt-degree":`${g}deg`,"--onboarding-tooltip-content-animation-start":r?"100%":"-100%","--onboarding-tooltip-content-transform-origin":`${v(r)} ${_(o,l)}`,"--onboarding-tooltip-marker-inset":`${r?"100%":"auto"} ${o?"0":"auto"} ${r?"auto":"100%"} ${P(o,l,t[0])}`,"--onboarding-tooltip-marker-size-x":`${t[0]}px`,"--onboarding-tooltip-marker-size-y":`${t[1]}px`,"--onboarding-tooltip-marker-left-offset":`${u}px`,"--onboarding-tooltip-marker-top-offset":`${h}px`}},w={1:{48:()=>Promise.all([i.e(12477),i.e("langs/core_spa/OnboardingTooltipMarker-1")]).then(i.t.bind(i,714681,19)),56:()=>Promise.all([i.e(12477),i.e("langs/core_spa/OnboardingTooltipMarker-1")]).then(i.t.bind(i,140427,19)),64:()=>Promise.all([i.e(12477),i.e("langs/core_spa/OnboardingTooltipMarker-1")]).then(i.t.bind(i,769165,19)),72:()=>Promise.all([i.e(12477),i.e("langs/core_spa/OnboardingTooltipMarker-1")]).then(i.t.bind(i,940467,19)),96:()=>Promise.all([i.e(12477),i.e("langs/core_spa/OnboardingTooltipMarker-1")]).then(i.t.bind(i,732251,19)),146:()=>Promise.all([i.e(12477),i.e("langs/core_spa/OnboardingTooltipMarker-1")]).then(i.t.bind(i,920824,19)),166:()=>Promise.all([i.e(12477),i.e("langs/core_spa/OnboardingTooltipMarker-1")]).then(i.t.bind(i,616014,19))},2:{48:()=>Promise.all([i.e(25126),i.e("langs/core_spa/OnboardingTooltipMarker-2")]).then(i.t.bind(i,47542,19)),56:()=>Promise.all([i.e(25126),i.e("langs/core_spa/OnboardingTooltipMarker-2")]).then(i.t.bind(i,385760,19)),64:()=>Promise.all([i.e(25126),i.e("langs/core_spa/OnboardingTooltipMarker-2")]).then(i.t.bind(i,714290,19)),72:()=>Promise.all([i.e(25126),i.e("langs/core_spa/OnboardingTooltipMarker-2")]).then(i.t.bind(i,449632,19)),96:()=>Promise.all([i.e(25126),i.e("langs/core_spa/OnboardingTooltipMarker-2")]).then(i.t.bind(i,991208,19)),146:()=>Promise.all([i.e(25126),i.e("langs/core_spa/OnboardingTooltipMarker-2")]).then(i.t.bind(i,37441,19)),166:()=>Promise.all([i.e(25126),i.e("langs/core_spa/OnboardingTooltipMarker-2")]).then(i.t.bind(i,924335,19))},3:{48:()=>Promise.all([i.e(89519),i.e("langs/core_spa/OnboardingTooltipMarker-3")]).then(i.t.bind(i,335475,19)),56:()=>Promise.all([i.e(89519),i.e("langs/core_spa/OnboardingTooltipMarker-3")]).then(i.t.bind(i,585009,19)),64:()=>Promise.all([i.e(89519),i.e("langs/core_spa/OnboardingTooltipMarker-3")]).then(i.t.bind(i,370983,19)),72:()=>Promise.all([i.e(89519),i.e("langs/core_spa/OnboardingTooltipMarker-3")]).then(i.t.bind(i,861897,19)),96:()=>Promise.all([i.e(89519),i.e("langs/core_spa/OnboardingTooltipMarker-3")]).then(i.t.bind(i,294313,19)),146:()=>Promise.all([i.e(89519),i.e("langs/core_spa/OnboardingTooltipMarker-3")]).then(i.t.bind(i,775974,19)),166:()=>Promise.all([i.e(89519),i.e("langs/core_spa/OnboardingTooltipMarker-3")]).then(i.t.bind(i,709968,19))},4:{48:()=>Promise.all([i.e(80496),i.e("langs/core_spa/OnboardingTooltipMarker-4")]).then(i.t.bind(i,518384,19)),56:()=>Promise.all([i.e(80496),i.e("langs/core_spa/OnboardingTooltipMarker-4")]).then(i.t.bind(i,558566,19)),64:()=>Promise.all([i.e(80496),i.e("langs/core_spa/OnboardingTooltipMarker-4")]).then(i.t.bind(i,752884,19)),72:()=>Promise.all([i.e(80496),i.e("langs/core_spa/OnboardingTooltipMarker-4")]).then(i.t.bind(i,56790,19)),96:()=>Promise.all([i.e(80496),i.e("langs/core_spa/OnboardingTooltipMarker-4")]).then(i.t.bind(i,200806,19)),146:()=>Promise.all([i.e(80496),i.e("langs/core_spa/OnboardingTooltipMarker-4")]).then(i.t.bind(i,751815,19)),166:()=>Promise.all([i.e(80496),i.e("langs/core_spa/OnboardingTooltipMarker-4")]).then(i.t.bind(i,932473,19))},5:{48:()=>Promise.all([i.e(93305),i.e("langs/core_spa/OnboardingTooltipMarker-5")]).then(i.t.bind(i,254101,19)),56:()=>Promise.all([i.e(93305),i.e("langs/core_spa/OnboardingTooltipMarker-5")]).then(i.t.bind(i,136975,19)),64:()=>Promise.all([i.e(93305),i.e("langs/core_spa/OnboardingTooltipMarker-5")]).then(i.t.bind(i,885721,19)),72:()=>Promise.all([i.e(93305),i.e("langs/core_spa/OnboardingTooltipMarker-5")]).then(i.t.bind(i,996383,19)),96:()=>Promise.all([i.e(93305),i.e("langs/core_spa/OnboardingTooltipMarker-5")]).then(i.t.bind(i,757215,19)),146:()=>Promise.all([i.e(93305),i.e("langs/core_spa/OnboardingTooltipMarker-5")]).then(i.t.bind(i,255308,19)),166:()=>Promise.all([i.e(93305),i.e("langs/core_spa/OnboardingTooltipMarker-5")]).then(i.t.bind(i,509186,19))},6:{48:()=>Promise.all([i.e(6114),i.e("langs/core_spa/OnboardingTooltipMarker-6")]).then(i.t.bind(i,786994,19)),56:()=>Promise.all([i.e(6114),i.e("langs/core_spa/OnboardingTooltipMarker-6")]).then(i.t.bind(i,913220,19)),64:()=>Promise.all([i.e(6114),i.e("langs/core_spa/OnboardingTooltipMarker-6")]).then(i.t.bind(i,139838,19)),72:()=>Promise.all([i.e(6114),i.e("langs/core_spa/OnboardingTooltipMarker-6")]).then(i.t.bind(i,854764,19)),96:()=>Promise.all([i.e(6114),i.e("langs/core_spa/OnboardingTooltipMarker-6")]).then(i.t.bind(i,263116,19)),146:()=>Promise.all([i.e(6114),i.e("langs/core_spa/OnboardingTooltipMarker-6")]).then(i.t.bind(i,562565,19)),166:()=>Promise.all([i.e(6114),i.e("langs/core_spa/OnboardingTooltipMarker-6")]).then(i.t.bind(i,215763,19))}},M="vkitOnboardingTooltipMarker__root--dTz08",T={lime:"vkitOnboardingTooltipMarker__rootLime--ZCTSD",cyan:"vkitOnboardingTooltipMarker__rootCyan--o9DvD",blue:"vkitOnboardingTooltipMarker__rootBlue--Qjrz4",pink:"vkitOnboardingTooltipMarker__rootPink--zpXqe"},C="onboarding_tooltip_marker_group";p.LottieManager.observer.ignoreGroup(C);const A=({targetRef:e,mode:t,size:i,appearance:o,animated:s,animationIn:l,startAnimation:d,endAnimation:p,onClick:h})=>{const[m,b]=(0,r.useState)(null),y=(e=>e?1:-1)(l),f=e.current&&"undefined"!=typeof window?getComputedStyle(e.current).getPropertyValue("cursor"):"default",v=(e=>u.some((t=>t===e))?e:u.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)||Math.abs(i-e)===Math.abs(t-e)&&i<t?i:t),u[0]))(i[1]);(0,r.useEffect)((()=>{let e=!0;return(async()=>{try{const i=await(async(e,t)=>w[e][t]())(t,v);e&&b(i.default)}catch{p()}})(),()=>{e=!1}}),[t,v,p]);const{lottieContainerRef:_,lottiePlayerRef:k,lottieLoaded:O}=(0,g.X)({animationData:m,width:i[0],height:i[1],direction:y,group:C,color:"currentColor",loop:!1,autoplay:!1},{play:s&&!!m}),P=(0,c.K)(d),S=(0,c.K)((()=>{p();const e=k.current;e&&l&&(e.setDirection(-1),e.reset())}));return(0,r.useEffect)((()=>{const e=k.current;e&&m&&(e.setDirection(y),e.setSpeed(l?1:2),e.reset())}),[l,y,k,O,m]),(0,r.useEffect)((()=>{const e=k.current;if(e&&m)return e.addEventListener("firstFrame",P,{once:!0}),e.addEventListener("loopComplete",S,{once:!0}),()=>{e.removeEventListener("firstFrame",P),e.removeEventListener("loopComplete",S)}}),[O,k,P,S,s,l,m]),(0,n.Y)("div",{ref:_,className:(0,a.$)(M,o&&T[o]),style:{cursor:f},onClick:e=>{e.stopPropagation(),h?.(e)}})};var I=i(445815),j=i(308055);const x="vkitOnboardingMarkedTooltip__root--hvDsN",D="vkitOnboardingMarkedTooltip__rootIn--0MWlw",E="vkitOnboardingMarkedTooltip__rootOut--70BhM",z=({shown:e,mode:t="1",appearance:i="lime",tilt:p="left",size:g=48,tipPosition:u,onShowStart:b,onShowEnd:y,onHideStart:f,onHideEnd:v,onClose:_,maxWidth:P=210,content:w,onClick:M,onMarkerClick:T,zIndex:C,hideTooltip:z,tooltipShown:F,children:Y,...$})=>{const[H,L]=(0,o.q)(Y),{computedShown:B,initialized:R,animated:N,animationIn:W,startAnimation:K,endAnimation:X,tipRef:q}=(({shown:e,onShowStart:t,onShowEnd:i,onHideStart:n,onHideEnd:a,onClose:o})=>{const[s,l]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[g,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!0),b=(0,c.K)(((e=!0)=>e?t?.():i?.())),y=(0,c.K)(((e=!0)=>e?n?.():a?.())),f=(0,c.K)((()=>o?.())),v=(0,I.S)(d),_=(0,I.S)(h);(0,r.useLayoutEffect)((()=>{e?l(!0):v.current&&(u(!0),y()),m(e)}),[e,v,y]),(0,r.useLayoutEffect)((()=>{g||_.current||!v.current||(p(!1),l(!1),y(!1))}),[g,v,_,y]);const k=(0,r.useCallback)((()=>{u(!1),h&&b(!1)}),[h,b]),O=(0,j.$)((()=>{!g&&d&&f()}),[g,d,f]);return{computedShown:s,animated:g,initialized:d,animationIn:h,startAnimation:()=>{d||(p(!0),b()),u(!0)},endAnimation:k,tipRef:O}})({shown:e,onShowStart:b,onShowEnd:y,onHideStart:f,onHideEnd:v,onClose:_}),{onPlacementChange:V,tipPlacement:G}=(({tipPosition:e})=>{const[t,i]=(0,r.useState)(m[e]);return(0,r.useLayoutEffect)((()=>{i(m[e])}),[e]),{tipPlacement:t,onPlacementChange:(0,r.useCallback)((e=>{e&&i(e)}),[])}})({tipPosition:u}),Z=(0,r.useMemo)((()=>((e,t)=>e&&t?[t*h[e],t]:[0,0])(t,g)),[t,g]),{markerOffsetX:Q,markerOffsetY:J}=(({size:e,shown:t,childrenRef:i})=>{const[n,a]=(0,r.useState)(0),[o,s]=(0,r.useState)(0);return(0,r.useLayoutEffect)((()=>{if(!t)return;const n=i.current,{width:o=0,height:r=0}=n?.getBoundingClientRect()||{};a((e[0]-o)/2),s((e[1]-r)/2)}),[e,t,i]),{markerOffsetX:n,markerOffsetY:o}})({shown:B,size:Z,childrenRef:H});if(!w)return L??null;const U=S({tipPlacement:G,markerOffsetX:Q,markerOffsetY:J,size:Z,tilt:p});return(0,n.FD)(n.FK,{children:[L,B&&(0,n.Y)(l.NDW,{targetRef:H,role:"tooltip","aria-live":"polite","aria-hidden":!R||!W,"aria-describedby":"onboarding_tooltip_content",getRootRef:q,style:{...U,maxWidth:P,zIndex:C,pointerEvents:R&&!z&&W&&!F?"auto":"none"},offsetByCrossAxis:k(G,Z[0],Q),offsetByMainAxis:O(Z[1],J),placement:G,onPlacementChange:V,onClick:e=>{e.stopPropagation(),M?.(e)},...$,children:(0,n.FD)(n.FK,{children:[(0,n.Y)(A,{targetRef:H,size:Z,mode:t,appearance:i,animated:N,animationIn:W,startAnimation:K,endAnimation:X,onClick:T}),(0,n.Y)("div",{className:(0,a.$)(x,R&&!z&&(W&&!F?D:E)),children:(0,n.Y)(d.EY,{className:(0,s.B)(),id:"onboarding_tooltip_content",weight:"2",children:w})})]})})]})}},908759:(e,t,i)=>{i.d(t,{R:()=>c});var n=i(221020),a=i(284146),o=i(721126),r=i(516427),s=i(638945);const l="vkitAudioPlayerPlaybackProgressTime__text--ryAgF",d={normal:0,reversed:-1},c=({duration:e,progress:t,mode:i="normal",size:a="m",ariaLabel:o,formatProgressTime:s=g,onModeChange:l,"data-testid":d})=>{const c=s({duration:e,progress:t,mode:i});return(0,n.Y)(r.SB4,{hoverMode:"opacity",activeMode:"opacity","aria-label":o,onClick:l&&(()=>{l?.(i)}),"data-testid":d,children:p(c,a)})};function p(e,t="m"){switch(t){case"m":return(0,n.Y)(s.$j,{level:"2",weight:"3",className:l,children:e});case"s":return(0,n.Y)(s.HL,{level:"1",weight:"3",className:l,children:e});default:return(0,o.S)(t)}}function g({duration:e,progress:t,mode:i}){const n=d[i];return`${n<0?"-":""}${(0,a.a)(Math.round(e*(t+n)))}`}},838396:(e,t,i)=>{i.d(t,{B:()=>a});const n="vkitgetVKSansDisplayClass__vkSansDisplay--Fryjd",a=()=>n}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/core_spa/chunks/93030.3a7b0bae.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/core_spa/chunks/93030.3a7b0bae.js",e),e}